{"version":3,"file":"index.js","sources":["../../../neep.js/packages/core/src/install/devtools.ts","../../../neep.js/packages/core/src/Error.ts","../../../neep.js/packages/core/src/install/render.ts","../../../neep.js/node_modules/monitorable/dist/monitorable.esm.js","../../../neep.js/packages/core/src/install/monitorable.ts","../../../neep.js/packages/core/src/install/index.ts","../../../neep.js/packages/core/src/extends/current.ts","../../../neep.js/packages/core/src/extends/context.ts","../../../neep.js/packages/core/src/extends/entity.ts","../../../neep.js/packages/core/src/extends/refresh.ts","../../../neep.js/packages/core/src/EventEmitter.ts","../../../neep.js/packages/core/src/auxiliary/tags.ts","../../../neep.js/packages/core/src/hook.ts","../../../neep.js/packages/core/src/symbols.ts","../../../neep.js/packages/core/src/auxiliary/element.ts","../../../neep.js/packages/core/src/extends/label.ts","../../../neep.js/packages/core/src/auxiliary/deliver.ts","../../../neep.js/packages/core/src/entity/id.ts","../../../neep.js/packages/core/src/entity/recursive.ts","../../../neep.js/packages/core/src/entity/draw/utils.ts","../../../neep.js/packages/core/src/entity/draw/create.ts","../../../neep.js/packages/core/src/entity/draw/update.ts","../../../neep.js/packages/core/src/entity/draw/index.ts","../../../neep.js/packages/core/src/entity/slot.ts","../../../neep.js/packages/core/src/register.ts","../../../neep.js/packages/core/src/entity/normalize/replaceNode.ts","../../../neep.js/packages/core/src/entity/normalize/index.ts","../../../neep.js/packages/core/src/entity/EntityObject.ts","../../../neep.js/packages/core/src/entity/ComponentEntity.ts","../../../neep.js/packages/core/src/entity/convert/utils.ts","../../../neep.js/packages/core/src/entity/convert/create.ts","../../../neep.js/packages/core/src/entity/convert/update.ts","../../../neep.js/packages/core/src/entity/convert/index.ts","../../../neep.js/packages/core/src/entity/ContainerEntity.ts","../../../neep.js/packages/core/src/render.ts","../../../neep.js/packages/core/src/create.ts","../../node_modules/@neep/html-renderer/dist/neep.html.renderer.mjs","../../../neep.devtools.js/src/install/neep.ts","../../../neep.devtools.js/src/tree.ts","../../../neep.devtools.js/src/Panel/Tree/Text.tsx","../../../neep.devtools.js/src/Panel/Tree/utils.tsx","../../../neep.devtools.js/src/Panel/Tree/Tag.tsx","../../../neep.devtools.js/src/Panel/Tree/PlaceholderTag.tsx","../../../neep.devtools.js/src/Panel/Tree/getList.tsx","../../../neep.devtools.js/src/Panel/Tree/index.tsx","../../../neep.devtools.js/src/Panel/Devtools/index.tsx","../../../neep.devtools.js/src/Panel/Settings/index.tsx","../../../neep.devtools.js/src/devtools/renderHook.tsx","../../../neep.devtools.js/src/devtools/index.ts","../../../neep.devtools.js/src/install/install.ts","../../src/install/initDelivers.ts","../../src/install/installContextConstructor.ts","../../src/InsertView.ts","../../src/install/installComponents.ts","../../src/install/moduleList.ts","../../src/install/install.ts","../../src/constants.ts","../../src/Insertable.ts","../App.tsx","../index.tsx"],"sourcesContent":["import { Devtools } from '../type';\n\nexport const devtools: Devtools = {\n\trenderHook(){},\n};\n\nexport default function installDevtools(\n\ttools?: Partial<Devtools>,\n): void {\n\tif (!tools) { return; }\n\tif (typeof tools !== 'object') { return; }\n\tconst { renderHook } = tools;\n\tif (typeof renderHook === 'function') {\n\t\tdevtools.renderHook = renderHook;\n\t}\n}\n","export default class NeepError extends Error {\n\treadonly tag: string;\n\tconstructor(message: string, tag: string = '') {\n\t\tsuper(tag ? `[${ tag }] ${ message }` : message);\n\t\tthis.tag = tag;\n\t}\n}\nexport function assert(\n\tv: any,\n\tmessage: string,\n\ttag?: string,\n): asserts v {\n\tif (v) { return; }\n\tthrow new NeepError(message, tag);\n}\n","import { IRender } from '../type';\nimport { assert } from '../Error';\n\nlet nextFrameApi: undefined | ((fn: () => void) => void);\nexport function nextFrame(fn: () => void): void {\n\tassert(nextFrameApi, 'The basic renderer is not installed', 'install');\n\tif (nextFrameApi) {\n\t\tnextFrameApi(fn);\n\t}\n}\n\nexport const renders: Record<string, IRender>\n\t= Object.create(null);\n\nexport function getRender(\n\ttype: string | number | IRender = '',\n): IRender {\n\tif (typeof type === 'object') { return type; }\n\treturn renders[type] || renders.default;\n}\n\nexport default function installRender(render?: IRender): void {\n\tif (!render) { return; }\n\trenders[render.type] = render;\n\tif (nextFrameApi) { return; }\n\tif (!renders.default) {\n\t\trenders.default = render;\n\t}\n\tif (!nextFrameApi && render.nextFrame) {\n\t\trenders.default = render;\n\t\tnextFrameApi = render.nextFrame;\n\t}\n\n}\n","\n/*!\n * monitorable v0.1.0-beta.0\n * (c) 2020 Fierflame\n * @license MIT\n */\n\nlet printErrorLog;\n/** 打印错误 */\n\nfunction printError(info) {\n  if (typeof printErrorLog === 'function') {\n    printErrorLog(info);\n    return;\n  }\n\n  console.error(info);\n}\nfunction setPrintError(p) {\n  printErrorLog = typeof p === 'function' ? p : undefined;\n}\n/**\n * 判断对象是否可被代理\n */\n\nfunction encashable(v) {\n  return Boolean(v && ['object', 'function'].includes(typeof v));\n}\n/** 回调函数安全化处理 */\n\nfunction safeify(fn) {\n  return (...p) => {\n    try {\n      fn(...p);\n    } catch (e) {\n      printError(e);\n    }\n  };\n}\nfunction getIndexes(target, prop) {\n  if (!target) {\n    return undefined;\n  }\n\n  if (typeof target !== 'function' && typeof target !== 'object') {\n    return undefined;\n  }\n\n  if (typeof prop === 'number') {\n    return [target, String(prop)];\n  }\n\n  if (typeof prop === 'symbol') {\n    return [target, prop];\n  }\n\n  if (typeof prop === 'string') {\n    return [target, prop];\n  }\n\n  if (typeof prop === 'boolean') {\n    return [target, prop];\n  }\n\n  return undefined;\n}\nfunction getMapValue(map, key, def) {\n  if (map.has(key)) {\n    return map.get(key);\n  }\n\n  const value = def();\n  map.set(key, value);\n  return value;\n}\n\n/** 已被读取的 */\nlet read;\n/**\n * 标记已读状态\n * @param obj  要标记的对象\n * @param prop 要标记的属性\n */\n\nfunction markRead(target, prop) {\n  if (!read) {\n    return;\n  }\n\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return;\n  }\n\n  [target, prop] = indexes;\n  const propMap = getMapValue(read, target, () => new Map());\n\n  if (propMap.has(prop)) {\n    return;\n  }\n\n  propMap.set(prop, false);\n}\n\n/**\n * 监听函数的执行，并将执行过程中读取的对象值设置到 map 中\n * @param fn 要执行的含糊\n * @param map 用于存储被读取对象的 map\n */\nfunction observeRun(map, fn, options) {\n  const oldRead = read;\n  read = map;\n\n  try {\n    if (!(options === null || options === void 0 ? void 0 : options.postpone)) {\n      return fn();\n    }\n\n    return postpone(fn, options.postpone === 'priority');\n  } finally {\n    read = oldRead;\n  }\n}\nfunction observe(map, fn, options) {\n  if (typeof fn === 'function') {\n    return observeRun(map, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return observeRun(map, options, fn);\n}\nconst watchList = new WeakMap();\n\nfunction execWatch(target, prop) {\n  var _watchList$get;\n\n  const watch = (_watchList$get = watchList.get(target)) === null || _watchList$get === void 0 ? void 0 : _watchList$get.get(prop);\n\n  if (!watch) {\n    return;\n  }\n\n  [...watch].forEach(w => w());\n}\n\nlet waitList;\n\nfunction run(list) {\n  for (const [target, set] of list.entries()) {\n    var _read;\n\n    const propMap = (_read = read) === null || _read === void 0 ? void 0 : _read.get(target);\n\n    for (const prop of set) {\n      execWatch(target, prop);\n\n      if (propMap === null || propMap === void 0 ? void 0 : propMap.has(prop)) {\n        propMap.set(prop, true);\n      }\n    }\n  }\n}\n\nfunction postponeRun(f, priority) {\n  const list = !priority && waitList || new Map();\n  const old = waitList;\n  waitList = list;\n\n  try {\n    return f();\n  } finally {\n    waitList = old;\n\n    if (list !== waitList) {\n      run(list);\n    }\n  }\n}\n\nfunction postpone(fn, priority) {\n  if (typeof fn === 'function') {\n    return postponeRun(fn, priority);\n  }\n\n  if (typeof priority !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return postponeRun(priority, fn);\n}\n\nfunction wait(target, prop) {\n  if (!waitList) {\n    return false;\n  }\n\n  getMapValue(waitList, target, () => new Set()).add(prop);\n  return true;\n}\n/**\n * 标记属性的修改，同时触发监听函数\n * @param target 要标记的对象\n * @param prop   要标记的属性 特别的，false 表示原型，true 表示成员\n */\n\n\nfunction markChange(target, prop) {\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return;\n  }\n\n  [target, prop] = indexes;\n\n  if (wait(target, prop)) {\n    return;\n  }\n\n  execWatch(target, prop);\n}\n/**\n * 观察对象属性的变化\n * @param target 要观察的对象\n * @param prop   要观察的属性名 特别的，false 表示原型，true 表示成员\n * @param fn     属性改变后触发的函数\n */\n\nfunction watchProp(target, prop, cb) {\n  if (typeof cb !== 'function') {\n    return () => {};\n  }\n\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return () => {};\n  }\n\n  [target, prop] = indexes;\n  const key = prop;\n  let map = watchList.get(target);\n\n  if (!map) {\n    map = new Map();\n    watchList.set(target, map);\n  }\n\n  const list = getMapValue(map, key, () => new Set());\n  cb = safeify(cb);\n  list.add(cb);\n  let removed = false;\n  return () => {\n    if (removed) {\n      return;\n    }\n\n    removed = true; // 从当前列表中移除\n\n    list.delete(cb); // 从属性关联中删除\n\n    if (list.size) {\n      return;\n    }\n\n    if (!map) {\n      return;\n    }\n\n    map.delete(key); // 映射列表中删除\n\n    if (map.size) {\n      return;\n    }\n\n    watchList.delete(target);\n  };\n}\n\n/**\n * 判断对象是否可被代理\n */\n\nfunction encashable$1(v) {\n  return Boolean(v && ['object', 'function'].includes(typeof v));\n}\n\nlet getValue;\n/**\n * 获取被代理对象\n * @param obj  要被代理的对象\n * @param nest 递归代理的层数\n */\n\nfunction encase(value, nest = 0) {\n  if (!encashable$1(value)) {\n    return value;\n  }\n\n  const original = recover(value);\n  const nestLayer = nest === true ? Infinity : nest || 0;\n  const proxy = new Proxy(original, {\n    set(target, prop, value, receiver) {\n      if (nest === false) {\n        return Reflect.set(target, prop, value, receiver);\n      }\n\n      const has = Reflect.has(target, prop);\n      const modified = Reflect.set(target, prop, value, encase(receiver));\n\n      if (!modified) {\n        return modified;\n      }\n\n      if (has !== Reflect.has(target, prop)) {\n        markChange(target, true);\n      }\n\n      return modified;\n    },\n\n    get(target, prop, receiver) {\n      if (getValue === proxy) {\n        if (prop === '__monitorable__recover__') {\n          getValue = original;\n          return;\n        }\n      }\n\n      if (nest === false) {\n        return Reflect.get(target, prop, receiver);\n      }\n\n      markRead(target, prop);\n      const value = Reflect.get(target, prop, encase(receiver));\n\n      if (nestLayer > 0) {\n        return encase(value, nestLayer - 1);\n      }\n\n      return value;\n    },\n\n    setPrototypeOf(target, proto) {\n      if (nest === false) {\n        return Reflect.setPrototypeOf(target, proto);\n      }\n\n      const oldProto = Reflect.getPrototypeOf(target);\n      const modified = Reflect.setPrototypeOf(target, proto);\n\n      if (modified && oldProto !== proto) {\n        markChange(target, false);\n      }\n\n      return modified;\n    },\n\n    getPrototypeOf(target) {\n      if (nest === false) {\n        return Reflect.getPrototypeOf(target);\n      }\n\n      markRead(target, false);\n      const value = Reflect.getPrototypeOf(target);\n\n      if (nestLayer > 0) {\n        return encase(value, nestLayer - 1);\n      }\n\n      return value;\n    },\n\n    defineProperty(target, prop, attr) {\n      if (nest === false) {\n        return Reflect.defineProperty(target, prop, attr);\n      }\n\n      let changed = true;\n\n      if ('value' in attr) {\n        const desc = Reflect.getOwnPropertyDescriptor(target, prop);\n\n        if (desc && 'value' in desc && recover(attr.value) === recover(desc.value)) {\n          changed = false;\n        }\n      }\n\n      const modified = Reflect.defineProperty(target, prop, attr);\n\n      if (changed && modified) {\n        markChange(target, prop);\n      }\n\n      return modified;\n    },\n\n    getOwnPropertyDescriptor(target, prop) {\n      if (nest === false) {\n        return Reflect.getOwnPropertyDescriptor(target, prop);\n      }\n\n      markRead(target, prop);\n      return Reflect.getOwnPropertyDescriptor(target, prop);\n    },\n\n    deleteProperty(target, prop) {\n      if (nest === false) {\n        return Reflect.deleteProperty(target, prop);\n      }\n\n      const has = Reflect.has(target, prop);\n      const deleted = Reflect.deleteProperty(target, prop);\n\n      if (has && !Reflect.has(target, prop)) {\n        markChange(target, prop);\n        markChange(target, true);\n      }\n\n      return deleted;\n    },\n\n    ownKeys(target) {\n      if (nest === false) {\n        return Reflect.ownKeys(target);\n      }\n\n      markRead(target, true);\n      return Reflect.ownKeys(target);\n    },\n\n    has(target, prop) {\n      if (nest === false) {\n        return Reflect.has(target, prop);\n      }\n\n      markRead(target, true);\n      return Reflect.has(target, prop);\n    }\n\n  });\n  return proxy;\n}\n/** 获取被代理的原始值 */\n\nfunction recover(v) {\n  if (!v) {\n    return v;\n  }\n\n  if (!encashable$1(v)) {\n    return v;\n  }\n\n  let value = v;\n\n  try {\n    getValue = v;\n    value = v.__monitorable__recover__;\n  } catch (_unused) {}\n\n  value = getValue;\n  getValue = false;\n\n  if (!value) {\n    return v;\n  }\n\n  if (typeof value === 'object') {\n    return value;\n  }\n\n  if (typeof value === 'function') {\n    return value;\n  }\n\n  return v;\n}\nfunction equal(a, b) {\n  return recover(a) === recover(b);\n}\n\nfunction run$1(cb, fn, options) {\n  cb = safeify(cb);\n  let cancelList;\n  const postpone = options === null || options === void 0 ? void 0 : options.postpone;\n  let end = false;\n  /** 取消监听 */\n\n  function cancel() {\n    if (end) {\n      return false;\n    }\n\n    end = true;\n\n    if (!cancelList) {\n      return true;\n    }\n\n    const list = cancelList;\n    cancelList = undefined;\n    list.forEach(f => f());\n    return true;\n  }\n\n  function trigger() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(true);\n  }\n\n  function run(thisRead) {\n    if (end) {\n      return false;\n    }\n\n    if (!thisRead.size) {\n      end = true;\n      return cb(false);\n    }\n\n    const list = [];\n\n    for (let [obj, props] of thisRead) {\n      for (const [p, m] of props) {\n        if (m) {\n          return cb(true);\n        }\n\n        list.push([obj, p]);\n      }\n    }\n\n    cancelList = list.map(([obj, p]) => watchProp(recover(obj), p, trigger));\n  }\n\n  function stop() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(false);\n  }\n  const thisRead = new Map();\n  const result = observe(thisRead, () => fn(stop), {\n    postpone\n  });\n  run(thisRead);\n\n  if (options === null || options === void 0 ? void 0 : options.resultOnly) {\n    return result;\n  }\n\n  return {\n    result,\n    stop\n  };\n}\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\n\n\nfunction exec(cb, fn, options) {\n  if (typeof cb !== 'function') {\n    throw new Error('cb needs to be a function');\n  }\n\n  if (typeof fn === 'function') {\n    return run$1(cb, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return run$1(cb, options, fn);\n}\n\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\nfunction create(cb, fn, options) {\n  cb = safeify(cb);\n  let cancelList;\n  /** 取消监听 */\n\n  function cancel() {\n    if (!cancelList) {\n      return false;\n    }\n\n    const list = cancelList;\n    cancelList = undefined;\n    list.forEach(f => f());\n    return true;\n  }\n\n  function trigger() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(true);\n  }\n\n  function run(thisRead) {\n    if (!thisRead.size) {\n      return cb(false);\n    }\n\n    const list = [];\n\n    for (let [obj, props] of thisRead) {\n      for (const [p, m] of props) {\n        if (m) {\n          return cb(true);\n        }\n\n        list.push([obj, p]);\n      }\n    }\n\n    cancelList = list.map(([obj, p]) => watchProp(recover(obj), p, trigger));\n  }\n\n  function exec(...p) {\n    cancel();\n    const thisRead = new Map();\n    const result = observe(thisRead, () => fn(...p), options);\n    run(thisRead);\n    return result;\n  }\n\n  exec.stop = () => {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(false);\n  };\n\n  return exec;\n}\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\n\n\nfunction monitor(cb, fn, options) {\n  if (typeof fn === 'function') {\n    return create(cb, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return create(cb, options, fn);\n}\n\n/** 取消监听的方法 */\n\nconst values = new WeakSet();\nfunction isValue(x) {\n  return values.has(x);\n}\n/** 触发监听 */\n\nfunction valueOf() {\n  const value = this();\n\n  if (value === undefined) {\n    return value;\n  }\n\n  if (value === null) {\n    return value;\n  }\n\n  return value.valueOf();\n}\n\nfunction toString(...p) {\n  const value = this();\n\n  if (value === undefined) {\n    return String(value);\n  }\n\n  if (value === null) {\n    return String(value);\n  }\n\n  if (typeof value.toString === 'function') {\n    return value.toString(...p);\n  }\n\n  return String(value);\n}\n\nfunction toPrimitive(hint) {\n  const value = this();\n\n  if (value === undefined) {\n    return String(value);\n  }\n\n  if (value === null) {\n    return String(value);\n  }\n\n  if (typeof value[Symbol.toPrimitive] === 'function') {\n    return value[Symbol.toPrimitive](hint);\n  }\n\n  if (hint === 'string') {\n    return String(value);\n  }\n\n  if (hint === 'number') {\n    return Number(value);\n  }\n\n  return value;\n}\n\nfunction createValue(recover, setValue, stop = () => {}, change = () => {}) {\n  function set(v, marked = false) {\n    if (!setValue) {\n      return;\n    }\n\n    try {\n      setValue(v, () => {\n        marked = true;\n      });\n    } finally {\n      if (marked) {\n        trigger();\n      }\n    }\n  }\n\n  function get() {\n    markRead(value, 'value');\n    return recover();\n  }\n\n  const value = (...v) => {\n    if (v.length) {\n      set(v[0], v[1]);\n      return v[0];\n    }\n\n    return get();\n  };\n\n  Reflect.defineProperty(value, 'value', {\n    get,\n    set,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, 'valueOf', {\n    value: valueOf,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, 'toString', {\n    value: toString,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, Symbol.toPrimitive, {\n    value: toPrimitive,\n    enumerable: true,\n    configurable: true\n  });\n\n  function watch(cb) {\n    if (!callbacks) {\n      return () => {};\n    }\n\n    cb = safeify(cb);\n    callbacks.push(cb);\n    change();\n    let cancelled = false;\n    return () => {\n      if (cancelled) {\n        return;\n      }\n\n      cancelled = true;\n\n      if (!callbacks) {\n        return;\n      }\n\n      const index = callbacks.findIndex(a => a === cb);\n\n      if (index < 0) {\n        return;\n      }\n\n      callbacks.splice(index, 1);\n      change();\n    };\n  }\n\n  let callbacks = [];\n  Reflect.defineProperty(value, 'watch', {\n    get() {\n      return watch;\n    },\n\n    set() {},\n\n    configurable: true\n  });\n\n  const trigger = () => {\n    if (!callbacks) {\n      return;\n    }\n\n    markChange(value, 'value');\n\n    for (const cb of [...callbacks]) {\n      cb(value, false);\n    }\n  };\n\n  trigger.has = () => {\n    var _callbacks;\n\n    return Boolean((_callbacks = callbacks) === null || _callbacks === void 0 ? void 0 : _callbacks.length);\n  };\n\n  trigger.stop = () => {\n    if (!callbacks) {\n      return;\n    }\n\n    const list = callbacks;\n    callbacks = undefined;\n\n    for (const cb of [...list]) {\n      cb(value, true);\n    }\n  };\n\n  values.add(value);\n  let stopped = false;\n\n  value.stop = () => {\n    if (stopped) {\n      return;\n    }\n\n    stopped = true;\n    stop();\n    trigger.stop();\n  };\n\n  return {\n    value,\n    trigger\n  };\n}\n/**\n * 创建引用值\n * @param value 初始值\n * @param options 选项\n */\n\n\nfunction value(def, options) {\n  const proxy = options === true || options && options.proxy;\n  let source;\n  let proxyValue;\n  const {\n    value\n  } = createValue(() => proxyValue, (v, mark) => {\n    if (proxy) {\n      v = recover(v);\n    }\n\n    if (v === source) {\n      return;\n    }\n\n    source = v;\n    proxyValue = proxy ? encase(source) : source;\n    mark();\n  });\n  value(def);\n  return value;\n}\nfunction computed(getter, setter, options) {\n  var _options;\n\n  if (typeof setter !== 'function') {\n    options = setter;\n    setter = undefined;\n  }\n\n  const setValue = setter;\n  const proxy = options === true || options && options.proxy;\n  const postpone = typeof options === 'object' && ((_options = options) === null || _options === void 0 ? void 0 : _options.postpone);\n  let source;\n  let proxyValue;\n  let stopped = false;\n  let computed = false;\n  let trigger;\n  const executable = monitor(changed => {\n    computed = !changed;\n\n    if (changed && trigger) {\n      trigger();\n    }\n  }, getter, {\n    postpone\n  });\n\n  function run() {\n    computed = true;\n\n    try {\n      source = executable();\n\n      if (proxy) {\n        source = recover(source);\n      }\n\n      proxyValue = proxy ? encase(source) : source;\n      return proxyValue;\n    } catch (e) {\n      if (!stopped) {\n        computed = false;\n      }\n\n      throw e;\n    }\n  }\n\n  let value;\n  ({\n    value,\n    trigger\n  } = createValue(() => computed || stopped ? proxyValue : run(), setValue && (v => setValue(proxy ? recover(v) : v)), () => {\n    if (stopped) {\n      return;\n    }\n\n    stopped = true;\n\n    if (computed) {\n      return;\n    }\n\n    run();\n  }));\n  return value;\n}\nfunction merge(cb) {\n  let oldValue;\n  let ran = false;\n  return (v, stopped) => {\n    if (stopped) {\n      return cb(v, stopped);\n    }\n\n    const newValue = recover(v());\n\n    if (newValue === oldValue && ran) {\n      return;\n    }\n\n    ran = true;\n    oldValue = newValue;\n    cb(v, stopped);\n  };\n}\nfunction mix(source) {\n  for (const k of Reflect.ownKeys(source)) {\n    const descriptor = Reflect.getOwnPropertyDescriptor(source, k);\n\n    if (!descriptor) {\n      continue;\n    }\n\n    if (!('value' in descriptor) || 'get' in descriptor || 'set' in descriptor) {\n      continue;\n    }\n\n    const value = descriptor.value;\n\n    if (!isValue(value)) {\n      continue;\n    }\n\n    descriptor.get = () => value.value;\n\n    if (descriptor.writable) {\n      descriptor.set = v => value.value = v;\n    }\n\n    delete descriptor.value;\n    delete descriptor.writable;\n    Reflect.defineProperty(source, k, descriptor);\n  }\n\n  return source;\n}\n\nfunction createValue$1(props, key, def = value(undefined), set) {\n  function setValue(value, setted) {\n    if (!set) {\n      return;\n    }\n\n    set(value, setted);\n  }\n\n  return computed(() => {\n    if (!(key in props)) {\n      return def();\n    }\n\n    const p = props[key];\n    return isValue(p) ? p() : p;\n  }, v => {\n    if (!(key in props)) {\n      def(v);\n      setValue(v, false);\n      return;\n    }\n\n    const p = props[key];\n\n    if (isValue(p)) {\n      p(v);\n      setValue(v, true);\n      return;\n    }\n\n    setValue(v, false);\n  });\n}\n\nfunction valueify(props, key, def, set) {\n  if (arguments.length >= 2) {\n    return createValue$1(props, key, def, set);\n  }\n\n  return (k, d, s) => createValue$1(props, k, d, s);\n}\n\nfunction createValue$2(props, key) {\n  return computed(() => {\n    const p = props[key];\n    return isValue(p) ? p() : p;\n  }, v => {\n    const p = props[key];\n\n    if (isValue(p)) {\n      p(v);\n    } else {\n      props[key] = v;\n    }\n  });\n}\n\nfunction asValue(props, key) {\n  if (arguments.length >= 2) {\n    return createValue$2(props, key);\n  }\n\n  return k => createValue$2(props, k);\n}\n\nexport { asValue, computed, encase, encashable, equal, exec, getIndexes, getMapValue, isValue, markChange, markRead, merge, mix, monitor, observe, observeRun, postpone, printError, recover, safeify, setPrintError, value, valueify, watchProp };\n//# sourceMappingURL=monitorable.esm.js.map\n","export {\n\tvalue, computed, isValue, encase, recover, valueify, asValue,\n\tmarkRead, markChange, safeify, exec, monitor, printError, postpone,\n} from 'monitorable';\n\n\nexport default function installMonitorable(\n\tapi?: typeof import('monitorable'),\n): void {\n}\n","import * as monitorableApi from 'monitorable';\nimport { IRender, Devtools } from '../type';\nimport { isProduction } from '../constant';\nimport installDevtools from './devtools';\nimport installRender from './render';\nimport installMonitorable from './monitorable';\n\n\nexport * from './devtools';\nexport * from './render';\nexport * from './monitorable';\n\n\nexport interface InstallOptions {\n\tmonitorable?: typeof monitorableApi;\n\trender?: IRender;\n\tdevtools?: Devtools;\n}\n\n\nexport default function install(apis: InstallOptions): void {\n\tinstallMonitorable(apis.monitorable);\n\tinstallRender(apis.render);\n\tif (!isProduction) {\n\t\tinstallDevtools(apis.devtools);\n\t}\n}\n","import NeepError from '../Error';\nimport { Entity } from '../type';\n\n/** 当前正在执行的对象 */\nexport let current: Entity | undefined;\nexport function setCurrent<T>(\n\tfn: () => T,\n\tentity: Entity,\n): T {\n\tconst oldEntity = current;\n\tcurrent = entity;\n\ttry {\n\t\tcurrent.$_valueIndex = 0;\n\t\tcurrent.$_serviceIndex = 0;\n\t\tconst ret = fn();\n\t\tif (current.$_valueIndex !== current.$_values.length) {\n\t\t\tthrow new NeepError(\n\t\t\t\t'Inconsistent number of useValue executions',\n\t\t\t\t'life',\n\t\t\t);\n\t\t}\n\t\tif (\n\t\t\tcurrent.$_serviceIndex &&\n\t\t\tcurrent.$_serviceIndex !== current.$_services.length) {\n\t\t\tthrow new NeepError(\n\t\t\t\t'Inconsistent number of useService executions',\n\t\t\t\t'life',\n\t\t\t);\n\t\t}\n\t\treturn ret;\n\t} finally {\n\t\tcurrent = oldEntity;\n\t}\n}\n\nexport function checkCurrent(\n\tname: string,\n\tinitOnly = false,\n): Entity {\n\tif (!current) {\n\t\tthrow new NeepError(\n\t\t\t`Function \\`${ name }\\` can only be called within a cycle.`,\n\t\t\t'life',\n\t\t);\n\t}\n\tif (!initOnly) {\n\t\treturn current;\n\t}\n\tif (!current.created) {\n\t\treturn current;\n\t}\n\tthrow new NeepError(\n\t\t`Function \\`${ name }\\` can only be called at initialization time.`,\n\t\t'life',\n\t);\n}\n","import { Context, ContextConstructor, Entity } from '../type';\nimport { safeify } from '../install';\n\nconst constructors: ContextConstructor[] = [];\nexport function initContext(\n\tcontext: Context,\n\tentity?: Entity,\n): Context {\n\tfor (const constructor of constructors) {\n\t\tconstructor(context, entity);\n\t}\n\treturn context;\n}\nexport function addContextConstructor(\n\tconstructor: ContextConstructor,\n): void {\n\tconstructors.push(safeify(constructor));\n}\n","import { Entity, EntityConstructor } from '../type';\nimport { safeify } from '../install';\n\nconst constructors: EntityConstructor[] = [];\nexport function initEntity(\n\tentity: Entity,\n): Entity {\n\tfor (const constructor of constructors) {\n\t\tconstructor(entity);\n\t}\n\treturn entity;\n}\nexport function addEntityConstructor(\n\tconstructor: EntityConstructor,\n): void {\n\tconstructors.push(safeify(constructor));\n}\n","import EntityObject from '../entity/EntityObject';\n\nlet delayedRefresh = 0;\nconst objectSet = new Set<EntityObject>();\nexport function wait(obj: EntityObject): boolean {\n\tif (delayedRefresh <= 0) { return false; }\n\tobjectSet.add(obj);\n\treturn true;\n}\nfunction run(): void {\n\tif (delayedRefresh > 0) { return; }\n\tconst list = [...objectSet];\n\tobjectSet.clear();\n\tlist.forEach(o => o.refresh());\n}\nasync function asyncRefresh<T>(f: () => PromiseLike<T> | T): Promise<T> {\n\ttry {\n\t\tdelayedRefresh++;\n\t\treturn await f();\n\t} finally {\n\t\tdelayedRefresh--;\n\t\trun();\n\t}\n}\nexport default function refresh<T>(f: () => T, async?: false): T;\nexport default function refresh<T>(\n\tf: () => PromiseLike<T> | T,\n\tasync: true,\n): Promise<T>;\nexport default function refresh<T>(\n\tf: () => PromiseLike<T> | T,\n\tasync?: boolean,\n): PromiseLike<T> | T;\nexport default function refresh<T>(\n\tf: () => PromiseLike<T> | T,\n\tasync?: boolean,\n): PromiseLike<T> | T {\n\tif (async) { return asyncRefresh(f); }\n\ttry {\n\t\tdelayedRefresh++;\n\t\treturn f();\n\t} finally {\n\t\tdelayedRefresh--;\n\t\trun();\n\t}\n}\n","import { markRead, markChange, printError } from './install';\nimport { Emit, On } from './type';\nimport { refresh } from './extends';\n\nfunction getEventName(k: string): string {\n\tif (k[0] === '@') { return k.substr(1); }\n\tif (/^on[:-]/.test(k)) { return k.substr(3); }\n\tif (/^n([:-])on(\\1|:)/.test(k)) { return k.substr(5); }\n\treturn '';\n}\ninterface AddEvent<T extends Record<string, any[]>> {\n\t<N extends keyof T>(\n\t\tentName: N,\n\t\tlistener: (...p: T[N]) => void,\n\t): void\n}\n\nfunction addEventFromCollection(\n\taddEvent: (entName: string, listener: (...p: any) => void) => void,\n\tevents: any,\n): void {\n\tif (!events) { return; }\n\tif (typeof events === 'function') {\n\t\tconst { names } = events as Emit;\n\t\tif (!Array.isArray(names)) { return; }\n\t\tfor (const n of names) {\n\t\t\tif (!n) { continue; }\n\t\t\taddEvent(n, (...p) => events(n, ...p));\n\t\t}\n\t\treturn;\n\t}\n\tif (typeof events !== 'object') { return; }\n\tfor (const k of Object.keys(events)) {\n\t\tconst f = events[k];\n\t\tif (typeof f !== 'function') { continue; }\n\t\taddEvent(k, f);\n\t}\n\n}\n\nexport default class EventEmitter<\n\tT extends Record<string, any[]> = Record<string, any[]>\n> {\n\tstatic update<T extends Record<string, any[]>>(\n\t\temitter: EventEmitter<T>,\n\t\tevents: any,\n\t): (() => void)[] {\n\t\tif (!events) { return []; }\n\t\tconst newHandles: (() => void)[] = [];\n\t\tif (events && typeof events === 'object') {\n\t\t\tfor (const n of Object.keys(events)) {\n\t\t\t\tif (!n) { continue; }\n\t\t\t\tconst fn = events[n];\n\t\t\t\tif (typeof fn !== 'function') { continue; }\n\t\t\t\tnewHandles.push(emitter.on(n, fn));\n\t\t\t}\n\t\t}\n\t\treturn newHandles;\n\t}\n\tstatic updateInProps<T extends Record<string, any[]>>(\n\t\temitter: EventEmitter<T>,\n\t\tprops: any,\n\t\tcustom?: (addEvent: AddEvent<T>) => void,\n\t): (() => void)[] {\n\t\tif (!props) { return []; }\n\n\t\tconst newHandles: (() => void)[] = [];\n\n\t\tfunction addEvent<N extends keyof T>(\n\t\t\tentName: N,\n\t\t\tlistener: (...p: T[N]) => void,\n\t\t): void {\n\t\t\tnewHandles.push(emitter.on(entName, listener));\n\t\t}\n\t\tfor (const k of Object.keys(props)) {\n\t\t\tconst fn = props[k];\n\t\t\tif (typeof fn !== 'function') { continue; }\n\t\t\tconst entName = getEventName(k);\n\t\t\tif (!entName) { continue; }\n\t\t\taddEvent(entName, fn);\n\t\t}\n\t\taddEventFromCollection(addEvent, props['@']);\n\t\taddEventFromCollection(addEvent, props['n:on']);\n\t\taddEventFromCollection(addEvent, props['n-on']);\n\t\tif (typeof custom === 'function') {\n\t\t\tcustom(addEvent);\n\t\t}\n\t\tnewHandles.push(...EventEmitter.update(emitter, props['@']));\n\t\treturn newHandles;\n\t}\n\n\tprivate readonly _names = new Set<keyof T>();\n\tprivate readonly _cancelHandles = new Set<() => void>();\n\tget names(): (keyof T)[] {\n\t\treturn [...this._names];\n\t}\n\treadonly emit: Emit<T>;\n\treadonly on: On<T>;\n\tconstructor() {\n\t\tconst events: Record<keyof T, Set<(...p: any) => boolean>> = Object.create(null);\n\t\tconst names = this._names;\n\n\t\tfunction createEmit(\n\t\t\t...omitNames: (string | number | symbol)[]\n\t\t): Emit<T> {\n\t\t\tfunction emit<N extends keyof T>(name: N, ...p: T[N]): boolean {\n\t\t\t\tconst event = events[name];\n\t\t\t\tif (!event) { return true; }\n\t\t\t\treturn refresh(() => {\n\t\t\t\t\tlet res = true;\n\t\t\t\t\tfor (const fn of [...event]) {\n\t\t\t\t\t\tres = fn(...p) && res;\n\t\t\t\t\t}\n\t\t\t\t\treturn res;\n\t\t\t\t});\n\t\t\t}\n\t\t\temit.omit = (...names: string[]) =>\n\t\t\t\tcreateEmit(...omitNames, ...names);\n\t\t\tReflect.defineProperty(emit, 'names', {\n\t\t\t\tget:() => {\n\t\t\t\t\tmarkRead(createEmit, 'names');\n\t\t\t\t\treturn [...names]\n\t\t\t\t\t\t.filter(t => !omitNames.includes(t));\n\t\t\t\t},\n\t\t\t\tconfigurable: true,\n\t\t\t});\n\t\t\treturn emit as any as Emit<T>;\n\t\t}\n\t\tconst on: On<T> = (name, listener): () => void => {\n\t\t\tfunction fn(...p: Parameters<typeof listener>): boolean {\n\t\t\t\ttry {\n\t\t\t\t\treturn listener(...p) !== false;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tprintError(e);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet event = events[name];\n\t\t\tif (!event?.size) {\n\t\t\t\tevent = new Set();\n\t\t\t\tevents[name] = event;\n\t\t\t\tmarkChange(createEmit, 'names');\n\t\t\t\tnames.add(name);\n\t\t\t}\n\t\t\tevent.add(fn);\n\t\t\tlet removed = false;\n\t\t\treturn () => {\n\t\t\t\tif (removed) { return; }\n\t\t\t\tremoved = true;\n\t\t\t\tevent.delete(fn);\n\t\t\t\tif (event.size) { return; }\n\t\t\t\tmarkChange(createEmit, 'names');\n\t\t\t\tnames.delete(name);\n\t\t\t};\n\t\t};\n\t\tthis.emit = createEmit();\n\t\tthis.on = on;\n\t}\n\tupdateHandles(newHandles: (() => void)[]): (() => void)[] {\n\t\tconst eventCancelHandles = this._cancelHandles;\n\t\tconst oldHandles = [...eventCancelHandles];\n\t\teventCancelHandles.clear();\n\t\tfor (const fn of oldHandles) { fn(); }\n\t\tnewHandles.forEach(f => eventCancelHandles.add(f));\n\t\treturn newHandles;\n\t}\n\tupdate(list: any): (() => void)[] {\n\t\tconst handles = EventEmitter.update(this, list);\n\t\treturn this.updateHandles(handles);\n\t}\n\tupdateInProps(\n\t\tlist: any,\n\t\tcustom?: (addEvent: AddEvent<T>) => void,\n\t): (() => void)[] {\n\t\tconst handles = EventEmitter.updateInProps(this, list, custom);\n\t\treturn this.updateHandles(handles);\n\t}\n}\n","export const ScopeSlot = 'neep:ScopeSlot';\nexport const SlotRender = 'neep:SlotRender';\nexport const Slot = 'neep:slot';\nexport const Value = 'neep:value';\nexport const Container = 'neep:container';\nexport const Template = 'template';\nexport const Fragment = Template;\n","import { safeify } from './install';\nimport { Hook, Hooks, Entity } from './type';\nconst hooks: Record<string, Set<Hook>> = Object.create(null);\n\nexport function setHook<H extends Hooks>(\n\tid: H,\n\thook: Hook,\n\tentity?: Entity,\n): () => void;\nexport function setHook(\n\tid: string,\n\thook: Hook,\n\tentity?: Entity,\n): () => void;\n\nexport function setHook(\n\tid: string,\n\thook: Hook,\n\tentity?: Entity,\n): () => void {\n\tlet list = entity?.$_hooks || hooks;\n\tif (!list) { return () => {}; }\n\thook = safeify(hook);\n\tlet set = list[id];\n\tif (!set) {\n\t\tset = new Set();\n\t\tlist[id] = set;\n\t}\n\tset.add(hook);\n\treturn () => set.delete(hook);\n}\n\nexport function callHook<H extends Hooks>(\n\tid: H,\n\texposed: Entity,\n): void;\nexport function callHook(id: string, exposed: Entity): void;\nexport function callHook(id: string, exposed: Entity): void {\n\tif (!exposed) { return; }\n\tfor (const hook of exposed.$_hooks[id] || []) {\n\t\thook(exposed);\n\t}\n\tfor (const hook of hooks[id] || []) {\n\t\thook(exposed);\n\t}\n}\n","export const typeSymbol = Symbol.for('type');\nexport const nameSymbol = Symbol.for('name');\nexport const renderSymbol = Symbol.for('render');\nexport const componentsSymbol = Symbol.for('components');\nexport const configSymbol = Symbol.for('config');\n\nexport const objectTypeSymbol = Symbol.for('$$$objectType$$$');\nexport const objectTypeSymbolElement = '$$$objectType$$$Element';\nexport const objectTypeSymbolDeliver = '$$$objectType$$$Deliver';\n\nexport const deliverKeySymbol = Symbol.for('$$$deliverKey$$$');\nexport const deliverDefaultSymbol = Symbol.for('$$$deliverDefault$$$');\n","import { Tag, NeepElement, ElementIteratorOptions } from '../type';\nimport {\n\tobjectTypeSymbol,\n\tobjectTypeSymbolElement,\n\ttypeSymbol,\n} from '../symbols';\nimport { Value, Template, ScopeSlot } from './tags';\n\n/**\n * 判读是否为元素\n */\nexport function isElement(v: any): v is NeepElement {\n\tif (!v) { return false; }\n\tif (typeof v !== 'object') { return false; }\n\treturn v[objectTypeSymbol] === objectTypeSymbolElement;\n}\nexport function isSimpleTag(tag: Tag): boolean {\n\tif (!tag) { return false; }\n\tif (typeof tag !== 'function') { return false; }\n\treturn tag[typeSymbol] === 'simple';\n}\nexport function isSimpleElement(v: any): boolean {\n\treturn isElement(v) && isSimpleTag(v.tag);\n}\n\nexport function createElement(\n\ttag: Tag,\n\tattrs?: {[key: string]: any},\n\t...children: any[]\n): NeepElement {\n\tconst props = attrs ? {...attrs} : {};\n\tconst node: NeepElement = {\n\t\t[objectTypeSymbol]: objectTypeSymbolElement,\n\t\ttag,\n\t\tkey: undefined,\n\t\tprops,\n\t\tchildren,\n\t};\n\tif ('n:key' in props) { node.key = props['n:key']; }\n\telse if ('n-key' in props) { node.key = props['n-key']; }\n\telse if ('key' in props) { node.key = props.key; }\n\tif ('n:slot' in props) { node.slot = props['n:slot']; }\n\telse if ('n-slot' in props) { node.slot = props['n-slot']; }\n\telse if ('slot' in props) { node.slot = props.slot; }\n\tif (typeof props['n:ref'] === 'function') {\n\t\tnode.ref = props['n:ref'];\n\t} else if (typeof props['n-ref'] === 'function') {\n\t\tnode.ref = props['n-ref'];\n\t} else if (typeof props.ref === 'function') {\n\t\tnode.ref = props.ref;\n\t}\n\tif (tag === Value) {\n\t\tnode.value = props.value;\n\t}\n\treturn node;\n}\n\nexport function elements(\n\tnode: any,\n\topt: ElementIteratorOptions = {},\n): any[] {\n\tif (Array.isArray(node)) {\n\t\tconst list: any[][] = [];\n\t\tfor (let n of node) {\n\t\t\tlist.push(elements(n, opt));\n\t\t}\n\t\treturn ([] as any[]).concat(...list);\n\t}\n\tif (!isElement(node)) { return [node]; }\n\tlet { tag } = node;\n\tif (!tag) { return [node]; }\n\n\tif (([Template, ScopeSlot] as Tag[]).includes(tag)) {\n\t\treturn elements(node.children, opt);\n\t}\n\tif (typeof tag !== 'function') { return [node]; }\n\tif (tag[typeSymbol] !== 'simple') { return [node]; }\n\tconst { simple = true } = opt;\n\tif (!simple) { return [node]; }\n\tif (Array.isArray(simple)) {\n\t\tif (simple.includes(tag)) { return [node]; }\n\t} else if (typeof simple === 'function') {\n\t\tif (!simple(tag)) { return [node]; }\n\t}\n\treturn elements(node.children, opt);\n}\n\nfunction equalProps(a: any, b: any): boolean {\n\tif (Object.is(a, b)) { return true; }\n\tif (!a) { return false; }\n\tif (!b) { return false; }\n\tif (typeof a !== 'object') { return false; }\n\tif (typeof b !== 'object') { return false; }\n\tconst aKeys = new Set(Reflect.ownKeys(a));\n\tconst bKeys = Reflect.ownKeys(b);\n\tif (aKeys.size !== bKeys.length) { return false; }\n\tfor (const k of bKeys) {\n\t\tif (!aKeys.has(k)) { return false; }\n\t\tif (a[k] !== b[k]) { return false; }\n\t}\n\treturn true;\n}\nexport function equal(a: any, b: any): boolean {\n\tif (Object.is(a, b)) { return true; }\n\tif (!a) { return false; }\n\tif (!b) { return false; }\n\tif (typeof a !== 'object') { return false; }\n\tif (typeof b !== 'object') { return false; }\n\tif (Array.isArray(a)) {\n\t\tif (!Array.isArray(b)) { return false; }\n\t\tif (a.length !== b.length) { return false; }\n\t\tfor (let i = a.length - 1; i >= 0; i--) {\n\t\t\tif (!equal(a[i], b[i])) { return false; }\n\t\t}\n\t\treturn true;\n\t}\n\tif (Array.isArray(b)) { return false; }\n\tif (!isElement(a)) { return false; }\n\tif (!isElement(b)) { return false; }\n\tif (a.tag !== b.tag) { return false; }\n\tif (a.execed !== b.execed) { return false; }\n\tif (a.inserted !== b.inserted) { return false; }\n\tif (a.ref !== b.ref) { return false; }\n\tif (a.value !== b.value) { return false; }\n\tif (a.key !== b.key) { return false; }\n\tif (a.slot !== b.slot) { return false; }\n\treturn equalProps(a.props, b.props)\n\t\t&& equal(a.children, b.children);\n}\n","let label: [string, string] | undefined;\nexport function setLabel(l: [string, string]): void {\n\tlabel = l;\n}\n\nexport function getLabel(): typeof label {\n\tconst l = label;\n\tlabel = undefined;\n\treturn l;\n}\n","import {\n\tobjectTypeSymbol,\n\tobjectTypeSymbolDeliver,\n\tdeliverKeySymbol,\n\tdeliverDefaultSymbol,\n} from '../symbols';\nimport { NeepNode, Context, Deliver } from '../type';\nimport { assert } from '../Error';\n\n\nexport function createDeliver<T>(def: T): Deliver<T>;\nexport function createDeliver<T>(def?: T): Deliver<T | undefined>;\nexport function createDeliver<T, D>(def: D): Deliver<T | D>;\nexport function createDeliver<T>(def: T): Deliver<T> {\n\tconst symbol = Symbol();\n\n\tfunction Provider (\n\t\t_: { value?: T },\n\t\t{ childNodes }: Context,\n\t): NeepNode[] {\n\t\treturn childNodes;\n\t}\n\tReflect.defineProperty(Provider, objectTypeSymbol, {\n\t\tvalue: objectTypeSymbolDeliver,\n\t});\n\tReflect.defineProperty(Provider, deliverKeySymbol, {\n\t\tvalue: symbol,\n\t});\n\tReflect.defineProperty(Provider, deliverDefaultSymbol, {\n\t\tvalue: def,\n\t});\n\treturn Provider as Deliver<T>;\n}\n\nexport function isDeliver(d: any): d is Deliver<any> {\n\tif (typeof d !== 'function') { return false; }\n\treturn d[objectTypeSymbol] === objectTypeSymbolDeliver;\n}\n\nexport function getDelivered<T>(delivered: any, Deliver: Deliver<T>): T {\n\tassert(isDeliver(Deliver), '');\n\tconst value = delivered[Deliver[deliverKeySymbol]];\n\treturn value === undefined ? Deliver[deliverDefaultSymbol] : value;\n}\n","import { NativeNode, MountedNode } from '../type';\nimport { isProduction } from '../constant';\n\nlet ids = 0;\nconst Nodes: {[key: number]: MountedNode} = {};\nlet IdMap: undefined | Map<NativeNode, number>;\nif (!isProduction) {\n\tIdMap = new Map();\n}\nexport function createMountedNode(\n\tn: Omit<MountedNode, 'id'>,\n\tid?: number,\n): MountedNode {\n\tif (!isProduction) {\n\t\tid = id || ++ids;\n\t\tconst { node } = n;\n\t\tif (node && IdMap) { IdMap.set(node, id); }\n\t\treturn Nodes[id] = {...n, id};\n\t}\n\treturn {...n, id: 0};\n}\n\nexport function recoveryMountedNode(node: MountedNode): void {\n\tif (!isProduction) {\n\t\tdelete Nodes[node.id];\n\t}\n}\n\nexport function getNode(\n\tid: number | NativeNode,\n): MountedNode | undefined {\n\tif (!isProduction) {\n\t\tif (typeof id !== 'number') {\n\t\t\tid = IdMap?.get(id) || -1;\n\t\t}\n\t\treturn Nodes[id];\n\t}\n\treturn undefined;\n}\n","export interface RecursiveArray<T> extends Array<RecursiveItem<T>>{}\nexport type RecursiveItem<T> = T | RecursiveArray<T>;\n\nexport function *recursive2iterable<T>(\n\tlist: RecursiveItem<T>,\n): Iterable<T> {\n\tif (!Array.isArray(list)) {\n\t\tyield list;\n\t\treturn;\n\t}\n\tfor (const it of list) {\n\t\tyield *recursive2iterable(it);\n\t}\n}\n","import { IRender, NativeNode, Exposed, Ref, MountedNode } from '../../type';\nimport { recoveryMountedNode } from '../id';\n\nlet refList: (() => void)[] | undefined;\nexport function setRefList(list?: (() => void)[]): void {\n\trefList = list;\n}\nexport function setRef(\n\tref?: Ref,\n\tnode?: Exposed | NativeNode,\n\tisRemove?: boolean,\n): void {\n\tif (typeof ref !== 'function') { return; }\n\tif (!node) { return; }\n\tif (!refList) {\n\t\tref(node, isRemove);\n\t} else {\n\t\trefList.push(() => ref(node, isRemove));\n\t}\n}\n\ntype MountedNodes = MountedNode | MountedNode[]\n| (MountedNode | MountedNode[])[];\n\n\nexport function *getNodes(tree: MountedNodes): Iterable<NativeNode> {\n\tif (Array.isArray(tree)) {\n\t\tfor (const it of tree) {\n\t\t\tyield *getNodes(it);\n\t\t}\n\t\treturn;\n\t}\n\tconst { children, node, component } = tree;\n\tif (node) {\n\t\tyield node;\n\t\treturn;\n\t}\n\tif (component) {\n\t\tyield *getNodes(component.tree);\n\t\treturn;\n\t}\n\tyield *getNodes(children);\n}\n\nexport function unmount(iRender: IRender, tree: MountedNodes): void {\n\tif (Array.isArray(tree)) {\n\t\ttree.forEach(e => unmount(iRender, e));\n\t\treturn;\n\t}\n\tconst { component, children, node, ref } = tree;\n\trecoveryMountedNode(tree);\n\tif (component) {\n\t\tsetRef(ref, component.exposed, true);\n\t\tcomponent.unmount();\n\t\treturn;\n\t}\n\tif (node) {\n\t\tsetRef(ref, node, true);\n\t\tiRender.removeNode(node);\n\t}\n\tunmount(iRender, children);\n}\n","import { isValue, Container, Value } from '../../auxiliary';\nimport { IRender, NativeNode, MountedNode, TreeNode } from '../../type';\nimport { createMountedNode } from '../id';\nimport { setRef, getNodes } from './utils';\nimport { isDeliver } from '../../auxiliary/deliver';\n\nexport function createValue(\n\tiRender: IRender,\n\tsource: TreeNode,\n\tvalue: any,\n): MountedNode {\n\tlet { ref } = source;\n\tif (iRender.isNode(value)) {\n\t\tsetRef(ref, value);\n\t\treturn createMountedNode({\n\t\t\t...source,\n\t\t\tvalue,\n\t\t\tnode: value,\n\t\t\tchildren: [],\n\t\t\tcomponent: undefined,\n\t\t});\n\t}\n\tconst type = typeof value;\n\tlet node: NativeNode | undefined;\n\tif (\n\t\ttype === 'bigint'\n\t\t|| type === 'boolean'\n\t\t|| type === 'number'\n\t\t|| type === 'string'\n\t\t|| type === 'symbol'\n\t\t|| value instanceof RegExp\n\t) {\n\t\tnode = iRender.createText(String(value));\n\t} else if (value instanceof Date) {\n\t\tnode = iRender.createText(value.toISOString());\n\t} else if (type === 'object' && value) {\n\t\tnode = iRender.createText(String(value));\n\t\t// TODO: 对象处理\n\t}\n\tif (!node) { node = iRender.createPlaceholder(); }\n\tsetRef(ref, node);\n\treturn createMountedNode({\n\t\t...source,\n\t\tvalue,\n\t\tnode,\n\t\tcomponent: undefined,\n\t\tchildren: [],\n\t});\n}\n\nexport function createAll(\n\tiRender: IRender,\n\tsource: (TreeNode | TreeNode[])[],\n): (MountedNode | MountedNode[])[] {\n\tif (!source.length) {\n\t\treturn [createMountedNode({\n\t\t\ttag: null,\n\t\t\tnode: iRender.createPlaceholder(),\n\t\t\tcomponent: undefined,\n\t\t\tchildren: [],\n\t\t})];\n\t}\n\n\treturn source.map(item =>\n\t\tArray.isArray(item)\n\t\t\t? createList(iRender, item)\n\t\t\t: createItem(iRender, item));\n}\n\nexport function createList(\n\tiRender: IRender,\n\tsource: TreeNode[],\n): MountedNode[] {\n\tif (source.length) {\n\t\treturn source.map(it => createItem(iRender, it));\n\t}\n\treturn [createMountedNode({\n\t\ttag: null,\n\t\tnode: iRender.createPlaceholder(),\n\t\tcomponent: undefined,\n\t\tchildren: [],\n\t})];\n}\n\nexport function createItem(\n\tiRender: IRender,\n\tsource: TreeNode,\n): MountedNode {\n\tconst { tag, ref, component } = source;\n\tif (!tag) {\n\t\tconst node = iRender.createPlaceholder();\n\t\tsetRef(ref, node);\n\t\treturn createMountedNode({\n\t\t\ttag: null,\n\t\t\tnode,\n\t\t\tcomponent: undefined,\n\t\t\tchildren: [],\n\t\t});\n\t}\n\n\tif (isDeliver(tag)) {\n\t\t// TODO: ref\n\t\treturn createMountedNode({\n\t\t\t...source,\n\t\t\tnode: undefined,\n\t\t\tcomponent: undefined,\n\t\t\tchildren: createAll(iRender, source.children),\n\t\t});\n\t}\n\n\tconst ltag = typeof tag !== 'string' ? '' : tag.toLowerCase();\n\tif (typeof tag !== 'string' || ltag === Container) {\n\t\tif (!component) {\n\t\t\t// TODO: ref\n\t\t\treturn createMountedNode({\n\t\t\t\t...source,\n\t\t\t\tnode: undefined,\n\t\t\t\tcomponent: undefined,\n\t\t\t\tchildren: createAll(iRender, source.children),\n\t\t\t});\n\t\t}\n\t\tcomponent.mount();\n\t\tsetRef(ref, component.exposed);\n\t\treturn createMountedNode({\n\t\t\t...source,\n\t\t\tnode: undefined,\n\t\t\tcomponent, children: [],\n\t\t});\n\t}\n\tif (ltag === Value) {\n\t\tlet {value} = source;\n\t\tif (isValue(value)) { value = value(); }\n\t\treturn createValue(iRender, source, value);\n\t}\n\tif (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n\t\t// TODO: ref\n\t\treturn createMountedNode({\n\t\t\t...source,\n\t\t\tnode: undefined,\n\t\t\tcomponent: undefined,\n\t\t\tchildren: createAll(iRender, source.children),\n\t\t});\n\t}\n\tconst node = iRender.createElement(tag);\n\tsetRef(ref, node);\n\tlet children: (MountedNode | MountedNode[])[] = [];\n\tif (source.children?.length) {\n\t\tchildren = createAll(iRender, source.children);\n\t\tfor (const it of getNodes(children)) {\n\t\t\tiRender.insertNode(node, it);\n\t\t}\n\t}\n\tiRender.updateProps(node, source.props || {});\n\treturn createMountedNode({\n\t\t...source,\n\t\tnode,\n\t\tcomponent: undefined,\n\t\tchildren,\n\t});\n}\n","import { isValue, Value, Container } from '../../auxiliary';\nimport { IRender, NativeNode, NativeElement, MountedNode, TreeNode } from '../../type';\nimport { createMountedNode } from '../id';\nimport { createItem, createAll, createValue, createList } from './create';\nimport { getNodes, unmount, setRef } from './utils';\nimport { isDeliver } from '../../auxiliary/deliver';\n\n\ntype MountedNodes = MountedNode | MountedNode[]\n| (MountedNode | MountedNode[])[];\n\nfunction getLastNode(tree: MountedNodes): NativeNode {\n\tif (Array.isArray(tree)) {\n\t\treturn getLastNode(tree[tree.length - 1]);\n\t}\n\tconst { component, children, node } = tree;\n\tif (node) { return node; }\n\tif (component) { return getLastNode(component.tree); }\n\treturn getLastNode(children);\n}\n\nfunction getFirstNode(tree: MountedNodes): NativeNode {\n\tif (Array.isArray(tree)) { return getFirstNode(tree[0]); }\n\tconst { component, children, node } = tree;\n\tif (node) { return node; }\n\tif (component) { return getFirstNode(component.tree); }\n\treturn getFirstNode(children[0]);\n}\n\nfunction replace<T extends MountedNode | MountedNode[]>(\n\tiRender: IRender,\n\tnewTree: T,\n\toldTree: MountedNode | MountedNode[],\n): T {\n\tconst next = getFirstNode(oldTree);\n\tif (!next) { return newTree; }\n\tconst parent = iRender.getParent(next);\n\tif (!parent) { return newTree; }\n\tfor (const it of getNodes(newTree)) {\n\t\tiRender.insertNode(parent, it, next);\n\t}\n\tunmount(iRender, oldTree);\n\treturn newTree;\n}\n\nfunction updateList(\n\tiRender: IRender,\n\tsource: TreeNode[],\n\ttree: MountedNode | MountedNode[],\n): MountedNode[] {\n\tif (!source.length) {\n\t\tconst node = createItem(iRender, {tag: null, children: []});\n\t\treturn [replace(iRender, node, tree)];\n\t}\n\tif (!Array.isArray(tree)) { tree = [tree]; }\n\tconst newList: MountedNode[] = [];\n\tconst list = [...tree];\n\tconst mountedMap = new Map<MountedNode, MountedNode>();\n\tfor (const src of source) {\n\t\tconst index = list.findIndex(it =>\n\t\t\tit.tag === src.tag && it.key === src.key);\n\t\tif (index >= 0) {\n\t\t\tconst old = list[index];\n\t\t\tconst item = updateItem(iRender, src, old);\n\t\t\tmountedMap.set(old, item);\n\t\t\tnewList.push(item);\n\t\t\tlist.splice(index, 1);\n\t\t} else {\n\t\t\tconst item = createItem(iRender, src);\n\t\t\tnewList.push(item);\n\t\t}\n\t}\n\tif (!mountedMap.size) {\n\t\treturn replace(iRender, newList, list);\n\t}\n\tunmount(iRender, list);\n\ttree = tree.filter(t => mountedMap.has(t));\n\tconst last = getLastNode(tree[tree.length - 1]);\n\tconst parent = iRender.getParent(last);\n\tif (!parent) { return newList; }\n\tlet next = iRender.nextNode(last);\n\t// 调整次序\n\tfor (let i = newList.length - 1; i >= 0; i--) {\n\t\tconst item = newList[i];\n\t\tconst index = tree.findIndex(o => mountedMap.get(o) === item);\n\t\tif (index >= 0) {\n\t\t\tfor (const it of tree.splice(index)) {\n\t\t\t\tmountedMap.delete(it);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (const it of getNodes(item)) {\n\t\t\t\tiRender.insertNode(parent, it, next);\n\t\t\t}\n\t\t}\n\t\tnext = getFirstNode(item) || next;\n\t}\n\treturn newList;\n}\n/**\n * 更新树\n * @param tree 已有树\n * @param source 用于替换的源\n * @param iRender Neep 对象\n */\nexport function updateAll(\n\tiRender: IRender,\n\tsource: (TreeNode | TreeNode[])[],\n\ttree: (MountedNode | MountedNode[])[],\n): (MountedNode | MountedNode[])[] {\n\tlet index = 0;\n\tlet length = Math.min(source.length, tree.length);\n\tconst list: (MountedNode | MountedNode[])[] = [];\n\tfor (; index < length; index++) {\n\t\tconst src = source[index];\n\t\tif (Array.isArray(src)) {\n\t\t\tlist.push(updateList(iRender, src, tree[index]));\n\t\t} else {\n\t\t\tlist.push(updateItem(iRender, src, tree[index]));\n\t\t}\n\t}\n\tlength = Math.max(source.length, tree.length);\n\tif (tree.length > index) {\n\t\t// 销毁多余项\n\t\tfor (; index < length; index++) {\n\t\t\tunmount(iRender, tree[index]);\n\t\t}\n\t}\n\tif (source.length > index) {\n\t\t// 创建多余项\n\t\tconst last = getLastNode(list[list.length - 1]);\n\t\tconst parent = iRender.getParent(last);\n\t\tconst next = iRender.nextNode(last);\n\t\tfor (; index < length; index++) {\n\t\t\tconst src = source[index];\n\t\t\tconst item = Array.isArray(src)\n\t\t\t\t? createList(iRender, src)\n\t\t\t\t: createItem(iRender, src);\n\t\t\tlist.push(item);\n\t\t\tif (!parent) { continue; }\n\t\t\tfor (const it of getNodes(item)) {\n\t\t\t\tiRender.insertNode(parent, it, next);\n\t\t\t}\n\t\t}\n\t}\n\treturn list;\n}\n\n/**\n * 更新树节点\n * @param iRender Neep 对象\n * @param tree 已有树\n * @param source 用于替换的源\n */\nfunction updateItem(\n\tiRender: IRender,\n\tsource: TreeNode,\n\ttree: MountedNode | MountedNode[],\n): MountedNode {\n\tif (Array.isArray(tree)) {\n\t\tconst index = tree.findIndex(it =>\n\t\t\tit.tag === source.tag && it.component === source.component);\n\t\tif (index < 0) {\n\t\t\treturn replace(iRender, createItem(iRender, source), tree);\n\t\t}\n\t\tconst all = tree;\n\t\t[tree] = tree.splice(index, 1);\n\t\tunmount(iRender, all);\n\t}\n\tconst { tag, component } = source;\n\tconst ref = source.ref !== tree.ref && source.ref || undefined;\n\tif (tag !== tree.tag || component !== tree.component) {\n\t\treturn replace(iRender, createItem(iRender, source), tree);\n\t}\n\n\tif (isDeliver(tag)) {\n\t\t// TODO: ref\n\t\treturn createMountedNode({\n\t\t\t...source,\n\t\t\tnode: undefined,\n\t\t\tcomponent: undefined,\n\t\t\tchildren: updateAll(\n\t\t\t\tiRender,\n\t\t\t\tsource.children,\n\t\t\t\ttree.children,\n\t\t\t),\n\t\t}, tree.id);\n\t}\n\tif (!tag) { return tree; }\n\n\tconst ltag = typeof tag !== 'string' ? '' : tag.toLowerCase();\n\tif (typeof tag !== 'string' || ltag === Container) {\n\t\tif (!component) {\n\t\t\t// TODO: ref\n\t\t\treturn createMountedNode({\n\t\t\t\t...source,\n\t\t\t\tnode: undefined,\n\t\t\t\tcomponent: undefined,\n\t\t\t\tchildren: updateAll(\n\t\t\t\t\tiRender,\n\t\t\t\t\tsource.children,\n\t\t\t\t\ttree.children,\n\t\t\t\t),\n\t\t\t}, tree.id);\n\t\t}\n\t\tsetRef(ref, component.exposed);\n\t\treturn createMountedNode({\n\t\t\t...source,\n\t\t\tnode: undefined,\n\t\t\tcomponent,\n\t\t\tchildren: [],\n\t\t}, tree.id);\n\t}\n\tif (ltag === Value) {\n\t\tlet {value} = source;\n\t\tif (isValue(value)) { value = value(); }\n\t\tif (tree.value === value) {\n\t\t\tsetRef(ref, tree.node);\n\t\t\treturn createMountedNode({\n\t\t\t\t...tree,\n\t\t\t\t...source,\n\t\t\t\tvalue,\n\t\t\t\tchildren: [],\n\t\t\t}, tree.id);\n\t\t}\n\t\treturn replace(iRender, createValue(iRender, source, value), tree);\n\t}\n\tif (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n\t\t// TODO: ref\n\t\treturn createMountedNode({\n\t\t\t...source,\n\t\t\tnode: undefined,\n\t\t\tcomponent: undefined,\n\t\t\tchildren: updateAll(\n\t\t\t\tiRender,\n\t\t\t\tsource.children,\n\t\t\t\ttree.children,\n\t\t\t),\n\t\t}, tree.id);\n\t}\n\tconst { node } = tree;\n\tsetRef(ref, node);\n\tlet children: (MountedNode | MountedNode[])[] = [];\n\tif (!source.children.length && tree.children.length) {\n\t\tunmount(iRender, tree.children);\n\t} else if (source.children.length && tree.children.length) {\n\t\tchildren = updateAll(iRender, source.children, tree.children);\n\t} else if (source.children.length && !tree.children.length) {\n\t\tchildren = createAll(iRender, source.children);\n\t\tfor (const it of getNodes(children)) {\n\t\t\tiRender.insertNode(node as NativeElement, it);\n\t\t}\n\t}\n\tiRender.updateProps(node as NativeElement, source.props || {});\n\treturn createMountedNode({...tree, ...source, children}, tree.id);\n}\n","import { IRender, MountedNode, TreeNode } from '../../type';\nimport { updateAll } from './update';\nimport { createAll } from './create';\nexport { unmount, getNodes, setRefList } from './utils';\n\nexport default function draw(\n\tiRender: IRender,\n\tsource: (TreeNode | TreeNode[])[],\n\ttree?: (MountedNode | MountedNode[])[],\n): (MountedNode | MountedNode[])[] {\n\tif (tree) {\n\t\treturn updateAll(iRender, source, tree);\n\t}\n\treturn createAll(iRender, source);\n}\n","import { NeepElement, SlotFn, Slots, IRender } from '../type';\nimport { isElement, SlotRender, ScopeSlot, equal, Template } from '../auxiliary';\nimport {\n\ttypeSymbol,\n\tobjectTypeSymbol,\n\tobjectTypeSymbolElement,\n} from '../symbols';\nimport { isProduction } from '../constant';\nimport { isValue } from '../install';\n\n/**\n * 获取槽元素\n * @param iRender 渲染函数\n * @param children 子代\n * @param slots 槽列表\n * @param native 是否为原生组件\n * @returns 原生节点\n */\nexport function getSlots(\n\tiRender: IRender,\n\tchildren: any[],\n\tslots: Record<string | symbol, any[]>,\n\tnative = false,\n): any[] {\n\t/** 原始对象 */\n\tconst nativeList: any[] = [];\n\tfor (const it of children) {\n\t\tif (Array.isArray(it)) {\n\t\t\tconst list: Record<string | symbol, any[]>\n\t\t\t\t= Object.create(null);\n\t\t\tnativeList.push(getSlots(iRender, it, list, native));\n\t\t\tfor (const k of Reflect.ownKeys(list) as string[]) {\n\t\t\t\tif (k in slots) {\n\t\t\t\t\tslots[k].push(list[k]);\n\t\t\t\t} else {\n\t\t\t\t\tslots[k] = [list[k]];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\t\tif (isElement(it) && it.slot === undefined) {\n\t\t\tif (\n\t\t\t\ttypeof it.tag === 'function'\n\t\t\t\t&& it.tag[typeSymbol] === 'simple'\n\t\t\t\t&& it.execed\n\t\t\t\t|| it.tag === Template\n\t\t\t) {\n\t\t\t\tconst list: Record<string | symbol, any[]>\n\t\t\t\t= Object.create(null);\n\t\t\t\tnativeList.push(getSlots(iRender, it.children, list, native));\n\t\t\t\tfor (const k of Reflect.ownKeys(list) as string[]) {\n\t\t\t\t\tconst node = { ...it, children: list[k] };\n\t\t\t\t\tif (k in slots) {\n\t\t\t\t\t\tslots[k].push(node);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tslots[k] = [node];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tif (native) {\n\t\t\tif (iRender.isNode(it)) {\n\t\t\t\tnativeList.push(it);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (!isElement(it)) {\n\t\t\t\tnativeList.push(it);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (it.tag !== SlotRender && it.tag !== Template) {\n\t\t\t\tnativeList.push(it);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tconst slot = isElement(it) && it.slot || 'default';\n\t\tconst el = isElement(it) ? {\n\t\t\t...it, slot: undefined,\n\t\t\tprops: {...it.props, slot: undefined },\n\t\t} : it;\n\t\tif (slot in slots) {\n\t\t\tslots[slot].push(el);\n\t\t} else {\n\t\t\tslots[slot] = [el];\n\t\t}\n\t}\n\treturn nativeList;\n}\nfunction renderSlots(\n\tlist: any[],\n\t...props: any\n): any[] {\n\treturn list.map(it => {\n\t\tif (Array.isArray(it)) {\n\t\t\treturn renderSlots(it, ...props);\n\t\t}\n\t\tif (!isElement(it)) { return it; }\n\t\tif (it.tag !== SlotRender) {\n\t\t\treturn {\n\t\t\t\t...it,\n\t\t\t\tslot: undefined,\n\t\t\t} as NeepElement;\n\t\t}\n\t\tconst { children } = it;\n\t\tif (children?.length !== 1) { return children; }\n\t\tconst [ render ] = children;\n\t\tif (isValue(render) || typeof render !== 'function') { return children; }\n\t\treturn render(...props);\n\t});\n}\nfunction createSlots(\n\tname: string,\n\tlist: any[],\n): SlotFn {\n\tconst slot = (...props: any): NeepElement => ({\n\t\t[objectTypeSymbol]: objectTypeSymbolElement,\n\t\ttag: ScopeSlot,\n\t\tchildren: renderSlots(list, ...props),\n\t\tinserted: true,\n\t\tlabel: isProduction ? undefined : [`[${ name }]`, '#00F'],\n\t} as NeepElement);\n\tslot.children = list;\n\treturn slot;\n}\n/**\n * 将槽子代设置到槽列表上\n * @param children 槽子代\n * @param slots 槽对象\n */\nexport function setSlots(\n\tchildren: {[key: string]: any[]},\n\tslots: Slots = Object.create(null),\n\toldChildren?: {[key: string]: any[]},\n): Slots {\n\tfor (const k of Reflect.ownKeys(slots)) {\n\t\tif (k in children) { continue; }\n\t\tdelete slots[k as keyof Slots];\n\t}\n\tif (!oldChildren) {\n\t\tfor (const k of Reflect.ownKeys(children) as string[]) {\n\t\t\tslots[k] = createSlots(k, children[k]);\n\t\t}\n\t\treturn slots;\n\t}\n\tfor (const k of Reflect.ownKeys(children) as string[]) {\n\t\tconst list = children[k];\n\t\tif (equal(list, oldChildren[k])) { continue; }\n\t\tslots[k] = createSlots(k, list);\n\t}\n\treturn slots;\n}\n","import { Component } from './type';\n\nexport const components: Record<string, Component> = Object.create(null);\n\nexport function register(name: string, component: Component): void {\n\tcomponents[name] = component;\n}\n","import { NeepElement, Slots, Component, NeepNode } from '../../type';\nimport { isProduction } from '../../constant';\nimport { isElement, ScopeSlot, Slot, SlotRender } from '../../auxiliary';\nimport { components as globalComponents } from '../../register';\nimport { RecursiveItem, RecursiveArray } from '../recursive';\n\n\nfunction findComponent(\n\ttag: any,\n\tcomponents: Record<string, Component>[],\n): Component | string | null {\n\tif (!tag) { return null; }\n\tif (typeof tag !== 'string') { return tag; }\n\tif (tag === 'template') { return tag; }\n\tif (/^neep:.+/i.test(tag)) { return tag; }\n\tfor (const list of components) {\n\t\tconst component = list[tag];\n\t\tif (component) { return component; }\n\t}\n\treturn globalComponents[tag] || tag;\n}\n\nfunction getChildren(children: any[], args: any[]): any {\n\tif (children.length !== 1) { return children; }\n\tconst [fn] = children;\n\tif (typeof fn !== 'function') { return children; }\n\treturn fn(...args);\n}\nfunction replaceNode<T>(\n\tnode: RecursiveArray<T>,\n\tslots: Slots,\n\tcomponents: Record<string, Component>[],\n\tnative: boolean,\n\tisRoot: boolean,\n): RecursiveArray<T | NeepNode>;\nfunction replaceNode<T>(\n\tnode: RecursiveItem<T>,\n\tslots: Slots,\n\tcomponents: Record<string, Component>[],\n\tnative: boolean,\n\tisRoot: boolean,\n): RecursiveItem<T | NeepNode>;\n\nfunction replaceNode<T>(\n\tnode: RecursiveItem<T>,\n\tslots: Slots,\n\tcomponents: Record<string, Component>[],\n\tnative: boolean,\n\tisRoot: boolean,\n): RecursiveItem<T | NeepNode> {\n\tif (Array.isArray(node)) {\n\t\treturn node.map(n =>\n\t\t\treplaceNode( n, slots, components, native, isRoot));\n\t}\n\tif (!isElement(node)) { return node; }\n\tlet { children, props } = node;\n\tlet tag = findComponent(node.tag, components);\n\tif (tag === SlotRender && isRoot) {\n\t\treturn null;\n\t}\n\n\tif (tag === Slot) {\n\t\ttag = native ? 'slot' : ScopeSlot;\n\t}\n\tif (tag !== ScopeSlot ) {\n\t\treturn {\n\t\t\t...node,\n\t\t\ttag,\n\t\t\tchildren: replaceNode(\n\t\t\t\tchildren,\n\t\t\t\tslots,\n\t\t\t\tcomponents,\n\t\t\t\tnative,\n\t\t\t\tisRoot,\n\t\t\t),\n\t\t} as NeepElement;\n\t}\n\tif (node.tag === ScopeSlot && node.inserted) {\n\t\treturn node;\n\t}\n\tconst args = props?.argv && [props.argv]\n\t\t|| Array.isArray(props?.args) && props?.args.length && props.args\n\t\t|| [{}];\n\tconst slotName = node.props?.name || 'default';\n\tconst slot = slots[slotName];\n\tif (typeof slot === 'function') {\n\t\treturn {\n\t\t\t...node,\n\t\t\t...slot(...args),\n\t\t} as NeepElement;\n\t}\n\n\tconst label: [string, string] | undefined = isProduction\n\t\t? undefined\n\t\t: [`[${ slotName }]`, '#00F'];\n\n\treturn {\n\t\t...node,\n\t\ttag: ScopeSlot,\n\t\tlabel,\n\t\tchildren: replaceNode(\n\t\t\tgetChildren(children, args),\n\t\t\tslots,\n\t\t\tcomponents,\n\t\t\tnative,\n\t\t\tfalse,\n\t\t),\n\t} as NeepElement;\n}\nexport default replaceNode;\n","import {\n\tNeepElement, Exposed, Delivered,\n\tRender, NeepNode, Slots, Context, IRender, Component, Deliver,\n} from '../../type';\nimport {\n\trenderSymbol,\n\ttypeSymbol,\n\tcomponentsSymbol,\n\tdeliverKeySymbol,\n\tobjectTypeSymbol,\n\tobjectTypeSymbolElement,\n} from '../../symbols';\nimport { isProduction } from '../../constant';\nimport {\n\tisElement, Value, SlotRender, Fragment,\n} from '../../auxiliary';\nimport { getLabel } from '../../extends/label';\nimport ComponentEntity from '../ComponentEntity';\nimport EntityObject from '../EntityObject';\nimport { getSlots, setSlots } from '../slot';\nimport { initContext } from '../../extends/context';\nimport EventEmitter from '../../EventEmitter';\nimport replaceNode from './replaceNode';\nimport { isValue, postpone } from '../../install';\nimport { refresh } from '../../extends';\nimport { RecursiveItem, RecursiveArray } from '../recursive';\nimport { getDelivered, isDeliver } from '../../auxiliary/deliver';\n\n\nfunction getComponents(\n\t...components: (Record<string, Component> | undefined)[]\n): Record<string, Component>[] {\n\treturn components.filter(Boolean) as Record<string, Component>[];\n}\n\nfunction execSimple(\n\tnObject: EntityObject,\n\tdelivered: Delivered,\n\tnode: NeepElement,\n\ttag: Component,\n\tcomponents: Record<string, Component>[],\n\tchildren: any[],\n): NeepElement {\n\tif (node.execed) { return node; }\n\tconst { iRender } = nObject;\n\tconst slotMap = Object.create(null);\n\tgetSlots(iRender, children, slotMap);\n\tconst slots = setSlots(slotMap);\n\tconst event = new EventEmitter();\n\tevent.updateInProps(node.props);\n\tconst props = {...node.props};\n\tconst context: Context = initContext({\n\t\tslots,\n\t\tcreated: false,\n\t\tparent: nObject.exposed,\n\t\tdelivered<T>(deliver: Deliver<T>): T {\n\t\t\treturn getDelivered(delivered, deliver);\n\t\t},\n\t\tchildren: new Set<Exposed>(),\n\t\tchildNodes: children,\n\t\trefresh(f) { nObject.refresh(f); },\n\t\temit: event.emit,\n\t});\n\tif (!isProduction) { getLabel(); }\n\tconst result = tag(props, context);\n\tlet label: [string, string] | undefined;\n\tif (!isProduction) { label = getLabel(); }\n\tconst nodes = init(\n\t\tnObject,\n\t\tdelivered,\n\t\trenderNode(\n\t\t\tnObject.iRender,\n\t\t\tresult,\n\t\t\tcontext,\n\t\t\ttag[renderSymbol],\n\t\t),\n\t\tslots,\n\t\tgetComponents(...components, tag[componentsSymbol]),\n\t\tfalse,\n\t) as NeepNode[];\n\n\n\treturn {\n\t\t...node,\n\t\ttag,\n\t\texeced: true,\n\t\tchildren: Array.isArray(nodes) ? nodes : [nodes],\n\t\tlabel,\n\t};\n}\n\n\nfunction getSlotRenderFn(\n\tnObject: EntityObject,\n\tdelivered: Delivered,\n\tchildren: any[],\n\tslots: Slots,\n\tcomponents: Record<string, Component>[],\n\tnative: boolean,\n): null | Function {\n\tif (children.length !== 1) {\n\t\treturn null;\n\t}\n\tconst [renderFn] = children;\n\tif (isValue(renderFn) || typeof renderFn !== 'function') {\n\t\treturn null;\n\t}\n\tconst { slotRenderFnList } = nObject;\n\tconst fn = slotRenderFnList.get(renderFn);\n\tif (fn) { return fn; }\n\tconst newFn = function(this: any, ...p: any[]): any {\n\t\treturn init(\n\t\t\tnObject,\n\t\t\tdelivered,\n\t\t\trenderFn.call(this, ...p),\n\t\t\tslots,\n\t\t\tcomponents,\n\t\t\tnative,\n\t\t);\n\t};\n\tslotRenderFnList.set(renderFn, newFn);\n\treturn newFn;\n}\n\n\nfunction exec<T>(\n\tnObject: EntityObject,\n\tdelivered: Delivered,\n\tnode: RecursiveArray<T>,\n\tslots: Slots,\n\tcomponents: Record<string, Component>[],\n\tnative: boolean,\n): RecursiveArray<T | NeepElement>;\nfunction exec<T>(\n\tnObject: EntityObject,\n\tdelivered: Delivered,\n\tnode: RecursiveItem<T>,\n\tslots: Slots,\n\tcomponents: Record<string, Component>[],\n\tnative: boolean,\n): RecursiveItem<T | NeepElement>;\n\nfunction exec<T>(\n\tnObject: EntityObject,\n\tdelivered: Delivered,\n\tnode: RecursiveItem<T>,\n\tslots: Slots,\n\tcomponents: Record<string, Component>[],\n\tnative: boolean,\n): RecursiveItem<T | NeepElement> {\n\tif (Array.isArray(node)) {\n\t\treturn node.map(n =>\n\t\t\texec(nObject, delivered, n, slots, components, native));\n\t}\n\tif (!isElement(node)) { return node; }\n\tlet { tag, children } = node;\n\tif (isDeliver(tag)) {\n\t\tconst newDelivered = Object.create(delivered);\n\t\tReflect.defineProperty(newDelivered, tag[deliverKeySymbol], {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: node.props ? node.props.value : undefined,\n\t\t});\n\t\treturn {...node, tag, children: children.map(child => exec(\n\t\t\tnObject,\n\t\t\tnewDelivered,\n\t\t\tchild,\n\t\t\tslots,\n\t\t\tcomponents,\n\t\t\tnative,\n\t\t)) };\n\t}\n\tif (tag === SlotRender) {\n\t\tconst slotRenderFn = getSlotRenderFn(\n\t\t\tnObject,\n\t\t\tdelivered,\n\t\t\tchildren,\n\t\t\tslots,\n\t\t\tcomponents,\n\t\t\tnative,\n\t\t);\n\t\tif (slotRenderFn) {\n\t\t\treturn {\n\t\t\t\t...node,\n\t\t\t\tchildren: [slotRenderFn],\n\t\t\t} as NeepElement;\n\t\t}\n\t}\n\n\tif (typeof tag !== 'function' || tag[typeSymbol] !== 'simple') {\n\t\treturn { ...node, tag, children: children\n\t\t\t.map(n => exec(\n\t\t\t\tnObject,\n\t\t\t\tdelivered,\n\t\t\t\tn,\n\t\t\t\tslots,\n\t\t\t\tcomponents,\n\t\t\t\tnative,\n\t\t\t)) };\n\t}\n\n\treturn execSimple(\n\t\tnObject,\n\t\tdelivered,\n\t\tnode,\n\t\ttag,\n\t\tcomponents,\n\t\tchildren,\n\t);\n}\n\n\nfunction getItem(node: any): RecursiveItem<NeepNode> {\n\tif (Array.isArray(node)) {\n\t\treturn node.map(getItem);\n\t}\n\tif (isElement(node)) { return node; }\n\tif (node === undefined || node === null) {\n\t\treturn {\n\t\t\t[objectTypeSymbol]: objectTypeSymbolElement,\n\t\t\ttag: null,\n\t\t\tkey: undefined,\n\t\t\tchildren: [],\n\t\t};\n\t}\n\treturn {\n\t\t[objectTypeSymbol]: objectTypeSymbolElement,\n\t\tkey: undefined,\n\t\ttag: Value,\n\t\tvalue: node,\n\t\tchildren: [],\n\t};\n}\nfunction renderNode(\n\tiRender: IRender,\n\tnode: any,\n\tcontext: Context,\n\trender?: Render,\n): any[] {\n\tif (Array.isArray(node)) {\n\t\treturn node;\n\t}\n\tif (isElement(node)) {\n\t\tif (node.tag === Fragment) {\n\t\t\treturn node.children.map(getItem);\n\t\t}\n\t\treturn [node];\n\t}\n\tif (!node || !render || iRender.isNode(node)) {\n\t\treturn [node];\n\t}\n\tif (typeof node !== 'object') {\n\t\treturn [node];\n\t}\n\tconst list = render(node, context);\n\tif (Array.isArray(list)) {\n\t\treturn list;\n\t}\n\treturn [list];\n}\nexport function init(\n\tnObject: EntityObject,\n\tdelivered: Delivered,\n\tnode: any[],\n\tslots: Slots,\n\tcomponents: Record<string, Component>[],\n\tnative: boolean,\n): RecursiveArray<NeepNode> {\n\treturn refresh(() => postpone(() => exec(\n\t\tnObject,\n\t\tdelivered,\n\t\treplaceNode(\n\t\t\tnode,\n\t\t\tslots,\n\t\t\tcomponents,\n\t\t\tnative,\n\t\t\ttrue,\n\t\t).map(getItem),\n\t\tslots,\n\t\tcomponents,\n\t\tnative,\n\t)));\n}\n\n\nexport default function normalize(\n\tnObject: ComponentEntity,\n\tresult: any,\n): RecursiveArray<NeepNode> {\n\tconst { component } = nObject;\n\treturn init(\n\t\tnObject,\n\t\tnObject.delivered,\n\t\trenderNode(\n\t\t\tnObject.iRender,\n\t\t\tresult,\n\t\t\tnObject.context,\n\t\t\tcomponent[renderSymbol],\n\t\t),\n\t\tnObject.slots,\n\t\tgetComponents(component[componentsSymbol]),\n\t\tBoolean(nObject.native),\n\t);\n}\n","import {\n\tExposed, Delivered,\n\tEntity,\n\tNativeComponent,\n\tHook, Hooks, NeepNode, IRender, Component, MountedNode, TreeNode,\n} from '../type';\nimport { callHook, setHook } from '../hook';\nimport ContainerEntity from './ContainerEntity';\nimport convert from './convert';\nimport { wait } from '../extends/refresh';\nimport { exec } from '../install';\nimport EventEmitter from '../EventEmitter';\nimport { initEntity } from '../extends/entity';\nimport { RecursiveArray } from './recursive';\n\nfunction createExposed(obj: EntityObject): Exposed {\n\tconst cfg: { [K in Exclude<keyof Exposed, '$label'>]-?:\n\t\t{ configurable: true, value: Exposed[K] }\n\t\t| { configurable: true, get(): Exposed[K] }\n\t} = {\n\t\t$parent: { configurable: true, get: () => obj.parent?.exposed },\n\t\t$component: { configurable: true, value: null },\n\t\t$isContainer: { configurable: true, value: false },\n\t\t$created: { configurable: true, get: () => obj.created },\n\t\t$destroyed: { configurable: true, get: () => obj.destroyed },\n\t\t$mounted: { configurable: true, get: () => obj.mounted },\n\t\t$unmounted: { configurable: true, get: () => obj.unmounted },\n\t};\n\tconst exposed: Exposed = Object.create(null, cfg);\n\treturn exposed;\n}\n\nlet completeList: (() => void)[] | undefined;\nexport function setCompleteList(list?: (() => void)[]): void {\n\tcompleteList = list;\n}\nexport function complete(it: () => void): void {\n\tif (!completeList) {\n\t\tit();\n\t} else {\n\t\tcompleteList.push(it);\n\t}\n}\n\nfunction createEntity(obj: EntityObject): Entity {\n\tconst cfg: { [K in keyof Entity]-?:\n\t\t{ configurable: true, value: Entity[K], writable?: boolean }\n\t\t| { configurable: true, get(): Entity[K] }\n\t} = {\n\t\texposed: { configurable: true, get: () => obj.exposed },\n\t\tparent: { configurable: true, get: () => obj.parent?.entity },\n\t\tcomponent: { configurable: true, value: null },\n\t\tisContainer: { configurable: true, value: false },\n\t\tcreated: { configurable: true, get: () => obj.created },\n\t\tdestroyed: { configurable: true, get: () => obj.destroyed },\n\t\tmounted: { configurable: true, get: () => obj.mounted },\n\t\tunmounted: { configurable: true, get: () => obj.unmounted },\n\t\t$_hooks: { configurable: true, value: Object.create(null) },\n\t\t$_valueIndex: { configurable: true, value: 0, writable: true },\n\t\t$_values: { configurable: true, value: [] },\n\t\t$_serviceIndex: { configurable: true, value: 0, writable: true },\n\t\t$_services: { configurable: true, value: [] },\n\t\tcallHook: {\n\t\t\tconfigurable: true,\n\t\t\tvalue(h: string) { callHook(h, entity); },\n\t\t},\n\t\tsetHook: {\n\t\t\tconfigurable: true,\n\t\t\tvalue(id: string, hook: Hook) {\n\t\t\t\treturn setHook(id, hook, entity);\n\t\t\t},\n\t\t},\n\t\trefresh: { configurable: true, value: obj.refresh.bind(obj) },\n\t\ton: { configurable: true, value: obj.on },\n\t\temit: { configurable: true, value: obj.emit },\n\t\tconfig: { configurable: true, value: obj.config },\n\t};\n\tconst entity: Entity = Object.create(null, cfg);\n\treturn initEntity(entity);\n}\n\nexport default class EntityObject {\n\treadonly slotRenderFnList = new WeakMap<Function, Function>();\n\treadonly events = new EventEmitter();\n\treadonly emit = this.events.emit;\n\treadonly on = this.events.on;\n\treadonly eventCancelHandles = new Set<() => void>();\n\treadonly iRender: IRender;\n\treadonly components: Record<string, Component> = Object.create(null);\n\treadonly config: Record<string, any> = Object.create(null);\n\t/** 接受到的呈递值 */\n\treadonly parentDelivered: Delivered;\n\t/** 向后代呈递的值 */\n\treadonly delivered: Delivered;\n\t/** 组件暴露值 */\n\treadonly exposed: Exposed = createExposed(this);\n\t/** 组件实体 */\n\treadonly entity: Entity = createEntity(this);\n\t/** 父组件 */\n\tparent?: EntityObject;\n\t/** 原生组件 */\n\tnative: NativeComponent | undefined;\n\t/** 状态 */\n\tcreated: boolean = false;\n\tdestroyed: boolean = false;\n\tmounted: boolean = false;\n\tunmounted: boolean = false;\n\t/**  子组件的暴露值 */\n\treadonly children: Set<Exposed> = new Set();\n\t/** The subtree mounted on the parent node */\n\ttree: (MountedNode | MountedNode[])[] = [];\n\treadonly container: ContainerEntity;\n\tconstructor(\n\t\tiRender: IRender,\n\t\tparent?: EntityObject,\n\t\tdelivered: Delivered = parent?.delivered || Object.create(null),\n\t\tcontainer?: ContainerEntity,\n\t) {\n\t\tthis.iRender = iRender;\n\t\tthis.parentDelivered = delivered;\n\t\tthis.delivered = Object.create(delivered);\n\t\tif (parent) {\n\t\t\tthis.parent = parent;\n\t\t}\n\t\tthis.container = container || this as any as ContainerEntity;\n\t}\n\t/** 结果渲染函数 */\n\tprotected _render: () => RecursiveArray<NeepNode> = () => [];\n\n\tget canRefresh(): boolean {\n\t\tif (wait(this)) { return false; }\n\t\treturn !this._delayedRefresh;\n\t}\n\tprotected get needRefresh(): boolean {\n\t\tif (wait(this)) { return false; }\n\t\tif (this._delayedRefresh) { return false; }\n\t\tconst needRefresh = this._needRefresh;\n\t\tthis._needRefresh = false;\n\t\treturn needRefresh;\n\t}\n\t/** 是否需要继续刷新 */\n\tprotected _needRefresh = false;\n\tprivate _delayedRefresh = 0;\n\t/** 是否为刷新中 */\n\tprivate _refreshing = false;\n\t/** 渲染结果 */\n\tprotected _nodes: (TreeNode | TreeNode[])[] = [];\n\tprotected requestDraw(): void { }\n\tasync asyncRefresh<T>(f: () => PromiseLike<T> | T): Promise<T> {\n\t\ttry {\n\t\t\tthis._delayedRefresh++;\n\t\t\treturn await f();\n\t\t} finally {\n\t\t\tthis._delayedRefresh--;\n\t\t\tthis.refresh();\n\t\t}\n\t}\n\trefresh(): void;\n\trefresh<T>(f: () => T, async?: false): T;\n\trefresh<T>(f: () => PromiseLike<T> | T, async: true): Promise<T>;\n\trefresh<T>(\n\t\tf: () => PromiseLike<T> | T,\n\t\tasync?: boolean,\n\t): PromiseLike<T> | T;\n\trefresh<T>(\n\t\tf?: () => PromiseLike<T> | T,\n\t\tasync?: boolean,\n\t): PromiseLike<T> | T | undefined;\n\trefresh<T>(\n\t\tf?: () => PromiseLike<T> | T,\n\t\tasync?: boolean,\n\t): PromiseLike<T> | T | undefined {\n\t\tif (typeof f === 'function') {\n\t\t\tif (async) { return this.asyncRefresh(f); }\n\t\t\ttry {\n\t\t\t\tthis._delayedRefresh++;\n\t\t\t\treturn f();\n\t\t\t} finally {\n\t\t\t\tthis._delayedRefresh--;\n\t\t\t\tif (this._delayedRefresh <= 0) {\n\t\t\t\t\tthis.refresh();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (this.destroyed) { return; }\n\t\tthis._needRefresh = true;\n\t\tif (!this.created) { return; }\n\n\t\tif (this._refreshing) { return; }\n\t\tthis._refreshing = true;\n\n\t\tlet nodes: RecursiveArray<NeepNode> | undefined;\n\t\twhile (this.needRefresh) {\n\t\t\tnodes = this._render();\n\t\t\tif (this.destroyed) { return; }\n\t\t}\n\t\tthis._refreshing = false;\n\t\tif (!this.canRefresh) { return; }\n\t\tif (!nodes) { return; }\n\n\t\tthis._nodes = convert(this, nodes, this._nodes);\n\t\tif (!this.mounted) { return; }\n\t\tif (this.destroyed) { return; }\n\t\tif (this.unmounted) { return; }\n\t\tthis.requestDraw();\n\t}\n\tcallHook<H extends Hooks>(id: H): void;\n\tcallHook(id: string): void;\n\tcallHook(id: string): void {\n\t\tcallHook(id, this.entity);\n\t}\n\n\tchildNodes: any[] = [];\n\t/** 更新属性及子代 */\n\tprotected _update(props: object, children: any[]): void {\n\t\tthis.childNodes = children;\n\t}\n\t/** 更新属性及子代 */\n\tupdate(props: object, children: any[]): void {\n\t\tthis._update(props, children);\n\t}\n\n\n\tprivate __executed_destroy = false;\n\tprivate __executed_mount = false;\n\tprivate __executed_mounted = false;\n\tprotected _destroy(): void { }\n\tdestroy(): void {\n\t\tif (this.__executed_destroy) { return; }\n\t\tthis.__executed_destroy = true;\n\t\tthis.callHook('beforeDestroy');\n\t\tthis._destroy();\n\t\tthis.callHook('destroyed');\n\t\tthis.destroyed = true;\n\t}\n\tprotected _mount(): void { }\n\tmount(): void {\n\t\tif (this.__executed_destroy) { return; }\n\t\tif (this.__executed_mount) { return; }\n\t\tthis.__executed_mount = true;\n\t\tthis.callHook('beforeMount');\n\t\tconst result = exec(\n\t\t\tc => c && this.requestDraw(),\n\t\t\t() => {\n\t\t\t\tthis._mount();\n\t\t\t\tthis.mounted = true;\n\t\t\t},\n\t\t);\n\t\tthis._cancelDrawMonitor = result.stop;\n\t\tcomplete(() => this.callHook('mounted'));\n\t}\n\tprotected _unmount(): void { }\n\tunmount(): void {\n\t\tif (!this.mounted) { return; }\n\t\tif (this.__executed_mounted) { return; }\n\t\tthis.__executed_mounted = true;\n\t\tthis.callHook('beforeUnmount');\n\t\tthis._unmount();\n\t\tthis.callHook('unmounted');\n\t\tthis.unmounted = true;\n\t}\n\t_draw(): void {}\n\t_cancelDrawMonitor?: () => void;\n\tdraw(): void {\n\t\tif (this.__executed_destroy) { return; }\n\t\tif (this._cancelDrawMonitor) {\n\t\t\tthis._cancelDrawMonitor();\n\t\t}\n\t\tthis.callHook('beforeDraw');\n\t\tconst result = exec(\n\t\t\tc => c && this.requestDraw(),\n\t\t\t() => this._draw(),\n\t\t);\n\t\tthis._cancelDrawMonitor = result.stop;\n\t\tcomplete(() => this.callHook('drawn'));\n\t}\n}\n","import {\n\tComponent,\n\tNeepNode,\n\tSlots,\n\tContext,\n\tDelivered,\n\tNativeShadow,\n\tTreeNode,\n\tMountedNode,\n\tDeliver,\n} from '../type';\nimport {\n\ttypeSymbol,\n\tconfigSymbol,\n\tcomponentsSymbol,\n} from '../symbols';\nimport { exec, monitor, encase, postpone } from '../install';\nimport { setCurrent } from '../extends/current';\nimport convert, { destroy } from './convert';\nimport draw, { unmount, getNodes } from './draw';\nimport normalize from './normalize';\nimport { getSlots, setSlots } from './slot';\nimport EntityObject from './EntityObject';\nimport { initContext } from '../extends/context';\nimport { refresh } from '../extends';\nimport { RecursiveArray } from './recursive';\nimport { Value } from '../auxiliary/tags';\nimport { getDelivered } from '../auxiliary/deliver';\n\n\nconst disabledKey = new Set([\n\t':', '@', '#', '*',\n\t'!', '%', '^', '~',\n\t'&', '=', '+', '.',\n\t'(', ')', '[', ']', '{', '}', '<', '>',\n]);\nfunction filter(k: string | number | symbol): boolean {\n\tif (typeof k !== 'string') { return true; }\n\tif (disabledKey.has(k[0])) { return false; }\n\tif (/^n[:-]/.test(k)) { return false; }\n\tif (/^on[:-]/.test(k)) { return false; }\n\treturn true;\n}\n\nfunction update(\n\tnObject: ComponentEntity<any, any>,\n\tprops: any,\n\tchildren: any[],\n): void {\n\tconst propsObj = nObject.props;\n\tconst newKeys = new Set(Reflect.ownKeys(props).filter(filter));\n\tfor (const k of Reflect.ownKeys(propsObj)) {\n\t\tif (filter(k) && !newKeys.has(k)) {\n\t\t\tdelete propsObj[k];\n\t\t}\n\t}\n\tfor (const k of newKeys) {\n\t\tpropsObj[k] = props[k];\n\t}\n\n\tnObject.events.updateInProps(props);\n\tconst slots = Object.create(null);\n\tconst { native } = nObject;\n\tconst childNodes = getSlots(\n\t\tnObject.iRender,\n\t\tchildren,\n\t\tslots,\n\t\tBoolean(native),\n\t);\n\tsetSlots(slots, nObject.slots, nObject.lastSlots);\n\tnObject.lastSlots = slots;\n\tif (!native) { return; }\n\tnObject.nativeNodes\n\t\t= convert(nObject, childNodes, nObject.nativeNodes);\n\tif (!nObject.mounted) { return; }\n\tnObject.requestDraw();\n}\n\nfunction createContext<\n\tP extends object = object,\n\tR extends object = object\n>(nObject: ComponentEntity<P, R>): Context {\n\treturn initContext({\n\t\tslots: nObject.slots,\n\t\tget created() { return nObject.created; },\n\t\tget parent() { return nObject.parent.exposed; },\n\t\tget children() { return nObject.children; },\n\t\tget childNodes() { return nObject.childNodes; },\n\t\tget emit() { return nObject.emit; },\n\t\tdelivered<T>(deliver: Deliver<T>): T{\n\t\t\treturn getDelivered(nObject.parentDelivered, deliver);\n\t\t},\n\t\trefresh(f) { nObject.refresh(f); },\n\t}, nObject.entity);\n}\n\ninterface RenderInterface {\n\trender(): any;\n\tnodes: RecursiveArray<NeepNode>;\n\tstopRender(): void;\n}\n/** 初始化渲染 */\nfunction initRender<R extends object = object>(\n\tnObject: ComponentEntity<any, R>,\n): RenderInterface {\n\tconst {\n\t\tcomponent,\n\t\tprops,\n\t\tcontext,\n\t\tentity,\n\t} = nObject;\n\tfunction refresh(changed: boolean): void {\n\t\tif (!changed) { return; }\n\t\tnObject.refresh();\n\t}\n\t// 初始化执行\n\tconst result = exec(\n\t\trefresh,\n\t\t() => setCurrent(\n\t\t\t() => component(props, context),\n\t\t\tentity,\n\t\t),\n\t\t{ resultOnly: true },\n\t);\n\tif (typeof result === 'function') {\n\t\t// 响应式\n\t\tconst render = monitor(\n\t\t\trefresh,\n\t\t\t() => normalize(nObject, (result as () => NeepNode)()),\n\t\t);\n\t\treturn {\n\t\t\tnodes: render(),\n\t\t\trender,\n\t\t\tstopRender: () => render.stop(),\n\t\t};\n\t}\n\n\tconst render = monitor(\n\t\trefresh,\n\t\t() => normalize(nObject, setCurrent(\n\t\t\t() => component(props, context),\n\t\t\tentity,\n\t\t)),\n\t);\n\treturn {\n\t\tnodes: exec(\n\t\t\trefresh,\n\t\t\t() => normalize(nObject, result),\n\t\t\t{ resultOnly: true },\n\t\t),\n\t\trender,\n\t\tstopRender: () => render.stop(),\n\t};\n}\n\n\nexport default class ComponentEntity<\n\tP extends object = object,\n\tR extends object = object\n> extends EntityObject {\n\t/** 组件函数 */\n\treadonly component: Component<P, R>;\n\t/** 组件属性 */\n\treadonly props: P = encase(Object.create(null));\n\t/** 组件槽 */\n\treadonly slots: Slots = encase(Object.create(null));\n\tlastSlots: Record<string | symbol, any[]> | undefined;\n\t/** 结果渲染函数 */\n\tprivate readonly _stopRender: () => void;\n\t/** 原生子代 */\n\tnativeNodes: (TreeNode | TreeNode[])[] | undefined;\n\tshadowTree: (MountedNode | MountedNode[])[] = [];\n\tnativeTree: (MountedNode | MountedNode[])[] = [];\n\tprivate readonly _shadow: NativeShadow | undefined;\n\t/** 组件上下文 */\n\treadonly context: Context;\n\treadonly parent: EntityObject;\n\t/** 结果渲染函数 */\n\tconstructor(\n\t\tcomponent: Component<P, R>,\n\t\tprops: object,\n\t\tchildren: any[],\n\t\tparent: EntityObject,\n\t\tdelivered?: Delivered,\n\t) {\n\t\tsuper(parent.iRender, parent, delivered, parent.container);\n\t\tthis.component = component;\n\t\tObject.assign(this.config, component[configSymbol]);\n\t\tObject.assign(this.components, component[componentsSymbol]);\n\t\tReflect.defineProperty(\n\t\t\tthis.exposed,\n\t\t\t'$component',\n\t\t\t{\n\t\t\t\tvalue: component,\n\t\t\t\tenumerable: true,\n\t\t\t\tconfigurable: true,\n\t\t\t},\n\t\t);\n\t\t// 原生组件\n\t\t[this.native, this._shadow] =\n\t\t\tcomponent[typeSymbol] === 'native' &&\n\t\t\tthis.iRender.createComponent?.() || [];\n\t\t// 父子关系\n\t\tthis.parent = parent;\n\t\tparent.children.add(this.exposed);\n\t\t// 上下文属性\n\t\tconst context = createContext(this);\n\t\tthis.context = context;\n\t\t// 初始化钩子\n\t\tthis.callHook('beforeCreate');\n\t\t// 更新属性\n\t\tthis.childNodes = children;\n\t\trefresh(() => postpone(() => update(this, props, children)));\n\t\t// 获取渲染函数及初始渲染\n\t\tconst { render, nodes, stopRender } = initRender(this);\n\t\tthis._render = render;\n\t\tthis._stopRender = stopRender;\n\t\tthis._nodes = convert(this, nodes);\n\t\t// 初始化钩子\n\t\tthis.callHook('created');\n\t\tthis.created = true;\n\t\tif (this._needRefresh) { this.refresh(); }\n\t}\n\t/** 更新属性及子代 */\n\t_update(props: object, children: any[]): void {\n\t\tif (this.destroyed) { return; }\n\t\tthis.childNodes = children;\n\t\trefresh(() => postpone(() => update(this, props, children)));\n\t}\n\t_destroy(): void {\n\t\tif (this._stopRender) {\n\t\t\tthis._stopRender();\n\t\t}\n\t\tthis.parent.children.delete(this.exposed);\n\t\tdestroy(this._nodes);\n\t}\n\n\t/** 刷新 */\n\trequestDraw(): void {\n\t\tthis.container.markDraw(this);\n\t}\n\t_draw(): void {\n\t\tconst {nativeNodes, iRender, _shadow, native} = this;\n\t\tif (!native || !nativeNodes || !_shadow) {\n\t\t\tthis.tree = draw(\n\t\t\t\tiRender,\n\t\t\t\tthis._nodes,\n\t\t\t\tthis.tree,\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tthis.shadowTree = draw(\n\t\t\tiRender,\n\t\t\tthis._nodes,\n\t\t\tthis.shadowTree,\n\t\t);\n\t\tthis.nativeTree = draw(\n\t\t\tiRender,\n\t\t\tnativeNodes,\n\t\t\tthis.nativeTree,\n\t\t);\n\t}\n\t_mount(): void {\n\t\tconst {\n\t\t\tnativeNodes,\n\t\t\tiRender,\n\t\t\t_shadow,\n\t\t\tnative,\n\t\t\t_nodes,\n\t\t} = this;\n\t\tif (!native || !nativeNodes || !_shadow) {\n\t\t\tthis.tree = draw(iRender, _nodes);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.tree = draw(iRender, [{\n\t\t\ttag: Value,\n\t\t\tkey: native,\n\t\t\tvalue: native,\n\t\t\tchildren: [],\n\t\t}]);\n\t\tthis.shadowTree = draw(iRender, _nodes);\n\t\tfor (const it of getNodes(this.shadowTree)) {\n\t\t\tiRender.insertNode(_shadow, it);\n\t\t}\n\t\tthis.nativeTree = draw(iRender, nativeNodes);\n\t\tfor (const it of getNodes(this.nativeTree)) {\n\t\t\tiRender.insertNode(native, it);\n\t\t}\n\t}\n\t_unmount(): void {\n\t\tconst {iRender, nativeTree} = this;\n\t\tunmount(iRender, this.tree);\n\t\tif (!nativeTree) { return; }\n\t\tunmount(iRender, nativeTree);\n\t}\n}\n","import { NeepElement, TreeNode } from '../../type';\nimport { isElement, Value } from '../../auxiliary';\nimport { objectTypeSymbol, objectTypeSymbolElement } from '../../symbols';\n\n/** 强制转换为 NeepElement */\nexport function toElement(t: any): null | NeepElement {\n\tif (t === false || t === null || t === undefined) {\n\t\treturn null;\n\t}\n\tif (isElement(t)) {\n\t\treturn t;\n\t}\n\treturn {\n\t\t[objectTypeSymbol]: objectTypeSymbolElement,\n\t\ttag: Value,\n\t\tkey: t,\n\t\tvalue: t,\n\t\tchildren: [],\n\t};\n}\n\nexport function destroy(\n\ttree: TreeNode | TreeNode[] | (TreeNode | TreeNode[])[],\n): void {\n\tif (Array.isArray(tree)) {\n\t\ttree.forEach(t => destroy(t));\n\t\treturn;\n\t}\n\tconst { component } = tree;\n\tif (component) { component.destroy(); }\n}\n","import { NeepNode, TreeNode, Delivered } from '../../type';\nimport { getRender } from '../../install';\nimport { typeSymbol, deliverKeySymbol } from '../../symbols';\nimport { recursive2iterable } from '../recursive';\nimport EntityObject from '../EntityObject';\nimport ComponentEntity from '../ComponentEntity';\nimport ContainerEntity from '../ContainerEntity';\nimport { toElement } from './utils';\nimport { isDeliver } from '../../auxiliary/deliver';\nimport { Container, Value } from '../../auxiliary/tags';\n\nexport function createItem(\n\tnObject: EntityObject,\n\tdelivered: Delivered,\n\tsource: NeepNode,\n): TreeNode {\n\tif (!source) { return {\n\t\ttag: null,\n\t\tkey: undefined,\n\t\tchildren: [],\n\t}; }\n\tconst { tag } = source;\n\tif (!tag) {\n\t\treturn {\n\t\t\ttag: null,\n\t\t\tkey: undefined,\n\t\t\tchildren: [],\n\t\t};\n\t}\n\n\tif (isDeliver(tag)) {\n\t\tconst newDelivered = Object.create(delivered);\n\t\tReflect.defineProperty(newDelivered, tag[deliverKeySymbol], {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: source.props ? source.props.value : undefined,\n\t\t});\n\t\treturn {\n\t\t\t...source,\n\t\t\tdelivered: newDelivered,\n\t\t\tchildren: createAll(\n\t\t\t\tnObject,\n\t\t\t\tnewDelivered,\n\t\t\t\tsource.children,\n\t\t\t),\n\t\t};\n\t}\n\n\tif (typeof tag !== 'string') {\n\t\tif (tag[typeSymbol] === 'simple') {\n\t\t\treturn {\n\t\t\t\t...source,\n\t\t\t\tchildren: createAll(\n\t\t\t\t\tnObject,\n\t\t\t\t\tdelivered,\n\t\t\t\t\tsource.children,\n\t\t\t\t),\n\t\t\t\tcomponent: undefined,\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\t...source, children: [],\n\t\t\tcomponent: new ComponentEntity(\n\t\t\t\ttag,\n\t\t\t\tsource.props || {},\n\t\t\t\tsource.children,\n\t\t\t\tnObject,\n\t\t\t\tdelivered,\n\t\t\t),\n\t\t};\n\t}\n\tconst ltag = tag.toLowerCase();\n\tif (ltag === Container) {\n\t\tconst type = source?.props?.type;\n\t\tconst iRender = type ? getRender(type) : nObject.iRender;\n\t\treturn {\n\t\t\t...source, children: [],\n\t\t\tcomponent: new ContainerEntity(\n\t\t\t\tiRender,\n\t\t\t\tsource.props || {},\n\t\t\t\tsource.children,\n\t\t\t\tnObject,\n\t\t\t\tdelivered,\n\t\t\t),\n\t\t};\n\t}\n\tif (ltag === Value) {\n\t\treturn { ...source, children: [] };\n\t}\n\n\tif (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n\t\treturn {\n\t\t\t...source,\n\t\t\tchildren: createAll(\n\t\t\t\tnObject,\n\t\t\t\tdelivered,\n\t\t\t\tsource.children,\n\t\t\t),\n\t\t};\n\t}\n\treturn {\n\t\t...source,\n\t\tchildren: createAll(nObject, delivered, source.children),\n\t};\n}\n\nexport function createAll(\n\tnObject: EntityObject,\n\tdelivered: Delivered,\n\tsource: any,\n): (TreeNode | TreeNode[])[] {\n\tif (!Array.isArray(source)) { source = [source]; }\n\tif (!source.length) { return []; }\n\treturn (source as any[]).map(item => {\n\t\tif (!Array.isArray(item)) {\n\t\t\treturn createItem(nObject, delivered, toElement(item));\n\t\t}\n\t\treturn [...recursive2iterable(item)]\n\t\t\t.map(it => createItem(nObject, delivered, toElement(it)));\n\t});\n}\n","import { NeepNode, TreeNode, Delivered } from '../../type';\nimport { getRender } from '../../install';\nimport { typeSymbol, deliverKeySymbol } from '../../symbols';\nimport { recursive2iterable } from '../recursive';\nimport EntityObject from '../EntityObject';\nimport { toElement, destroy } from './utils';\nimport { createItem } from './create';\nimport { isDeliver } from '../../auxiliary/deliver';\nimport { Container, Value } from '../../auxiliary';\n\n/**\n * 更新树节点\n * @param nObject Neep 对象\n * @param source 用于替换的源\n * @param tree 已有树\n */\nfunction updateList(\n\tnObject: EntityObject,\n\tdelivered: Delivered,\n\tsource: any[],\n\ttree: TreeNode | TreeNode[],\n): TreeNode[] {\n\tif (!Array.isArray(tree)) { tree = [tree]; }\n\tconst newList: TreeNode[] = [];\n\tfor (const src of recursive2iterable(source)) {\n\t\tconst node = toElement(src);\n\t\tif (!node) { continue; }\n\t\tconst index = tree.findIndex(it =>\n\t\t\tit.tag === node.tag && it.key === node.key);\n\t\tif (index >= 0) {\n\t\t\tnewList.push(updateItem(\n\t\t\t\tnObject,\n\t\t\t\tdelivered,\n\t\t\t\tnode,\n\t\t\t\ttree[index],\n\t\t\t));\n\t\t\ttree.splice(index, 1);\n\t\t} else {\n\t\t\tnewList.push(createItem(nObject, delivered, node));\n\t\t}\n\t}\n\tdestroy(tree);\n\treturn newList;\n}\n\n/**\n * 更新树节点\n * @param tree 已有树\n * @param source 用于替换的源\n * @param nObject Neep 对象\n */\nfunction updateItem(\n\tnObject: EntityObject,\n\tdelivered: Delivered,\n\tsource: NeepNode,\n\ttree?: TreeNode | TreeNode[],\n): TreeNode {\n\tif (!tree) {\n\t\treturn createItem(nObject, delivered, source);\n\t}\n\tif (!source) {\n\t\tdestroy(tree);\n\t\treturn { tag: null, key: undefined, children: [] };\n\t}\n\tif (Array.isArray(tree)) {\n\t\tif (!tree.length) {\n\t\t\treturn createItem(nObject, delivered, source);\n\t\t}\n\t\tconst index = tree.findIndex(it => it.tag === source.tag);\n\t\tif (index < 0) {\n\t\t\tdestroy(tree);\n\t\t\treturn createItem(nObject, delivered, source);\n\t\t}\n\t\tconst all = tree;\n\t\t[tree] = tree.splice(index, 1);\n\t\tdestroy(all);\n\t}\n\tconst { tag } = source;\n\tif (tag !== tree.tag) {\n\t\tdestroy(tree);\n\t\treturn createItem(nObject, delivered, source);\n\t}\n\tif (!tag) { return { tag: null, key: undefined, children: [] }; }\n\n\n\tif (isDeliver(tag)) {\n\t\tconst newDelivered = tree.delivered || Object.create(delivered);\n\t\tReflect.defineProperty(newDelivered, tag[deliverKeySymbol], {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: source.props ? source.props.value : undefined,\n\t\t});\n\t\treturn {\n\t\t\t...source,\n\t\t\tdelivered: newDelivered,\n\t\t\tchildren: [...updateAll(\n\t\t\t\tnObject,\n\t\t\t\tnewDelivered,\n\t\t\t\tsource.children,\n\t\t\t\ttree.children,\n\t\t\t)],\n\t\t};\n\t}\n\n\tif (typeof tag !== 'string') {\n\t\tif (tag[typeSymbol] === 'simple') {\n\t\t\treturn {\n\t\t\t\t...source,\n\t\t\t\tchildren: [...updateAll(\n\t\t\t\t\tnObject,\n\t\t\t\t\tdelivered,\n\t\t\t\t\tsource.children,\n\t\t\t\t\ttree.children,\n\t\t\t\t)],\n\t\t\t\tcomponent: undefined,\n\t\t\t};\n\t\t}\n\t\tconst { component } = tree;\n\t\tif (!component) { return createItem(nObject, delivered, source); }\n\t\tcomponent.update(source.props || {}, source.children);\n\t\treturn { ...source, children: [], component };\n\t}\n\tconst ltag = tag.toLowerCase();\n\tif (ltag === Container) {\n\t\tconst { component } = tree;\n\t\tif (!component) { return createItem(nObject, delivered, source); }\n\t\tconst type = source?.props?.type;\n\t\tconst iRender = type ? getRender(type) : nObject.iRender;\n\t\tif (iRender !== component.iRender) {\n\t\t\treturn createItem(nObject, delivered, source);\n\t\t}\n\t\tcomponent.update(source.props || {}, source.children);\n\t\treturn { ...source, children: [], component };\n\t}\n\tif (ltag === Value) {\n\t\treturn { ...source, children: [] };\n\t}\n\tif (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n\t\treturn {\n\t\t\t...source,\n\t\t\tchildren: [...updateAll(\n\t\t\t\tnObject,\n\t\t\t\tdelivered,\n\t\t\t\tsource.children,\n\t\t\t\ttree.children,\n\t\t\t)],\n\t\t};\n\t}\n\treturn {\n\t\t...source,\n\t\tchildren: [...updateAll(nObject,\n\t\t\tdelivered,\n\t\t\tsource.children,\n\t\t\ttree.children)],\n\t};\n}\n\n\nexport function *updateAll(\n\tnObject: EntityObject,\n\tdelivered: Delivered,\n\tsource: any,\n\ttree: (TreeNode | TreeNode[])[],\n): Iterable<TreeNode | TreeNode[]> {\n\tif (!Array.isArray(source)) { source = [source]; }\n\n\tlet index = 0;\n\tlet length = Math.min(source.length || 1, tree.length);\n\tfor (; index < length; index++) {\n\t\tconst src = source[index];\n\t\tif (Array.isArray(src)) {\n\t\t\tyield updateList(nObject, delivered, src, tree[index]);\n\t\t} else {\n\t\t\tyield updateItem(nObject, delivered, toElement(src), tree[index]);\n\t\t}\n\t}\n\tlength = Math.max(source.length, source.length);\n\tif (tree.length > index) {\n\t\t// 销毁多余项\n\t\tfor (; index < length; index++) {\n\t\t\tdestroy(tree[index]);\n\t\t}\n\t}\n\tif (source.length > index) {\n\t\t// 创建多余项\n\t\tfor (; index < length; index++) {\n\t\t\tconst src = toElement(source[index]);\n\t\t\tif (Array.isArray(src)) {\n\t\t\t\tyield [...recursive2iterable(src)]\n\t\t\t\t\t.map(it => createItem(nObject, delivered, it));\n\t\t\t} else {\n\t\t\t\tyield createItem(nObject, delivered, src);\n\t\t\t}\n\t\t}\n\t}\n}\n","import { TreeNode } from '../../type';\nimport EntityObject from '../EntityObject';\nimport { createAll } from './create';\nimport { updateAll } from './update';\nimport { refresh } from '../../extends';\nimport { postpone } from 'monitorable';\n\nexport { destroy } from './utils';\n\n/**\n * 更新树\n * @param source 用于替换的源\n * @param nObject Neep 对象\n * @param tree 已有树\n */\nfunction convert(\n\tnObject: EntityObject,\n\tsource: any[],\n\ttree?: (TreeNode | TreeNode[])[],\n): (TreeNode | TreeNode[])[] {\n\treturn refresh(() => postpone(() => {\n\t\tif (!tree) {\n\t\t\treturn createAll(nObject, nObject.delivered, source);\n\t\t}\n\t\treturn [...updateAll(nObject, nObject.delivered, source, tree)];\n\t}));\n}\n\n\nexport default convert;\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport {\n\tIRender,\n\tMountProps,\n\tNativeNode,\n\tNativeContainer,\n\tDelivered,\n\tMountedNode,\n} from '../type';\nimport { Value } from '../auxiliary';\nimport { createMountedNode } from './id';\nimport convert, { destroy } from './convert';\nimport draw, { unmount, getNodes, setRefList } from './draw';\nimport EntityObject, {\n\tsetCompleteList, complete,\n} from './EntityObject';\nimport { nextFrame, exec, monitor } from '../install';\nimport { init } from './normalize';\n\n\nlet awaitDraw = new Set<ContainerEntity>();\nlet requested = false;\nfunction markDraw(c: ContainerEntity): void {\n\tawaitDraw.add(c);\n\tif (requested) { return; }\n\trequested = true;\n\tnextFrame(() => {\n\t\trequested = false;\n\t\tconst list = [...awaitDraw];\n\t\tawaitDraw.clear();\n\t\tlist.map(c => c.drawAll());\n\t});\n}\n\nexport default class ContainerEntity extends EntityObject {\n\tprops: MountProps;\n\t/** 组件树结构 */\n\tcontent: (MountedNode | MountedNode[])[] = [];\n\t_node: NativeNode | null = null;\n\t_container: NativeContainer | null = null;\n\treadonly rootContainer: ContainerEntity = this;\n\tconstructor(\n\t\tiRender: IRender,\n\t\tprops: MountProps,\n\t\tchildren: any[],\n\t\tparent?: EntityObject,\n\t\tdelivered?: Delivered,\n\t) {\n\t\tsuper(iRender, parent, delivered);\n\t\tthis.props = props;\n\t\tthis.parent = parent;\n\t\tif (parent) {\n\t\t\tthis.rootContainer = parent.container.rootContainer;\n\t\t}\n\t\tthis.callHook('beforeCreate');\n\t\tthis.childNodes = children;\n\n\t\tconst refresh = (changed: boolean): void => {\n\t\t\tif (!changed) { return; }\n\t\t\tthis._drawChildren = true;\n\t\t\tthis.refresh();\n\t\t};\n\t\tconst slots = Object.create(null);\n\n\t\tthis._render = monitor(\n\t\t\trefresh,\n\t\t\t() => init(\n\t\t\t\tthis,\n\t\t\t\tthis.delivered,\n\t\t\t\tthis.childNodes,\n\t\t\t\tslots,\n\t\t\t\t[],\n\t\t\t\tfalse,\n\t\t\t),\n\t\t);\n\t\tthis._nodes = convert(this, this._render());\n\t\tthis.callHook('created');\n\t\tthis.created = true;\n\t}\n\t_drawChildren = false;\n\t_drawContainer = false;\n\tsetChildren(children: any[]): void {\n\t\tif (this.destroyed) { return; }\n\t\tthis.childNodes = children;\n\t\tthis._drawChildren = true;\n\t\tthis.refresh();\n\t}\n\tsetProps(props: MountProps): void {\n\t\tif (this.destroyed) { return; }\n\t\tthis.props = props;\n\t\tthis._drawContainer = true;\n\t\tthis.refresh();\n\t}\n\t/** 更新属性及子代 */\n\tupdate(props: MountProps, children: any[]): void {\n\t\tthis.refresh(() => {\n\t\t\tthis.setProps(props);\n\t\t\tthis.setChildren(children);\n\t\t});\n\t}\n\trequestDraw(): void {\n\t\tthis.markDraw(this);\n\t}\n\t_mount(): void {\n\t\tconst { props, parent, iRender } = this;\n\t\tconst content = draw(this.container.iRender, this._nodes);\n\t\tthis.content = content;\n\t\tconst [container, node]\n\t\t\t= iRender.mount(props, parent?.iRender);\n\t\tfor (const it of getNodes(content)) {\n\t\t\tiRender.insertNode(container, it);\n\t\t}\n\t\tthis.tree = [createMountedNode({\n\t\t\ttag: Value,\n\t\t\tkey: undefined,\n\t\t\tcomponent: undefined,\n\t\t\tnode,\n\t\t\tvalue: node,\n\t\t\tchildren: [],\n\t\t})];\n\t\tthis._node = node;\n\t\tthis._container = container;\n\t}\n\t_destroy(): void {\n\t\tdestroy(this.content);\n\t}\n\t_unmount(): void {\n\t\tconst { parent, iRender } = this;\n\t\tif (parent) {\n\t\t\tunmount(parent.iRender, this.tree);\n\t\t}\n\t\tiRender.unmount(\n\t\t\tthis._container!,\n\t\t\tthis._node!,\n\t\t\tBoolean(parent),\n\t\t);\n\t\tunmount(this.iRender, this.content);\n\t}\n\t_cancelDrawContainerMonitor?: () => void;\n\t_cancelDrawChildrenMonitor?: () => void;\n\t_draw(): void {\n\t\tconst {\n\t\t\t_drawChildren: drawChildren,\n\t\t\t_drawContainer: drawContainer,\n\t\t} = this;\n\t\tthis._drawContainer = false;\n\t\tif (this._cancelDrawContainerMonitor) {\n\t\t\tthis._cancelDrawContainerMonitor();\n\t\t}\n\t\tif (drawContainer) {\n\t\t\tconst result = exec(\n\t\t\t\tc => c && [this._drawContainer = true, this.requestDraw()],\n\t\t\t\t() => this.iRender.drawContainer(\n\t\t\t\t\tthis._container!,\n\t\t\t\t\tthis._node!,\n\t\t\t\t\tthis.props,\n\t\t\t\t\tthis.parent?.iRender,\n\t\t\t\t),\n\t\t\t);\n\t\t\t[this._container, this._node] = result.result;\n\t\t\tthis._cancelDrawContainerMonitor = result.stop;\n\t\t}\n\t\tif (this.parent && this.parent.iRender !== this.iRender) {\n\t\t\treturn;\n\t\t}\n\t\tthis._drawChildren = false;\n\t\tif (this._cancelDrawChildrenMonitor) {\n\t\t\tthis._cancelDrawChildrenMonitor();\n\t\t}\n\t\tif (drawChildren) {\n\t\t\tconst result = exec(\n\t\t\t\tc => c && [this._drawChildren = true, this.requestDraw()],\n\t\t\t\t() => this.content = draw(\n\t\t\t\t\tthis.iRender,\n\t\t\t\t\tthis._nodes,\n\t\t\t\t\tthis.content,\n\t\t\t\t),\n\t\t\t);\n\t\t\tthis.content = result.result;\n\t\t\tthis._cancelDrawChildrenMonitor = result.stop;\n\n\t\t}\n\t}\n\t_drawSelf(): void {\n\t\tconst {\n\t\t\t_drawChildren: drawChildren,\n\t\t\t_drawContainer: drawContainer,\n\t\t} = this;\n\t\tthis._needDraw = false;\n\t\tthis._drawChildren = false;\n\t\tthis._drawContainer = false;\n\t\tif (drawContainer) {\n\t\t\tthis.iRender.drawContainer(\n\t\t\t\tthis._container!,\n\t\t\t\tthis._node!,\n\t\t\t\tthis.props,\n\t\t\t\tthis.parent?.iRender,\n\t\t\t\ttrue,\n\t\t\t);\n\t\t}\n\t\tif (drawChildren) {\n\t\t\tthis.content = draw(\n\t\t\t\tthis.iRender,\n\t\t\t\tthis._nodes,\n\t\t\t\tthis.content,\n\t\t\t);\n\t\t}\n\t}\n\tdrawSelf(): void {\n\t\tif (!this.mounted) { return; }\n\t\tif (this.destroyed) { return; }\n\t\tthis.callHook('beforeDraw');\n\t\texec(\n\t\t\tc => c && this.requestDraw(),\n\t\t\t() => this._drawSelf(),\n\t\t);\n\t\tcomplete(() => this.callHook('drawn'));\n\t}\n\t/** 等待重画的项目 */\n\tprivate _awaitDraw = new Set<EntityObject>();\n\t/** 自身是否需要重绘 */\n\tprivate _needDraw = false;\n\t/** 标记需要绘制的元素 */\n\tmarkDraw(\n\t\tnObject: EntityObject,\n\t\tremove = false,\n\t): void {\n\t\tif (this.parent?.iRender === this.iRender) {\n\t\t\tthis.parent.container.markDraw(nObject, remove);\n\t\t\treturn;\n\t\t}\n\t\tif (nObject === this && this.parent) {\n\t\t\tthis.parent.container.markDraw(this, remove);\n\t\t\tthis._needDraw = !remove;\n\t\t} else if (remove) {\n\t\t\tthis._awaitDraw.delete(nObject);\n\t\t} else {\n\t\t\tthis._awaitDraw.add(nObject);\n\t\t}\n\t\tthis.rootContainer.markDrawContainer(\n\t\t\tthis,\n\t\t\t!this._needDraw && !this._awaitDraw.size\n\t\t\t|| this.destroyed,\n\t\t);\n\t}\n\tdrawContainer(): void {\n\t\tconst {\n\t\t\t_node: node,\n\t\t\t_container: container,\n\t\t\t_awaitDraw: awaitDraw,\n\t\t} = this;\n\t\tif (!node || !container) { return; }\n\t\tthis.callHook('beforeDraw');\n\t\tconst needDraw = this._needDraw;\n\t\tthis._needDraw = false;\n\t\tconst list = [...awaitDraw];\n\t\tawaitDraw.clear();\n\t\tif (needDraw) { this.drawSelf(); }\n\t\tlist.map(c => c.draw());\n\t\tthis.iRender.drawNode(container, node);\n\t\tcomplete(() => this.callHook('drawn'));\n\t}\n\tprivate _containers = new Set<ContainerEntity>();\n\tmarkDrawContainer(\n\t\tcontainer: ContainerEntity,\n\t\tremove = false,\n\t): void {\n\t\tif (remove) {\n\t\t\tthis._containers.delete(container);\n\t\t} else {\n\t\t\tthis._containers.add(container);\n\t\t}\n\t\tmarkDraw(this);\n\t}\n\tdrawAll(): void {\n\t\tconst containers = this._containers;\n\t\tif (!containers.size) { return; }\n\t\tconst list = [...containers];\n\t\tcontainers.clear();\n\t\tthis.callHook('beforeDrawAll');\n\t\tconst refs: (() => void)[] = [];\n\t\tconst completeList: (() => void)[] = [];\n\t\tsetCompleteList(completeList);\n\t\tsetRefList(refs);\n\t\tlist.forEach(c => c.drawContainer());\n\t\tsetRefList();\n\t\trefs.forEach(r => r());\n\t\tcompleteList.forEach(r => r());\n\t\tthis.callHook('drawnAll');\n\t}\n}\n","import {\n\tMountProps,\n\tNeepElement,\n\tComponent,\n\tRootExposed,\n} from './type';\nimport { isElement, createElement } from './auxiliary';\nimport { isProduction } from './constant';\nimport { devtools, getRender } from './install';\nimport ContainerEntity from './entity/ContainerEntity';\n\n\nexport default function render(\n\te?: NeepElement | Component,\n\tp: MountProps = {},\n): RootExposed {\n\tlet params = {...p};\n\tconst container =  new ContainerEntity(\n\t\tgetRender(p.type),\n\t\tparams,\n\t\te === undefined ? [] : isElement(e) ? [e] : [createElement(e)],\n\t);\n\tif (!isProduction) {\n\t\tdevtools.renderHook(container);\n\t}\n\tconst { exposed } = container;\n\tReflect.defineProperty(exposed, '$update', {\n\t\tvalue(c?: NeepElement | Component) {\n\t\t\tcontainer.setChildren(c === undefined ? []\n\t\t\t\t: isElement(c) ? [c] : [createElement(c)]);\n\t\t\treturn exposed;\n\t\t},\n\t\tconfigurable: true,\n\t});\n\tReflect.defineProperty(exposed, '$mount', {\n\t\tvalue(target?: any) {\n\t\t\tif (exposed.$mounted) { return exposed; }\n\t\t\tif (target) {\n\t\t\t\tparams.target = target;\n\t\t\t\tcontainer.setProps(params);\n\t\t\t}\n\t\t\tcontainer.mount();\n\t\t\treturn exposed;\n\t\t},\n\t\tconfigurable: true,\n\t});\n\tReflect.defineProperty(exposed, '$unmount', {\n\t\tvalue() {\n\t\t\tif (!exposed.$mounted) { return; }\n\t\t\tif (exposed.$unmounted) { return; }\n\t\t\tif (exposed.$destroyed) { return container.destroy(); }\n\t\t\tcontainer.unmount();\n\t\t},\n\t\tconfigurable: true,\n\t});\n\tif (params.target) {\n\t\tcontainer.mount();\n\t}\n\treturn exposed as any as RootExposed;\n}\n","import { Component, Render, Marks } from './type';\nimport { nameSymbol, typeSymbol, renderSymbol, componentsSymbol, configSymbol } from './symbols';\n\n/** 组件标记函数 */\nexport interface Mark {\n\t<N extends Component<any, any>>(component: N): N;\n}\n\n/** 创建组件标记函数 */\nfunction Mark<S extends keyof Marks>(\n\tsymbol: S,\n\tvalue: Component[S],\n): Mark {\n\treturn component => {\n\t\tcomponent[symbol] = value as any;\n\t\treturn component;\n\t};\n}\n/** 创建组件标记函数 */\nfunction MarkValue<S extends typeof componentsSymbol | typeof configSymbol>(\n\tsymbol: S,\n\tkey: keyof (NonNullable<Marks[typeof configSymbol]>),\n\tvalue: NonNullable<Marks[typeof componentsSymbol]>[typeof key],\n): Mark {\n\treturn component => {\n\t\tlet obj = component[symbol] as any;\n\t\tif (!obj) {\n\t\t\tobj = Object.create(null);\n\t\t\tcomponent[symbol] = obj;\n\t\t}\n\t\tobj[key] = value;\n\t\treturn component;\n\t};\n}\n\n\n/** 标记组件名称 */\nexport function mName(name: string): Mark;\nexport function mName<N extends Component<any, any>>(\n\tname: string,\n\tcomponent: N,\n): N;\nexport function mName<N extends Component<any, any>>(\n\tname: string,\n\tcomponent?: N,\n): Mark | N {\n\tif (!component) { return Mark(nameSymbol, name); }\n\tcomponent[nameSymbol] = name;\n\treturn component;\n}\n\n/** 标记组件类型 */\nexport function mType(type?: 'native' | 'simple' | 'standard'): Mark;\nexport function mType<N extends Component<any, any>>(\n\ttype: 'native' | 'simple' | 'standard',\n\tcomponent: N,\n): N;\nexport function mType<N extends Component<any, any>>(\n\ttype?: 'native' | 'simple' | 'standard',\n\tcomponent?: N,\n): Mark | N {\n\tif (!component) { return Mark(typeSymbol, type); }\n\tcomponent[typeSymbol] = type;\n\treturn component;\n}\n/** 标记为简单组件 */\nexport function mSimple(): Mark;\nexport function mSimple<N extends Component<any, any>>(\n\tcomponent: N,\n): N;\nexport function mSimple<N extends Component<any, any>>(\n\tcomponent?: N,\n): Mark | N {\n\tif (!component) { return Mark(typeSymbol, 'simple'); }\n\tcomponent[typeSymbol] = 'simple';\n\treturn component;\n}\n/** 标记为原生组件 */\nexport function mNative(): Mark;\nexport function mNative<N extends Component<any, any>>(\n\tcomponent: N,\n): N;\nexport function mNative<N extends Component<any, any>>(\n\tcomponent?: N,\n): Mark | N {\n\tif (!component) { return Mark(typeSymbol, 'native'); }\n\tcomponent[typeSymbol] = 'native';\n\treturn component;\n}\n\n/** 标记独立的渲染函数 */\nexport function mRender(fn?: Marks[typeof renderSymbol]): Mark;\nexport function mRender<N extends Component<any, any>>(\n\tfn: Marks[typeof renderSymbol] | undefined,\n\tcomponent: N,\n): N;\nexport function mRender<N extends Component<any, any>>(\n\tfn?: Marks[typeof renderSymbol] | undefined,\n\tcomponent?: N,\n): Mark | N {\n\tif (!component) { return Mark(renderSymbol, fn); }\n\tcomponent[renderSymbol] = fn;\n\treturn component;\n}\n\n/** 标记组件配置 */\nexport function mConfig(name: string, config: any): Mark;\nexport function mConfig<N extends Component<any, any>>(\n\tname: string, config: any,\n\tcomponent: N,\n): N;\nexport function mConfig<N extends Component<any, any>>(\n\tname: string, config: any,\n\tcomponent?: N,\n): Mark | N {\n\tconst mark = MarkValue(configSymbol, name, config);\n\tif (!component) { return mark; }\n\treturn mark(component);\n}\n/** 标记组件类型 */\nexport function mComponent(name: string, item: Component): Mark;\nexport function mComponent<N extends Component<any, any>>(\n\tname: string, item: Component,\n\tcomponent: N,\n): N;\nexport function mComponent<N extends Component<any, any>>(\n\tname: string, item: Component,\n\tcomponent?: N,\n): Mark | N {\n\tconst mark = MarkValue(componentsSymbol, name, item);\n\tif (!component) { return mark; }\n\treturn mark(component);\n}\n\nexport function create<P extends object>(\n\tc: Component<P, never>,\n): Component<P, never>;\nexport function create<\n\tP extends object = object,\n\tR extends object = object,\n>(c: Component<P, R>, r: Render<R>): Component<P, R>;\nexport function create<T extends Component<any, any>>(\n\tc: T,\n\tr?: Render,\n): T {\n\tif (typeof r === 'function') {\n\t\tc[renderSymbol] = r;\n\t}\n\treturn c;\n}\n\nexport function mark<N extends Component<any, any>>(\n\tcomponent: N,\n\t...marks: Mark[]\n): N {\n\tfor (const m of marks) { m(component); }\n\treturn component;\n}\n","/*!\n * NeepHtmlRenderer v0.1.0-alpha.15\n * (c) 2019-2020 Fierflame\n * @license MIT\n */\nimport { install as install$1, isValue, EventEmitter } from '@neep/core';\n\nfunction installNeep() {\n  return install$1;\n}\n\nfunction getId(v) {\n  if (typeof v === 'string') {\n    return v;\n  }\n\n  if (typeof v === 'number') {\n    return String(v);\n  }\n\n  return undefined;\n}\n\nfunction updateId(props, el, old) {\n  const id = getId(isValue(props.id) ? props.id() : props.id);\n\n  if (id !== old) {\n    if (typeof id === 'string') {\n      el.id = props.id;\n    } else {\n      el.removeAttribute('id');\n    }\n  }\n\n  return id;\n}\n\nfunction* recursive2iterable(list) {\n  if (isValue(list)) {\n    yield* recursive2iterable(list());\n    return;\n  }\n\n  if (!Array.isArray(list)) {\n    yield list;\n    return;\n  }\n\n  for (const it of list) {\n    yield* recursive2iterable(it);\n  }\n}\n\nfunction getClass(list) {\n  const set = new Set();\n\n  for (const v of recursive2iterable(list)) {\n    if (!v) {\n      continue;\n    }\n\n    if (typeof v === 'string') {\n      for (let k of v.split(' ').filter(Boolean)) {\n        set.add(k);\n      }\n    } else if (typeof v === 'object') {\n      for (const k in v) {\n        const add = v[k];\n\n        for (let it of k.split(' ').filter(Boolean)) {\n          set[add ? 'add' : 'delete'](it);\n        }\n      }\n    }\n  }\n\n  if (!set.size) {\n    return undefined;\n  }\n\n  return set;\n}\n\nfunction update(el, classes, oClasses) {\n  if (classes && oClasses) {\n    const list = el.getAttribute('class') || '';\n    const classList = new Set(list.split(' ').filter(Boolean));\n    oClasses.forEach(c => classList.delete(c));\n    classes.forEach(c => classList.add(c));\n    el.setAttribute('class', [...classList].join(' '));\n  } else if (classes) {\n    el.setAttribute('class', [...classes].join(' '));\n  } else if (oClasses) {\n    el.removeAttribute('class');\n  }\n}\n\nfunction updateClass(props, el, old) {\n  const classes = getClass(isValue(props.class) ? props.class() : props.class);\n  update(el, classes, old);\n  return classes;\n}\n\nconst unit = {\n  'width': 'px',\n  'height': 'px',\n  'top': 'px',\n  'right': 'px',\n  'bottom': 'px',\n  'left': 'px',\n  'border': 'px',\n  'border-top': 'px',\n  'border-right': 'px',\n  'border-left': 'px',\n  'border-bottom': 'px',\n  'border-width': 'px',\n  'border-top-width': 'px',\n  'border-right-width': 'px',\n  'border-left-width': 'px',\n  'border-bottom-width': 'px',\n  'border-radius': 'px',\n  'border-top-left-radius': 'px',\n  'border-top-right-radius': 'px',\n  'border-bottom-left-radius': 'px',\n  'border-bottom-right-radius': 'px',\n  'padding': 'px',\n  'padding-top': 'px',\n  'padding-right': 'px',\n  'padding-left': 'px',\n  'padding-bottom': 'px',\n  'margin': 'px',\n  'margin-top': 'px',\n  'margin-right': 'px',\n  'margin-left': 'px',\n  'margin-bottom': 'px'\n};\n\nfunction getStyle(style) {\n  if (isValue(style)) {\n    style = style();\n  }\n\n  if (typeof style === 'string') {\n    return style;\n  }\n\n  if (!style) {\n    return undefined;\n  }\n\n  if (typeof style !== 'object') {\n    return undefined;\n  }\n\n  const css = Object.create(null);\n\n  for (let k in style) {\n    let value = style[k];\n\n    if (isValue(value)) {\n      value = value();\n    }\n\n    const key = k.substr(0, 2) === '--' ? k : k.replace(/[A-Z]/g, '-$1').replace(/-+/g, '-').toLowerCase();\n\n    if (typeof value === 'number') {\n      const str = value && k in unit ? `${value}${unit[k]}` : `${value}`;\n      css[key] = [str, undefined];\n    } else if (value && typeof value === 'string') {\n      const v = value.replace(/!important\\s*$/, '');\n      css[key] = [v, v === value ? undefined : 'important'];\n    }\n  }\n\n  return css;\n}\n\nfunction update$1(css, style, oStyle) {\n  if (!style) {\n    if (!oStyle) {\n      return;\n    }\n\n    if (typeof oStyle === 'string') {\n      css.cssText = '';\n      return;\n    }\n\n    for (const k of Object.keys(oStyle)) {\n      css.removeProperty(k);\n    }\n\n    return;\n  }\n\n  if (typeof style === 'string') {\n    if (style !== typeof oStyle) {\n      css.cssText = style;\n    }\n\n    return;\n  }\n\n  if (!oStyle || typeof oStyle === 'string') {\n    if (typeof oStyle === 'string') {\n      css.cssText = '';\n    }\n\n    for (const k of Object.keys(style)) {\n      css.setProperty(k, ...style[k]);\n    }\n\n    return;\n  }\n\n  for (const k of Object.keys(style)) {\n    const v = style[k];\n\n    if (!oStyle[k] || oStyle[k][0] !== v[0] || oStyle[k][1] !== v[1]) {\n      css.setProperty(k, ...v);\n    }\n  }\n\n  for (const k of Object.keys(oStyle)) {\n    if (!style[k]) {\n      css.removeProperty(k);\n    }\n  }\n}\n\nfunction updateStyle(props, css, old, hasStyle) {\n  if (!hasStyle) {\n    return undefined;\n  }\n\n  const style = getStyle(isValue(props.style) ? props.style() : props.style);\n  update$1(css, style, old);\n  return style;\n}\n\nfunction setAttrs(el, attrs) {\n  if (el instanceof HTMLInputElement && 'checked' in attrs) {\n    switch (el.type.toLowerCase()) {\n      case 'checkbox':\n      case 'radio':\n        if (attrs.checked !== null !== el.checked) {\n          el.checked = attrs.checked !== null;\n        }\n\n    }\n  }\n\n  if ((el instanceof HTMLSelectElement || el instanceof HTMLInputElement || el instanceof HTMLTextAreaElement) && 'value' in attrs) {\n    const value = attrs.value || '';\n\n    if (el.value !== value) {\n      el.value = value;\n    }\n  }\n\n  if (el instanceof HTMLDetailsElement && 'open' in attrs) {\n    const value = attrs.open !== null;\n\n    if (el.open !== value) {\n      el.open = value;\n    }\n  }\n\n  if (el instanceof HTMLMediaElement) {\n    if ('muted' in attrs) {\n      const value = attrs.muted !== null;\n\n      if (el.muted !== value) {\n        el.muted = value;\n      }\n    }\n\n    if ('paused' in attrs) {\n      const value = attrs.paused !== null;\n\n      if (el.paused !== value) {\n        if (value) {\n          el.pause();\n        } else {\n          el.play();\n        }\n      }\n    }\n\n    if ('currentTime' in attrs) {\n      const value = attrs.currentTime;\n\n      if (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n        const num = Number(value);\n\n        if (el.currentTime !== num) {\n          el.currentTime = num;\n        }\n      }\n    }\n\n    if ('playbackRate' in attrs) {\n      const value = attrs.playbackRate;\n\n      if (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n        const num = Number(value);\n\n        if (el.playbackRate !== num) {\n          el.playbackRate = num;\n        }\n      }\n    }\n\n    if ('volume' in attrs) {\n      const value = attrs.volume;\n\n      if (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n        const num = Number(value);\n\n        if (el.volume !== num) {\n          el.volume = num;\n        }\n      }\n    }\n  }\n}\n\nfunction stringify(data, isOn = false) {\n  if (data === undefined || data === null) {\n    return data;\n  }\n\n  if (isOn && typeof data === 'function') {\n    return undefined;\n  }\n\n  if (typeof data === 'boolean') {\n    return data ? '' : null;\n  }\n\n  if (typeof data !== 'object') {\n    return String(data);\n  }\n\n  if (data instanceof Date) {\n    return data.toISOString();\n  }\n\n  if (data instanceof RegExp) {\n    return data.toString();\n  }\n\n  return JSON.stringify(data);\n}\n\nfunction getAttrs(props, hasStyle) {\n  const attrs = Object.create(null);\n\n  for (const k in props) {\n    if (/^(n|on|bind|slot)[:-]/.test(k)) {\n      continue;\n    }\n\n    if (!/^[a-zA-Z:_][a-zA-Z0-9:_-]*$/.test(k)) {\n      continue;\n    }\n\n    const name = k.toLowerCase();\n\n    switch (name) {\n      case 'style':\n        if (!hasStyle) {\n          break;\n        }\n\n      case 'ref':\n      case 'is':\n      case 'id':\n      case 'class':\n        continue;\n    }\n\n    let data = props[k];\n\n    if (isValue(data)) {\n      data = data();\n    }\n\n    const value = stringify(data, name.substr(0, 2) === 'on');\n\n    if (value !== undefined) {\n      attrs[name] = value;\n    }\n  }\n\n  return attrs;\n}\n\nfunction update$2(el, attrs, old) {\n  for (const k of Object.keys(attrs)) {\n    const v = attrs[k];\n\n    if (!(k in old) || old[k] !== v) {\n      if (v === null) {\n        el.removeAttribute(k);\n      } else {\n        el.setAttribute(k, v);\n      }\n    }\n  }\n\n  for (const k of Object.keys(old)) {\n    if (!(k in attrs)) {\n      el.removeAttribute(k);\n    }\n  }\n}\n\nfunction updateAttrs(props, el, old, hasStyle) {\n  const attrs = getAttrs(props, hasStyle);\n  update$2(el, attrs, old);\n  setAttrs(el, attrs);\n  return attrs;\n}\n\nfunction createEventEmitter() {\n  const events = new EventEmitter();\n  events.__eventBind = Object.create(null);\n  return events;\n}\n\nfunction* getElementModel(el) {\n  if (el instanceof HTMLInputElement) {\n    switch (el.type.toLowerCase()) {\n      case 'checkbox':\n        yield ['indeterminate', 'change', e => e.currentTarget.indeterminate];\n        return yield ['checked', 'change', e => e.currentTarget.checked];\n\n      case 'radio':\n        return yield ['checked', 'change', e => e.currentTarget.checked];\n    }\n\n    return yield ['value', 'input', e => e.currentTarget.value];\n  }\n\n  if (el instanceof HTMLTextAreaElement) {\n    return yield ['value', 'input', e => e.currentTarget.value];\n  }\n\n  if (el instanceof HTMLSelectElement) {\n    return yield ['value', 'change', e => e.currentTarget.value];\n  }\n\n  if (el instanceof HTMLDetailsElement) {\n    return yield ['open', 'toggle', e => e.currentTarget.open];\n  }\n\n  if (el instanceof HTMLMediaElement) {\n    yield ['currentTime', 'timeupdate', e => e.currentTarget.currentTime];\n    yield ['playbackRate', 'ratechange', e => e.currentTarget.playbackRate];\n    yield ['volume', 'volumechange', e => e.currentTarget.volume];\n    yield ['muted', 'volumechange', e => e.currentTarget.muted];\n    yield ['paused', 'playing', e => e.currentTarget.paused];\n    return yield ['paused', 'pause', e => e.currentTarget.paused];\n  }\n}\n\nfunction getEventName(k) {\n  if (k.substr(0, 2) !== 'on') {\n    return '';\n  }\n\n  let n = k.substr(2);\n\n  if (n[0] === ':' || n[0] === '-') {\n    return '';\n  }\n\n  return n;\n}\n\nfunction updateEvent(props, el, event = createEventEmitter()) {\n  event.updateInProps(props, addEvent => {\n    for (const k in props) {\n      const f = props[k];\n\n      if (typeof f !== 'function') {\n        continue;\n      }\n\n      const name = getEventName(k);\n\n      if (!name) {\n        continue;\n      }\n\n      addEvent(name, f);\n    }\n\n    for (const [prop, name, t] of getElementModel(el)) {\n      const value = props[prop];\n\n      if (isValue(value)) {\n        addEvent(name, e => value(t(e)));\n      }\n    }\n  });\n  const names = new Set(event.names.map(String));\n  const eventBind = event.__eventBind;\n\n  for (const k of Object.keys(eventBind)) {\n    if (names.has(k)) {\n      continue;\n    }\n\n    eventBind[k]();\n    delete eventBind[k];\n  }\n\n  const {\n    emit\n  } = event;\n\n  for (const k of names) {\n    if (k in eventBind) {\n      continue;\n    }\n\n    const f = (...p) => emit(k, ...p);\n\n    el.addEventListener(k, f);\n\n    eventBind[k] = () => {\n      el.removeEventListener(k, f);\n    };\n  }\n\n  return event;\n}\n\nconst PropsMap = new WeakMap();\nfunction update$3(el, props) {\n  const css = el.style;\n  const hasStyle = css instanceof CSSStyleDeclaration;\n  const old = PropsMap.get(el) || {\n    attrs: {}\n  };\n  const id = updateId(props, el, old.id);\n  const classes = updateClass(props, el, old.classes);\n  const style = updateStyle(props, css, old.style, hasStyle);\n  const attrs = updateAttrs(props, el, old.attrs, hasStyle);\n  const event = updateEvent(props, el, old.event);\n  PropsMap.set(el, {\n    id,\n    classes,\n    style,\n    attrs,\n    event\n  });\n  return el;\n}\n\nlet list;\nfunction nextFrame(f) {\n  if (list) {\n    list.push(f);\n    return;\n  }\n\n  list = [f];\n  window.requestAnimationFrame(() => {\n    const fs = list;\n    list = undefined;\n\n    if (!fs) {\n      return;\n    }\n\n    fs.forEach(f => f());\n  });\n}\n\nconst xmlnsMap = {\n  svg: 'http://www.w3.org/2000/svg',\n  html: 'http://www.w3.org/1999/xhtml',\n  mathml: 'http://www.w3.org/1998/Math/MathML'\n};\nconst SVGTags = new Set(['altGlyph', 'altGlyphDef', 'altGlyphItem', 'animate', 'animateColor', 'animateMotion', 'animateTransform', 'circle', 'clipPath', 'color-profile', 'cursor', 'defs', 'desc', 'ellipse', 'feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence', 'filter', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignObject', 'g', 'glyph', 'glyphRef', 'hkern', 'image', 'line', 'linearGradient', 'marker', 'mask', 'metadata', 'missing-glyph', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'script', 'set', 'stop', 'style', 'svg', 'switch', 'symbol', 'text', 'textPath', 'title', 'tref', 'tspan', 'use', 'view', 'vkern']);\nconst MathMLTags = new Set(['maction', 'math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msubsup', 'msup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'semantics']);\nfunction createElement(tagname, namespace) {\n  const res = /^([a-z][a-z0-9-]*):([a-z0-9-]+)$/i.exec(tagname);\n  const tag = res ? res[2] : tagname;\n  const ns = (namespace || (res === null || res === void 0 ? void 0 : res[1]) || SVGTags.has(tag.toLowerCase()) && 'svg' || MathMLTags.has(tag.toLowerCase()) && 'mathml' || '').toLowerCase();\n\n  if (!ns) {\n    return document.createElement(tag);\n  }\n\n  return document.createElementNS(ns in xmlnsMap && xmlnsMap[ns] || ns, tag);\n}\n\nconst tagRegex = /^[a-z][a-z0-9]*(?:-[a-z0-9]+)?(?::[a-z0-9]+(?:-[a-z0-9]+)?)?$/i;\nfunction isTagName(tag) {\n  if (typeof tag !== 'string') {\n    return false;\n  }\n\n  return tagRegex.test(tag);\n}\n\nconst render = {\n  type: 'web',\n  nextFrame,\n\n  isNode(v) {\n    return v instanceof Node;\n  },\n\n  mount({\n    target,\n    class: className,\n    style,\n    tag\n  }, parent) {\n    if (isValue(target)) {\n      target = target.value;\n    }\n\n    if (!isTagName(tag)) {\n      tag = 'div';\n    }\n\n    const container = render.createElement(tag);\n    render.updateProps(container, {\n      class: className,\n      style\n    });\n\n    if (target === null) {\n      if (!parent) {\n        return [container, container];\n      }\n\n      return [container, parent.createPlaceholder()];\n    }\n\n    if (typeof target === 'string') {\n      target = document.querySelector(target);\n    }\n\n    if (target instanceof Element) {\n      target.appendChild(container);\n\n      if (parent) {\n        return [container, parent.createPlaceholder()];\n      }\n\n      return [container, container];\n    }\n\n    if (parent !== render) {\n      document.body.appendChild(container);\n      return [container, container];\n    }\n\n    return [container, container];\n  },\n\n  unmount(container, node, removed) {\n    if (container === node && removed) {\n      return;\n    }\n\n    container.remove();\n  },\n\n  drawContainer(container, node, {\n    target,\n    class: className,\n    style,\n    tag\n  }, parent) {\n    render.updateProps(container, {\n      class: className,\n      style\n    });\n\n    if (isValue(target)) {\n      console.log(target);\n      target = target.value;\n    }\n\n    const oldTarget = parent === render && container === node ? undefined : render.getParent(node);\n\n    if (target === null) {\n      if (oldTarget === null) {\n        return [container, node];\n      }\n\n      if (container !== node) {\n        container.remove();\n      }\n\n      if (!parent) {\n        return [container, container];\n      }\n\n      return [container, parent.createPlaceholder()];\n    }\n\n    if (typeof target === 'string') {\n      target = document.querySelector(target);\n    }\n\n    if (parent !== render && !(target instanceof Element)) {\n      target = document.body;\n    }\n\n    if (oldTarget === target) {\n      return [container, node];\n    }\n\n    if (parent !== render) {\n      target.appendChild(container);\n      return [container, node];\n    }\n\n    if (!oldTarget) {\n      const newNode = parent.createPlaceholder();\n      const pNode = parent.getParent(node);\n\n      if (pNode) {\n        render.insertNode(pNode, newNode, node);\n        render.removeNode(node);\n      }\n\n      target.appendChild(container);\n      return [container, newNode];\n    }\n\n    if (!target) {\n      const pNode = parent.getParent(node);\n\n      if (pNode) {\n        render.insertNode(pNode, container, node);\n        render.removeNode(node);\n      }\n\n      return [container, container];\n    }\n\n    target.appendChild(container);\n    return [container, node];\n  },\n\n  drawNode() {},\n\n  createElement(tag) {\n    return createElement(tag);\n  },\n\n  createText(text) {\n    return document.createTextNode(text);\n  },\n\n  createPlaceholder() {\n    return document.createComment('');\n  },\n\n  createComponent() {\n    const node = createElement('neep-component');\n    return [node, node.attachShadow({\n      mode: 'open'\n    })];\n  },\n\n  getParent(node) {\n    return node.parentNode;\n  },\n\n  nextNode(node) {\n    return node.nextSibling;\n  },\n\n  updateProps(node, props) {\n    update$3(node, props);\n  },\n\n  insertNode(parent, node, next = null) {\n    parent.insertBefore(node, next);\n  },\n\n  removeNode(node) {\n    const p = render.getParent(node);\n\n    if (!p) {\n      return;\n    }\n\n    p.removeChild(node);\n  },\n\n  getRect(node) {\n    if (node instanceof Element) {\n      const {\n        top,\n        right,\n        bottom,\n        left,\n        width,\n        height\n      } = node.getBoundingClientRect();\n      return {\n        top,\n        right,\n        bottom,\n        left,\n        width,\n        height\n      };\n    }\n\n    if (node instanceof ShadowRoot) {\n      const {\n        top,\n        right,\n        bottom,\n        left,\n        width,\n        height\n      } = node.host.getBoundingClientRect();\n      return {\n        top,\n        right,\n        bottom,\n        left,\n        width,\n        height\n      };\n    }\n\n    return null;\n  }\n\n};\n\ninstallNeep()({\n  render\n});\nfunction install(Neep) {}\n\n\n\nvar NeepWebRender = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tinstall: install\n});\n\nexport default NeepWebRender;\nexport { install };\n","import { install as NeepInstall } from '@neep/core';\n\nexport {\n\trender,\n\tcreateElement,\n\tsetHook,\n\tisValue,\n\tencase,\n\tasValue,\n\tSlot,\n\tisDeliver,\n} from '@neep/core';\n\nexport default function install() {\n\treturn NeepInstall;\n}\n","import { nameSymbol, typeSymbol, MountedNode, ComponentEntity, ContainerEntity } from '@neep/core';\n\nexport enum Type {\n\ttag = 'tag',\n\tplaceholder = 'placeholder',\n\tstandard = 'standard',\n\tsimple = 'simple',\n\tnative = 'native',\n\tcontainer = 'container',\n\tspecial = 'special',\n}\nexport interface VTreeNode {\n\ttagId: number;\n\ttype: Type;\n\ttag: string;\n\t/** 子节点 */\n\tchildren: VTreeNode[];\n\tprops?: { [key: string]: any; };\n\t/** 列表对比 key */\n\tkey?: any;\n\t/** 标注 */\n\tlabel?: [string, string];\n\tparent: number;\n\tvalue?: string;\n\tisNative?: boolean;\n}\n\nexport function *getTree(\n\ttree: MountedNode | (MountedNode | MountedNode[])[],\n\tparent: number = 0,\n): Iterable<VTreeNode> {\n\tif (Array.isArray(tree)) {\n\t\tfor (const it of tree) {\n\t\t\tyield* getTree(it);\n\t\t}\n\t\treturn;\n\t}\n\tconst {\n\t\tid: tagId,\n\t\ttag,\n\t\tprops,\n\t\tchildren,\n\t\tkey,\n\t\tcomponent,\n\t\tlabel = component?.exposed?.$label,\n\t} = tree;\n\tif (!tag) {\n\t\treturn yield {\n\t\t\ttagId, parent,\n\t\t\ttype: Type.placeholder,\n\t\t\ttag: 'placeholder',\n\t\t\tchildren: [],\n\t\t};\n\t}\n\tif (typeof tag !== 'string') {\n\t\tconst name = tag[nameSymbol] || tag.name;\n\t\tif (!component) {\n\t\t\treturn yield {\n\t\t\t\ttagId, parent,\n\t\t\t\ttype: Type.simple,\n\t\t\t\ttag: name,\n\t\t\t\tchildren: [...getTree(children)],\n\t\t\t\tprops,\n\t\t\t\tkey,\n\t\t\t\tlabel,\n\t\t\t};\n\t\t}\n\t\tconst isNative = tag[typeSymbol] === 'native';\n\t\treturn yield {\n\t\t\ttagId, parent,\n\t\t\ttype: isNative ? Type.native : Type.standard,\n\t\t\ttag: name,\n\t\t\tchildren: [...getTree(\n\t\t\t\tisNative\n\t\t\t\t\t? (component as ComponentEntity).nativeTree\n\t\t\t\t\t: component.tree\n\t\t\t)],\n\t\t\tprops,\n\t\t\tkey,\n\t\t\tlabel,\n\t\t};\n\t}\n\tconst ltag = tag.toLowerCase();\n\tif (ltag === 'neep:container') {\n\t\treturn yield {\n\t\t\ttagId, parent,\n\t\t\ttype: Type.container,\n\t\t\ttag: ltag,\n\t\t\tchildren: [...getTree(\n\t\t\t\tcomponent\n\t\t\t\t\t? (component as ContainerEntity).content\n\t\t\t\t\t: children\n\t\t\t)],\n\t\t\tprops,\n\t\t\tkey,\n\t\t\tlabel,\n\t\t};\n\t}\n\tif (ltag === 'neep:value') {\n\t\tconst treeValue = tree.value;\n\t\treturn yield {\n\t\t\ttagId, parent,\n\t\t\ttype: Type.special,\n\t\t\ttag: ltag,\n\t\t\tchildren: [],\n\t\t\tisNative: treeValue === tree.node,\n\t\t\tvalue: treeValue,\n\t\t\tprops,\n\t\t\tkey,\n\t\t\tlabel,\n\t\t};\n\t}\n\tif (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n\t\treturn yield {\n\t\t\ttagId, parent,\n\t\t\ttype: Type.special,\n\t\t\ttag: ltag,\n\t\t\tchildren: [...getTree(children)],\n\t\t\tprops,\n\t\t\tkey,\n\t\t\tlabel,\n\t\t};\n\t}\n\tyield {\n\t\ttagId, parent,\n\t\ttype: Type.tag,\n\t\ttag,\n\t\tchildren: [...getTree(children)],\n\t\tprops,\n\t\tkey,\n\t\tlabel,\n\t};\n\n}\n","import { NeepNode } from '@neep/core';\nimport { isValue, createElement } from '../../install/neep';\n\nexport function getValue(\n\tvalue: any,\n): NeepNode {\n\tconst type = typeof value;\n\tif (type === 'function') {\n\t\treturn <span style=\"font-weight: bold;\">[Function]</span>;\n\t}\n\tif (type === 'string') {\n\t\treturn <span>{value}</span>;\n\t}\n\tif (\n\t\ttype === 'bigint'\n\t\t|| type === 'boolean'\n\t\t|| type === 'number'\n\t\t|| type === 'symbol'\n\t\t|| type === 'undefined'\n\t\t|| value === null\n\t) {\n\t\treturn <span style=\"font-style: italic;\">{String(value)}</span>;\n\t} else if (value instanceof RegExp) {\n\t\treturn <span style=\"font-weight: bold;\">{String(value)}</span>;\n\t} else if (value instanceof Date) {\n\t\treturn <span style=\"font-weight: bold;\">{value.toISOString()}</span>;\n\t} else if (type === 'object') {\n\t\treturn <span style=\"font-style: italic;\">{String(value)}</span>;\n\t}\n\treturn null;\n}\n\nexport function TextNode(\n\t{ isNative, value }: { isNative?: boolean; value?: any },\n): NeepNode {\n\tif (isNative) {\n\t\treturn <span style=\"font-weight: bold;\">[Native]</span>;\n\t}\n\tif (!isValue(value)) {\n\t\treturn getValue(value);\n\t}\n\treturn <template>\n\t\t<span style=\"font-weight: bold;\">[Value:&nbsp;</span>\n\t\t{getValue(value())}\n\t\t<span style=\"font-weight: bold;\">&nbsp;]</span>\n\t</template>;\n}\n","import { createElement } from '../../install/neep';\n\nexport function getKey(key: any) {\n\tif (typeof key === 'string') { return ` key=${JSON.stringify(key)}`; }\n\tif (typeof key === 'number') { return ` key=${key}`; }\n\tif (typeof key === 'boolean') { return ` key=${key}`; }\n\tif (typeof key === 'bigint') { return ` key=${key}`; }\n\tif (typeof key === 'symbol') { return ` key=${String(key)}`; }\n\tif (key === null) { return ` key=${key}`; }\n\tif (key !== undefined) { return ` key=${String(key)}`; }\n}\n\nexport function getLabels(labels: ([string, string] | undefined)[]) {\n\treturn (labels.filter(Boolean) as [string, string][])\n\t\t.map(([v, color]) => <span style={`color: ${color || '#000'}`}>\n\t\t\t{v}\n\t\t</span>);\n}\n","import { NeepNode } from '@neep/core';\nimport { VTreeNode, Type } from '../../tree';\nimport { createElement, Slot } from '../../install/neep';\nimport getList from './getList';\nimport { getKey, getLabels } from './utils';\nimport { Options } from '../../type';\n\ninterface Props {\n\tkeys: {[key: number]: boolean},\n\ttagId: number,\n\tkey: any,\n\tlabels: ([string, string] | undefined)[],\n\toptions: Options,\n\tchildren: VTreeNode[],\n}\n\nexport default function Tag({\n\tkeys, tagId, key, labels, options, children,\n}: Props): NeepNode {\n\tconst opened = keys[tagId];\n\tconst childNodes = opened ? [...getList(children, keys, options)] : [];\n\tconst hasChildNodes = Boolean(opened && childNodes.length);\n\treturn <div key={tagId} style=\"\n\t\tposition: relative;\n\t\tmin-height: 20px;\n\t\tfont-size: 14px;\n\t\tline-height: 20px;\n\t\">\n\t\t<div\n\t\t\tstyle=\"\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: -20px;\n\t\t\t\ttop: 0;\n\t\t\t\twidth: 20px;\n\t\t\t\theight: 20px;\n\t\t\t\ttext-align: center;\n\t\t\t\tcursor: pointer;\n\t\t\t\tbackground: #DDD;\n\t\t\t\"\n\t\t\tonclick={() => keys[tagId] = !opened}\n\t\t>{opened ? '-' : '+'}</div>\n\t\t<div>\n\t\t\t{'<'}<Slot />{getKey(key)}{'>'}\n\t\t\t{!hasChildNodes && <template>\n\t\t\t\t{opened ? <span /> : <span\n\t\t\t\t\tonclick={() => keys[tagId] = true}\n\t\t\t\t\tstyle=\"cursor: pointer;\"\n\t\t\t\t>...</span>}\n\t\t\t\t{'</'}<Slot />{'>'}\n\t\t\t</template>}\n\t\t\t{getLabels(labels)}\n\t\t</div>\n\t\t{hasChildNodes && <template>\n\t\t\t<div style=\"padding-left: 20px\">{childNodes}</div>\n\t\t\t<div>{'</'}<Slot />{'>'}</div>\n\t\t</template>}\n\t</div>;\n}\n","import { NeepNode } from '@neep/core';\nimport { createElement, Slot } from '../../install/neep';\nimport { getKey, getLabels } from './utils';\n\ninterface Props {\n\tname?: string;\n\ttagId: number,\n\tkey: any,\n\tlabels: ([string, string] | undefined)[],\n}\n\nexport default function PlaceholderTag({\n\tname = 'placeholder', tagId, key, labels,\n}: Props): NeepNode {\n\treturn <div key={tagId} style=\"\n\t\tposition: relative;\n\t\tmin-height: 20px;\n\t\tfont-size: 14px;\n\t\tline-height: 20px;\n\t\">\n\t\t{'<'}\n\t\t<span style=\"font-style: italic;\">{name}</span>\n\t\t{getKey(key)}\n\t\t{'/>'}\n\t\t{getLabels(labels)}\n\t</div>;\n}\n","import { NeepNode } from '@neep/core';\nimport { VTreeNode, Type } from '../../tree';\nimport { TextNode } from './Text';\nimport { createElement, isDeliver } from '../../install/neep';\nimport Tag from './Tag';\nimport PlaceholderTag from './PlaceholderTag';\n\ninterface Options {\n\tvalue?: boolean;\n\ttag?: boolean;\n\tplaceholder?: boolean;\n\tsimple?: boolean;\n\tcontainer?: boolean;\n\ttemplate?: boolean;\n\tscopeSlot?: boolean;\n\tslotRender?: boolean;\n\tdeliver?: boolean;\n}\nexport default function *getList(\n\tlist: VTreeNode | VTreeNode[],\n\tkeys: {[key: number]: boolean},\n\toptions: Options,\n\tlabels: ([string, string] | undefined)[] = [],\n): Iterable<NeepNode> {\n\tif (Array.isArray(list)) {\n\t\tfor (const it of list) {\n\t\t\tyield* getList(it, keys, options, labels);\n\t\t}\n\t\treturn;\n\t}\n\tconst {\n\t\ttagId,\n\t\ttype,\n\t\ttag,\n\t\tchildren,\n\t\tprops,\n\t\tkey,\n\t\tlabel,\n\t\tvalue,\n\t\tisNative,\n\t} = list;\n\tconst labelList = [label, ...labels];\n\tif (type === Type.standard || type === Type.native) {\n\t\treturn yield <Tag\n\t\t\tkeys={keys}\n\t\t\ttagId={tagId}\n\t\t\tkey={key}\n\t\t\tlabels={labelList}\n\t\t\toptions={options}\n\t\t\tchildren={children}\n\t\t>\n\t\t\t<span style=\"font-weight: bold;\">{tag}</span>\n\t\t</Tag>;\n\t}\n\tif (type === Type.tag) {\n\t\tif (!options.tag) {\n\t\t\treturn yield* getList(children, keys, options, labelList);\n\t\t}\n\t\treturn yield <Tag\n\t\t\tkeys={keys}\n\t\t\ttagId={tagId}\n\t\t\tkey={key}\n\t\t\tlabels={labelList}\n\t\t\toptions={options}\n\t\t\tchildren={children}\n\t\t>\n\t\t\t{tag}\n\t\t</Tag>;\n\t}\n\tif (type === Type.simple) {\n\t\tif (!options.simple) {\n\t\t\treturn yield* getList(children, keys, options, labelList);\n\t\t}\n\t\treturn yield <Tag\n\t\t\tkeys={keys}\n\t\t\ttagId={tagId}\n\t\t\tkey={key}\n\t\t\tlabels={labelList}\n\t\t\toptions={options}\n\t\t\tchildren={children}\n\t\t>\n\t\t\t<span style=\"\n\t\t\t\tfont-style: italic;\n\t\t\t\tfont-weight: bold;\n\t\t\t\">{tag}</span>\n\t\t</Tag>;\n\t}\n\tif (type === Type.placeholder) {\n\t\tif (!options.placeholder) { return; }\n\t\treturn yield <PlaceholderTag\n\t\t\ttagId={tagId}\n\t\t\tkey={key}\n\t\t\tlabels={labelList}\n\t\t/>;\n\t}\n\tif (type === Type.container) {\n\t\tif (!options.container) {\n\t\t\treturn yield* getList(children, keys, options, labelList);\n\t\t}\n\t\treturn yield <Tag\n\t\t\tkeys={keys}\n\t\t\ttagId={tagId}\n\t\t\tkey={key}\n\t\t\tlabels={labelList}\n\t\t\toptions={options}\n\t\t\tchildren={children}\n\t\t>\n\t\t\t<span style=\"font-style: italic;\">container</span>\n\t\t</Tag>;\n\t}\n\tif (isDeliver(tag)) {\n\t\tif (!options.deliver) {\n\t\t\treturn yield* getList(children, keys, options, labelList);\n\t\t}\n\t\treturn yield <Tag\n\t\t\tkeys={keys}\n\t\t\ttagId={tagId}\n\t\t\tkey={key}\n\t\t\tlabels={labelList}\n\t\t\toptions={options}\n\t\t\tchildren={children}\n\t\t>\n\t\t\t<span style=\"font-style: italic;\">Deliver</span>\n\t\t</Tag>;\n\t}\n\tif (tag === 'template') {\n\t\tif (!options.template) {\n\t\t\treturn yield* getList(children, keys, options, labelList);\n\t\t}\n\t\treturn yield <Tag\n\t\t\tkeys={keys}\n\t\t\ttagId={tagId}\n\t\t\tkey={key}\n\t\t\tlabels={labelList}\n\t\t\toptions={options}\n\t\t\tchildren={children}\n\t\t>\n\t\t\t<span style=\"font-style: italic;\">Template</span>\n\t\t</Tag>;\n\t}\n\tif (tag === 'neep:scopeslot' || tag === 'neep:scope-slot') {\n\t\tif (!options.scopeSlot) {\n\t\t\treturn yield* getList(children, keys, options, labelList);\n\t\t}\n\t\treturn yield <Tag\n\t\t\tkeys={keys}\n\t\t\ttagId={tagId}\n\t\t\tkey={key}\n\t\t\tlabels={labelList}\n\t\t\toptions={options}\n\t\t\tchildren={children}\n\t\t>\n\t\t\t<span style=\"font-style: italic;\">ScopeSlot</span>\n\t\t</Tag>;\n\t}\n\tif (tag === 'neep:value') {\n\t\tif (!options.tag) { return; }\n\t\tif (!options.value) { return; }\n\t\treturn yield <TextNode isNative={isNative} value={value} />;\n\t}\n\tif (tag === 'neep:slotrender' || tag === 'neep:slot-render') {\n\t\tif (options.slotRender) {\n\t\t\treturn yield <PlaceholderTag\n\t\t\t\ttagId={tagId}\n\t\t\t\tkey={key}\n\t\t\t\tlabels={labelList}\n\t\t\t\tname=\"SlotRender\"\n\t\t\t/>;\n\t\t}\n\t\treturn;\n\t}\n}\n","import { VTreeNode, Type } from '../../tree';\nimport { createElement, encase } from '../../install/neep';\nimport { Options } from '../../type';\nimport getList from './getList';\n\nexport interface TreeProps {\n\ttree: VTreeNode[];\n\toptions: Options;\n}\nexport default (props: TreeProps) => {\n\tconst keys = encase<{[key: number]: boolean}>({});\n\treturn () => <div style=\"padding-left: 20px;\">\n\t\t{[...getList(props.tree, keys, props.options)]}\n\t</div>;\n};\n","import { createElement, Slot } from '../../install/neep';\nimport { Options } from '../../type';\n\ninterface Props {\n\toptions: Options;\n}\nexport default function (props: Props) {\n\treturn <div>\n\t\t<Slot name=\"settings\" />\n\t\t<Slot name=\"tree\" />\n\t</div>;\n}\n","import { createElement, asValue } from '../../install/neep';\nimport { Options } from '../../type';\n\n\nexport interface SettingsProps {\n\toptions: Options;\n}\nexport default function (props: SettingsProps) {\n\tconst options = asValue(props.options);\n\tconst value = options('value');\n\tconst tag = options('tag');\n\tconst placeholder = options('placeholder');\n\tconst simple = options('simple');\n\tconst container = options('container');\n\tconst template = options('template');\n\tconst scopeSlot = options('scopeSlot');\n\tconst slotRender = options('slotRender');\n\tconst deliver = options('deliver');\n\treturn <div>\n\t\t<label><input type=\"checkbox\" checked={value} />value</label>\n\t\t<label><input type=\"checkbox\" checked={tag} />tag</label>\n\t\t<label><input type=\"checkbox\" checked={placeholder} />placeholder</label>\n\t\t<label><input type=\"checkbox\" checked={simple} />simple</label>\n\t\t<label><input type=\"checkbox\" checked={container} />container</label>\n\t\t<label><input type=\"checkbox\" checked={template} />template</label>\n\t\t<label><input type=\"checkbox\" checked={scopeSlot} />scopeSlot</label>\n\t\t<label><input type=\"checkbox\" checked={slotRender} />slotRender</label>\n\t\t<label><input type=\"checkbox\" checked={deliver} />deliver</label>\n\t</div>;\n}\n","import { render, createElement, setHook, encase } from '../install/neep';\nimport { getTree } from '../tree';\nimport {  Devtools, Tree } from '../Panel';\nimport { RootExposed, ContainerEntity } from '@neep/core';\nimport { Options } from '../type';\nimport Settings from '../Panel/Settings';\n\nlet creating = false;\n\ninterface App {\n\texposed: RootExposed;\n\toptions: Options;\n}\n\nfunction create() {\n\tcreating = true;\n\ttry {\n\t\treturn {\n\t\t\toptions: encase({\n\t\t\t\tvalue: false,\n\t\t\t\ttag: false,\n\t\t\t\tplaceholder: false,\n\t\t\t\tsimple: false,\n\t\t\t\tcontainer: false,\n\t\t\t\ttemplate: false,\n\t\t\t\tscopeSlot: false,\n\t\t\t\tslotRender: false,\n\t\t\t\tdeliver: false,\n\t\t\t}),\n\t\t\texposed: render(),\n\t\t};\n\t} finally {\n\t\tcreating = false;\n\t}\n}\n\nexport default function renderHook(container: ContainerEntity) {\n\tif (creating) { return; }\n\tlet app: App | undefined;\n\tconst getData = () => {\n\t\tif (!app) { app = create(); }\n\t\tconst tree = [...getTree(container.content)];\n\t\tapp.exposed.$update(<Devtools options={app.options}>\n\t\t\t<Tree slot=\"tree\" tree={tree} options={app.options} />\n\t\t\t<Settings slot=\"settings\" options={app.options} />\n\t\t</Devtools>);\n\t};\n\tsetHook('drawnAll', getData, container.entity);\n\tsetHook('mounted', () => {\n\t\tif (!app) { app = create(); }\n\t\tgetData();\n\t\tapp.exposed.$mount();\n\t}, container.entity);\n}\n","import renderHook from './renderHook';\nimport { Devtools } from '@neep/core';\n\nconst devtools: Devtools = {\n\trenderHook,\n};\n\nexport default devtools;\n","import devtools from '../devtools';\nimport installNeep from './neep';\ninstallNeep()({ devtools });\nexport default function install(Neep: typeof import('@neep/core')) {\n}\n","import { Deliver } from '@neep/core';\nimport { createDeliver } from './neep';\nimport Insertable from '../Insertable';\n\nexport let InsertableDeliver: Deliver<Insertable | undefined>;\n\nexport default function initDelivers() {\n\tInsertableDeliver = createDeliver<Insertable>();\n}\n","import { Context } from '@neep/core';\nimport { addContextConstructor } from './neep';\nimport { InsertableDeliver } from './initDelivers';\n\nfunction contextConstructor(context: Context) {\n\tReflect.defineProperty(context, 'insertable', {\n\t\tvalue: context.delivered(InsertableDeliver),\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n}\n\nexport default function installContextConstructor() {\n\taddContextConstructor(contextConstructor);\n}\n","import Insertable from './Insertable';\nimport { mSimple, mName, Context } from '@neep/core';\nimport { createElement } from './install/neep';\nimport { InsertableDeliver } from './install/initDelivers';\n\nexport interface Props {\n\tname?: string;\n\tinsertable?: Insertable;\n\t[key: string]: any;\n}\nexport default function InsertView(\n\tprops: Props,\n\t{ insertable: contextInsertable, childNodes }: Context,\n) {\n\tconst { name, insertable } = props;\n\tif (!name && insertable instanceof Insertable) {\n\t\treturn createElement(InsertableDeliver, {\n\t\t\tvalue: insertable,\n\t\t}, ...childNodes);\n\t}\n\tif (!name) { return childNodes; }\n\tif (insertable instanceof Insertable) {\n\t\tconst list = insertable.get(name);\n\t\tif (!list) { return null; }\n\t\treturn createElement(InsertableDeliver, {\n\t\t\tvalue: insertable,\n\t\t}, list.map(t => createElement(t.component, props, ...childNodes)));\n\t}\n\tif (!(contextInsertable instanceof Insertable)) {\n\t\treturn childNodes;\n\t}\n\tconst list = contextInsertable.get(name);\n\tif (!list) { return null; }\n\treturn list.map(t => createElement(t.component, props, ...childNodes));\n}\n\nmSimple(InsertView);\nmName('InsertView', InsertView);\n","import InsertView from '../InsertView';\nimport { register } from './neep';\n\nexport default function installComponents() {\n\tregister('InsertView', InsertView);\n\tregister('insert-view', InsertView);\n}\n","import installContextConstructor from './installContextConstructor';\nimport installComponents from './installComponents';\nimport initDelivers from './initDelivers';\n\nexport default [\n\tinstallComponents,\n\tinstallContextConstructor,\n\tinitDelivers,\n];\n","import moduleList from './moduleList';\n\nexport default function install(Neep: typeof import ('@neep/core')) {\n}\nfor (const f of moduleList) {\n\tf();\n}\n","export const version: string = '__VERSION__';\n","import { Component, mName, mSimple } from '@neep/core';\nimport install from './install';\nimport { encase } from './install/neep';\nimport InsertView from './InsertView';\nimport { version } from './constants';\n\nexport type InsertableComponent = string | Component<any, any>;\nexport interface Info {\n\tcomponent: InsertableComponent;\n\torder?: number;\n}\nexport type Item = [InsertableComponent, Info];\n\nclass Insertable {\n\treadonly parent?: Insertable;\n\tprivate _groups: {[key: string]: Readonly<Info>[]} = encase(Object.create(null));\n\tconstructor(parent?: Insertable) {\n\t\tif (parent instanceof Insertable) {\n\t\t\tthis.parent = parent;\n\t\t}\n\t}\n\tadd(\n\t\tname: string,\n\t\tcomponents: InsertableComponent | InsertableComponent[],\n\t\tinfo: Omit<Info, 'component'> | number = {},\n\t) {\n\t\tif (typeof info === 'number') { info = { order: info }; }\n\t\tconst groups = this._groups;\n\t\tif (!Array.isArray(components)) { components = [components]; }\n\t\tconst list = groups[name] ? [...groups[name]] : [];\n\t\tlist.push(...components.map(component => Object.freeze({\n\t\t\t...info as Omit<Info, 'component'>,\n\t\t\tcomponent,\n\t\t}) as Info));\n\t\tlist.sort(({order: a}, {order: b}) => (a || 0) - (b || 0));\n\t\tgroups[name] = list;\n\t}\n\tremove(name: string): void;\n\tremove(\n\t\tname: string,\n\t\tcomponent?: InsertableComponent,\n\t): void {\n\t\tconst groups = this._groups;\n\t\tconst oldList = groups[name];\n\t\tif (!oldList) { return; }\n\t\tif (!component) {\n\t\t\tgroups[name] = [];\n\t\t\treturn;\n\t\t}\n\t\tconst k = oldList.findIndex((t) => t.component === component);\n\t\tif (k < 0) { return; }\n\t\tconst list = [...oldList.slice(0, k), ...oldList.slice(k + 1)];\n\t\tgroups[name] = list;\n\t}\n\tset(\n\t\tname: string,\n\t\tcomponents: InsertableComponent | InsertableComponent[],\n\t\tinfo: Omit<Info, 'component'> | number = {},\n\t) {\n\t\tif (typeof info === 'number') { info = { order: info }; }\n\t\tconst groups = this._groups;\n\t\tif (!Array.isArray(components)) { components = [components]; }\n\t\tconst list = components.map(component => Object.freeze({\n\t\t\t...info as Omit<Info, 'component'>,\n\t\t\tcomponent,\n\t\t}) as Info);\n\t\tgroups[name] = list;\n\t}\n\tget(name: string, parent?: boolean | number): Readonly<Info>[] {\n\t\tconst groups = this._groups;\n\t\tconst list = groups[name] || [];\n\t\tif (!parent || !this.parent) { return [...list]; }\n\t\tconst parentList = this.parent.get(\n\t\t\tname,\n\t\t\ttypeof parent === 'number' ? parent - 1 : -1,\n\t\t);\n\t\tconst allList = [...parentList, ...list];\n\t\tif (list.length && parentList.length) {\n\t\t\tallList.sort(({order: a}, {order: b}) => (a || 0) - (b || 0));\n\t\t}\n\t\treturn allList;\n\t}\n\tget view() {\n\t\tconst view: Component = (props: {\n\t\t\tname?: string;\n\t\t\t[key: string]: any;\n\t\t}, ...p) =>\n\t\tInsertView({...props, insertable: this}, ...p);\n\t\tmName('Insertable', view);\n\t\tmSimple(view);\n\t\tReflect.defineProperty(this, 'view', {\n\t\t\tvalue: view,\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t});\n\t\treturn view;\n\t}\n\tstatic get install() { return install; };\n\tstatic get View() { return InsertView; };\n\tstatic get version() { return version; };\n}\nexport default Insertable;\n","import { create, mName, createElement } from '@neep/core';\nimport Insertable from '@neep/insertable';\n// 1. 定义组件。\n// 可以从其他文件 import 进来\nconst Com1 = create((props: any, {emit}) =>\n<div on-click={() => emit('click', '666')}>\n\t{props.customAttribute}组件1\n</div>);\nconst Com2 = create(() => <div>组件2</div>);\nconst Com3 = create(() => <div>组件3</div>);\nmName('Com1', Com1);\nmName('Com2', Com2);\nmName('Com3', Com3);\n\n// 2. 创建 insertable 实例\nconst insertable = new Insertable();\n\n// 3. 添加组件\ninsertable.add('insert1', Com1);\ninsertable.add('insert1', Com2);\n// 同一组件组件在同一名称下注册多次，将会被渲染多次\ninsertable.add('insert1', Com1);\n\ninsertable.add('insert2', Com3);\ninsertable.add('insert2', Com2);\ninsertable.add('insert2', Com1);\n// 普通的 html 标签也支持\ninsertable.add('insert2', 'div');\n\n(window as any).insertable = insertable;\n\nexport default <insertable.view>\n\t{/* 使用 insert-view 组件在插入注册的组件 */}\n\t{/* name 为注册的名称 */}\n\t{/* <insert-view /> 会渲染出指定注册名的所有组件 */}\n\t{/* <insert-view /> 会将属性及事件传递给组件 */}\n\t<Insertable.View name=\"insert1\" customAttribute=\"myValue\" />\n\t{/* 渲染结果同下： */}\n\t{/* <Com1 name=\"insert1\" customAttribute=\"myValue\" /> */}\n\t{/* <Com2 name=\"insert1\" customAttribute=\"myValue\" /> */}\n\t{/* <Com1 name=\"insert1\" customAttribute=\"myValue\" /> */}\n\t{/* 同一组件组件在同一名称下注册多次，将会被渲染多次 */}\n\n\t<hr />\n\n\t<Insertable.View name=\"insert2\" customAttribute=\"myValue\" />\n\t{/* 渲染结果同下： */}\n\t{/* <Com3 name=\"insert2\" customAttribute=\"myValue\" /> */}\n\t{/* <Com2 name=\"insert2\" customAttribute=\"myValue\" /> */}\n\t{/* <Com1 name=\"insert2\" customAttribute=\"myValue\" /> */}\n\t{/* <div name=\"insert2\" customAttribute=\"myValue\" /> */}\n\t{/* 普通的 html 标签也支持 */}\n\n\t<hr />\n\n\t{/* <insert-view /> 如果被引入多次将会被渲染多次，，即便 name 相同 */}\n\t<Insertable.View name=\"insert1\" />\n\t{/* 渲染结果同下： */}\n\t{/* <Com1 name=\"insert1\" /> */}\n\t{/* <Com2 name=\"insert1\" /> */}\n\t{/* <Com1 name=\"insert1\" /> */}\n</insertable.view>;\n","import { render } from '@neep/core';\nimport  '@neep/html-renderer';\nimport  '@neep/devtools';\nimport App from './App';\nrender(App).$mount();\n"],"names":["devtools","renderHook","installDevtools","tools","NeepError","Error","constructor","message","tag","assert","v","nextFrameApi","nextFrame","fn","renders","Object","create","getRender","type","default","installRender","render","console","printError","String","map","value","def","installMonitorable","api","install","apis","monitorable","current","setCurrent","entity","oldEntity","$_valueIndex","$_serviceIndex","ret","$_values","length","$_services","constructors","initContext","context","addContextConstructor","push","safeify","initEntity","delayedRefresh","objectSet","Set","wait","obj","add","run","list","clear","forEach","o","refresh","asyncRefresh","f","async","getEventName","k","substr","test","addEventFromCollection","addEvent","events","names","Array","isArray","n","p","keys","EventEmitter","update","emitter","newHandles","on","updateInProps","props","custom","entName","listener","_names","createEmit","omitNames","emit","name","event","res","omit","Reflect","defineProperty","get","markRead","filter","t","includes","configurable","e","size","markChange","removed","delete","updateHandles","eventCancelHandles","_cancelHandles","oldHandles","handles","ScopeSlot","SlotRender","Slot","Value","Container","Template","Fragment","hooks","setHook","id","hook","$_hooks","set","callHook","exposed","typeSymbol","Symbol","for","nameSymbol","renderSymbol","componentsSymbol","configSymbol","objectTypeSymbol","objectTypeSymbolElement","objectTypeSymbolDeliver","deliverKeySymbol","deliverDefaultSymbol","isElement","createElement","attrs","children","node","key","undefined","slot","ref","equalProps","a","b","is","aKeys","ownKeys","bKeys","has","equal","i","execed","inserted","label","getLabel","l","createDeliver","symbol","Provider","_","childNodes","isDeliver","d","getDelivered","delivered","Deliver","ids","Nodes","IdMap","Map","createMountedNode","recoveryMountedNode","recursive2iterable","it","refList","setRefList","setRef","isRemove","getNodes","tree","component","unmount","iRender","removeNode","createValue","source","isNode","RegExp","createText","Date","toISOString","createPlaceholder","createAll","item","createList","createItem","ltag","toLowerCase","mount","isValue","insertNode","updateProps","getLastNode","getFirstNode","replace","newTree","oldTree","next","parent","getParent","updateList","newList","mountedMap","src","index","findIndex","old","updateItem","splice","last","nextNode","updateAll","Math","min","max","all","draw","getSlots","slots","native","nativeList","el","renderSlots","createSlots","isProduction","setSlots","oldChildren","components","register","findComponent","globalComponents","getChildren","args","replaceNode","isRoot","argv","slotName","getComponents","Boolean","execSimple","nObject","slotMap","created","deliver","result","nodes","init","renderNode","getSlotRenderFn","renderFn","slotRenderFnList","newFn","call","exec","newDelivered","enumerable","child","slotRenderFn","getItem","postpone","normalize","createExposed","cfg","$parent","$component","$isContainer","$created","$destroyed","destroyed","$mounted","mounted","$unmounted","unmounted","completeList","setCompleteList","complete","createEntity","isContainer","writable","h","bind","config","EntityObject","container","WeakMap","parentDelivered","canRefresh","_delayedRefresh","needRefresh","_needRefresh","requestDraw","_refreshing","_render","_nodes","convert","_update","_destroy","destroy","__executed_destroy","_mount","__executed_mount","c","_cancelDrawMonitor","stop","_unmount","__executed_mounted","_draw","disabledKey","propsObj","newKeys","lastSlots","nativeNodes","createContext","initRender","changed","resultOnly","monitor","stopRender","ComponentEntity","encase","assign","_shadow","createComponent","_stopRender","markDraw","shadowTree","nativeTree","toElement","ContainerEntity","awaitDraw","requested","drawAll","rootContainer","_drawChildren","setChildren","setProps","_drawContainer","content","_node","_container","drawChildren","drawContainer","_cancelDrawContainerMonitor","_cancelDrawChildrenMonitor","_drawSelf","_needDraw","drawSelf","remove","_awaitDraw","markDrawContainer","needDraw","drawNode","_containers","containers","refs","r","params","target","Mark","mName","mSimple","installNeep","install$1","getId","updateId","removeAttribute","getClass","split","classes","oClasses","getAttribute","classList","setAttribute","join","updateClass","class","unit","getStyle","style","css","str","update$1","oStyle","cssText","removeProperty","setProperty","updateStyle","hasStyle","setAttrs","HTMLInputElement","checked","HTMLSelectElement","HTMLTextAreaElement","HTMLDetailsElement","open","HTMLMediaElement","muted","paused","pause","play","currentTime","num","Number","playbackRate","volume","stringify","data","isOn","toString","JSON","getAttrs","update$2","updateAttrs","createEventEmitter","__eventBind","getElementModel","currentTarget","indeterminate","updateEvent","prop","eventBind","addEventListener","removeEventListener","PropsMap","update$3","CSSStyleDeclaration","window","requestAnimationFrame","fs","xmlnsMap","svg","html","mathml","SVGTags","MathMLTags","tagname","namespace","ns","document","createElementNS","tagRegex","isTagName","Node","className","querySelector","Element","appendChild","body","log","oldTarget","newNode","pNode","text","createTextNode","createComment","attachShadow","mode","parentNode","nextSibling","insertBefore","removeChild","getRect","top","right","bottom","left","width","height","getBoundingClientRect","ShadowRoot","host","NeepInstall","Type","getTree","tagId","$label","placeholder","simple","isNative","standard","treeValue","special","getValue","TextNode","getKey","getLabels","labels","color","Tag","options","opened","getList","hasChildNodes","PlaceholderTag","labelList","template","scopeSlot","slotRender","asValue","creating","app","getData","$update","$mount","InsertableDeliver","initDelivers","contextConstructor","installContextConstructor","InsertView","insertable","contextInsertable","Insertable","installComponents","Neep","moduleList","version","info","order","groups","_groups","freeze","sort","oldList","slice","parentList","allList","view","View","Com1","customAttribute","Com2","Com3","App"],"mappings":";;;;;CAEO,MAAMA,QAAkB,GAAG;CACjCC,EAAAA,UAAU,GAAE;;CADqB,CAA3B;CAIQ,SAASC,eAAT,CACdC,KADc,EAEP;CACP,MAAI,CAACA,KAAL,EAAY;CAAE;CAAS;;CACvB,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;CAAE;CAAS;;CAC1C,QAAM;CAAEF,IAAAA;CAAF,MAAiBE,KAAvB;;CACA,MAAI,OAAOF,UAAP,KAAsB,UAA1B,EAAsC;CACrCD,IAAAA,QAAQ,CAACC,UAAT,GAAsBA,UAAtB;CACA;CACD;;;;;;;;;;;;;;;;;CCfc,MAAMG,SAAN,SAAwBC,KAAxB,CAA8B;CAE5CC,EAAAA,WAAW,CAACC,OAAD,EAAkBC,GAAW,GAAG,EAAhC,EAAoC;CAC9C,UAAMA,GAAG,GAAI,IAAIA,GAAK,KAAKD,OAAS,EAA3B,GAA+BA,OAAxC;;CAD8C;;CAE9C,SAAKC,GAAL,GAAWA,GAAX;CACA;;CAL2C;AAO7C,CAAO,SAASC,MAAT,CACNC,CADM,EAENH,OAFM,EAGNC,GAHM,EAIM;CACZ,MAAIE,CAAJ,EAAO;CAAE;CAAS;;CAClB,QAAM,IAAIN,SAAJ,CAAcG,OAAd,EAAuBC,GAAvB,CAAN;CACA;;CCXD,IAAIG,YAAJ;AACA,CAAO,SAASC,SAAT,CAAmBC,EAAnB,EAAyC;CAC/CJ,EAAAA,MAAM,CAACE,YAAD,EAAe,qCAAf,EAAsD,SAAtD,CAAN;;CACA,MAAIA,YAAJ,EAAkB;CACjBA,IAAAA,YAAY,CAACE,EAAD,CAAZ;CACA;CACD;AAED,CAAO,MAAMC,OAAgC,GAC1CC,MAAM,CAACC,MAAP,CAAc,IAAd,CADI;AAGP,CAAO,SAASC,SAAT,CACNC,IAA+B,GAAG,EAD5B,EAEI;CACV,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;CAAE,WAAOA,IAAP;CAAc;;CAC9C,SAAOJ,OAAO,CAACI,IAAD,CAAP,IAAiBJ,OAAO,CAACK,OAAhC;CACA;AAED,CAAe,SAASC,aAAT,CAAuBC,MAAvB,EAA+C;CAC7D,MAAI,CAACA,MAAL,EAAa;CAAE;CAAS;;CACxBP,EAAAA,OAAO,CAACO,MAAM,CAACH,IAAR,CAAP,GAAuBG,MAAvB;;CACA,MAAIV,YAAJ,EAAkB;CAAE;CAAS;;CAC7B,MAAI,CAACG,OAAO,CAACK,OAAb,EAAsB;CACrBL,IAAAA,OAAO,CAACK,OAAR,GAAkBE,MAAlB;CACA;;CACD,MAAI,CAACV,YAAD,IAAiBU,MAAM,CAACT,SAA5B,EAAuC;CACtCE,IAAAA,OAAO,CAACK,OAAR,GAAkBE,MAAlB;CACAV,IAAAA,YAAY,GAAGU,MAAM,CAACT,SAAtB;CACA;CAED;;;;;;;AChCD,CACA;;CACO,SAAA,UAAA,CAAA,IAAA,EAA+B;AACrC;CAIAU,EAAAA,OAAO,CAAPA,KAAAA,CAAAA,IAAAA;CACA;CAcD;;;CACO,SAAA,OAAA,CAAA,EAAA,EAEc;CACpB,SAAO,CAAC,GAAD,CAAA,KAAU;CAChB,QAAI;CACHT,MAAAA,EAAE,CAAC,GAAHA,CAAE,CAAFA;CADD,KAAA,CAEE,OAAA,CAAA,EAAS;CACVU,MAAAA,UAAU,CAAVA,CAAU,CAAVA;CACA;CALF,GAAA;CAOA;;CACM,SAAA,UAAA,CAAA,MAAA,EAAA,IAAA,EAGuD;CAC7D,MAAI,CAAJ,MAAA,EAAa;CAAE,WAAA,SAAA;CAAmB;;CAClC,MAAI,OAAA,MAAA,KAAA,UAAA,IAAgC,OAAA,MAAA,KAApC,QAAA,EAAgE;CAC/D,WAAA,SAAA;CACA;;CACD,MAAI,OAAA,IAAA,KAAJ,QAAA,EAA8B;CAAE,WAAO,CAAA,MAAA,EAASC,MAAM,CAAtB,IAAsB,CAAf,CAAP;CAAgC;;CAChE,MAAI,OAAA,IAAA,KAAJ,QAAA,EAA8B;CAAE,WAAO,CAAA,MAAA,EAAP,IAAO,CAAP;CAAwB;;CACxD,MAAI,OAAA,IAAA,KAAJ,QAAA,EAA8B;CAAE,WAAO,CAAA,MAAA,EAAP,IAAO,CAAP;CAAwB;;CACxD,MAAI,OAAA,IAAA,KAAJ,SAAA,EAA+B;CAAE,WAAO,CAAA,MAAA,EAAP,IAAO,CAAP;CAAwB;;CACzD,SAAA,SAAA;CACA;;CAWM,SAAA,WAAA,CAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAIF;CACJ,MAAIC,GAAG,CAAHA,GAAAA,CAAJ,GAAIA,CAAJ,EAAyB;CACxB,WAAOA,GAAG,CAAHA,GAAAA,CAAP,GAAOA,CAAP;CACA;;CACD,QAAMC,KAAK,GAAGC,GAAd,EAAA;CACAF,EAAAA,GAAG,CAAHA,GAAAA,CAAAA,GAAAA,EAAAA,KAAAA;CACA,SAAA,KAAA;CACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CChEc,SAASG,kBAAT,CACdC,GADc,EAEP;;CCYO,SAASC,OAAT,CAAiBC,IAAjB,EAA6C;CAC3DH,EAAAA,kBAAkB,CAACG,IAAI,CAACC,WAAN,CAAlB;CACAZ,EAAAA,aAAa,CAACW,IAAI,CAACV,MAAN,CAAb;;CACA,EAAmB;CAClBnB,IAAAA,eAAe,CAAC6B,IAAI,CAAC/B,QAAN,CAAf;CACA;CACD;;CCvBD;AACA,CAAO,IAAIiC,OAAJ;AACP,CAAO,SAASC,UAAT,CACNrB,EADM,EAENsB,MAFM,EAGF;CACJ,QAAMC,SAAS,GAAGH,OAAlB;CACAA,EAAAA,OAAO,GAAGE,MAAV;;CACA,MAAI;CACHF,IAAAA,OAAO,CAACI,YAAR,GAAuB,CAAvB;CACAJ,IAAAA,OAAO,CAACK,cAAR,GAAyB,CAAzB;CACA,UAAMC,GAAG,GAAG1B,EAAE,EAAd;;CACA,QAAIoB,OAAO,CAACI,YAAR,KAAyBJ,OAAO,CAACO,QAAR,CAAiBC,MAA9C,EAAsD;CACrD,YAAM,IAAIrC,SAAJ,CACL,4CADK,EAEL,MAFK,CAAN;CAIA;;CACD,QACC6B,OAAO,CAACK,cAAR,IACAL,OAAO,CAACK,cAAR,KAA2BL,OAAO,CAACS,UAAR,CAAmBD,MAF/C,EAEuD;CACtD,YAAM,IAAIrC,SAAJ,CACL,8CADK,EAEL,MAFK,CAAN;CAIA;;CACD,WAAOmC,GAAP;CACA,GAnBD,SAmBU;CACTN,IAAAA,OAAO,GAAGG,SAAV;CACA;CACD;;CC9BD,MAAMO,YAAkC,GAAG,EAA3C;AACA,CAAO,SAASC,WAAT,CACNC,OADM,EAENV,MAFM,EAGI;CACV,OAAK,MAAM7B,WAAX,IAA0BqC,YAA1B,EAAwC;CACvCrC,IAAAA,WAAW,CAACuC,OAAD,EAAUV,MAAV,CAAX;CACA;;CACD,SAAOU,OAAP;CACA;AACD,CAAO,SAASC,qBAAT,CACNxC,WADM,EAEC;CACPqC,EAAAA,YAAY,CAACI,IAAb,CAAkBC,OAAO,CAAC1C,WAAD,CAAzB;CACA;;CCdD,MAAMqC,cAAiC,GAAG,EAA1C;AACA,CAAO,SAASM,UAAT,CACNd,MADM,EAEG;CACT,OAAK,MAAM7B,WAAX,IAA0BqC,cAA1B,EAAwC;CACvCrC,IAAAA,WAAW,CAAC6B,MAAD,CAAX;CACA;;CACD,SAAOA,MAAP;CACA;;CCTD,IAAIe,cAAc,GAAG,CAArB;CACA,MAAMC,SAAS,GAAG,IAAIC,GAAJ,EAAlB;AACA,CAAO,SAASC,MAAT,CAAcC,GAAd,EAA0C;CAChD,MAAIJ,cAAc,IAAI,CAAtB,EAAyB;CAAE,WAAO,KAAP;CAAe;;CAC1CC,EAAAA,SAAS,CAACI,GAAV,CAAcD,GAAd;CACA,SAAO,IAAP;CACA;;CACD,SAASE,KAAT,GAAqB;CACpB,MAAIN,cAAc,GAAG,CAArB,EAAwB;CAAE;CAAS;;CACnC,QAAMO,IAAI,GAAG,CAAC,GAAGN,SAAJ,CAAb;CACAA,EAAAA,SAAS,CAACO,KAAV;CACAD,EAAAA,IAAI,CAACE,OAAL,CAAaC,CAAC,IAAIA,CAAC,CAACC,OAAF,EAAlB;CACA;;CACD,eAAeC,YAAf,CAA+BC,CAA/B,EAAwE;CACvE,MAAI;CACHb,IAAAA,cAAc;CACd,WAAO,MAAMa,CAAC,EAAd;CACA,GAHD,SAGU;CACTb,IAAAA,cAAc;CACdM,IAAAA,KAAG;CACH;CACD;;AAUD,CAAe,SAASK,OAAT,CACdE,CADc,EAEdC,KAFc,EAGO;CACrB,MAAIA,KAAJ,EAAW;CAAE,WAAOF,YAAY,CAACC,CAAD,CAAnB;CAAyB;;CACtC,MAAI;CACHb,IAAAA,cAAc;CACd,WAAOa,CAAC,EAAR;CACA,GAHD,SAGU;CACTb,IAAAA,cAAc;CACdM,IAAAA,KAAG;CACH;CACD;;CCzCD,SAASS,YAAT,CAAsBC,CAAtB,EAAyC;CACxC,MAAIA,CAAC,CAAC,CAAD,CAAD,KAAS,GAAb,EAAkB;CAAE,WAAOA,CAAC,CAACC,MAAF,CAAS,CAAT,CAAP;CAAqB;;CACzC,MAAI,UAAUC,IAAV,CAAeF,CAAf,CAAJ,EAAuB;CAAE,WAAOA,CAAC,CAACC,MAAF,CAAS,CAAT,CAAP;CAAqB;;CAC9C,MAAI,mBAAmBC,IAAnB,CAAwBF,CAAxB,CAAJ,EAAgC;CAAE,WAAOA,CAAC,CAACC,MAAF,CAAS,CAAT,CAAP;CAAqB;;CACvD,SAAO,EAAP;CACA;;CAQD,SAASE,sBAAT,CACCC,QADD,EAECC,MAFD,EAGQ;CACP,MAAI,CAACA,MAAL,EAAa;CAAE;CAAS;;CACxB,MAAI,OAAOA,MAAP,KAAkB,UAAtB,EAAkC;CACjC,UAAM;CAAEC,MAAAA;CAAF,QAAYD,MAAlB;;CACA,QAAI,CAACE,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAL,EAA2B;CAAE;CAAS;;CACtC,SAAK,MAAMG,CAAX,IAAgBH,KAAhB,EAAuB;CACtB,UAAI,CAACG,CAAL,EAAQ;CAAE;CAAW;;CACrBL,MAAAA,QAAQ,CAACK,CAAD,EAAI,CAAC,GAAGC,CAAJ,KAAUL,MAAM,CAACI,CAAD,EAAI,GAAGC,CAAP,CAApB,CAAR;CACA;;CACD;CACA;;CACD,MAAI,OAAOL,MAAP,KAAkB,QAAtB,EAAgC;CAAE;CAAS;;CAC3C,OAAK,MAAML,CAAX,IAAgBnD,MAAM,CAAC8D,IAAP,CAAYN,MAAZ,CAAhB,EAAqC;CACpC,UAAMR,CAAC,GAAGQ,MAAM,CAACL,CAAD,CAAhB;;CACA,QAAI,OAAOH,CAAP,KAAa,UAAjB,EAA6B;CAAE;CAAW;;CAC1CO,IAAAA,QAAQ,CAACJ,CAAD,EAAIH,CAAJ,CAAR;CACA;CAED;;AAED,CAAe,MAAMe,YAAN,CAEb;CACD,SAAOC,MAAP,CACCC,OADD,EAECT,MAFD,EAGkB;CACjB,QAAI,CAACA,MAAL,EAAa;CAAE,aAAO,EAAP;CAAY;;CAC3B,UAAMU,UAA0B,GAAG,EAAnC;;CACA,QAAIV,MAAM,IAAI,OAAOA,MAAP,KAAkB,QAAhC,EAA0C;CACzC,WAAK,MAAMI,CAAX,IAAgB5D,MAAM,CAAC8D,IAAP,CAAYN,MAAZ,CAAhB,EAAqC;CACpC,YAAI,CAACI,CAAL,EAAQ;CAAE;CAAW;;CACrB,cAAM9D,EAAE,GAAG0D,MAAM,CAACI,CAAD,CAAjB;;CACA,YAAI,OAAO9D,EAAP,KAAc,UAAlB,EAA8B;CAAE;CAAW;;CAC3CoE,QAAAA,UAAU,CAAClC,IAAX,CAAgBiC,OAAO,CAACE,EAAR,CAAWP,CAAX,EAAc9D,EAAd,CAAhB;CACA;CACD;;CACD,WAAOoE,UAAP;CACA;;CACD,SAAOE,aAAP,CACCH,OADD,EAECI,KAFD,EAGCC,MAHD,EAIkB;CACjB,QAAI,CAACD,KAAL,EAAY;CAAE,aAAO,EAAP;CAAY;;CAE1B,UAAMH,UAA0B,GAAG,EAAnC;;CAEA,aAASX,QAAT,CACCgB,OADD,EAECC,QAFD,EAGQ;CACPN,MAAAA,UAAU,CAAClC,IAAX,CAAgBiC,OAAO,CAACE,EAAR,CAAWI,OAAX,EAAoBC,QAApB,CAAhB;CACA;;CACD,SAAK,MAAMrB,CAAX,IAAgBnD,MAAM,CAAC8D,IAAP,CAAYO,KAAZ,CAAhB,EAAoC;CACnC,YAAMvE,EAAE,GAAGuE,KAAK,CAAClB,CAAD,CAAhB;;CACA,UAAI,OAAOrD,EAAP,KAAc,UAAlB,EAA8B;CAAE;CAAW;;CAC3C,YAAMyE,OAAO,GAAGrB,YAAY,CAACC,CAAD,CAA5B;;CACA,UAAI,CAACoB,OAAL,EAAc;CAAE;CAAW;;CAC3BhB,MAAAA,QAAQ,CAACgB,OAAD,EAAUzE,EAAV,CAAR;CACA;;CACDwD,IAAAA,sBAAsB,CAACC,QAAD,EAAWc,KAAK,CAAC,GAAD,CAAhB,CAAtB;CACAf,IAAAA,sBAAsB,CAACC,QAAD,EAAWc,KAAK,CAAC,MAAD,CAAhB,CAAtB;CACAf,IAAAA,sBAAsB,CAACC,QAAD,EAAWc,KAAK,CAAC,MAAD,CAAhB,CAAtB;;CACA,QAAI,OAAOC,MAAP,KAAkB,UAAtB,EAAkC;CACjCA,MAAAA,MAAM,CAACf,QAAD,CAAN;CACA;;CACDW,IAAAA,UAAU,CAAClC,IAAX,CAAgB,GAAG+B,YAAY,CAACC,MAAb,CAAoBC,OAApB,EAA6BI,KAAK,CAAC,GAAD,CAAlC,CAAnB;CACA,WAAOH,UAAP;CACA;;CAID,MAAIT,KAAJ,GAAyB;CACxB,WAAO,CAAC,GAAG,KAAKgB,MAAT,CAAP;CACA;;CAGDlF,EAAAA,WAAW,GAAG;CAAA,oCAPY,IAAI8C,GAAJ,EAOZ;;CAAA,4CANoB,IAAIA,GAAJ,EAMpB;;CAAA;;CAAA;;CACb,UAAMmB,MAAoD,GAAGxD,MAAM,CAACC,MAAP,CAAc,IAAd,CAA7D;CACA,UAAMwD,KAAK,GAAG,KAAKgB,MAAnB;;CAEA,aAASC,UAAT,CACC,GAAGC,SADJ,EAEW;CACV,eAASC,IAAT,CAAiCC,IAAjC,EAA0C,GAAGhB,CAA7C,EAA+D;CAC9D,cAAMiB,KAAK,GAAGtB,MAAM,CAACqB,IAAD,CAApB;;CACA,YAAI,CAACC,KAAL,EAAY;CAAE,iBAAO,IAAP;CAAc;;CAC5B,eAAOhC,OAAO,CAAC,MAAM;CACpB,cAAIiC,GAAG,GAAG,IAAV;;CACA,eAAK,MAAMjF,EAAX,IAAiB,CAAC,GAAGgF,KAAJ,CAAjB,EAA6B;CAC5BC,YAAAA,GAAG,GAAGjF,EAAE,CAAC,GAAG+D,CAAJ,CAAF,IAAYkB,GAAlB;CACA;;CACD,iBAAOA,GAAP;CACA,SANa,CAAd;CAOA;;CACDH,MAAAA,IAAI,CAACI,IAAL,GAAY,CAAC,GAAGvB,KAAJ,KACXiB,UAAU,CAAC,GAAGC,SAAJ,EAAe,GAAGlB,KAAlB,CADX;;CAEAwB,MAAAA,OAAO,CAACC,cAAR,CAAuBN,IAAvB,EAA6B,OAA7B,EAAsC;CACrCO,QAAAA,GAAG,EAAC,MAAM;CACTC,UAAAA,QAAQ,CAACV,UAAD,EAAa,OAAb,CAAR;CACA,iBAAO,CAAC,GAAGjB,KAAJ,EACL4B,MADK,CACEC,CAAC,IAAI,CAACX,SAAS,CAACY,QAAV,CAAmBD,CAAnB,CADR,CAAP;CAEA,SALoC;CAMrCE,QAAAA,YAAY,EAAE;CANuB,OAAtC;CAQA,aAAOZ,IAAP;CACA;;CACD,UAAMT,EAAS,GAAG,CAACU,IAAD,EAAOL,QAAP,KAAgC;CAAA;;CACjD,eAAS1E,EAAT,CAAY,GAAG+D,CAAf,EAAwD;CACvD,YAAI;CACH,iBAAOW,QAAQ,CAAC,GAAGX,CAAJ,CAAR,KAAmB,KAA1B;CACA,SAFD,CAEE,OAAO4B,CAAP,EAAU;CACXjF,UAAAA,UAAU,CAACiF,CAAD,CAAV;CACA,iBAAO,IAAP;CACA;CACD;;CACD,UAAIX,KAAK,GAAGtB,MAAM,CAACqB,IAAD,CAAlB;;CACA,UAAI,YAACC,KAAD,2CAAC,OAAOY,IAAR,CAAJ,EAAkB;CACjBZ,QAAAA,KAAK,GAAG,IAAIzC,GAAJ,EAAR;CACAmB,QAAAA,MAAM,CAACqB,IAAD,CAAN,GAAeC,KAAf;CACAa,QAAAA,UAAU,CAACjB,UAAD,EAAa,OAAb,CAAV;CACAjB,QAAAA,KAAK,CAACjB,GAAN,CAAUqC,IAAV;CACA;;CACDC,MAAAA,KAAK,CAACtC,GAAN,CAAU1C,EAAV;CACA,UAAI8F,OAAO,GAAG,KAAd;CACA,aAAO,MAAM;CACZ,YAAIA,OAAJ,EAAa;CAAE;CAAS;;CACxBA,QAAAA,OAAO,GAAG,IAAV;CACAd,QAAAA,KAAK,CAACe,MAAN,CAAa/F,EAAb;;CACA,YAAIgF,KAAK,CAACY,IAAV,EAAgB;CAAE;CAAS;;CAC3BC,QAAAA,UAAU,CAACjB,UAAD,EAAa,OAAb,CAAV;CACAjB,QAAAA,KAAK,CAACoC,MAAN,CAAahB,IAAb;CACA,OAPD;CAQA,KA1BD;;CA2BA,SAAKD,IAAL,GAAYF,UAAU,EAAtB;CACA,SAAKP,EAAL,GAAUA,EAAV;CACA;;CACD2B,EAAAA,aAAa,CAAC5B,UAAD,EAA6C;CACzD,UAAM6B,kBAAkB,GAAG,KAAKC,cAAhC;CACA,UAAMC,UAAU,GAAG,CAAC,GAAGF,kBAAJ,CAAnB;CACAA,IAAAA,kBAAkB,CAACpD,KAAnB;;CACA,SAAK,MAAM7C,EAAX,IAAiBmG,UAAjB,EAA6B;CAAEnG,MAAAA,EAAE;CAAK;;CACtCoE,IAAAA,UAAU,CAACtB,OAAX,CAAmBI,CAAC,IAAI+C,kBAAkB,CAACvD,GAAnB,CAAuBQ,CAAvB,CAAxB;CACA,WAAOkB,UAAP;CACA;;CACDF,EAAAA,MAAM,CAACtB,IAAD,EAA4B;CACjC,UAAMwD,OAAO,GAAGnC,YAAY,CAACC,MAAb,CAAoB,IAApB,EAA0BtB,IAA1B,CAAhB;CACA,WAAO,KAAKoD,aAAL,CAAmBI,OAAnB,CAAP;CACA;;CACD9B,EAAAA,aAAa,CACZ1B,IADY,EAEZ4B,MAFY,EAGK;CACjB,UAAM4B,OAAO,GAAGnC,YAAY,CAACK,aAAb,CAA2B,IAA3B,EAAiC1B,IAAjC,EAAuC4B,MAAvC,CAAhB;CACA,WAAO,KAAKwB,aAAL,CAAmBI,OAAnB,CAAP;CACA;;CAtIA;;CC1CK,MAAMC,SAAS,GAAG,gBAAlB;AACP,CAAO,MAAMC,UAAU,GAAG,iBAAnB;AACP,CAAO,MAAMC,IAAI,GAAG,WAAb;AACP,CAAO,MAAMC,KAAK,GAAG,YAAd;AACP,CAAO,MAAMC,SAAS,GAAG,gBAAlB;AACP,CAAO,MAAMC,QAAQ,GAAG,UAAjB;AACP,CAAO,MAAMC,QAAQ,GAAGD,QAAjB;;CCJP,MAAME,KAAgC,GAAG1G,MAAM,CAACC,MAAP,CAAc,IAAd,CAAzC;AAaA,CAAO,SAAS0G,OAAT,CACNC,EADM,EAENC,IAFM,EAGNzF,MAHM,EAIO;CACb,MAAIsB,IAAI,GAAG,CAAAtB,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAE0F,OAAR,KAAmBJ,KAA9B;;CACA,MAAI,CAAChE,IAAL,EAAW;CAAE,WAAO,MAAM,EAAb;CAAkB;;CAC/BmE,EAAAA,IAAI,GAAG5E,OAAO,CAAC4E,IAAD,CAAd;CACA,MAAIE,GAAG,GAAGrE,IAAI,CAACkE,EAAD,CAAd;;CACA,MAAI,CAACG,GAAL,EAAU;CACTA,IAAAA,GAAG,GAAG,IAAI1E,GAAJ,EAAN;CACAK,IAAAA,IAAI,CAACkE,EAAD,CAAJ,GAAWG,GAAX;CACA;;CACDA,EAAAA,GAAG,CAACvE,GAAJ,CAAQqE,IAAR;CACA,SAAO,MAAME,GAAG,CAAClB,MAAJ,CAAWgB,IAAX,CAAb;CACA;AAOD,CAAO,SAASG,QAAT,CAAkBJ,EAAlB,EAA8BK,OAA9B,EAAqD;CAC3D,MAAI,CAACA,OAAL,EAAc;CAAE;CAAS;;CACzB,OAAK,MAAMJ,IAAX,IAAmBI,OAAO,CAACH,OAAR,CAAgBF,EAAhB,KAAuB,EAA1C,EAA8C;CAC7CC,IAAAA,IAAI,CAACI,OAAD,CAAJ;CACA;;CACD,OAAK,MAAMJ,IAAX,IAAmBH,KAAK,CAACE,EAAD,CAAL,IAAa,EAAhC,EAAoC;CACnCC,IAAAA,IAAI,CAACI,OAAD,CAAJ;CACA;CACD;;CC7CM,MAAMC,UAAU,GAAGC,MAAM,CAACC,GAAP,CAAW,MAAX,CAAnB;AACP,CAAO,MAAMC,UAAU,GAAGF,MAAM,CAACC,GAAP,CAAW,MAAX,CAAnB;AACP,CAAO,MAAME,YAAY,GAAGH,MAAM,CAACC,GAAP,CAAW,QAAX,CAArB;AACP,CAAO,MAAMG,gBAAgB,GAAGJ,MAAM,CAACC,GAAP,CAAW,YAAX,CAAzB;AACP,CAAO,MAAMI,YAAY,GAAGL,MAAM,CAACC,GAAP,CAAW,QAAX,CAArB;AAEP,CAAO,MAAMK,gBAAgB,GAAGN,MAAM,CAACC,GAAP,CAAW,kBAAX,CAAzB;AACP,CAAO,MAAMM,uBAAuB,GAAG,yBAAhC;AACP,CAAO,MAAMC,uBAAuB,GAAG,yBAAhC;AAEP,CAAO,MAAMC,gBAAgB,GAAGT,MAAM,CAACC,GAAP,CAAW,kBAAX,CAAzB;AACP,CAAO,MAAMS,oBAAoB,GAAGV,MAAM,CAACC,GAAP,CAAW,sBAAX,CAA7B;;CCHP;;;;AAGA,CAAO,SAASU,SAAT,CAAmBnI,CAAnB,EAA6C;CACnD,MAAI,CAACA,CAAL,EAAQ;CAAE,WAAO,KAAP;CAAe;;CACzB,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;CAAE,WAAO,KAAP;CAAe;;CAC5C,SAAOA,CAAC,CAAC8H,gBAAD,CAAD,KAAwBC,uBAA/B;CACA;AACD,CASO,SAASK,aAAT,CACNtI,GADM,EAENuI,KAFM,EAGN,GAAGC,QAHG,EAIQ;CACd,QAAM5D,KAAK,GAAG2D,KAAK,GAAG,EAAC,GAAGA;CAAJ,GAAH,GAAgB,EAAnC;CACA,QAAME,IAAiB,GAAG;CACzB,KAACT,gBAAD,GAAoBC,uBADK;CAEzBjI,IAAAA,GAFyB;CAGzB0I,IAAAA,GAAG,EAAEC,SAHoB;CAIzB/D,IAAAA,KAJyB;CAKzB4D,IAAAA;CALyB,GAA1B;;CAOA,MAAI,WAAW5D,KAAf,EAAsB;CAAE6D,IAAAA,IAAI,CAACC,GAAL,GAAW9D,KAAK,CAAC,OAAD,CAAhB;CAA4B,GAApD,MACK,IAAI,WAAWA,KAAf,EAAsB;CAAE6D,IAAAA,IAAI,CAACC,GAAL,GAAW9D,KAAK,CAAC,OAAD,CAAhB;CAA4B,GAApD,MACA,IAAI,SAASA,KAAb,EAAoB;CAAE6D,IAAAA,IAAI,CAACC,GAAL,GAAW9D,KAAK,CAAC8D,GAAjB;CAAuB;;CAClD,MAAI,YAAY9D,KAAhB,EAAuB;CAAE6D,IAAAA,IAAI,CAACG,IAAL,GAAYhE,KAAK,CAAC,QAAD,CAAjB;CAA8B,GAAvD,MACK,IAAI,YAAYA,KAAhB,EAAuB;CAAE6D,IAAAA,IAAI,CAACG,IAAL,GAAYhE,KAAK,CAAC,QAAD,CAAjB;CAA8B,GAAvD,MACA,IAAI,UAAUA,KAAd,EAAqB;CAAE6D,IAAAA,IAAI,CAACG,IAAL,GAAYhE,KAAK,CAACgE,IAAlB;CAAyB;;CACrD,MAAI,OAAOhE,KAAK,CAAC,OAAD,CAAZ,KAA0B,UAA9B,EAA0C;CACzC6D,IAAAA,IAAI,CAACI,GAAL,GAAWjE,KAAK,CAAC,OAAD,CAAhB;CACA,GAFD,MAEO,IAAI,OAAOA,KAAK,CAAC,OAAD,CAAZ,KAA0B,UAA9B,EAA0C;CAChD6D,IAAAA,IAAI,CAACI,GAAL,GAAWjE,KAAK,CAAC,OAAD,CAAhB;CACA,GAFM,MAEA,IAAI,OAAOA,KAAK,CAACiE,GAAb,KAAqB,UAAzB,EAAqC;CAC3CJ,IAAAA,IAAI,CAACI,GAAL,GAAWjE,KAAK,CAACiE,GAAjB;CACA;;CACD,MAAI7I,GAAG,KAAK6G,KAAZ,EAAmB;CAClB4B,IAAAA,IAAI,CAACvH,KAAL,GAAa0D,KAAK,CAAC1D,KAAnB;CACA;;CACD,SAAOuH,IAAP;CACA;AAED;CA8BA,SAASK,UAAT,CAAoBC,CAApB,EAA4BC,CAA5B,EAA6C;CAC5C,MAAIzI,MAAM,CAAC0I,EAAP,CAAUF,CAAV,EAAaC,CAAb,CAAJ,EAAqB;CAAE,WAAO,IAAP;CAAc;;CACrC,MAAI,CAACD,CAAL,EAAQ;CAAE,WAAO,KAAP;CAAe;;CACzB,MAAI,CAACC,CAAL,EAAQ;CAAE,WAAO,KAAP;CAAe;;CACzB,MAAI,OAAOD,CAAP,KAAa,QAAjB,EAA2B;CAAE,WAAO,KAAP;CAAe;;CAC5C,MAAI,OAAOC,CAAP,KAAa,QAAjB,EAA2B;CAAE,WAAO,KAAP;CAAe;;CAC5C,QAAME,KAAK,GAAG,IAAItG,GAAJ,CAAQ4C,OAAO,CAAC2D,OAAR,CAAgBJ,CAAhB,CAAR,CAAd;CACA,QAAMK,KAAK,GAAG5D,OAAO,CAAC2D,OAAR,CAAgBH,CAAhB,CAAd;;CACA,MAAIE,KAAK,CAACjD,IAAN,KAAemD,KAAK,CAACnH,MAAzB,EAAiC;CAAE,WAAO,KAAP;CAAe;;CAClD,OAAK,MAAMyB,CAAX,IAAgB0F,KAAhB,EAAuB;CACtB,QAAI,CAACF,KAAK,CAACG,GAAN,CAAU3F,CAAV,CAAL,EAAmB;CAAE,aAAO,KAAP;CAAe;;CACpC,QAAIqF,CAAC,CAACrF,CAAD,CAAD,KAASsF,CAAC,CAACtF,CAAD,CAAd,EAAmB;CAAE,aAAO,KAAP;CAAe;CACpC;;CACD,SAAO,IAAP;CACA;;AACD,CAAO,SAAS4F,KAAT,CAAeP,CAAf,EAAuBC,CAAvB,EAAwC;CAC9C,MAAIzI,MAAM,CAAC0I,EAAP,CAAUF,CAAV,EAAaC,CAAb,CAAJ,EAAqB;CAAE,WAAO,IAAP;CAAc;;CACrC,MAAI,CAACD,CAAL,EAAQ;CAAE,WAAO,KAAP;CAAe;;CACzB,MAAI,CAACC,CAAL,EAAQ;CAAE,WAAO,KAAP;CAAe;;CACzB,MAAI,OAAOD,CAAP,KAAa,QAAjB,EAA2B;CAAE,WAAO,KAAP;CAAe;;CAC5C,MAAI,OAAOC,CAAP,KAAa,QAAjB,EAA2B;CAAE,WAAO,KAAP;CAAe;;CAC5C,MAAI/E,KAAK,CAACC,OAAN,CAAc6E,CAAd,CAAJ,EAAsB;CACrB,QAAI,CAAC9E,KAAK,CAACC,OAAN,CAAc8E,CAAd,CAAL,EAAuB;CAAE,aAAO,KAAP;CAAe;;CACxC,QAAID,CAAC,CAAC9G,MAAF,KAAa+G,CAAC,CAAC/G,MAAnB,EAA2B;CAAE,aAAO,KAAP;CAAe;;CAC5C,SAAK,IAAIsH,CAAC,GAAGR,CAAC,CAAC9G,MAAF,GAAW,CAAxB,EAA2BsH,CAAC,IAAI,CAAhC,EAAmCA,CAAC,EAApC,EAAwC;CACvC,UAAI,CAACD,KAAK,CAACP,CAAC,CAACQ,CAAD,CAAF,EAAOP,CAAC,CAACO,CAAD,CAAR,CAAV,EAAwB;CAAE,eAAO,KAAP;CAAe;CACzC;;CACD,WAAO,IAAP;CACA;;CACD,MAAItF,KAAK,CAACC,OAAN,CAAc8E,CAAd,CAAJ,EAAsB;CAAE,WAAO,KAAP;CAAe;;CACvC,MAAI,CAACX,SAAS,CAACU,CAAD,CAAd,EAAmB;CAAE,WAAO,KAAP;CAAe;;CACpC,MAAI,CAACV,SAAS,CAACW,CAAD,CAAd,EAAmB;CAAE,WAAO,KAAP;CAAe;;CACpC,MAAID,CAAC,CAAC/I,GAAF,KAAUgJ,CAAC,CAAChJ,GAAhB,EAAqB;CAAE,WAAO,KAAP;CAAe;;CACtC,MAAI+I,CAAC,CAACS,MAAF,KAAaR,CAAC,CAACQ,MAAnB,EAA2B;CAAE,WAAO,KAAP;CAAe;;CAC5C,MAAIT,CAAC,CAACU,QAAF,KAAeT,CAAC,CAACS,QAArB,EAA+B;CAAE,WAAO,KAAP;CAAe;;CAChD,MAAIV,CAAC,CAACF,GAAF,KAAUG,CAAC,CAACH,GAAhB,EAAqB;CAAE,WAAO,KAAP;CAAe;;CACtC,MAAIE,CAAC,CAAC7H,KAAF,KAAY8H,CAAC,CAAC9H,KAAlB,EAAyB;CAAE,WAAO,KAAP;CAAe;;CAC1C,MAAI6H,CAAC,CAACL,GAAF,KAAUM,CAAC,CAACN,GAAhB,EAAqB;CAAE,WAAO,KAAP;CAAe;;CACtC,MAAIK,CAAC,CAACH,IAAF,KAAWI,CAAC,CAACJ,IAAjB,EAAuB;CAAE,WAAO,KAAP;CAAe;;CACxC,SAAOE,UAAU,CAACC,CAAC,CAACnE,KAAH,EAAUoE,CAAC,CAACpE,KAAZ,CAAV,IACH0E,KAAK,CAACP,CAAC,CAACP,QAAH,EAAaQ,CAAC,CAACR,QAAf,CADT;CAEA;;CChID,IAAIkB,KAAJ;AACA,CAIO,SAASC,QAAT,GAAkC;CACxC,QAAMC,CAAC,GAAGF,KAAV;CACAA,EAAAA,KAAK,GAAGf,SAAR;CACA,SAAOiB,CAAP;CACA;;CCIM,SAASC,aAAT,CAA0B1I,GAA1B,EAA8C;CACpD,QAAM2I,MAAM,GAAGpC,MAAM,EAArB;;CAEA,WAASqC,QAAT,CACCC,CADD,EAEC;CAAEC,IAAAA;CAAF,GAFD,EAGc;CACb,WAAOA,UAAP;CACA;;CACDzE,EAAAA,OAAO,CAACC,cAAR,CAAuBsE,QAAvB,EAAiC/B,gBAAjC,EAAmD;CAClD9G,IAAAA,KAAK,EAAEgH;CAD2C,GAAnD;CAGA1C,EAAAA,OAAO,CAACC,cAAR,CAAuBsE,QAAvB,EAAiC5B,gBAAjC,EAAmD;CAClDjH,IAAAA,KAAK,EAAE4I;CAD2C,GAAnD;CAGAtE,EAAAA,OAAO,CAACC,cAAR,CAAuBsE,QAAvB,EAAiC3B,oBAAjC,EAAuD;CACtDlH,IAAAA,KAAK,EAAEC;CAD+C,GAAvD;CAGA,SAAO4I,QAAP;CACA;AAED,CAAO,SAASG,SAAT,CAAmBC,CAAnB,EAA8C;CACpD,MAAI,OAAOA,CAAP,KAAa,UAAjB,EAA6B;CAAE,WAAO,KAAP;CAAe;;CAC9C,SAAOA,CAAC,CAACnC,gBAAD,CAAD,KAAwBE,uBAA/B;CACA;AAED,CAAO,SAASkC,YAAT,CAAyBC,SAAzB,EAAyCC,OAAzC,EAAiE;CACvErK,EAAAA,MAAM,CAACiK,SAAS,CAACI,OAAD,CAAV,EAAqB,EAArB,CAAN;CACA,QAAMpJ,KAAK,GAAGmJ,SAAS,CAACC,OAAO,CAACnC,gBAAD,CAAR,CAAvB;CACA,SAAOjH,KAAK,KAAKyH,SAAV,GAAsB2B,OAAO,CAAClC,oBAAD,CAA7B,GAAsDlH,KAA7D;CACA;;CCxCD,IAAIqJ,GAAG,GAAG,CAAV;CACA,MAAMC,KAAmC,GAAG,EAA5C;CACA,IAAIC,KAAJ;;AACA,CAAmB;CAClBA,EAAAA,KAAK,GAAG,IAAIC,GAAJ,EAAR;CACA;;AACD,CAAO,SAASC,iBAAT,CACNxG,CADM,EAENgD,EAFM,EAGQ;CACd,EAAmB;CAClBA,IAAAA,EAAE,GAAGA,EAAE,IAAI,EAAEoD,GAAb;CACA,UAAM;CAAE9B,MAAAA;CAAF,QAAWtE,CAAjB;;CACA,QAAIsE,IAAI,IAAIgC,KAAZ,EAAmB;CAAEA,MAAAA,KAAK,CAACnD,GAAN,CAAUmB,IAAV,EAAgBtB,EAAhB;CAAsB;;CAC3C,WAAOqD,KAAK,CAACrD,EAAD,CAAL,GAAY,EAAC,GAAGhD,CAAJ;CAAOgD,MAAAA;CAAP,KAAnB;CACA;CAED;AAED,CAAO,SAASyD,mBAAT,CAA6BnC,IAA7B,EAAsD;CAC5D,EAAmB;CAClB,WAAO+B,KAAK,CAAC/B,IAAI,CAACtB,EAAN,CAAZ;CACA;CACD;;CCvBM,UAAU0D,kBAAV,CACN5H,IADM,EAEQ;CACd,MAAI,CAACgB,KAAK,CAACC,OAAN,CAAcjB,IAAd,CAAL,EAA0B;CACzB,UAAMA,IAAN;CACA;CACA;;CACD,OAAK,MAAM6H,EAAX,IAAiB7H,IAAjB,EAAuB;CACtB,WAAO4H,kBAAkB,CAACC,EAAD,CAAzB;CACA;CACD;;CCVD,IAAIC,OAAJ;AACA,CAAO,SAASC,UAAT,CAAoB/H,IAApB,EAAiD;CACvD8H,EAAAA,OAAO,GAAG9H,IAAV;CACA;AACD,CAAO,SAASgI,MAAT,CACNpC,GADM,EAENJ,IAFM,EAGNyC,QAHM,EAIC;CACP,MAAI,OAAOrC,GAAP,KAAe,UAAnB,EAA+B;CAAE;CAAS;;CAC1C,MAAI,CAACJ,IAAL,EAAW;CAAE;CAAS;;CACtB,MAAI,CAACsC,OAAL,EAAc;CACblC,IAAAA,GAAG,CAACJ,IAAD,EAAOyC,QAAP,CAAH;CACA,GAFD,MAEO;CACNH,IAAAA,OAAO,CAACxI,IAAR,CAAa,MAAMsG,GAAG,CAACJ,IAAD,EAAOyC,QAAP,CAAtB;CACA;CACD;AAMD,CAAO,UAAUC,QAAV,CAAmBC,IAAnB,EAA6D;CACnE,MAAInH,KAAK,CAACC,OAAN,CAAckH,IAAd,CAAJ,EAAyB;CACxB,SAAK,MAAMN,EAAX,IAAiBM,IAAjB,EAAuB;CACtB,aAAOD,QAAQ,CAACL,EAAD,CAAf;CACA;;CACD;CACA;;CACD,QAAM;CAAEtC,IAAAA,QAAF;CAAYC,IAAAA,IAAZ;CAAkB4C,IAAAA;CAAlB,MAAgCD,IAAtC;;CACA,MAAI3C,IAAJ,EAAU;CACT,UAAMA,IAAN;CACA;CACA;;CACD,MAAI4C,SAAJ,EAAe;CACd,WAAOF,QAAQ,CAACE,SAAS,CAACD,IAAX,CAAf;CACA;CACA;;CACD,SAAOD,QAAQ,CAAC3C,QAAD,CAAf;CACA;AAED,CAAO,SAAS8C,OAAT,CAAiBC,OAAjB,EAAmCH,IAAnC,EAA6D;CACnE,MAAInH,KAAK,CAACC,OAAN,CAAckH,IAAd,CAAJ,EAAyB;CACxBA,IAAAA,IAAI,CAACjI,OAAL,CAAa6C,CAAC,IAAIsF,OAAO,CAACC,OAAD,EAAUvF,CAAV,CAAzB;CACA;CACA;;CACD,QAAM;CAAEqF,IAAAA,SAAF;CAAa7C,IAAAA,QAAb;CAAuBC,IAAAA,IAAvB;CAA6BI,IAAAA;CAA7B,MAAqCuC,IAA3C;CACAR,EAAAA,mBAAmB,CAACQ,IAAD,CAAnB;;CACA,MAAIC,SAAJ,EAAe;CACdJ,IAAAA,MAAM,CAACpC,GAAD,EAAMwC,SAAS,CAAC7D,OAAhB,EAAyB,IAAzB,CAAN;CACA6D,IAAAA,SAAS,CAACC,OAAV;CACA;CACA;;CACD,MAAI7C,IAAJ,EAAU;CACTwC,IAAAA,MAAM,CAACpC,GAAD,EAAMJ,IAAN,EAAY,IAAZ,CAAN;CACA8C,IAAAA,OAAO,CAACC,UAAR,CAAmB/C,IAAnB;CACA;;CACD6C,EAAAA,OAAO,CAACC,OAAD,EAAU/C,QAAV,CAAP;CACA;;CCvDM,SAASiD,aAAT,CACNF,OADM,EAENG,MAFM,EAGNxK,KAHM,EAIQ;CACd,MAAI;CAAE2H,IAAAA;CAAF,MAAU6C,MAAd;;CACA,MAAIH,OAAO,CAACI,MAAR,CAAezK,KAAf,CAAJ,EAA2B;CAC1B+J,IAAAA,MAAM,CAACpC,GAAD,EAAM3H,KAAN,CAAN;CACA,WAAOyJ,iBAAiB,CAAC,EACxB,GAAGe,MADqB;CAExBxK,MAAAA,KAFwB;CAGxBuH,MAAAA,IAAI,EAAEvH,KAHkB;CAIxBsH,MAAAA,QAAQ,EAAE,EAJc;CAKxB6C,MAAAA,SAAS,EAAE1C;CALa,KAAD,CAAxB;CAOA;;CACD,QAAMjI,IAAI,GAAG,OAAOQ,KAApB;CACA,MAAIuH,IAAJ;;CACA,MACC/H,IAAI,KAAK,QAAT,IACGA,IAAI,KAAK,SADZ,IAEGA,IAAI,KAAK,QAFZ,IAGGA,IAAI,KAAK,QAHZ,IAIGA,IAAI,KAAK,QAJZ,IAKGQ,KAAK,YAAY0K,MANrB,EAOE;CACDnD,IAAAA,IAAI,GAAG8C,OAAO,CAACM,UAAR,CAAmB7K,MAAM,CAACE,KAAD,CAAzB,CAAP;CACA,GATD,MASO,IAAIA,KAAK,YAAY4K,IAArB,EAA2B;CACjCrD,IAAAA,IAAI,GAAG8C,OAAO,CAACM,UAAR,CAAmB3K,KAAK,CAAC6K,WAAN,EAAnB,CAAP;CACA,GAFM,MAEA,IAAIrL,IAAI,KAAK,QAAT,IAAqBQ,KAAzB,EAAgC;CACtCuH,IAAAA,IAAI,GAAG8C,OAAO,CAACM,UAAR,CAAmB7K,MAAM,CAACE,KAAD,CAAzB,CAAP,CADsC;CAGtC;;CACD,MAAI,CAACuH,IAAL,EAAW;CAAEA,IAAAA,IAAI,GAAG8C,OAAO,CAACS,iBAAR,EAAP;CAAqC;;CAClDf,EAAAA,MAAM,CAACpC,GAAD,EAAMJ,IAAN,CAAN;CACA,SAAOkC,iBAAiB,CAAC,EACxB,GAAGe,MADqB;CAExBxK,IAAAA,KAFwB;CAGxBuH,IAAAA,IAHwB;CAIxB4C,IAAAA,SAAS,EAAE1C,SAJa;CAKxBH,IAAAA,QAAQ,EAAE;CALc,GAAD,CAAxB;CAOA;AAED,CAAO,SAASyD,SAAT,CACNV,OADM,EAENG,MAFM,EAG4B;CAClC,MAAI,CAACA,MAAM,CAACzJ,MAAZ,EAAoB;CACnB,WAAO,CAAC0I,iBAAiB,CAAC;CACzB3K,MAAAA,GAAG,EAAE,IADoB;CAEzByI,MAAAA,IAAI,EAAE8C,OAAO,CAACS,iBAAR,EAFmB;CAGzBX,MAAAA,SAAS,EAAE1C,SAHc;CAIzBH,MAAAA,QAAQ,EAAE;CAJe,KAAD,CAAlB,CAAP;CAMA;;CAED,SAAOkD,MAAM,CAACzK,GAAP,CAAWiL,IAAI,IACrBjI,KAAK,CAACC,OAAN,CAAcgI,IAAd,IACGC,UAAU,CAACZ,OAAD,EAAUW,IAAV,CADb,GAEGE,UAAU,CAACb,OAAD,EAAUW,IAAV,CAHP,CAAP;CAIA;AAED,CAAO,SAASC,UAAT,CACNZ,OADM,EAENG,MAFM,EAGU;CAChB,MAAIA,MAAM,CAACzJ,MAAX,EAAmB;CAClB,WAAOyJ,MAAM,CAACzK,GAAP,CAAW6J,EAAE,IAAIsB,UAAU,CAACb,OAAD,EAAUT,EAAV,CAA3B,CAAP;CACA;;CACD,SAAO,CAACH,iBAAiB,CAAC;CACzB3K,IAAAA,GAAG,EAAE,IADoB;CAEzByI,IAAAA,IAAI,EAAE8C,OAAO,CAACS,iBAAR,EAFmB;CAGzBX,IAAAA,SAAS,EAAE1C,SAHc;CAIzBH,IAAAA,QAAQ,EAAE;CAJe,GAAD,CAAlB,CAAP;CAMA;AAED,CAAO,SAAS4D,UAAT,CACNb,OADM,EAENG,MAFM,EAGQ;CAAA;;CACd,QAAM;CAAE1L,IAAAA,GAAF;CAAO6I,IAAAA,GAAP;CAAYwC,IAAAA;CAAZ,MAA0BK,MAAhC;;CACA,MAAI,CAAC1L,GAAL,EAAU;CACT,UAAMyI,IAAI,GAAG8C,OAAO,CAACS,iBAAR,EAAb;CACAf,IAAAA,MAAM,CAACpC,GAAD,EAAMJ,IAAN,CAAN;CACA,WAAOkC,iBAAiB,CAAC;CACxB3K,MAAAA,GAAG,EAAE,IADmB;CAExByI,MAAAA,IAFwB;CAGxB4C,MAAAA,SAAS,EAAE1C,SAHa;CAIxBH,MAAAA,QAAQ,EAAE;CAJc,KAAD,CAAxB;CAMA;;CAED,MAAI0B,SAAS,CAAClK,GAAD,CAAb,EAAoB;CACnB;CACA,WAAO2K,iBAAiB,CAAC,EACxB,GAAGe,MADqB;CAExBjD,MAAAA,IAAI,EAAEE,SAFkB;CAGxB0C,MAAAA,SAAS,EAAE1C,SAHa;CAIxBH,MAAAA,QAAQ,EAAEyD,SAAS,CAACV,OAAD,EAAUG,MAAM,CAAClD,QAAjB;CAJK,KAAD,CAAxB;CAMA;;CAED,QAAM6D,IAAI,GAAG,OAAOrM,GAAP,KAAe,QAAf,GAA0B,EAA1B,GAA+BA,GAAG,CAACsM,WAAJ,EAA5C;;CACA,MAAI,OAAOtM,GAAP,KAAe,QAAf,IAA2BqM,IAAI,KAAKvF,SAAxC,EAAmD;CAClD,QAAI,CAACuE,SAAL,EAAgB;CACf;CACA,aAAOV,iBAAiB,CAAC,EACxB,GAAGe,MADqB;CAExBjD,QAAAA,IAAI,EAAEE,SAFkB;CAGxB0C,QAAAA,SAAS,EAAE1C,SAHa;CAIxBH,QAAAA,QAAQ,EAAEyD,SAAS,CAACV,OAAD,EAAUG,MAAM,CAAClD,QAAjB;CAJK,OAAD,CAAxB;CAMA;;CACD6C,IAAAA,SAAS,CAACkB,KAAV;CACAtB,IAAAA,MAAM,CAACpC,GAAD,EAAMwC,SAAS,CAAC7D,OAAhB,CAAN;CACA,WAAOmD,iBAAiB,CAAC,EACxB,GAAGe,MADqB;CAExBjD,MAAAA,IAAI,EAAEE,SAFkB;CAGxB0C,MAAAA,SAHwB;CAGb7C,MAAAA,QAAQ,EAAE;CAHG,KAAD,CAAxB;CAKA;;CACD,MAAI6D,IAAI,KAAKxF,KAAb,EAAoB;CACnB,QAAI;CAAC3F,MAAAA;CAAD,QAAUwK,MAAd;;CACA,QAAIc,OAAO,CAACtL,KAAD,CAAX,EAAoB;CAAEA,MAAAA,KAAK,GAAGA,KAAK,EAAb;CAAkB;;CACxC,WAAOuK,aAAW,CAACF,OAAD,EAAUG,MAAV,EAAkBxK,KAAlB,CAAlB;CACA;;CACD,MAAImL,IAAI,CAAC1I,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,OAAtB,IAAiC0I,IAAI,KAAK,UAA9C,EAA0D;CACzD;CACA,WAAO1B,iBAAiB,CAAC,EACxB,GAAGe,MADqB;CAExBjD,MAAAA,IAAI,EAAEE,SAFkB;CAGxB0C,MAAAA,SAAS,EAAE1C,SAHa;CAIxBH,MAAAA,QAAQ,EAAEyD,SAAS,CAACV,OAAD,EAAUG,MAAM,CAAClD,QAAjB;CAJK,KAAD,CAAxB;CAMA;;CACD,QAAMC,IAAI,GAAG8C,OAAO,CAACjD,aAAR,CAAsBtI,GAAtB,CAAb;CACAiL,EAAAA,MAAM,CAACpC,GAAD,EAAMJ,IAAN,CAAN;CACA,MAAID,QAAyC,GAAG,EAAhD;;CACA,0BAAIkD,MAAM,CAAClD,QAAX,qDAAI,iBAAiBvG,MAArB,EAA6B;CAC5BuG,IAAAA,QAAQ,GAAGyD,SAAS,CAACV,OAAD,EAAUG,MAAM,CAAClD,QAAjB,CAApB;;CACA,SAAK,MAAMsC,EAAX,IAAiBK,QAAQ,CAAC3C,QAAD,CAAzB,EAAqC;CACpC+C,MAAAA,OAAO,CAACkB,UAAR,CAAmBhE,IAAnB,EAAyBqC,EAAzB;CACA;CACD;;CACDS,EAAAA,OAAO,CAACmB,WAAR,CAAoBjE,IAApB,EAA0BiD,MAAM,CAAC9G,KAAP,IAAgB,EAA1C;CACA,SAAO+F,iBAAiB,CAAC,EACxB,GAAGe,MADqB;CAExBjD,IAAAA,IAFwB;CAGxB4C,IAAAA,SAAS,EAAE1C,SAHa;CAIxBH,IAAAA;CAJwB,GAAD,CAAxB;CAMA;;CCpJD,SAASmE,WAAT,CAAqBvB,IAArB,EAAqD;CACpD,MAAInH,KAAK,CAACC,OAAN,CAAckH,IAAd,CAAJ,EAAyB;CACxB,WAAOuB,WAAW,CAACvB,IAAI,CAACA,IAAI,CAACnJ,MAAL,GAAc,CAAf,CAAL,CAAlB;CACA;;CACD,QAAM;CAAEoJ,IAAAA,SAAF;CAAa7C,IAAAA,QAAb;CAAuBC,IAAAA;CAAvB,MAAgC2C,IAAtC;;CACA,MAAI3C,IAAJ,EAAU;CAAE,WAAOA,IAAP;CAAc;;CAC1B,MAAI4C,SAAJ,EAAe;CAAE,WAAOsB,WAAW,CAACtB,SAAS,CAACD,IAAX,CAAlB;CAAqC;;CACtD,SAAOuB,WAAW,CAACnE,QAAD,CAAlB;CACA;;CAED,SAASoE,YAAT,CAAsBxB,IAAtB,EAAsD;CACrD,MAAInH,KAAK,CAACC,OAAN,CAAckH,IAAd,CAAJ,EAAyB;CAAE,WAAOwB,YAAY,CAACxB,IAAI,CAAC,CAAD,CAAL,CAAnB;CAA+B;;CAC1D,QAAM;CAAEC,IAAAA,SAAF;CAAa7C,IAAAA,QAAb;CAAuBC,IAAAA;CAAvB,MAAgC2C,IAAtC;;CACA,MAAI3C,IAAJ,EAAU;CAAE,WAAOA,IAAP;CAAc;;CAC1B,MAAI4C,SAAJ,EAAe;CAAE,WAAOuB,YAAY,CAACvB,SAAS,CAACD,IAAX,CAAnB;CAAsC;;CACvD,SAAOwB,YAAY,CAACpE,QAAQ,CAAC,CAAD,CAAT,CAAnB;CACA;;CAED,SAASqE,OAAT,CACCtB,OADD,EAECuB,OAFD,EAGCC,OAHD,EAIK;CACJ,QAAMC,IAAI,GAAGJ,YAAY,CAACG,OAAD,CAAzB;;CACA,MAAI,CAACC,IAAL,EAAW;CAAE,WAAOF,OAAP;CAAiB;;CAC9B,QAAMG,MAAM,GAAG1B,OAAO,CAAC2B,SAAR,CAAkBF,IAAlB,CAAf;;CACA,MAAI,CAACC,MAAL,EAAa;CAAE,WAAOH,OAAP;CAAiB;;CAChC,OAAK,MAAMhC,EAAX,IAAiBK,QAAQ,CAAC2B,OAAD,CAAzB,EAAoC;CACnCvB,IAAAA,OAAO,CAACkB,UAAR,CAAmBQ,MAAnB,EAA2BnC,EAA3B,EAA+BkC,IAA/B;CACA;;CACD1B,EAAAA,OAAO,CAACC,OAAD,EAAUwB,OAAV,CAAP;CACA,SAAOD,OAAP;CACA;;CAED,SAASK,UAAT,CACC5B,OADD,EAECG,MAFD,EAGCN,IAHD,EAIiB;CAChB,MAAI,CAACM,MAAM,CAACzJ,MAAZ,EAAoB;CACnB,UAAMwG,IAAI,GAAG2D,UAAU,CAACb,OAAD,EAAU;CAACvL,MAAAA,GAAG,EAAE,IAAN;CAAYwI,MAAAA,QAAQ,EAAE;CAAtB,KAAV,CAAvB;CACA,WAAO,CAACqE,OAAO,CAACtB,OAAD,EAAU9C,IAAV,EAAgB2C,IAAhB,CAAR,CAAP;CACA;;CACD,MAAI,CAACnH,KAAK,CAACC,OAAN,CAAckH,IAAd,CAAL,EAA0B;CAAEA,IAAAA,IAAI,GAAG,CAACA,IAAD,CAAP;CAAgB;;CAC5C,QAAMgC,OAAsB,GAAG,EAA/B;CACA,QAAMnK,IAAI,GAAG,CAAC,GAAGmI,IAAJ,CAAb;CACA,QAAMiC,UAAU,GAAG,IAAI3C,GAAJ,EAAnB;;CACA,OAAK,MAAM4C,GAAX,IAAkB5B,MAAlB,EAA0B;CACzB,UAAM6B,KAAK,GAAGtK,IAAI,CAACuK,SAAL,CAAe1C,EAAE,IAC9BA,EAAE,CAAC9K,GAAH,KAAWsN,GAAG,CAACtN,GAAf,IAAsB8K,EAAE,CAACpC,GAAH,KAAW4E,GAAG,CAAC5E,GADxB,CAAd;;CAEA,QAAI6E,KAAK,IAAI,CAAb,EAAgB;CACf,YAAME,GAAG,GAAGxK,IAAI,CAACsK,KAAD,CAAhB;CACA,YAAMrB,IAAI,GAAGwB,UAAU,CAACnC,OAAD,EAAU+B,GAAV,EAAeG,GAAf,CAAvB;CACAJ,MAAAA,UAAU,CAAC/F,GAAX,CAAemG,GAAf,EAAoBvB,IAApB;CACAkB,MAAAA,OAAO,CAAC7K,IAAR,CAAa2J,IAAb;CACAjJ,MAAAA,IAAI,CAAC0K,MAAL,CAAYJ,KAAZ,EAAmB,CAAnB;CACA,KAND,MAMO;CACN,YAAMrB,IAAI,GAAGE,UAAU,CAACb,OAAD,EAAU+B,GAAV,CAAvB;CACAF,MAAAA,OAAO,CAAC7K,IAAR,CAAa2J,IAAb;CACA;CACD;;CACD,MAAI,CAACmB,UAAU,CAACpH,IAAhB,EAAsB;CACrB,WAAO4G,OAAO,CAACtB,OAAD,EAAU6B,OAAV,EAAmBnK,IAAnB,CAAd;CACA;;CACDqI,EAAAA,OAAO,CAACC,OAAD,EAAUtI,IAAV,CAAP;CACAmI,EAAAA,IAAI,GAAGA,IAAI,CAACxF,MAAL,CAAYC,CAAC,IAAIwH,UAAU,CAAChE,GAAX,CAAexD,CAAf,CAAjB,CAAP;CACA,QAAM+H,IAAI,GAAGjB,WAAW,CAACvB,IAAI,CAACA,IAAI,CAACnJ,MAAL,GAAc,CAAf,CAAL,CAAxB;CACA,QAAMgL,MAAM,GAAG1B,OAAO,CAAC2B,SAAR,CAAkBU,IAAlB,CAAf;;CACA,MAAI,CAACX,MAAL,EAAa;CAAE,WAAOG,OAAP;CAAiB;;CAChC,MAAIJ,IAAI,GAAGzB,OAAO,CAACsC,QAAR,CAAiBD,IAAjB,CAAX,CA/BgB;;CAiChB,OAAK,IAAIrE,CAAC,GAAG6D,OAAO,CAACnL,MAAR,GAAiB,CAA9B,EAAiCsH,CAAC,IAAI,CAAtC,EAAyCA,CAAC,EAA1C,EAA8C;CAC7C,UAAM2C,IAAI,GAAGkB,OAAO,CAAC7D,CAAD,CAApB;CACA,UAAMgE,KAAK,GAAGnC,IAAI,CAACoC,SAAL,CAAepK,CAAC,IAAIiK,UAAU,CAAC3H,GAAX,CAAetC,CAAf,MAAsB8I,IAA1C,CAAd;;CACA,QAAIqB,KAAK,IAAI,CAAb,EAAgB;CACf,WAAK,MAAMzC,EAAX,IAAiBM,IAAI,CAACuC,MAAL,CAAYJ,KAAZ,CAAjB,EAAqC;CACpCF,QAAAA,UAAU,CAACjH,MAAX,CAAkB0E,EAAlB;CACA;CACD,KAJD,MAIO;CACN,WAAK,MAAMA,EAAX,IAAiBK,QAAQ,CAACe,IAAD,CAAzB,EAAiC;CAChCX,QAAAA,OAAO,CAACkB,UAAR,CAAmBQ,MAAnB,EAA2BnC,EAA3B,EAA+BkC,IAA/B;CACA;CACD;;CACDA,IAAAA,IAAI,GAAGJ,YAAY,CAACV,IAAD,CAAZ,IAAsBc,IAA7B;CACA;;CACD,SAAOI,OAAP;CACA;CACD;;;;;;;;AAMA,CAAO,SAASU,SAAT,CACNvC,OADM,EAENG,MAFM,EAGNN,IAHM,EAI4B;CAClC,MAAImC,KAAK,GAAG,CAAZ;CACA,MAAItL,MAAM,GAAG8L,IAAI,CAACC,GAAL,CAAStC,MAAM,CAACzJ,MAAhB,EAAwBmJ,IAAI,CAACnJ,MAA7B,CAAb;CACA,QAAMgB,IAAqC,GAAG,EAA9C;;CACA,SAAOsK,KAAK,GAAGtL,MAAf,EAAuBsL,KAAK,EAA5B,EAAgC;CAC/B,UAAMD,GAAG,GAAG5B,MAAM,CAAC6B,KAAD,CAAlB;;CACA,QAAItJ,KAAK,CAACC,OAAN,CAAcoJ,GAAd,CAAJ,EAAwB;CACvBrK,MAAAA,IAAI,CAACV,IAAL,CAAU4K,UAAU,CAAC5B,OAAD,EAAU+B,GAAV,EAAelC,IAAI,CAACmC,KAAD,CAAnB,CAApB;CACA,KAFD,MAEO;CACNtK,MAAAA,IAAI,CAACV,IAAL,CAAUmL,UAAU,CAACnC,OAAD,EAAU+B,GAAV,EAAelC,IAAI,CAACmC,KAAD,CAAnB,CAApB;CACA;CACD;;CACDtL,EAAAA,MAAM,GAAG8L,IAAI,CAACE,GAAL,CAASvC,MAAM,CAACzJ,MAAhB,EAAwBmJ,IAAI,CAACnJ,MAA7B,CAAT;;CACA,MAAImJ,IAAI,CAACnJ,MAAL,GAAcsL,KAAlB,EAAyB;CACxB;CACA,WAAOA,KAAK,GAAGtL,MAAf,EAAuBsL,KAAK,EAA5B,EAAgC;CAC/BjC,MAAAA,OAAO,CAACC,OAAD,EAAUH,IAAI,CAACmC,KAAD,CAAd,CAAP;CACA;CACD;;CACD,MAAI7B,MAAM,CAACzJ,MAAP,GAAgBsL,KAApB,EAA2B;CAC1B;CACA,UAAMK,IAAI,GAAGjB,WAAW,CAAC1J,IAAI,CAACA,IAAI,CAAChB,MAAL,GAAc,CAAf,CAAL,CAAxB;CACA,UAAMgL,MAAM,GAAG1B,OAAO,CAAC2B,SAAR,CAAkBU,IAAlB,CAAf;CACA,UAAMZ,IAAI,GAAGzB,OAAO,CAACsC,QAAR,CAAiBD,IAAjB,CAAb;;CACA,WAAOL,KAAK,GAAGtL,MAAf,EAAuBsL,KAAK,EAA5B,EAAgC;CAC/B,YAAMD,GAAG,GAAG5B,MAAM,CAAC6B,KAAD,CAAlB;CACA,YAAMrB,IAAI,GAAGjI,KAAK,CAACC,OAAN,CAAcoJ,GAAd,IACVnB,UAAU,CAACZ,OAAD,EAAU+B,GAAV,CADA,GAEVlB,UAAU,CAACb,OAAD,EAAU+B,GAAV,CAFb;CAGArK,MAAAA,IAAI,CAACV,IAAL,CAAU2J,IAAV;;CACA,UAAI,CAACe,MAAL,EAAa;CAAE;CAAW;;CAC1B,WAAK,MAAMnC,EAAX,IAAiBK,QAAQ,CAACe,IAAD,CAAzB,EAAiC;CAChCX,QAAAA,OAAO,CAACkB,UAAR,CAAmBQ,MAAnB,EAA2BnC,EAA3B,EAA+BkC,IAA/B;CACA;CACD;CACD;;CACD,SAAO/J,IAAP;CACA;CAED;;;;;;;CAMA,SAASyK,UAAT,CACCnC,OADD,EAECG,MAFD,EAGCN,IAHD,EAIe;CACd,MAAInH,KAAK,CAACC,OAAN,CAAckH,IAAd,CAAJ,EAAyB;CACxB,UAAMmC,KAAK,GAAGnC,IAAI,CAACoC,SAAL,CAAe1C,EAAE,IAC9BA,EAAE,CAAC9K,GAAH,KAAW0L,MAAM,CAAC1L,GAAlB,IAAyB8K,EAAE,CAACO,SAAH,KAAiBK,MAAM,CAACL,SADpC,CAAd;;CAEA,QAAIkC,KAAK,GAAG,CAAZ,EAAe;CACd,aAAOV,OAAO,CAACtB,OAAD,EAAUa,UAAU,CAACb,OAAD,EAAUG,MAAV,CAApB,EAAuCN,IAAvC,CAAd;CACA;;CACD,UAAM8C,GAAG,GAAG9C,IAAZ;CACA,KAACA,IAAD,IAASA,IAAI,CAACuC,MAAL,CAAYJ,KAAZ,EAAmB,CAAnB,CAAT;CACAjC,IAAAA,OAAO,CAACC,OAAD,EAAU2C,GAAV,CAAP;CACA;;CACD,QAAM;CAAElO,IAAAA,GAAF;CAAOqL,IAAAA;CAAP,MAAqBK,MAA3B;CACA,QAAM7C,GAAG,GAAG6C,MAAM,CAAC7C,GAAP,KAAeuC,IAAI,CAACvC,GAApB,IAA2B6C,MAAM,CAAC7C,GAAlC,IAAyCF,SAArD;;CACA,MAAI3I,GAAG,KAAKoL,IAAI,CAACpL,GAAb,IAAoBqL,SAAS,KAAKD,IAAI,CAACC,SAA3C,EAAsD;CACrD,WAAOwB,OAAO,CAACtB,OAAD,EAAUa,UAAU,CAACb,OAAD,EAAUG,MAAV,CAApB,EAAuCN,IAAvC,CAAd;CACA;;CAED,MAAIlB,SAAS,CAAClK,GAAD,CAAb,EAAoB;CACnB;CACA,WAAO2K,iBAAiB,CAAC,EACxB,GAAGe,MADqB;CAExBjD,MAAAA,IAAI,EAAEE,SAFkB;CAGxB0C,MAAAA,SAAS,EAAE1C,SAHa;CAIxBH,MAAAA,QAAQ,EAAEsF,SAAS,CAClBvC,OADkB,EAElBG,MAAM,CAAClD,QAFW,EAGlB4C,IAAI,CAAC5C,QAHa;CAJK,KAAD,EASrB4C,IAAI,CAACjE,EATgB,CAAxB;CAUA;;CACD,MAAI,CAACnH,GAAL,EAAU;CAAE,WAAOoL,IAAP;CAAc;;CAE1B,QAAMiB,IAAI,GAAG,OAAOrM,GAAP,KAAe,QAAf,GAA0B,EAA1B,GAA+BA,GAAG,CAACsM,WAAJ,EAA5C;;CACA,MAAI,OAAOtM,GAAP,KAAe,QAAf,IAA2BqM,IAAI,KAAKvF,SAAxC,EAAmD;CAClD,QAAI,CAACuE,SAAL,EAAgB;CACf;CACA,aAAOV,iBAAiB,CAAC,EACxB,GAAGe,MADqB;CAExBjD,QAAAA,IAAI,EAAEE,SAFkB;CAGxB0C,QAAAA,SAAS,EAAE1C,SAHa;CAIxBH,QAAAA,QAAQ,EAAEsF,SAAS,CAClBvC,OADkB,EAElBG,MAAM,CAAClD,QAFW,EAGlB4C,IAAI,CAAC5C,QAHa;CAJK,OAAD,EASrB4C,IAAI,CAACjE,EATgB,CAAxB;CAUA;;CACD8D,IAAAA,MAAM,CAACpC,GAAD,EAAMwC,SAAS,CAAC7D,OAAhB,CAAN;CACA,WAAOmD,iBAAiB,CAAC,EACxB,GAAGe,MADqB;CAExBjD,MAAAA,IAAI,EAAEE,SAFkB;CAGxB0C,MAAAA,SAHwB;CAIxB7C,MAAAA,QAAQ,EAAE;CAJc,KAAD,EAKrB4C,IAAI,CAACjE,EALgB,CAAxB;CAMA;;CACD,MAAIkF,IAAI,KAAKxF,KAAb,EAAoB;CACnB,QAAI;CAAC3F,MAAAA;CAAD,QAAUwK,MAAd;;CACA,QAAIc,OAAO,CAACtL,KAAD,CAAX,EAAoB;CAAEA,MAAAA,KAAK,GAAGA,KAAK,EAAb;CAAkB;;CACxC,QAAIkK,IAAI,CAAClK,KAAL,KAAeA,KAAnB,EAA0B;CACzB+J,MAAAA,MAAM,CAACpC,GAAD,EAAMuC,IAAI,CAAC3C,IAAX,CAAN;CACA,aAAOkC,iBAAiB,CAAC,EACxB,GAAGS,IADqB;CAExB,WAAGM,MAFqB;CAGxBxK,QAAAA,KAHwB;CAIxBsH,QAAAA,QAAQ,EAAE;CAJc,OAAD,EAKrB4C,IAAI,CAACjE,EALgB,CAAxB;CAMA;;CACD,WAAO0F,OAAO,CAACtB,OAAD,EAAUE,aAAW,CAACF,OAAD,EAAUG,MAAV,EAAkBxK,KAAlB,CAArB,EAA+CkK,IAA/C,CAAd;CACA;;CACD,MAAIiB,IAAI,CAAC1I,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,OAAtB,IAAiC0I,IAAI,KAAK,UAA9C,EAA0D;CACzD;CACA,WAAO1B,iBAAiB,CAAC,EACxB,GAAGe,MADqB;CAExBjD,MAAAA,IAAI,EAAEE,SAFkB;CAGxB0C,MAAAA,SAAS,EAAE1C,SAHa;CAIxBH,MAAAA,QAAQ,EAAEsF,SAAS,CAClBvC,OADkB,EAElBG,MAAM,CAAClD,QAFW,EAGlB4C,IAAI,CAAC5C,QAHa;CAJK,KAAD,EASrB4C,IAAI,CAACjE,EATgB,CAAxB;CAUA;;CACD,QAAM;CAAEsB,IAAAA;CAAF,MAAW2C,IAAjB;CACAH,EAAAA,MAAM,CAACpC,GAAD,EAAMJ,IAAN,CAAN;CACA,MAAID,QAAyC,GAAG,EAAhD;;CACA,MAAI,CAACkD,MAAM,CAAClD,QAAP,CAAgBvG,MAAjB,IAA2BmJ,IAAI,CAAC5C,QAAL,CAAcvG,MAA7C,EAAqD;CACpDqJ,IAAAA,OAAO,CAACC,OAAD,EAAUH,IAAI,CAAC5C,QAAf,CAAP;CACA,GAFD,MAEO,IAAIkD,MAAM,CAAClD,QAAP,CAAgBvG,MAAhB,IAA0BmJ,IAAI,CAAC5C,QAAL,CAAcvG,MAA5C,EAAoD;CAC1DuG,IAAAA,QAAQ,GAAGsF,SAAS,CAACvC,OAAD,EAAUG,MAAM,CAAClD,QAAjB,EAA2B4C,IAAI,CAAC5C,QAAhC,CAApB;CACA,GAFM,MAEA,IAAIkD,MAAM,CAAClD,QAAP,CAAgBvG,MAAhB,IAA0B,CAACmJ,IAAI,CAAC5C,QAAL,CAAcvG,MAA7C,EAAqD;CAC3DuG,IAAAA,QAAQ,GAAGyD,SAAS,CAACV,OAAD,EAAUG,MAAM,CAAClD,QAAjB,CAApB;;CACA,SAAK,MAAMsC,EAAX,IAAiBK,QAAQ,CAAC3C,QAAD,CAAzB,EAAqC;CACpC+C,MAAAA,OAAO,CAACkB,UAAR,CAAmBhE,IAAnB,EAA0CqC,EAA1C;CACA;CACD;;CACDS,EAAAA,OAAO,CAACmB,WAAR,CAAoBjE,IAApB,EAA2CiD,MAAM,CAAC9G,KAAP,IAAgB,EAA3D;CACA,SAAO+F,iBAAiB,CAAC,EAAC,GAAGS,IAAJ;CAAU,OAAGM,MAAb;CAAqBlD,IAAAA;CAArB,GAAD,EAAiC4C,IAAI,CAACjE,EAAtC,CAAxB;CACA;;CCzPc,SAASgH,IAAT,CACd5C,OADc,EAEdG,MAFc,EAGdN,IAHc,EAIoB;CAClC,MAAIA,IAAJ,EAAU;CACT,WAAO0C,SAAS,CAACvC,OAAD,EAAUG,MAAV,EAAkBN,IAAlB,CAAhB;CACA;;CACD,SAAOa,SAAS,CAACV,OAAD,EAAUG,MAAV,CAAhB;CACA;;CCJD;;;;;;;;;AAQA,CAAO,SAAS0C,QAAT,CACN7C,OADM,EAEN/C,QAFM,EAGN6F,KAHM,EAINC,MAAM,GAAG,KAJH,EAKE;CACR;CACA,QAAMC,UAAiB,GAAG,EAA1B;;CACA,OAAK,MAAMzD,EAAX,IAAiBtC,QAAjB,EAA2B;CAC1B,QAAIvE,KAAK,CAACC,OAAN,CAAc4G,EAAd,CAAJ,EAAuB;CACtB,YAAM7H,IAAoC,GACvC1C,MAAM,CAACC,MAAP,CAAc,IAAd,CADH;CAEA+N,MAAAA,UAAU,CAAChM,IAAX,CAAgB6L,QAAQ,CAAC7C,OAAD,EAAUT,EAAV,EAAc7H,IAAd,EAAoBqL,MAApB,CAAxB;;CACA,WAAK,MAAM5K,CAAX,IAAgB8B,OAAO,CAAC2D,OAAR,CAAgBlG,IAAhB,CAAhB,EAAmD;CAClD,YAAIS,CAAC,IAAI2K,KAAT,EAAgB;CACfA,UAAAA,KAAK,CAAC3K,CAAD,CAAL,CAASnB,IAAT,CAAcU,IAAI,CAACS,CAAD,CAAlB;CACA,SAFD,MAEO;CACN2K,UAAAA,KAAK,CAAC3K,CAAD,CAAL,GAAW,CAACT,IAAI,CAACS,CAAD,CAAL,CAAX;CACA;CACD;;CACD;CACA;;CACD,QAAI2E,SAAS,CAACyC,EAAD,CAAT,IAAiBA,EAAE,CAAClC,IAAH,KAAYD,SAAjC,EAA4C;CAC3C,UACC,OAAOmC,EAAE,CAAC9K,GAAV,KAAkB,UAAlB,IACG8K,EAAE,CAAC9K,GAAH,CAAOyH,UAAP,MAAuB,QAD1B,IAEGqD,EAAE,CAACtB,MAFN,IAGGsB,EAAE,CAAC9K,GAAH,KAAW+G,QAJf,EAKE;CACD,cAAM9D,IAAoC,GACxC1C,MAAM,CAACC,MAAP,CAAc,IAAd,CADF;CAEA+N,QAAAA,UAAU,CAAChM,IAAX,CAAgB6L,QAAQ,CAAC7C,OAAD,EAAUT,EAAE,CAACtC,QAAb,EAAuBvF,IAAvB,EAA6BqL,MAA7B,CAAxB;;CACA,aAAK,MAAM5K,CAAX,IAAgB8B,OAAO,CAAC2D,OAAR,CAAgBlG,IAAhB,CAAhB,EAAmD;CAClD,gBAAMwF,IAAI,GAAG,EAAE,GAAGqC,EAAL;CAAStC,YAAAA,QAAQ,EAAEvF,IAAI,CAACS,CAAD;CAAvB,WAAb;;CACA,cAAIA,CAAC,IAAI2K,KAAT,EAAgB;CACfA,YAAAA,KAAK,CAAC3K,CAAD,CAAL,CAASnB,IAAT,CAAckG,IAAd;CACA,WAFD,MAEO;CACN4F,YAAAA,KAAK,CAAC3K,CAAD,CAAL,GAAW,CAAC+E,IAAD,CAAX;CACA;CACD;;CACD;CACA;CACD;;CACD,QAAI6F,MAAJ,EAAY;CACX,UAAI/C,OAAO,CAACI,MAAR,CAAeb,EAAf,CAAJ,EAAwB;CACvByD,QAAAA,UAAU,CAAChM,IAAX,CAAgBuI,EAAhB;CACA;CACA;;CACD,UAAI,CAACzC,SAAS,CAACyC,EAAD,CAAd,EAAoB;CACnByD,QAAAA,UAAU,CAAChM,IAAX,CAAgBuI,EAAhB;CACA;CACA;;CACD,UAAIA,EAAE,CAAC9K,GAAH,KAAW2G,UAAX,IAAyBmE,EAAE,CAAC9K,GAAH,KAAW+G,QAAxC,EAAkD;CACjDwH,QAAAA,UAAU,CAAChM,IAAX,CAAgBuI,EAAhB;CACA;CACA;CACD;;CACD,UAAMlC,IAAI,GAAGP,SAAS,CAACyC,EAAD,CAAT,IAAiBA,EAAE,CAAClC,IAApB,IAA4B,SAAzC;CACA,UAAM4F,EAAE,GAAGnG,SAAS,CAACyC,EAAD,CAAT,GAAgB,EAC1B,GAAGA,EADuB;CACnBlC,MAAAA,IAAI,EAAED,SADa;CAE1B/D,MAAAA,KAAK,EAAE,EAAC,GAAGkG,EAAE,CAAClG,KAAP;CAAcgE,QAAAA,IAAI,EAAED;CAApB;CAFmB,KAAhB,GAGPmC,EAHJ;;CAIA,QAAIlC,IAAI,IAAIyF,KAAZ,EAAmB;CAClBA,MAAAA,KAAK,CAACzF,IAAD,CAAL,CAAYrG,IAAZ,CAAiBiM,EAAjB;CACA,KAFD,MAEO;CACNH,MAAAA,KAAK,CAACzF,IAAD,CAAL,GAAc,CAAC4F,EAAD,CAAd;CACA;CACD;;CACD,SAAOD,UAAP;CACA;;CACD,SAASE,WAAT,CACCxL,IADD,EAEC,GAAG2B,KAFJ,EAGS;CACR,SAAO3B,IAAI,CAAChC,GAAL,CAAS6J,EAAE,IAAI;CACrB,QAAI7G,KAAK,CAACC,OAAN,CAAc4G,EAAd,CAAJ,EAAuB;CACtB,aAAO2D,WAAW,CAAC3D,EAAD,EAAK,GAAGlG,KAAR,CAAlB;CACA;;CACD,QAAI,CAACyD,SAAS,CAACyC,EAAD,CAAd,EAAoB;CAAE,aAAOA,EAAP;CAAY;;CAClC,QAAIA,EAAE,CAAC9K,GAAH,KAAW2G,UAAf,EAA2B;CAC1B,aAAO,EACN,GAAGmE,EADG;CAENlC,QAAAA,IAAI,EAAED;CAFA,OAAP;CAIA;;CACD,UAAM;CAAEH,MAAAA;CAAF,QAAesC,EAArB;;CACA,QAAI,CAAAtC,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEvG,MAAV,MAAqB,CAAzB,EAA4B;CAAE,aAAOuG,QAAP;CAAkB;;CAChD,UAAM,CAAE3H,MAAF,IAAa2H,QAAnB;;CACA,QAAIgE,OAAO,CAAC3L,MAAD,CAAP,IAAmB,OAAOA,MAAP,KAAkB,UAAzC,EAAqD;CAAE,aAAO2H,QAAP;CAAkB;;CACzE,WAAO3H,MAAM,CAAC,GAAG+D,KAAJ,CAAb;CACA,GAhBM,CAAP;CAiBA;;CACD,SAAS8J,WAAT,CACCtJ,IADD,EAECnC,IAFD,EAGU;CACT,QAAM2F,IAAI,GAAG,CAAC,GAAGhE,KAAJ,MAAiC;CAC7C,KAACoD,gBAAD,GAAoBC,uBADyB;CAE7CjI,IAAAA,GAAG,EAAE0G,SAFwC;CAG7C8B,IAAAA,QAAQ,EAAEiG,WAAW,CAACxL,IAAD,EAAO,GAAG2B,KAAV,CAHwB;CAI7C6E,IAAAA,QAAQ,EAAE,IAJmC;CAK7CC,IAAAA,KAAK,EAAEiF,CAA2B,CAAE,IAAIvJ,IAAM,GAAZ,EAAgB,MAAhB;CALW,GAAjC,CAAb;;CAOAwD,EAAAA,IAAI,CAACJ,QAAL,GAAgBvF,IAAhB;CACA,SAAO2F,IAAP;CACA;CACD;;;;;;;AAKA,CAAO,SAASgG,QAAT,CACNpG,QADM,EAEN6F,KAAY,GAAG9N,MAAM,CAACC,MAAP,CAAc,IAAd,CAFT,EAGNqO,WAHM,EAIE;CACR,OAAK,MAAMnL,CAAX,IAAgB8B,OAAO,CAAC2D,OAAR,CAAgBkF,KAAhB,CAAhB,EAAwC;CACvC,QAAI3K,CAAC,IAAI8E,QAAT,EAAmB;CAAE;CAAW;;CAChC,WAAO6F,KAAK,CAAC3K,CAAD,CAAZ;CACA;;CACD,MAAI,CAACmL,WAAL,EAAkB;CACjB,SAAK,MAAMnL,CAAX,IAAgB8B,OAAO,CAAC2D,OAAR,CAAgBX,QAAhB,CAAhB,EAAuD;CACtD6F,MAAAA,KAAK,CAAC3K,CAAD,CAAL,GAAWgL,WAAW,CAAChL,CAAD,EAAI8E,QAAQ,CAAC9E,CAAD,CAAZ,CAAtB;CACA;;CACD,WAAO2K,KAAP;CACA;;CACD,OAAK,MAAM3K,CAAX,IAAgB8B,OAAO,CAAC2D,OAAR,CAAgBX,QAAhB,CAAhB,EAAuD;CACtD,UAAMvF,IAAI,GAAGuF,QAAQ,CAAC9E,CAAD,CAArB;;CACA,QAAI4F,KAAK,CAACrG,IAAD,EAAO4L,WAAW,CAACnL,CAAD,CAAlB,CAAT,EAAiC;CAAE;CAAW;;CAC9C2K,IAAAA,KAAK,CAAC3K,CAAD,CAAL,GAAWgL,WAAW,CAAChL,CAAD,EAAIT,IAAJ,CAAtB;CACA;;CACD,SAAOoL,KAAP;CACA;;CCpJM,MAAMS,UAAqC,GAAGvO,MAAM,CAACC,MAAP,CAAc,IAAd,CAA9C;AAEP,CAAO,SAASuO,QAAT,CAAkB3J,IAAlB,EAAgCiG,SAAhC,EAA4D;CAClEyD,EAAAA,UAAU,CAAC1J,IAAD,CAAV,GAAmBiG,SAAnB;CACA;;CCCD,SAAS2D,aAAT,CACChP,GADD,EAEC8O,YAFD,EAG6B;CAC5B,MAAI,CAAC9O,GAAL,EAAU;CAAE,WAAO,IAAP;CAAc;;CAC1B,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;CAAE,WAAOA,GAAP;CAAa;;CAC5C,MAAIA,GAAG,KAAK,UAAZ,EAAwB;CAAE,WAAOA,GAAP;CAAa;;CACvC,MAAI,YAAY4D,IAAZ,CAAiB5D,GAAjB,CAAJ,EAA2B;CAAE,WAAOA,GAAP;CAAa;;CAC1C,OAAK,MAAMiD,IAAX,IAAmB6L,YAAnB,EAA+B;CAC9B,UAAMzD,SAAS,GAAGpI,IAAI,CAACjD,GAAD,CAAtB;;CACA,QAAIqL,SAAJ,EAAe;CAAE,aAAOA,SAAP;CAAmB;CACpC;;CACD,SAAO4D,UAAgB,CAACjP,GAAD,CAAhB,IAAyBA,GAAhC;CACA;;CAED,SAASkP,WAAT,CAAqB1G,QAArB,EAAsC2G,IAAtC,EAAwD;CACvD,MAAI3G,QAAQ,CAACvG,MAAT,KAAoB,CAAxB,EAA2B;CAAE,WAAOuG,QAAP;CAAkB;;CAC/C,QAAM,CAACnI,EAAD,IAAOmI,QAAb;;CACA,MAAI,OAAOnI,EAAP,KAAc,UAAlB,EAA8B;CAAE,WAAOmI,QAAP;CAAkB;;CAClD,SAAOnI,EAAE,CAAC,GAAG8O,IAAJ,CAAT;CACA;;CAgBD,SAASC,WAAT,CACC3G,IADD,EAEC4F,KAFD,EAGCS,UAHD,EAICR,MAJD,EAKCe,MALD,EAM+B;CAAA;;CAC9B,MAAIpL,KAAK,CAACC,OAAN,CAAcuE,IAAd,CAAJ,EAAyB;CACxB,WAAOA,IAAI,CAACxH,GAAL,CAASkD,CAAC,IAChBiL,WAAW,CAAEjL,CAAF,EAAKkK,KAAL,EAAYS,UAAZ,EAAwBR,MAAxB,EAAgCe,MAAhC,CADL,CAAP;CAEA;;CACD,MAAI,CAAChH,SAAS,CAACI,IAAD,CAAd,EAAsB;CAAE,WAAOA,IAAP;CAAc;;CACtC,MAAI;CAAED,IAAAA,QAAF;CAAY5D,IAAAA;CAAZ,MAAsB6D,IAA1B;CACA,MAAIzI,GAAG,GAAGgP,aAAa,CAACvG,IAAI,CAACzI,GAAN,EAAW8O,UAAX,CAAvB;;CACA,MAAI9O,GAAG,KAAK2G,UAAR,IAAsB0I,MAA1B,EAAkC;CACjC,WAAO,IAAP;CACA;;CAED,MAAIrP,GAAG,KAAK4G,IAAZ,EAAkB;CACjB5G,IAAAA,GAAG,GAAGsO,MAAM,GAAG,MAAH,GAAY5H,SAAxB;CACA;;CACD,MAAI1G,GAAG,KAAK0G,SAAZ,EAAwB;CACvB,WAAO,EACN,GAAG+B,IADG;CAENzI,MAAAA,GAFM;CAGNwI,MAAAA,QAAQ,EAAE4G,WAAW,CACpB5G,QADoB,EAEpB6F,KAFoB,EAGpBS,UAHoB,EAIpBR,MAJoB,EAKpBe,MALoB;CAHf,KAAP;CAWA;;CACD,MAAI5G,IAAI,CAACzI,GAAL,KAAa0G,SAAb,IAA0B+B,IAAI,CAACgB,QAAnC,EAA6C;CAC5C,WAAOhB,IAAP;CACA;;CACD,QAAM0G,IAAI,GAAG,CAAAvK,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAE0K,IAAP,KAAe,CAAC1K,KAAK,CAAC0K,IAAP,CAAf,IACTrL,KAAK,CAACC,OAAN,CAAcU,KAAd,aAAcA,KAAd,uBAAcA,KAAK,CAAEuK,IAArB,MAA8BvK,KAA9B,aAA8BA,KAA9B,uBAA8BA,KAAK,CAAEuK,IAAP,CAAYlN,MAA1C,KAAoD2C,KAAK,CAACuK,IADjD,IAET,CAAC,EAAD,CAFJ;CAGA,QAAMI,QAAQ,GAAG,gBAAA9G,IAAI,CAAC7D,KAAL,4DAAYQ,IAAZ,KAAoB,SAArC;CACA,QAAMwD,IAAI,GAAGyF,KAAK,CAACkB,QAAD,CAAlB;;CACA,MAAI,OAAO3G,IAAP,KAAgB,UAApB,EAAgC;CAC/B,WAAO,EACN,GAAGH,IADG;CAEN,SAAGG,IAAI,CAAC,GAAGuG,IAAJ;CAFD,KAAP;CAIA;;CAED,QAAMzF,KAAmC,GAAGiF,CAEzC,CAAE,IAAIY,QAAU,GAAhB,EAAoB,MAApB,CAFH;CAIA,SAAO,EACN,GAAG9G,IADG;CAENzI,IAAAA,GAAG,EAAE0G,SAFC;CAGNgD,IAAAA,KAHM;CAINlB,IAAAA,QAAQ,EAAE4G,WAAW,CACpBF,WAAW,CAAC1G,QAAD,EAAW2G,IAAX,CADS,EAEpBd,KAFoB,EAGpBS,UAHoB,EAIpBR,MAJoB,EAKpB,KALoB;CAJf,GAAP;CAYA;;CC/ED,SAASkB,aAAT,CACC,GAAGV,UADJ,EAE+B;CAC9B,SAAOA,UAAU,CAAClJ,MAAX,CAAkB6J,OAAlB,CAAP;CACA;;CAED,SAASC,UAAT,CACCC,OADD,EAECtF,SAFD,EAGC5B,IAHD,EAICzI,GAJD,EAKC8O,UALD,EAMCtG,QAND,EAOe;CACd,MAAIC,IAAI,CAACe,MAAT,EAAiB;CAAE,WAAOf,IAAP;CAAc;;CACjC,QAAM;CAAE8C,IAAAA;CAAF,MAAcoE,OAApB;CACA,QAAMC,OAAO,GAAGrP,MAAM,CAACC,MAAP,CAAc,IAAd,CAAhB;CACA4N,EAAAA,QAAQ,CAAC7C,OAAD,EAAU/C,QAAV,EAAoBoH,OAApB,CAAR;CACA,QAAMvB,KAAK,GAAGO,QAAQ,CAACgB,OAAD,CAAtB;CACA,QAAMvK,KAAK,GAAG,IAAIf,YAAJ,EAAd;CACAe,EAAAA,KAAK,CAACV,aAAN,CAAoB8D,IAAI,CAAC7D,KAAzB;CACA,QAAMA,KAAK,GAAG,EAAC,GAAG6D,IAAI,CAAC7D;CAAT,GAAd;CACA,QAAMvC,OAAgB,GAAGD,WAAW,CAAC;CACpCiM,IAAAA,KADoC;CAEpCwB,IAAAA,OAAO,EAAE,KAF2B;CAGpC5C,IAAAA,MAAM,EAAE0C,OAAO,CAACnI,OAHoB;;CAIpC6C,IAAAA,SAAS,CAAIyF,OAAJ,EAA4B;CACpC,aAAO1F,YAAY,CAACC,SAAD,EAAYyF,OAAZ,CAAnB;CACA,KANmC;;CAOpCtH,IAAAA,QAAQ,EAAE,IAAI5F,GAAJ,EAP0B;CAQpCqH,IAAAA,UAAU,EAAEzB,QARwB;;CASpCnF,IAAAA,OAAO,CAACE,CAAD,EAAI;CAAEoM,MAAAA,OAAO,CAACtM,OAAR,CAAgBE,CAAhB;CAAqB,KATE;;CAUpC4B,IAAAA,IAAI,EAAEE,KAAK,CAACF;CAVwB,GAAD,CAApC;;CAYA,EAAmB;CAAEwE,IAAAA,QAAQ;CAAK;;CAClC,QAAMoG,MAAM,GAAG/P,GAAG,CAAC4E,KAAD,EAAQvC,OAAR,CAAlB;CACA,MAAIqH,KAAJ;;CACA,EAAmB;CAAEA,IAAAA,KAAK,GAAGC,QAAQ,EAAhB;CAAqB;;CAC1C,QAAMqG,KAAK,GAAGC,IAAI,CACjBN,OADiB,EAEjBtF,SAFiB,EAGjB6F,UAAU,CACTP,OAAO,CAACpE,OADC,EAETwE,MAFS,EAGT1N,OAHS,EAITrC,GAAG,CAAC6H,YAAD,CAJM,CAHO,EASjBwG,KATiB,EAUjBmB,aAAa,CAAC,GAAGV,UAAJ,EAAgB9O,GAAG,CAAC8H,gBAAD,CAAnB,CAVI,EAWjB,KAXiB,CAAlB;CAeA,SAAO,EACN,GAAGW,IADG;CAENzI,IAAAA,GAFM;CAGNwJ,IAAAA,MAAM,EAAE,IAHF;CAINhB,IAAAA,QAAQ,EAAEvE,KAAK,CAACC,OAAN,CAAc8L,KAAd,IAAuBA,KAAvB,GAA+B,CAACA,KAAD,CAJnC;CAKNtG,IAAAA;CALM,GAAP;CAOA;;CAGD,SAASyG,eAAT,CACCR,OADD,EAECtF,SAFD,EAGC7B,QAHD,EAIC6F,KAJD,EAKCS,UALD,EAMCR,MAND,EAOmB;CAClB,MAAI9F,QAAQ,CAACvG,MAAT,KAAoB,CAAxB,EAA2B;CAC1B,WAAO,IAAP;CACA;;CACD,QAAM,CAACmO,QAAD,IAAa5H,QAAnB;;CACA,MAAIgE,OAAO,CAAC4D,QAAD,CAAP,IAAqB,OAAOA,QAAP,KAAoB,UAA7C,EAAyD;CACxD,WAAO,IAAP;CACA;;CACD,QAAM;CAAEC,IAAAA;CAAF,MAAuBV,OAA7B;CACA,QAAMtP,EAAE,GAAGgQ,gBAAgB,CAAC3K,GAAjB,CAAqB0K,QAArB,CAAX;;CACA,MAAI/P,EAAJ,EAAQ;CAAE,WAAOA,EAAP;CAAY;;CACtB,QAAMiQ,KAAK,GAAG,UAAoB,GAAGlM,CAAvB,EAAsC;CACnD,WAAO6L,IAAI,CACVN,OADU,EAEVtF,SAFU,EAGV+F,QAAQ,CAACG,IAAT,CAAc,IAAd,EAAoB,GAAGnM,CAAvB,CAHU,EAIViK,KAJU,EAKVS,UALU,EAMVR,MANU,CAAX;CAQA,GATD;;CAUA+B,EAAAA,gBAAgB,CAAC/I,GAAjB,CAAqB8I,QAArB,EAA+BE,KAA/B;CACA,SAAOA,KAAP;CACA;;CAoBD,SAASE,MAAT,CACCb,OADD,EAECtF,SAFD,EAGC5B,IAHD,EAIC4F,KAJD,EAKCS,UALD,EAMCR,MAND,EAOkC;CACjC,MAAIrK,KAAK,CAACC,OAAN,CAAcuE,IAAd,CAAJ,EAAyB;CACxB,WAAOA,IAAI,CAACxH,GAAL,CAASkD,CAAC,IAChBqM,MAAI,CAACb,OAAD,EAAUtF,SAAV,EAAqBlG,CAArB,EAAwBkK,KAAxB,EAA+BS,UAA/B,EAA2CR,MAA3C,CADE,CAAP;CAEA;;CACD,MAAI,CAACjG,SAAS,CAACI,IAAD,CAAd,EAAsB;CAAE,WAAOA,IAAP;CAAc;;CACtC,MAAI;CAAEzI,IAAAA,GAAF;CAAOwI,IAAAA;CAAP,MAAoBC,IAAxB;;CACA,MAAIyB,SAAS,CAAClK,GAAD,CAAb,EAAoB;CACnB,UAAMyQ,YAAY,GAAGlQ,MAAM,CAACC,MAAP,CAAc6J,SAAd,CAArB;CACA7E,IAAAA,OAAO,CAACC,cAAR,CAAuBgL,YAAvB,EAAqCzQ,GAAG,CAACmI,gBAAD,CAAxC,EAA4D;CAC3DpC,MAAAA,YAAY,EAAE,IAD6C;CAE3D2K,MAAAA,UAAU,EAAE,IAF+C;CAG3DxP,MAAAA,KAAK,EAAEuH,IAAI,CAAC7D,KAAL,GAAa6D,IAAI,CAAC7D,KAAL,CAAW1D,KAAxB,GAAgCyH;CAHoB,KAA5D;CAKA,WAAO,EAAC,GAAGF,IAAJ;CAAUzI,MAAAA,GAAV;CAAewI,MAAAA,QAAQ,EAAEA,QAAQ,CAACvH,GAAT,CAAa0P,KAAK,IAAIH,MAAI,CACzDb,OADyD,EAEzDc,YAFyD,EAGzDE,KAHyD,EAIzDtC,KAJyD,EAKzDS,UALyD,EAMzDR,MANyD,CAA1B;CAAzB,KAAP;CAQA;;CACD,MAAItO,GAAG,KAAK2G,UAAZ,EAAwB;CACvB,UAAMiK,YAAY,GAAGT,eAAe,CACnCR,OADmC,EAEnCtF,SAFmC,EAGnC7B,QAHmC,EAInC6F,KAJmC,EAKnCS,UALmC,EAMnCR,MANmC,CAApC;;CAQA,QAAIsC,YAAJ,EAAkB;CACjB,aAAO,EACN,GAAGnI,IADG;CAEND,QAAAA,QAAQ,EAAE,CAACoI,YAAD;CAFJ,OAAP;CAIA;CACD;;CAED,MAAI,OAAO5Q,GAAP,KAAe,UAAf,IAA6BA,GAAG,CAACyH,UAAD,CAAH,KAAoB,QAArD,EAA+D;CAC9D,WAAO,EAAE,GAAGgB,IAAL;CAAWzI,MAAAA,GAAX;CAAgBwI,MAAAA,QAAQ,EAAEA,QAAQ,CACvCvH,GAD+B,CAC3BkD,CAAC,IAAIqM,MAAI,CACbb,OADa,EAEbtF,SAFa,EAGblG,CAHa,EAIbkK,KAJa,EAKbS,UALa,EAMbR,MANa,CADkB;CAA1B,KAAP;CASA;;CAED,SAAOoB,UAAU,CAChBC,OADgB,EAEhBtF,SAFgB,EAGhB5B,IAHgB,EAIhBzI,GAJgB,EAKhB8O,UALgB,EAMhBtG,QANgB,CAAjB;CAQA;;CAGD,SAASqI,OAAT,CAAiBpI,IAAjB,EAAqD;CACpD,MAAIxE,KAAK,CAACC,OAAN,CAAcuE,IAAd,CAAJ,EAAyB;CACxB,WAAOA,IAAI,CAACxH,GAAL,CAAS4P,OAAT,CAAP;CACA;;CACD,MAAIxI,SAAS,CAACI,IAAD,CAAb,EAAqB;CAAE,WAAOA,IAAP;CAAc;;CACrC,MAAIA,IAAI,KAAKE,SAAT,IAAsBF,IAAI,KAAK,IAAnC,EAAyC;CACxC,WAAO;CACN,OAACT,gBAAD,GAAoBC,uBADd;CAENjI,MAAAA,GAAG,EAAE,IAFC;CAGN0I,MAAAA,GAAG,EAAEC,SAHC;CAINH,MAAAA,QAAQ,EAAE;CAJJ,KAAP;CAMA;;CACD,SAAO;CACN,KAACR,gBAAD,GAAoBC,uBADd;CAENS,IAAAA,GAAG,EAAEC,SAFC;CAGN3I,IAAAA,GAAG,EAAE6G,KAHC;CAIN3F,IAAAA,KAAK,EAAEuH,IAJD;CAKND,IAAAA,QAAQ,EAAE;CALJ,GAAP;CAOA;;CACD,SAAS0H,UAAT,CACC3E,OADD,EAEC9C,IAFD,EAGCpG,OAHD,EAICxB,MAJD,EAKS;CACR,MAAIoD,KAAK,CAACC,OAAN,CAAcuE,IAAd,CAAJ,EAAyB;CACxB,WAAOA,IAAP;CACA;;CACD,MAAIJ,SAAS,CAACI,IAAD,CAAb,EAAqB;CACpB,QAAIA,IAAI,CAACzI,GAAL,KAAagH,QAAjB,EAA2B;CAC1B,aAAOyB,IAAI,CAACD,QAAL,CAAcvH,GAAd,CAAkB4P,OAAlB,CAAP;CACA;;CACD,WAAO,CAACpI,IAAD,CAAP;CACA;;CACD,MAAI,CAACA,IAAD,IAAS,CAAC5H,MAAV,IAAoB0K,OAAO,CAACI,MAAR,CAAelD,IAAf,CAAxB,EAA8C;CAC7C,WAAO,CAACA,IAAD,CAAP;CACA;;CACD,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;CAC7B,WAAO,CAACA,IAAD,CAAP;CACA;;CACD,QAAMxF,IAAI,GAAGpC,MAAM,CAAC4H,IAAD,EAAOpG,OAAP,CAAnB;;CACA,MAAI4B,KAAK,CAACC,OAAN,CAAcjB,IAAd,CAAJ,EAAyB;CACxB,WAAOA,IAAP;CACA;;CACD,SAAO,CAACA,IAAD,CAAP;CACA;;AACD,CAAO,SAASgN,IAAT,CACNN,OADM,EAENtF,SAFM,EAGN5B,IAHM,EAIN4F,KAJM,EAKNS,UALM,EAMNR,MANM,EAOqB;CAC3B,SAAOjL,OAAO,CAAC,MAAMyN,QAAQ,CAAC,MAAMN,MAAI,CACvCb,OADuC,EAEvCtF,SAFuC,EAGvC+E,WAAW,CACV3G,IADU,EAEV4F,KAFU,EAGVS,UAHU,EAIVR,MAJU,EAKV,IALU,CAAX,CAMErN,GANF,CAMM4P,OANN,CAHuC,EAUvCxC,KAVuC,EAWvCS,UAXuC,EAYvCR,MAZuC,CAAX,CAAf,CAAd;CAcA;AAGD,CAAe,SAASyC,SAAT,CACdpB,OADc,EAEdI,MAFc,EAGa;CAC3B,QAAM;CAAE1E,IAAAA;CAAF,MAAgBsE,OAAtB;CACA,SAAOM,IAAI,CACVN,OADU,EAEVA,OAAO,CAACtF,SAFE,EAGV6F,UAAU,CACTP,OAAO,CAACpE,OADC,EAETwE,MAFS,EAGTJ,OAAO,CAACtN,OAHC,EAITgJ,SAAS,CAACxD,YAAD,CAJA,CAHA,EASV8H,OAAO,CAACtB,KATE,EAUVmB,aAAa,CAACnE,SAAS,CAACvD,gBAAD,CAAV,CAVH,EAWV2H,OAAO,CAACE,OAAO,CAACrB,MAAT,CAXG,CAAX;CAaA;;CChSD,SAAS0C,aAAT,CAAuBlO,GAAvB,EAAmD;CAClD,QAAMmO,GAGL,GAAG;CACHC,IAAAA,OAAO,EAAE;CAAEnL,MAAAA,YAAY,EAAE,IAAhB;CAAsBL,MAAAA,GAAG,EAAE;CAAA;;CAAA,8BAAM5C,GAAG,CAACmK,MAAV,gDAAM,YAAYzF,OAAlB;CAAA;CAA3B,KADN;CAEH2J,IAAAA,UAAU,EAAE;CAAEpL,MAAAA,YAAY,EAAE,IAAhB;CAAsB7E,MAAAA,KAAK,EAAE;CAA7B,KAFT;CAGHkQ,IAAAA,YAAY,EAAE;CAAErL,MAAAA,YAAY,EAAE,IAAhB;CAAsB7E,MAAAA,KAAK,EAAE;CAA7B,KAHX;CAIHmQ,IAAAA,QAAQ,EAAE;CAAEtL,MAAAA,YAAY,EAAE,IAAhB;CAAsBL,MAAAA,GAAG,EAAE,MAAM5C,GAAG,CAAC+M;CAArC,KAJP;CAKHyB,IAAAA,UAAU,EAAE;CAAEvL,MAAAA,YAAY,EAAE,IAAhB;CAAsBL,MAAAA,GAAG,EAAE,MAAM5C,GAAG,CAACyO;CAArC,KALT;CAMHC,IAAAA,QAAQ,EAAE;CAAEzL,MAAAA,YAAY,EAAE,IAAhB;CAAsBL,MAAAA,GAAG,EAAE,MAAM5C,GAAG,CAAC2O;CAArC,KANP;CAOHC,IAAAA,UAAU,EAAE;CAAE3L,MAAAA,YAAY,EAAE,IAAhB;CAAsBL,MAAAA,GAAG,EAAE,MAAM5C,GAAG,CAAC6O;CAArC;CAPT,GAHJ;CAYA,QAAMnK,OAAgB,GAAGjH,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoByQ,GAApB,CAAzB;CACA,SAAOzJ,OAAP;CACA;;CAED,IAAIoK,YAAJ;AACA,CAAO,SAASC,eAAT,CAAyB5O,IAAzB,EAAsD;CAC5D2O,EAAAA,YAAY,GAAG3O,IAAf;CACA;AACD,CAAO,SAAS6O,QAAT,CAAkBhH,EAAlB,EAAwC;CAC9C,MAAI,CAAC8G,YAAL,EAAmB;CAClB9G,IAAAA,EAAE;CACF,GAFD,MAEO;CACN8G,IAAAA,YAAY,CAACrP,IAAb,CAAkBuI,EAAlB;CACA;CACD;;CAED,SAASiH,YAAT,CAAsBjP,GAAtB,EAAiD;CAChD,QAAMmO,GAGL,GAAG;CACHzJ,IAAAA,OAAO,EAAE;CAAEzB,MAAAA,YAAY,EAAE,IAAhB;CAAsBL,MAAAA,GAAG,EAAE,MAAM5C,GAAG,CAAC0E;CAArC,KADN;CAEHyF,IAAAA,MAAM,EAAE;CAAElH,MAAAA,YAAY,EAAE,IAAhB;CAAsBL,MAAAA,GAAG,EAAE;CAAA;;CAAA,+BAAM5C,GAAG,CAACmK,MAAV,iDAAM,aAAYtL,MAAlB;CAAA;CAA3B,KAFL;CAGH0J,IAAAA,SAAS,EAAE;CAAEtF,MAAAA,YAAY,EAAE,IAAhB;CAAsB7E,MAAAA,KAAK,EAAE;CAA7B,KAHR;CAIH8Q,IAAAA,WAAW,EAAE;CAAEjM,MAAAA,YAAY,EAAE,IAAhB;CAAsB7E,MAAAA,KAAK,EAAE;CAA7B,KAJV;CAKH2O,IAAAA,OAAO,EAAE;CAAE9J,MAAAA,YAAY,EAAE,IAAhB;CAAsBL,MAAAA,GAAG,EAAE,MAAM5C,GAAG,CAAC+M;CAArC,KALN;CAMH0B,IAAAA,SAAS,EAAE;CAAExL,MAAAA,YAAY,EAAE,IAAhB;CAAsBL,MAAAA,GAAG,EAAE,MAAM5C,GAAG,CAACyO;CAArC,KANR;CAOHE,IAAAA,OAAO,EAAE;CAAE1L,MAAAA,YAAY,EAAE,IAAhB;CAAsBL,MAAAA,GAAG,EAAE,MAAM5C,GAAG,CAAC2O;CAArC,KAPN;CAQHE,IAAAA,SAAS,EAAE;CAAE5L,MAAAA,YAAY,EAAE,IAAhB;CAAsBL,MAAAA,GAAG,EAAE,MAAM5C,GAAG,CAAC6O;CAArC,KARR;CASHtK,IAAAA,OAAO,EAAE;CAAEtB,MAAAA,YAAY,EAAE,IAAhB;CAAsB7E,MAAAA,KAAK,EAAEX,MAAM,CAACC,MAAP,CAAc,IAAd;CAA7B,KATN;CAUHqB,IAAAA,YAAY,EAAE;CAAEkE,MAAAA,YAAY,EAAE,IAAhB;CAAsB7E,MAAAA,KAAK,EAAE,CAA7B;CAAgC+Q,MAAAA,QAAQ,EAAE;CAA1C,KAVX;CAWHjQ,IAAAA,QAAQ,EAAE;CAAE+D,MAAAA,YAAY,EAAE,IAAhB;CAAsB7E,MAAAA,KAAK,EAAE;CAA7B,KAXP;CAYHY,IAAAA,cAAc,EAAE;CAAEiE,MAAAA,YAAY,EAAE,IAAhB;CAAsB7E,MAAAA,KAAK,EAAE,CAA7B;CAAgC+Q,MAAAA,QAAQ,EAAE;CAA1C,KAZb;CAaH/P,IAAAA,UAAU,EAAE;CAAE6D,MAAAA,YAAY,EAAE,IAAhB;CAAsB7E,MAAAA,KAAK,EAAE;CAA7B,KAbT;CAcHqG,IAAAA,QAAQ,EAAE;CACTxB,MAAAA,YAAY,EAAE,IADL;;CAET7E,MAAAA,KAAK,CAACgR,CAAD,EAAY;CAAE3K,QAAAA,QAAQ,CAAC2K,CAAD,EAAIvQ,MAAJ,CAAR;CAAsB;;CAFhC,KAdP;CAkBHuF,IAAAA,OAAO,EAAE;CACRnB,MAAAA,YAAY,EAAE,IADN;;CAER7E,MAAAA,KAAK,CAACiG,EAAD,EAAaC,IAAb,EAAyB;CAC7B,eAAOF,OAAO,CAACC,EAAD,EAAKC,IAAL,EAAWzF,MAAX,CAAd;CACA;;CAJO,KAlBN;CAwBH0B,IAAAA,OAAO,EAAE;CAAE0C,MAAAA,YAAY,EAAE,IAAhB;CAAsB7E,MAAAA,KAAK,EAAE4B,GAAG,CAACO,OAAJ,CAAY8O,IAAZ,CAAiBrP,GAAjB;CAA7B,KAxBN;CAyBH4B,IAAAA,EAAE,EAAE;CAAEqB,MAAAA,YAAY,EAAE,IAAhB;CAAsB7E,MAAAA,KAAK,EAAE4B,GAAG,CAAC4B;CAAjC,KAzBD;CA0BHS,IAAAA,IAAI,EAAE;CAAEY,MAAAA,YAAY,EAAE,IAAhB;CAAsB7E,MAAAA,KAAK,EAAE4B,GAAG,CAACqC;CAAjC,KA1BH;CA2BHiN,IAAAA,MAAM,EAAE;CAAErM,MAAAA,YAAY,EAAE,IAAhB;CAAsB7E,MAAAA,KAAK,EAAE4B,GAAG,CAACsP;CAAjC;CA3BL,GAHJ;CAgCA,QAAMzQ,MAAc,GAAGpB,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoByQ,GAApB,CAAvB;CACA,SAAOxO,UAAU,CAACd,MAAD,CAAjB;CACA;;AAED,CAAe,MAAM0Q,YAAN,CAAmB;CASjC;;CAEA;;CAEA;;CAEA;;CAEA;;CAEA;;CAEA;;CAKA;;CAEA;CAGAvS,EAAAA,WAAW,CACVyL,OADU,EAEV0B,MAFU,EAGV5C,SAAoB,GAAG,CAAA4C,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAE5C,SAAR,KAAqB9J,MAAM,CAACC,MAAP,CAAc,IAAd,CAHlC,EAIV8R,SAJU,EAKT;CAAA,8CAnC0B,IAAIC,OAAJ,EAmC1B;;CAAA,oCAlCgB,IAAIjO,YAAJ,EAkChB;;CAAA,kCAjCc,KAAKP,MAAL,CAAYoB,IAiC1B;;CAAA,gCAhCY,KAAKpB,MAAL,CAAYW,EAgCxB;;CAAA,gDA/B4B,IAAI9B,GAAJ,EA+B5B;;CAAA;;CAAA,wCA7B+CrC,MAAM,CAACC,MAAP,CAAc,IAAd,CA6B/C;;CAAA,oCA5BqCD,MAAM,CAACC,MAAP,CAAc,IAAd,CA4BrC;;CAAA;;CAAA;;CAAA,qCAtB0BwQ,aAAa,CAAC,IAAD,CAsBvC;;CAAA,oCApBwBe,YAAY,CAAC,IAAD,CAoBpC;;CAAA;;CAAA;;CAAA,qCAdiB,KAcjB;;CAAA,uCAbmB,KAanB;;CAAA,qCAZiB,KAYjB;;CAAA,uCAXmB,KAWnB;;CAAA,sCATgC,IAAInP,GAAJ,EAShC;;CAAA,kCAPsC,EAOtC;;CAAA;;CAAA,qCAUkD,MAAM,EAVxD;;CAAA,0CAwBuB,KAxBvB;;CAAA,6CAyBwB,CAzBxB;;CAAA,yCA2BoB,KA3BpB;;CAAA,oCA6B4C,EA7B5C;;CAAA,wCA+FkB,EA/FlB;;CAAA,gDA0G2B,KA1G3B;;CAAA,8CA2GyB,KA3GzB;;CAAA,gDA4G2B,KA5G3B;;CAAA;;CACD,SAAK2I,OAAL,GAAeA,OAAf;CACA,SAAKiH,eAAL,GAAuBnI,SAAvB;CACA,SAAKA,SAAL,GAAiB9J,MAAM,CAACC,MAAP,CAAc6J,SAAd,CAAjB;;CACA,QAAI4C,MAAJ,EAAY;CACX,WAAKA,MAAL,GAAcA,MAAd;CACA;;CACD,SAAKqF,SAAL,GAAiBA,SAAS,IAAI,IAA9B;CACA;CACD;;;CAGA,MAAIG,UAAJ,GAA0B;CACzB,QAAI5P,MAAI,CAAC,IAAD,CAAR,EAAgB;CAAE,aAAO,KAAP;CAAe;;CACjC,WAAO,CAAC,KAAK6P,eAAb;CACA;;CACD,MAAcC,WAAd,GAAqC;CACpC,QAAI9P,MAAI,CAAC,IAAD,CAAR,EAAgB;CAAE,aAAO,KAAP;CAAe;;CACjC,QAAI,KAAK6P,eAAT,EAA0B;CAAE,aAAO,KAAP;CAAe;;CAC3C,UAAMC,WAAW,GAAG,KAAKC,YAAzB;CACA,SAAKA,YAAL,GAAoB,KAApB;CACA,WAAOD,WAAP;CACA;CACD;;;CAOUE,EAAAA,WAAV,GAA8B;;CAC9B,QAAMvP,YAAN,CAAsBC,CAAtB,EAA+D;CAC9D,QAAI;CACH,WAAKmP,eAAL;CACA,aAAO,MAAMnP,CAAC,EAAd;CACA,KAHD,SAGU;CACT,WAAKmP,eAAL;CACA,WAAKrP,OAAL;CACA;CACD;;CAYDA,EAAAA,OAAO,CACNE,CADM,EAENC,KAFM,EAG2B;CACjC,QAAI,OAAOD,CAAP,KAAa,UAAjB,EAA6B;CAC5B,UAAIC,KAAJ,EAAW;CAAE,eAAO,KAAKF,YAAL,CAAkBC,CAAlB,CAAP;CAA8B;;CAC3C,UAAI;CACH,aAAKmP,eAAL;CACA,eAAOnP,CAAC,EAAR;CACA,OAHD,SAGU;CACT,aAAKmP,eAAL;;CACA,YAAI,KAAKA,eAAL,IAAwB,CAA5B,EAA+B;CAC9B,eAAKrP,OAAL;CACA;CACD;CACD;;CACD,QAAI,KAAKkO,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAKqB,YAAL,GAAoB,IAApB;;CACA,QAAI,CAAC,KAAK/C,OAAV,EAAmB;CAAE;CAAS;;CAE9B,QAAI,KAAKiD,WAAT,EAAsB;CAAE;CAAS;;CACjC,SAAKA,WAAL,GAAmB,IAAnB;CAEA,QAAI9C,KAAJ;;CACA,WAAO,KAAK2C,WAAZ,EAAyB;CACxB3C,MAAAA,KAAK,GAAG,KAAK+C,OAAL,EAAR;;CACA,UAAI,KAAKxB,SAAT,EAAoB;CAAE;CAAS;CAC/B;;CACD,SAAKuB,WAAL,GAAmB,KAAnB;;CACA,QAAI,CAAC,KAAKL,UAAV,EAAsB;CAAE;CAAS;;CACjC,QAAI,CAACzC,KAAL,EAAY;CAAE;CAAS;;CAEvB,SAAKgD,MAAL,GAAcC,OAAO,CAAC,IAAD,EAAOjD,KAAP,EAAc,KAAKgD,MAAnB,CAArB;;CACA,QAAI,CAAC,KAAKvB,OAAV,EAAmB;CAAE;CAAS;;CAC9B,QAAI,KAAKF,SAAT,EAAoB;CAAE;CAAS;;CAC/B,QAAI,KAAKI,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAKkB,WAAL;CACA;;CAGDtL,EAAAA,QAAQ,CAACJ,EAAD,EAAmB;CAC1BI,IAAAA,QAAQ,CAACJ,EAAD,EAAK,KAAKxF,MAAV,CAAR;CACA;;CAGD;CACUuR,EAAAA,OAAV,CAAkBtO,KAAlB,EAAiC4D,QAAjC,EAAwD;CACvD,SAAKyB,UAAL,GAAkBzB,QAAlB;CACA;CACD;;;CACAjE,EAAAA,MAAM,CAACK,KAAD,EAAgB4D,QAAhB,EAAuC;CAC5C,SAAK0K,OAAL,CAAatO,KAAb,EAAoB4D,QAApB;CACA;;CAMS2K,EAAAA,QAAV,GAA2B;;CAC3BC,EAAAA,OAAO,GAAS;CACf,QAAI,KAAKC,kBAAT,EAA6B;CAAE;CAAS;;CACxC,SAAKA,kBAAL,GAA0B,IAA1B;CACA,SAAK9L,QAAL,CAAc,eAAd;;CACA,SAAK4L,QAAL;;CACA,SAAK5L,QAAL,CAAc,WAAd;CACA,SAAKgK,SAAL,GAAiB,IAAjB;CACA;;CACS+B,EAAAA,MAAV,GAAyB;;CACzB/G,EAAAA,KAAK,GAAS;CACb,QAAI,KAAK8G,kBAAT,EAA6B;CAAE;CAAS;;CACxC,QAAI,KAAKE,gBAAT,EAA2B;CAAE;CAAS;;CACtC,SAAKA,gBAAL,GAAwB,IAAxB;CACA,SAAKhM,QAAL,CAAc,aAAd;CACA,UAAMwI,MAAM,GAAGS,IAAI,CAClBgD,CAAC,IAAIA,CAAC,IAAI,KAAKX,WAAL,EADQ,EAElB,MAAM;CACL,WAAKS,MAAL;;CACA,WAAK7B,OAAL,GAAe,IAAf;CACA,KALiB,CAAnB;CAOA,SAAKgC,kBAAL,GAA0B1D,MAAM,CAAC2D,IAAjC;CACA5B,IAAAA,QAAQ,CAAC,MAAM,KAAKvK,QAAL,CAAc,SAAd,CAAP,CAAR;CACA;;CACSoM,EAAAA,QAAV,GAA2B;;CAC3BrI,EAAAA,OAAO,GAAS;CACf,QAAI,CAAC,KAAKmG,OAAV,EAAmB;CAAE;CAAS;;CAC9B,QAAI,KAAKmC,kBAAT,EAA6B;CAAE;CAAS;;CACxC,SAAKA,kBAAL,GAA0B,IAA1B;CACA,SAAKrM,QAAL,CAAc,eAAd;;CACA,SAAKoM,QAAL;;CACA,SAAKpM,QAAL,CAAc,WAAd;CACA,SAAKoK,SAAL,GAAiB,IAAjB;CACA;;CACDkC,EAAAA,KAAK,GAAS;;CAEd1F,EAAAA,IAAI,GAAS;CACZ,QAAI,KAAKkF,kBAAT,EAA6B;CAAE;CAAS;;CACxC,QAAI,KAAKI,kBAAT,EAA6B;CAC5B,WAAKA,kBAAL;CACA;;CACD,SAAKlM,QAAL,CAAc,YAAd;CACA,UAAMwI,MAAM,GAAGS,IAAI,CAClBgD,CAAC,IAAIA,CAAC,IAAI,KAAKX,WAAL,EADQ,EAElB,MAAM,KAAKgB,KAAL,EAFY,CAAnB;CAIA,SAAKJ,kBAAL,GAA0B1D,MAAM,CAAC2D,IAAjC;CACA5B,IAAAA,QAAQ,CAAC,MAAM,KAAKvK,QAAL,CAAc,OAAd,CAAP,CAAR;CACA;;CAlMgC;;CCnDlC,MAAMuM,WAAW,GAAG,IAAIlR,GAAJ,CAAQ,CAC3B,GAD2B,EACtB,GADsB,EACjB,GADiB,EACZ,GADY,EAE3B,GAF2B,EAEtB,GAFsB,EAEjB,GAFiB,EAEZ,GAFY,EAG3B,GAH2B,EAGtB,GAHsB,EAGjB,GAHiB,EAGZ,GAHY,EAI3B,GAJ2B,EAItB,GAJsB,EAIjB,GAJiB,EAIZ,GAJY,EAIP,GAJO,EAIF,GAJE,EAIG,GAJH,EAIQ,GAJR,CAAR,CAApB;;CAMA,SAASgD,MAAT,CAAgBlC,CAAhB,EAAsD;CACrD,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;CAAE,WAAO,IAAP;CAAc;;CAC3C,MAAIoQ,WAAW,CAACzK,GAAZ,CAAgB3F,CAAC,CAAC,CAAD,CAAjB,CAAJ,EAA2B;CAAE,WAAO,KAAP;CAAe;;CAC5C,MAAI,SAASE,IAAT,CAAcF,CAAd,CAAJ,EAAsB;CAAE,WAAO,KAAP;CAAe;;CACvC,MAAI,UAAUE,IAAV,CAAeF,CAAf,CAAJ,EAAuB;CAAE,WAAO,KAAP;CAAe;;CACxC,SAAO,IAAP;CACA;;CAED,SAASa,MAAT,CACCoL,OADD,EAEC/K,KAFD,EAGC4D,QAHD,EAIQ;CACP,QAAMuL,QAAQ,GAAGpE,OAAO,CAAC/K,KAAzB;CACA,QAAMoP,OAAO,GAAG,IAAIpR,GAAJ,CAAQ4C,OAAO,CAAC2D,OAAR,CAAgBvE,KAAhB,EAAuBgB,MAAvB,CAA8BA,MAA9B,CAAR,CAAhB;;CACA,OAAK,MAAMlC,CAAX,IAAgB8B,OAAO,CAAC2D,OAAR,CAAgB4K,QAAhB,CAAhB,EAA2C;CAC1C,QAAInO,MAAM,CAAClC,CAAD,CAAN,IAAa,CAACsQ,OAAO,CAAC3K,GAAR,CAAY3F,CAAZ,CAAlB,EAAkC;CACjC,aAAOqQ,QAAQ,CAACrQ,CAAD,CAAf;CACA;CACD;;CACD,OAAK,MAAMA,CAAX,IAAgBsQ,OAAhB,EAAyB;CACxBD,IAAAA,QAAQ,CAACrQ,CAAD,CAAR,GAAckB,KAAK,CAAClB,CAAD,CAAnB;CACA;;CAEDiM,EAAAA,OAAO,CAAC5L,MAAR,CAAeY,aAAf,CAA6BC,KAA7B;CACA,QAAMyJ,KAAK,GAAG9N,MAAM,CAACC,MAAP,CAAc,IAAd,CAAd;CACA,QAAM;CAAE8N,IAAAA;CAAF,MAAaqB,OAAnB;CACA,QAAM1F,UAAU,GAAGmE,QAAQ,CAC1BuB,OAAO,CAACpE,OADkB,EAE1B/C,QAF0B,EAG1B6F,KAH0B,EAI1BoB,OAAO,CAACnB,MAAD,CAJmB,CAA3B;CAMAM,EAAAA,QAAQ,CAACP,KAAD,EAAQsB,OAAO,CAACtB,KAAhB,EAAuBsB,OAAO,CAACsE,SAA/B,CAAR;CACAtE,EAAAA,OAAO,CAACsE,SAAR,GAAoB5F,KAApB;;CACA,MAAI,CAACC,MAAL,EAAa;CAAE;CAAS;;CACxBqB,EAAAA,OAAO,CAACuE,WAAR,GACGjB,OAAO,CAACtD,OAAD,EAAU1F,UAAV,EAAsB0F,OAAO,CAACuE,WAA9B,CADV;;CAEA,MAAI,CAACvE,OAAO,CAAC8B,OAAb,EAAsB;CAAE;CAAS;;CACjC9B,EAAAA,OAAO,CAACkD,WAAR;CACA;;CAED,SAASsB,aAAT,CAGExE,OAHF,EAG2C;CAC1C,SAAOvN,WAAW,CAAC;CAClBiM,IAAAA,KAAK,EAAEsB,OAAO,CAACtB,KADG;;CAElB,QAAIwB,OAAJ,GAAc;CAAE,aAAOF,OAAO,CAACE,OAAf;CAAyB,KAFvB;;CAGlB,QAAI5C,MAAJ,GAAa;CAAE,aAAO0C,OAAO,CAAC1C,MAAR,CAAezF,OAAtB;CAAgC,KAH7B;;CAIlB,QAAIgB,QAAJ,GAAe;CAAE,aAAOmH,OAAO,CAACnH,QAAf;CAA0B,KAJzB;;CAKlB,QAAIyB,UAAJ,GAAiB;CAAE,aAAO0F,OAAO,CAAC1F,UAAf;CAA4B,KAL7B;;CAMlB,QAAI9E,IAAJ,GAAW;CAAE,aAAOwK,OAAO,CAACxK,IAAf;CAAsB,KANjB;;CAOlBkF,IAAAA,SAAS,CAAIyF,OAAJ,EAA2B;CACnC,aAAO1F,YAAY,CAACuF,OAAO,CAAC6C,eAAT,EAA0B1C,OAA1B,CAAnB;CACA,KATiB;;CAUlBzM,IAAAA,OAAO,CAACE,CAAD,EAAI;CAAEoM,MAAAA,OAAO,CAACtM,OAAR,CAAgBE,CAAhB;CAAqB;;CAVhB,GAAD,EAWfoM,OAAO,CAAChO,MAXO,CAAlB;CAYA;;CAOD;CACA,SAASyS,UAAT,CACCzE,OADD,EAEmB;CAClB,QAAM;CACLtE,IAAAA,SADK;CAELzG,IAAAA,KAFK;CAGLvC,IAAAA,OAHK;CAILV,IAAAA;CAJK,MAKFgO,OALJ;;CAMA,WAAStM,OAAT,CAAiBgR,OAAjB,EAAyC;CACxC,QAAI,CAACA,OAAL,EAAc;CAAE;CAAS;;CACzB1E,IAAAA,OAAO,CAACtM,OAAR;CACA,GAViB;;;CAYlB,QAAM0M,MAAM,GAAGS,IAAI,CAClBnN,OADkB,EAElB,MAAM3B,UAAU,CACf,MAAM2J,SAAS,CAACzG,KAAD,EAAQvC,OAAR,CADA,EAEfV,MAFe,CAFE,EAMlB;CAAE2S,IAAAA,UAAU,EAAE;CAAd,GANkB,CAAnB;;CAQA,MAAI,OAAOvE,MAAP,KAAkB,UAAtB,EAAkC;CACjC;CACA,UAAMlP,MAAM,GAAG0T,OAAO,CACrBlR,OADqB,EAErB,MAAM0N,SAAS,CAACpB,OAAD,EAAWI,MAAD,EAAV,CAFM,CAAtB;CAIA,WAAO;CACNC,MAAAA,KAAK,EAAEnP,MAAM,EADP;CAENA,MAAAA,MAFM;CAGN2T,MAAAA,UAAU,EAAE,MAAM3T,MAAM,CAAC6S,IAAP;CAHZ,KAAP;CAKA;;CAED,QAAM7S,MAAM,GAAG0T,OAAO,CACrBlR,OADqB,EAErB,MAAM0N,SAAS,CAACpB,OAAD,EAAUjO,UAAU,CAClC,MAAM2J,SAAS,CAACzG,KAAD,EAAQvC,OAAR,CADmB,EAElCV,MAFkC,CAApB,CAFM,CAAtB;CAOA,SAAO;CACNqO,IAAAA,KAAK,EAAEQ,IAAI,CACVnN,OADU,EAEV,MAAM0N,SAAS,CAACpB,OAAD,EAAUI,MAAV,CAFL,EAGV;CAAEuE,MAAAA,UAAU,EAAE;CAAd,KAHU,CADL;CAMNzT,IAAAA,MANM;CAON2T,IAAAA,UAAU,EAAE,MAAM3T,MAAM,CAAC6S,IAAP;CAPZ,GAAP;CASA;;AAGD,CAAe,MAAMe,eAAN,SAGLpC,YAHK,CAGQ;CACtB;;CAEA;;CAEA;;CAGA;;CAEA;;CAKA;;CAGA;CACAvS,EAAAA,WAAW,CACVuL,SADU,EAEVzG,KAFU,EAGV4D,QAHU,EAIVyE,MAJU,EAKV5C,SALU,EAMT;CAAA;;CACD,UAAM4C,MAAM,CAAC1B,OAAb,EAAsB0B,MAAtB,EAA8B5C,SAA9B,EAAyC4C,MAAM,CAACqF,SAAhD;;CADC;;CAAA,mCArBkBoC,MAAM,CAACnU,MAAM,CAACC,MAAP,CAAc,IAAd,CAAD,CAqBxB;;CAAA,mCAnBsBkU,MAAM,CAACnU,MAAM,CAACC,MAAP,CAAc,IAAd,CAAD,CAmB5B;;CAAA;;CAAA;;CAAA;;CAAA,wCAb4C,EAa5C;;CAAA,wCAZ4C,EAY5C;;CAAA;;CAAA;;CAAA;;CAED,SAAK6K,SAAL,GAAiBA,SAAjB;CACA9K,IAAAA,MAAM,CAACoU,MAAP,CAAc,KAAKvC,MAAnB,EAA2B/G,SAAS,CAACtD,YAAD,CAApC;CACAxH,IAAAA,MAAM,CAACoU,MAAP,CAAc,KAAK7F,UAAnB,EAA+BzD,SAAS,CAACvD,gBAAD,CAAxC;CACAtC,IAAAA,OAAO,CAACC,cAAR,CACC,KAAK+B,OADN,EAEC,YAFD,EAGC;CACCtG,MAAAA,KAAK,EAAEmK,SADR;CAECqF,MAAAA,UAAU,EAAE,IAFb;CAGC3K,MAAAA,YAAY,EAAE;CAHf,KAHD,EALC;;CAeD,KAAC,KAAKuI,MAAN,EAAc,KAAKsG,OAAnB,IACCvJ,SAAS,CAAC5D,UAAD,CAAT,KAA0B,QAA1B,8BACA,sBAAK8D,OAAL,EAAasJ,eADb,0DACA,yCADA,KACoC,EAFrC,CAfC;;CAmBD,SAAK5H,MAAL,GAAcA,MAAd;CACAA,IAAAA,MAAM,CAACzE,QAAP,CAAgBzF,GAAhB,CAAoB,KAAKyE,OAAzB,EApBC;;CAsBD,UAAMnF,OAAO,GAAG8R,aAAa,CAAC,IAAD,CAA7B;CACA,SAAK9R,OAAL,GAAeA,OAAf,CAvBC;;CAyBD,SAAKkF,QAAL,CAAc,cAAd,EAzBC;;CA2BD,SAAK0C,UAAL,GAAkBzB,QAAlB;CACAnF,IAAAA,OAAO,CAAC,MAAMyN,QAAQ,CAAC,MAAMvM,MAAM,CAAC,IAAD,EAAOK,KAAP,EAAc4D,QAAd,CAAb,CAAf,CAAP,CA5BC;;CA8BD,UAAM;CAAE3H,MAAAA,MAAF;CAAUmP,MAAAA,KAAV;CAAiBwE,MAAAA;CAAjB,QAAgCJ,UAAU,CAAC,IAAD,CAAhD;CACA,SAAKrB,OAAL,GAAelS,MAAf;CACA,SAAKiU,WAAL,GAAmBN,UAAnB;CACA,SAAKxB,MAAL,GAAcC,OAAO,CAAC,IAAD,EAAOjD,KAAP,CAArB,CAjCC;;CAmCD,SAAKzI,QAAL,CAAc,SAAd;CACA,SAAKsI,OAAL,GAAe,IAAf;;CACA,QAAI,KAAK+C,YAAT,EAAuB;CAAE,WAAKvP,OAAL;CAAiB;CAC1C;CACD;;;CACA6P,EAAAA,OAAO,CAACtO,KAAD,EAAgB4D,QAAhB,EAAuC;CAC7C,QAAI,KAAK+I,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAKtH,UAAL,GAAkBzB,QAAlB;CACAnF,IAAAA,OAAO,CAAC,MAAMyN,QAAQ,CAAC,MAAMvM,MAAM,CAAC,IAAD,EAAOK,KAAP,EAAc4D,QAAd,CAAb,CAAf,CAAP;CACA;;CACD2K,EAAAA,QAAQ,GAAS;CAChB,QAAI,KAAK2B,WAAT,EAAsB;CACrB,WAAKA,WAAL;CACA;;CACD,SAAK7H,MAAL,CAAYzE,QAAZ,CAAqBpC,MAArB,CAA4B,KAAKoB,OAAjC;CACA4L,IAAAA,OAAO,CAAC,KAAKJ,MAAN,CAAP;CACA;CAED;;;CACAH,EAAAA,WAAW,GAAS;CACnB,SAAKP,SAAL,CAAeyC,QAAf,CAAwB,IAAxB;CACA;;CACDlB,EAAAA,KAAK,GAAS;CACb,UAAM;CAACK,MAAAA,WAAD;CAAc3I,MAAAA,OAAd;CAAuBqJ,MAAAA,OAAvB;CAAgCtG,MAAAA;CAAhC,QAA0C,IAAhD;;CACA,QAAI,CAACA,MAAD,IAAW,CAAC4F,WAAZ,IAA2B,CAACU,OAAhC,EAAyC;CACxC,WAAKxJ,IAAL,GAAY+C,IAAI,CACf5C,OADe,EAEf,KAAKyH,MAFU,EAGf,KAAK5H,IAHU,CAAhB;CAKA;CACA;;CACD,SAAK4J,UAAL,GAAkB7G,IAAI,CACrB5C,OADqB,EAErB,KAAKyH,MAFgB,EAGrB,KAAKgC,UAHgB,CAAtB;CAKA,SAAKC,UAAL,GAAkB9G,IAAI,CACrB5C,OADqB,EAErB2I,WAFqB,EAGrB,KAAKe,UAHgB,CAAtB;CAKA;;CACD3B,EAAAA,MAAM,GAAS;CACd,UAAM;CACLY,MAAAA,WADK;CAEL3I,MAAAA,OAFK;CAGLqJ,MAAAA,OAHK;CAILtG,MAAAA,MAJK;CAKL0E,MAAAA;CALK,QAMF,IANJ;;CAOA,QAAI,CAAC1E,MAAD,IAAW,CAAC4F,WAAZ,IAA2B,CAACU,OAAhC,EAAyC;CACxC,WAAKxJ,IAAL,GAAY+C,IAAI,CAAC5C,OAAD,EAAUyH,MAAV,CAAhB;CACA;CACA;;CAED,SAAK5H,IAAL,GAAY+C,IAAI,CAAC5C,OAAD,EAAU,CAAC;CAC1BvL,MAAAA,GAAG,EAAE6G,KADqB;CAE1B6B,MAAAA,GAAG,EAAE4F,MAFqB;CAG1BpN,MAAAA,KAAK,EAAEoN,MAHmB;CAI1B9F,MAAAA,QAAQ,EAAE;CAJgB,KAAD,CAAV,CAAhB;CAMA,SAAKwM,UAAL,GAAkB7G,IAAI,CAAC5C,OAAD,EAAUyH,MAAV,CAAtB;;CACA,SAAK,MAAMlI,EAAX,IAAiBK,QAAQ,CAAC,KAAK6J,UAAN,CAAzB,EAA4C;CAC3CzJ,MAAAA,OAAO,CAACkB,UAAR,CAAmBmI,OAAnB,EAA4B9J,EAA5B;CACA;;CACD,SAAKmK,UAAL,GAAkB9G,IAAI,CAAC5C,OAAD,EAAU2I,WAAV,CAAtB;;CACA,SAAK,MAAMpJ,EAAX,IAAiBK,QAAQ,CAAC,KAAK8J,UAAN,CAAzB,EAA4C;CAC3C1J,MAAAA,OAAO,CAACkB,UAAR,CAAmB6B,MAAnB,EAA2BxD,EAA3B;CACA;CACD;;CACD6I,EAAAA,QAAQ,GAAS;CAChB,UAAM;CAACpI,MAAAA,OAAD;CAAU0J,MAAAA;CAAV,QAAwB,IAA9B;CACA3J,IAAAA,OAAO,CAACC,OAAD,EAAU,KAAKH,IAAf,CAAP;;CACA,QAAI,CAAC6J,UAAL,EAAiB;CAAE;CAAS;;CAC5B3J,IAAAA,OAAO,CAACC,OAAD,EAAU0J,UAAV,CAAP;CACA;;CAxIqB;;CC3JvB;;AACA,CAAO,SAASC,SAAT,CAAmBrP,CAAnB,EAA+C;CACrD,MAAIA,CAAC,KAAK,KAAN,IAAeA,CAAC,KAAK,IAArB,IAA6BA,CAAC,KAAK8C,SAAvC,EAAkD;CACjD,WAAO,IAAP;CACA;;CACD,MAAIN,SAAS,CAACxC,CAAD,CAAb,EAAkB;CACjB,WAAOA,CAAP;CACA;;CACD,SAAO;CACN,KAACmC,gBAAD,GAAoBC,uBADd;CAENjI,IAAAA,GAAG,EAAE6G,KAFC;CAGN6B,IAAAA,GAAG,EAAE7C,CAHC;CAIN3E,IAAAA,KAAK,EAAE2E,CAJD;CAKN2C,IAAAA,QAAQ,EAAE;CALJ,GAAP;CAOA;AAED,CAAO,SAAS4K,OAAT,CACNhI,IADM,EAEC;CACP,MAAInH,KAAK,CAACC,OAAN,CAAckH,IAAd,CAAJ,EAAyB;CACxBA,IAAAA,IAAI,CAACjI,OAAL,CAAa0C,CAAC,IAAIuN,OAAO,CAACvN,CAAD,CAAzB;CACA;CACA;;CACD,QAAM;CAAEwF,IAAAA;CAAF,MAAgBD,IAAtB;;CACA,MAAIC,SAAJ,EAAe;CAAEA,IAAAA,SAAS,CAAC+H,OAAV;CAAsB;CACvC;;CCnBM,SAAShH,YAAT,CACNuD,OADM,EAENtF,SAFM,EAGNqB,MAHM,EAIK;CACX,MAAI,CAACA,MAAL,EAAa;CAAE,WAAO;CACrB1L,MAAAA,GAAG,EAAE,IADgB;CAErB0I,MAAAA,GAAG,EAAEC,SAFgB;CAGrBH,MAAAA,QAAQ,EAAE;CAHW,KAAP;CAIX;;CACJ,QAAM;CAAExI,IAAAA;CAAF,MAAU0L,MAAhB;;CACA,MAAI,CAAC1L,GAAL,EAAU;CACT,WAAO;CACNA,MAAAA,GAAG,EAAE,IADC;CAEN0I,MAAAA,GAAG,EAAEC,SAFC;CAGNH,MAAAA,QAAQ,EAAE;CAHJ,KAAP;CAKA;;CAED,MAAI0B,SAAS,CAAClK,GAAD,CAAb,EAAoB;CACnB,UAAMyQ,YAAY,GAAGlQ,MAAM,CAACC,MAAP,CAAc6J,SAAd,CAArB;CACA7E,IAAAA,OAAO,CAACC,cAAR,CAAuBgL,YAAvB,EAAqCzQ,GAAG,CAACmI,gBAAD,CAAxC,EAA4D;CAC3DpC,MAAAA,YAAY,EAAE,IAD6C;CAE3D2K,MAAAA,UAAU,EAAE,IAF+C;CAG3DxP,MAAAA,KAAK,EAAEwK,MAAM,CAAC9G,KAAP,GAAe8G,MAAM,CAAC9G,KAAP,CAAa1D,KAA5B,GAAoCyH;CAHgB,KAA5D;CAKA,WAAO,EACN,GAAG+C,MADG;CAENrB,MAAAA,SAAS,EAAEoG,YAFL;CAGNjI,MAAAA,QAAQ,EAAEyD,WAAS,CAClB0D,OADkB,EAElBc,YAFkB,EAGlB/E,MAAM,CAAClD,QAHW;CAHb,KAAP;CASA;;CAED,MAAI,OAAOxI,GAAP,KAAe,QAAnB,EAA6B;CAC5B,QAAIA,GAAG,CAACyH,UAAD,CAAH,KAAoB,QAAxB,EAAkC;CACjC,aAAO,EACN,GAAGiE,MADG;CAENlD,QAAAA,QAAQ,EAAEyD,WAAS,CAClB0D,OADkB,EAElBtF,SAFkB,EAGlBqB,MAAM,CAAClD,QAHW,CAFb;CAON6C,QAAAA,SAAS,EAAE1C;CAPL,OAAP;CASA;;CACD,WAAO,EACN,GAAG+C,MADG;CACKlD,MAAAA,QAAQ,EAAE,EADf;CAEN6C,MAAAA,SAAS,EAAE,IAAIoJ,eAAJ,CACVzU,GADU,EAEV0L,MAAM,CAAC9G,KAAP,IAAgB,EAFN,EAGV8G,MAAM,CAAClD,QAHG,EAIVmH,OAJU,EAKVtF,SALU;CAFL,KAAP;CAUA;;CACD,QAAMgC,IAAI,GAAGrM,GAAG,CAACsM,WAAJ,EAAb;;CACA,MAAID,IAAI,KAAKvF,SAAb,EAAwB;CAAA;;CACvB,UAAMpG,IAAI,GAAGgL,MAAH,aAAGA,MAAH,wCAAGA,MAAM,CAAE9G,KAAX,kDAAG,cAAelE,IAA5B;CACA,UAAM6K,OAAO,GAAG7K,IAAI,GAAGD,SAAS,CAACC,IAAD,CAAZ,GAAqBiP,OAAO,CAACpE,OAAjD;CACA,WAAO,EACN,GAAGG,MADG;CACKlD,MAAAA,QAAQ,EAAE,EADf;CAEN6C,MAAAA,SAAS,EAAE,IAAI8J,eAAJ,CACV5J,OADU,EAEVG,MAAM,CAAC9G,KAAP,IAAgB,EAFN,EAGV8G,MAAM,CAAClD,QAHG,EAIVmH,OAJU,EAKVtF,SALU;CAFL,KAAP;CAUA;;CACD,MAAIgC,IAAI,KAAKxF,KAAb,EAAoB;CACnB,WAAO,EAAE,GAAG6E,MAAL;CAAalD,MAAAA,QAAQ,EAAE;CAAvB,KAAP;CACA;;CAED,MAAI6D,IAAI,CAAC1I,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,OAAtB,IAAiC0I,IAAI,KAAK,UAA9C,EAA0D;CACzD,WAAO,EACN,GAAGX,MADG;CAENlD,MAAAA,QAAQ,EAAEyD,WAAS,CAClB0D,OADkB,EAElBtF,SAFkB,EAGlBqB,MAAM,CAAClD,QAHW;CAFb,KAAP;CAQA;;CACD,SAAO,EACN,GAAGkD,MADG;CAENlD,IAAAA,QAAQ,EAAEyD,WAAS,CAAC0D,OAAD,EAAUtF,SAAV,EAAqBqB,MAAM,CAAClD,QAA5B;CAFb,GAAP;CAIA;AAED,CAAO,SAASyD,WAAT,CACN0D,OADM,EAENtF,SAFM,EAGNqB,MAHM,EAIsB;CAC5B,MAAI,CAACzH,KAAK,CAACC,OAAN,CAAcwH,MAAd,CAAL,EAA4B;CAAEA,IAAAA,MAAM,GAAG,CAACA,MAAD,CAAT;CAAoB;;CAClD,MAAI,CAACA,MAAM,CAACzJ,MAAZ,EAAoB;CAAE,WAAO,EAAP;CAAY;;CAClC,SAAQyJ,MAAD,CAAkBzK,GAAlB,CAAsBiL,IAAI,IAAI;CACpC,QAAI,CAACjI,KAAK,CAACC,OAAN,CAAcgI,IAAd,CAAL,EAA0B;CACzB,aAAOE,YAAU,CAACuD,OAAD,EAAUtF,SAAV,EAAqB6K,SAAS,CAAChJ,IAAD,CAA9B,CAAjB;CACA;;CACD,WAAO,CAAC,GAAGrB,kBAAkB,CAACqB,IAAD,CAAtB,EACLjL,GADK,CACD6J,EAAE,IAAIsB,YAAU,CAACuD,OAAD,EAAUtF,SAAV,EAAqB6K,SAAS,CAACpK,EAAD,CAA9B,CADf,CAAP;CAEA,GANM,CAAP;CAOA;;CC9GD;;;;;;;CAMA,SAASqC,YAAT,CACCwC,OADD,EAECtF,SAFD,EAGCqB,MAHD,EAICN,IAJD,EAKc;CACb,MAAI,CAACnH,KAAK,CAACC,OAAN,CAAckH,IAAd,CAAL,EAA0B;CAAEA,IAAAA,IAAI,GAAG,CAACA,IAAD,CAAP;CAAgB;;CAC5C,QAAMgC,OAAmB,GAAG,EAA5B;;CACA,OAAK,MAAME,GAAX,IAAkBzC,kBAAkB,CAACa,MAAD,CAApC,EAA8C;CAC7C,UAAMjD,IAAI,GAAGyM,SAAS,CAAC5H,GAAD,CAAtB;;CACA,QAAI,CAAC7E,IAAL,EAAW;CAAE;CAAW;;CACxB,UAAM8E,KAAK,GAAGnC,IAAI,CAACoC,SAAL,CAAe1C,EAAE,IAC9BA,EAAE,CAAC9K,GAAH,KAAWyI,IAAI,CAACzI,GAAhB,IAAuB8K,EAAE,CAACpC,GAAH,KAAWD,IAAI,CAACC,GAD1B,CAAd;;CAEA,QAAI6E,KAAK,IAAI,CAAb,EAAgB;CACfH,MAAAA,OAAO,CAAC7K,IAAR,CAAamL,YAAU,CACtBiC,OADsB,EAEtBtF,SAFsB,EAGtB5B,IAHsB,EAItB2C,IAAI,CAACmC,KAAD,CAJkB,CAAvB;CAMAnC,MAAAA,IAAI,CAACuC,MAAL,CAAYJ,KAAZ,EAAmB,CAAnB;CACA,KARD,MAQO;CACNH,MAAAA,OAAO,CAAC7K,IAAR,CAAa6J,YAAU,CAACuD,OAAD,EAAUtF,SAAV,EAAqB5B,IAArB,CAAvB;CACA;CACD;;CACD2K,EAAAA,OAAO,CAAChI,IAAD,CAAP;CACA,SAAOgC,OAAP;CACA;CAED;;;;;;;;CAMA,SAASM,YAAT,CACCiC,OADD,EAECtF,SAFD,EAGCqB,MAHD,EAICN,IAJD,EAKY;CACX,MAAI,CAACA,IAAL,EAAW;CACV,WAAOgB,YAAU,CAACuD,OAAD,EAAUtF,SAAV,EAAqBqB,MAArB,CAAjB;CACA;;CACD,MAAI,CAACA,MAAL,EAAa;CACZ0H,IAAAA,OAAO,CAAChI,IAAD,CAAP;CACA,WAAO;CAAEpL,MAAAA,GAAG,EAAE,IAAP;CAAa0I,MAAAA,GAAG,EAAEC,SAAlB;CAA6BH,MAAAA,QAAQ,EAAE;CAAvC,KAAP;CACA;;CACD,MAAIvE,KAAK,CAACC,OAAN,CAAckH,IAAd,CAAJ,EAAyB;CACxB,QAAI,CAACA,IAAI,CAACnJ,MAAV,EAAkB;CACjB,aAAOmK,YAAU,CAACuD,OAAD,EAAUtF,SAAV,EAAqBqB,MAArB,CAAjB;CACA;;CACD,UAAM6B,KAAK,GAAGnC,IAAI,CAACoC,SAAL,CAAe1C,EAAE,IAAIA,EAAE,CAAC9K,GAAH,KAAW0L,MAAM,CAAC1L,GAAvC,CAAd;;CACA,QAAIuN,KAAK,GAAG,CAAZ,EAAe;CACd6F,MAAAA,OAAO,CAAChI,IAAD,CAAP;CACA,aAAOgB,YAAU,CAACuD,OAAD,EAAUtF,SAAV,EAAqBqB,MAArB,CAAjB;CACA;;CACD,UAAMwC,GAAG,GAAG9C,IAAZ;CACA,KAACA,IAAD,IAASA,IAAI,CAACuC,MAAL,CAAYJ,KAAZ,EAAmB,CAAnB,CAAT;CACA6F,IAAAA,OAAO,CAAClF,GAAD,CAAP;CACA;;CACD,QAAM;CAAElO,IAAAA;CAAF,MAAU0L,MAAhB;;CACA,MAAI1L,GAAG,KAAKoL,IAAI,CAACpL,GAAjB,EAAsB;CACrBoT,IAAAA,OAAO,CAAChI,IAAD,CAAP;CACA,WAAOgB,YAAU,CAACuD,OAAD,EAAUtF,SAAV,EAAqBqB,MAArB,CAAjB;CACA;;CACD,MAAI,CAAC1L,GAAL,EAAU;CAAE,WAAO;CAAEA,MAAAA,GAAG,EAAE,IAAP;CAAa0I,MAAAA,GAAG,EAAEC,SAAlB;CAA6BH,MAAAA,QAAQ,EAAE;CAAvC,KAAP;CAAqD;;CAGjE,MAAI0B,SAAS,CAAClK,GAAD,CAAb,EAAoB;CACnB,UAAMyQ,YAAY,GAAGrF,IAAI,CAACf,SAAL,IAAkB9J,MAAM,CAACC,MAAP,CAAc6J,SAAd,CAAvC;CACA7E,IAAAA,OAAO,CAACC,cAAR,CAAuBgL,YAAvB,EAAqCzQ,GAAG,CAACmI,gBAAD,CAAxC,EAA4D;CAC3DpC,MAAAA,YAAY,EAAE,IAD6C;CAE3D2K,MAAAA,UAAU,EAAE,IAF+C;CAG3DxP,MAAAA,KAAK,EAAEwK,MAAM,CAAC9G,KAAP,GAAe8G,MAAM,CAAC9G,KAAP,CAAa1D,KAA5B,GAAoCyH;CAHgB,KAA5D;CAKA,WAAO,EACN,GAAG+C,MADG;CAENrB,MAAAA,SAAS,EAAEoG,YAFL;CAGNjI,MAAAA,QAAQ,EAAE,CAAC,GAAGsF,WAAS,CACtB6B,OADsB,EAEtBc,YAFsB,EAGtB/E,MAAM,CAAClD,QAHe,EAItB4C,IAAI,CAAC5C,QAJiB,CAAb;CAHJ,KAAP;CAUA;;CAED,MAAI,OAAOxI,GAAP,KAAe,QAAnB,EAA6B;CAC5B,QAAIA,GAAG,CAACyH,UAAD,CAAH,KAAoB,QAAxB,EAAkC;CACjC,aAAO,EACN,GAAGiE,MADG;CAENlD,QAAAA,QAAQ,EAAE,CAAC,GAAGsF,WAAS,CACtB6B,OADsB,EAEtBtF,SAFsB,EAGtBqB,MAAM,CAAClD,QAHe,EAItB4C,IAAI,CAAC5C,QAJiB,CAAb,CAFJ;CAQN6C,QAAAA,SAAS,EAAE1C;CARL,OAAP;CAUA;;CACD,UAAM;CAAE0C,MAAAA;CAAF,QAAgBD,IAAtB;;CACA,QAAI,CAACC,SAAL,EAAgB;CAAE,aAAOe,YAAU,CAACuD,OAAD,EAAUtF,SAAV,EAAqBqB,MAArB,CAAjB;CAAgD;;CAClEL,IAAAA,SAAS,CAAC9G,MAAV,CAAiBmH,MAAM,CAAC9G,KAAP,IAAgB,EAAjC,EAAqC8G,MAAM,CAAClD,QAA5C;CACA,WAAO,EAAE,GAAGkD,MAAL;CAAalD,MAAAA,QAAQ,EAAE,EAAvB;CAA2B6C,MAAAA;CAA3B,KAAP;CACA;;CACD,QAAMgB,IAAI,GAAGrM,GAAG,CAACsM,WAAJ,EAAb;;CACA,MAAID,IAAI,KAAKvF,SAAb,EAAwB;CAAA;;CACvB,UAAM;CAAEuE,MAAAA;CAAF,QAAgBD,IAAtB;;CACA,QAAI,CAACC,SAAL,EAAgB;CAAE,aAAOe,YAAU,CAACuD,OAAD,EAAUtF,SAAV,EAAqBqB,MAArB,CAAjB;CAAgD;;CAClE,UAAMhL,IAAI,GAAGgL,MAAH,aAAGA,MAAH,wCAAGA,MAAM,CAAE9G,KAAX,kDAAG,cAAelE,IAA5B;CACA,UAAM6K,OAAO,GAAG7K,IAAI,GAAGD,SAAS,CAACC,IAAD,CAAZ,GAAqBiP,OAAO,CAACpE,OAAjD;;CACA,QAAIA,OAAO,KAAKF,SAAS,CAACE,OAA1B,EAAmC;CAClC,aAAOa,YAAU,CAACuD,OAAD,EAAUtF,SAAV,EAAqBqB,MAArB,CAAjB;CACA;;CACDL,IAAAA,SAAS,CAAC9G,MAAV,CAAiBmH,MAAM,CAAC9G,KAAP,IAAgB,EAAjC,EAAqC8G,MAAM,CAAClD,QAA5C;CACA,WAAO,EAAE,GAAGkD,MAAL;CAAalD,MAAAA,QAAQ,EAAE,EAAvB;CAA2B6C,MAAAA;CAA3B,KAAP;CACA;;CACD,MAAIgB,IAAI,KAAKxF,KAAb,EAAoB;CACnB,WAAO,EAAE,GAAG6E,MAAL;CAAalD,MAAAA,QAAQ,EAAE;CAAvB,KAAP;CACA;;CACD,MAAI6D,IAAI,CAAC1I,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,OAAtB,IAAiC0I,IAAI,KAAK,UAA9C,EAA0D;CACzD,WAAO,EACN,GAAGX,MADG;CAENlD,MAAAA,QAAQ,EAAE,CAAC,GAAGsF,WAAS,CACtB6B,OADsB,EAEtBtF,SAFsB,EAGtBqB,MAAM,CAAClD,QAHe,EAItB4C,IAAI,CAAC5C,QAJiB,CAAb;CAFJ,KAAP;CASA;;CACD,SAAO,EACN,GAAGkD,MADG;CAENlD,IAAAA,QAAQ,EAAE,CAAC,GAAGsF,WAAS,CAAC6B,OAAD,EACtBtF,SADsB,EAEtBqB,MAAM,CAAClD,QAFe,EAGtB4C,IAAI,CAAC5C,QAHiB,CAAb;CAFJ,GAAP;CAOA;;AAGD,CAAO,UAAUsF,WAAV,CACN6B,OADM,EAENtF,SAFM,EAGNqB,MAHM,EAINN,IAJM,EAK4B;CAClC,MAAI,CAACnH,KAAK,CAACC,OAAN,CAAcwH,MAAd,CAAL,EAA4B;CAAEA,IAAAA,MAAM,GAAG,CAACA,MAAD,CAAT;CAAoB;;CAElD,MAAI6B,KAAK,GAAG,CAAZ;CACA,MAAItL,MAAM,GAAG8L,IAAI,CAACC,GAAL,CAAStC,MAAM,CAACzJ,MAAP,IAAiB,CAA1B,EAA6BmJ,IAAI,CAACnJ,MAAlC,CAAb;;CACA,SAAOsL,KAAK,GAAGtL,MAAf,EAAuBsL,KAAK,EAA5B,EAAgC;CAC/B,UAAMD,GAAG,GAAG5B,MAAM,CAAC6B,KAAD,CAAlB;;CACA,QAAItJ,KAAK,CAACC,OAAN,CAAcoJ,GAAd,CAAJ,EAAwB;CACvB,YAAMH,YAAU,CAACwC,OAAD,EAAUtF,SAAV,EAAqBiD,GAArB,EAA0BlC,IAAI,CAACmC,KAAD,CAA9B,CAAhB;CACA,KAFD,MAEO;CACN,YAAMG,YAAU,CAACiC,OAAD,EAAUtF,SAAV,EAAqB6K,SAAS,CAAC5H,GAAD,CAA9B,EAAqClC,IAAI,CAACmC,KAAD,CAAzC,CAAhB;CACA;CACD;;CACDtL,EAAAA,MAAM,GAAG8L,IAAI,CAACE,GAAL,CAASvC,MAAM,CAACzJ,MAAhB,EAAwByJ,MAAM,CAACzJ,MAA/B,CAAT;;CACA,MAAImJ,IAAI,CAACnJ,MAAL,GAAcsL,KAAlB,EAAyB;CACxB;CACA,WAAOA,KAAK,GAAGtL,MAAf,EAAuBsL,KAAK,EAA5B,EAAgC;CAC/B6F,MAAAA,OAAO,CAAChI,IAAI,CAACmC,KAAD,CAAL,CAAP;CACA;CACD;;CACD,MAAI7B,MAAM,CAACzJ,MAAP,GAAgBsL,KAApB,EAA2B;CAC1B;CACA,WAAOA,KAAK,GAAGtL,MAAf,EAAuBsL,KAAK,EAA5B,EAAgC;CAC/B,YAAMD,GAAG,GAAG4H,SAAS,CAACxJ,MAAM,CAAC6B,KAAD,CAAP,CAArB;;CACA,UAAItJ,KAAK,CAACC,OAAN,CAAcoJ,GAAd,CAAJ,EAAwB;CACvB,cAAM,CAAC,GAAGzC,kBAAkB,CAACyC,GAAD,CAAtB,EACJrM,GADI,CACA6J,EAAE,IAAIsB,YAAU,CAACuD,OAAD,EAAUtF,SAAV,EAAqBS,EAArB,CADhB,CAAN;CAEA,OAHD,MAGO;CACN,cAAMsB,YAAU,CAACuD,OAAD,EAAUtF,SAAV,EAAqBiD,GAArB,CAAhB;CACA;CACD;CACD;CACD;;CC1LD;;;;;;;CAMA,SAAS2F,OAAT,CACCtD,OADD,EAECjE,MAFD,EAGCN,IAHD,EAI6B;CAC5B,SAAO/H,OAAO,CAAC,MAAMyN,QAAQ,CAAC,MAAM;CACnC,QAAI,CAAC1F,IAAL,EAAW;CACV,aAAOa,WAAS,CAAC0D,OAAD,EAAUA,OAAO,CAACtF,SAAlB,EAA6BqB,MAA7B,CAAhB;CACA;;CACD,WAAO,CAAC,GAAGoC,WAAS,CAAC6B,OAAD,EAAUA,OAAO,CAACtF,SAAlB,EAA6BqB,MAA7B,EAAqCN,IAArC,CAAb,CAAP;CACA,GAL4B,CAAf,CAAd;CAMA;;CCND,IAAIgK,SAAS,GAAG,IAAIxS,GAAJ,EAAhB;CACA,IAAIyS,SAAS,GAAG,KAAhB;;CACA,SAASN,QAAT,CAAkBvB,CAAlB,EAA4C;CAC3C4B,EAAAA,SAAS,CAACrS,GAAV,CAAcyQ,CAAd;;CACA,MAAI6B,SAAJ,EAAe;CAAE;CAAS;;CAC1BA,EAAAA,SAAS,GAAG,IAAZ;CACAjV,EAAAA,SAAS,CAAC,MAAM;CACfiV,IAAAA,SAAS,GAAG,KAAZ;CACA,UAAMpS,IAAI,GAAG,CAAC,GAAGmS,SAAJ,CAAb;CACAA,IAAAA,SAAS,CAAClS,KAAV;CACAD,IAAAA,IAAI,CAAChC,GAAL,CAASuS,CAAC,IAAIA,CAAC,CAAC8B,OAAF,EAAd;CACA,GALQ,CAAT;CAMA;;AAED,CAAe,MAAMH,eAAN,SAA8B9C,YAA9B,CAA2C;CAEzD;CAKAvS,EAAAA,WAAW,CACVyL,OADU,EAEV3G,KAFU,EAGV4D,QAHU,EAIVyE,MAJU,EAKV5C,SALU,EAMT;CACD,UAAMkB,OAAN,EAAe0B,MAAf,EAAuB5C,SAAvB;;CADC;;CAAA,qCAVyC,EAUzC;;CAAA,mCATyB,IASzB;;CAAA,wCARmC,IAQnC;;CAAA,2CAPwC,IAOxC;;CAAA,2CAgCc,KAhCd;;CAAA,4CAiCe,KAjCf;;CAAA;;CAAA;;CAAA,wCA4KmB,IAAIzH,GAAJ,EA5KnB;;CAAA,uCA8KkB,KA9KlB;;CAAA,yCAuNoB,IAAIA,GAAJ,EAvNpB;;CAED,SAAKgC,KAAL,GAAaA,KAAb;CACA,SAAKqI,MAAL,GAAcA,MAAd;;CACA,QAAIA,MAAJ,EAAY;CACX,WAAKsI,aAAL,GAAqBtI,MAAM,CAACqF,SAAP,CAAiBiD,aAAtC;CACA;;CACD,SAAKhO,QAAL,CAAc,cAAd;CACA,SAAK0C,UAAL,GAAkBzB,QAAlB;;CAEA,UAAMnF,OAAO,GAAIgR,OAAD,IAA4B;CAC3C,UAAI,CAACA,OAAL,EAAc;CAAE;CAAS;;CACzB,WAAKmB,aAAL,GAAqB,IAArB;CACA,WAAKnS,OAAL;CACA,KAJD;;CAKA,UAAMgL,KAAK,GAAG9N,MAAM,CAACC,MAAP,CAAc,IAAd,CAAd;CAEA,SAAKuS,OAAL,GAAewB,OAAO,CACrBlR,OADqB,EAErB,MAAM4M,IAAI,CACT,IADS,EAET,KAAK5F,SAFI,EAGT,KAAKJ,UAHI,EAIToE,KAJS,EAKT,EALS,EAMT,KANS,CAFW,CAAtB;CAWA,SAAK2E,MAAL,GAAcC,OAAO,CAAC,IAAD,EAAO,KAAKF,OAAL,EAAP,CAArB;CACA,SAAKxL,QAAL,CAAc,SAAd;CACA,SAAKsI,OAAL,GAAe,IAAf;CACA;;CAGD4F,EAAAA,WAAW,CAACjN,QAAD,EAAwB;CAClC,QAAI,KAAK+I,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAKtH,UAAL,GAAkBzB,QAAlB;CACA,SAAKgN,aAAL,GAAqB,IAArB;CACA,SAAKnS,OAAL;CACA;;CACDqS,EAAAA,QAAQ,CAAC9Q,KAAD,EAA0B;CACjC,QAAI,KAAK2M,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAK3M,KAAL,GAAaA,KAAb;CACA,SAAK+Q,cAAL,GAAsB,IAAtB;CACA,SAAKtS,OAAL;CACA;CACD;;;CACAkB,EAAAA,MAAM,CAACK,KAAD,EAAoB4D,QAApB,EAA2C;CAChD,SAAKnF,OAAL,CAAa,MAAM;CAClB,WAAKqS,QAAL,CAAc9Q,KAAd;CACA,WAAK6Q,WAAL,CAAiBjN,QAAjB;CACA,KAHD;CAIA;;CACDqK,EAAAA,WAAW,GAAS;CACnB,SAAKkC,QAAL,CAAc,IAAd;CACA;;CACDzB,EAAAA,MAAM,GAAS;CACd,UAAM;CAAE1O,MAAAA,KAAF;CAASqI,MAAAA,MAAT;CAAiB1B,MAAAA;CAAjB,QAA6B,IAAnC;CACA,UAAMqK,OAAO,GAAGzH,IAAI,CAAC,KAAKmE,SAAL,CAAe/G,OAAhB,EAAyB,KAAKyH,MAA9B,CAApB;CACA,SAAK4C,OAAL,GAAeA,OAAf;CACA,UAAM,CAACtD,SAAD,EAAY7J,IAAZ,IACH8C,OAAO,CAACgB,KAAR,CAAc3H,KAAd,EAAqBqI,MAArB,aAAqBA,MAArB,uBAAqBA,MAAM,CAAE1B,OAA7B,CADH;;CAEA,SAAK,MAAMT,EAAX,IAAiBK,QAAQ,CAACyK,OAAD,CAAzB,EAAoC;CACnCrK,MAAAA,OAAO,CAACkB,UAAR,CAAmB6F,SAAnB,EAA8BxH,EAA9B;CACA;;CACD,SAAKM,IAAL,GAAY,CAACT,iBAAiB,CAAC;CAC9B3K,MAAAA,GAAG,EAAE6G,KADyB;CAE9B6B,MAAAA,GAAG,EAAEC,SAFyB;CAG9B0C,MAAAA,SAAS,EAAE1C,SAHmB;CAI9BF,MAAAA,IAJ8B;CAK9BvH,MAAAA,KAAK,EAAEuH,IALuB;CAM9BD,MAAAA,QAAQ,EAAE;CANoB,KAAD,CAAlB,CAAZ;CAQA,SAAKqN,KAAL,GAAapN,IAAb;CACA,SAAKqN,UAAL,GAAkBxD,SAAlB;CACA;;CACDa,EAAAA,QAAQ,GAAS;CAChBC,IAAAA,OAAO,CAAC,KAAKwC,OAAN,CAAP;CACA;;CACDjC,EAAAA,QAAQ,GAAS;CAChB,UAAM;CAAE1G,MAAAA,MAAF;CAAU1B,MAAAA;CAAV,QAAsB,IAA5B;;CACA,QAAI0B,MAAJ,EAAY;CACX3B,MAAAA,OAAO,CAAC2B,MAAM,CAAC1B,OAAR,EAAiB,KAAKH,IAAtB,CAAP;CACA;;CACDG,IAAAA,OAAO,CAACD,OAAR,CACC,KAAKwK,UADN,EAEC,KAAKD,KAFN,EAGCpG,OAAO,CAACxC,MAAD,CAHR;CAKA3B,IAAAA,OAAO,CAAC,KAAKC,OAAN,EAAe,KAAKqK,OAApB,CAAP;CACA;;CAGD/B,EAAAA,KAAK,GAAS;CACb,UAAM;CACL2B,MAAAA,aAAa,EAAEO,YADV;CAELJ,MAAAA,cAAc,EAAEK;CAFX,QAGF,IAHJ;CAIA,SAAKL,cAAL,GAAsB,KAAtB;;CACA,QAAI,KAAKM,2BAAT,EAAsC;CACrC,WAAKA,2BAAL;CACA;;CACD,QAAID,aAAJ,EAAmB;CAClB,YAAMjG,MAAM,GAAGS,IAAI,CAClBgD,CAAC,IAAIA,CAAC,IAAI,CAAC,KAAKmC,cAAL,GAAsB,IAAvB,EAA6B,KAAK9C,WAAL,EAA7B,CADQ,EAElB;CAAA;;CAAA,eAAM,KAAKtH,OAAL,CAAayK,aAAb,CACL,KAAKF,UADA,EAEL,KAAKD,KAFA,EAGL,KAAKjR,KAHA,kBAIL,KAAKqI,MAJA,iDAIL,aAAa1B,OAJR,CAAN;CAAA,OAFkB,CAAnB;CASA,OAAC,KAAKuK,UAAN,EAAkB,KAAKD,KAAvB,IAAgC9F,MAAM,CAACA,MAAvC;CACA,WAAKkG,2BAAL,GAAmClG,MAAM,CAAC2D,IAA1C;CACA;;CACD,QAAI,KAAKzG,MAAL,IAAe,KAAKA,MAAL,CAAY1B,OAAZ,KAAwB,KAAKA,OAAhD,EAAyD;CACxD;CACA;;CACD,SAAKiK,aAAL,GAAqB,KAArB;;CACA,QAAI,KAAKU,0BAAT,EAAqC;CACpC,WAAKA,0BAAL;CACA;;CACD,QAAIH,YAAJ,EAAkB;CACjB,YAAMhG,MAAM,GAAGS,IAAI,CAClBgD,CAAC,IAAIA,CAAC,IAAI,CAAC,KAAKgC,aAAL,GAAqB,IAAtB,EAA4B,KAAK3C,WAAL,EAA5B,CADQ,EAElB,MAAM,KAAK+C,OAAL,GAAezH,IAAI,CACxB,KAAK5C,OADmB,EAExB,KAAKyH,MAFmB,EAGxB,KAAK4C,OAHmB,CAFP,CAAnB;CAQA,WAAKA,OAAL,GAAe7F,MAAM,CAACA,MAAtB;CACA,WAAKmG,0BAAL,GAAkCnG,MAAM,CAAC2D,IAAzC;CAEA;CACD;;CACDyC,EAAAA,SAAS,GAAS;CACjB,UAAM;CACLX,MAAAA,aAAa,EAAEO,YADV;CAELJ,MAAAA,cAAc,EAAEK;CAFX,QAGF,IAHJ;CAIA,SAAKI,SAAL,GAAiB,KAAjB;CACA,SAAKZ,aAAL,GAAqB,KAArB;CACA,SAAKG,cAAL,GAAsB,KAAtB;;CACA,QAAIK,aAAJ,EAAmB;CAAA;;CAClB,WAAKzK,OAAL,CAAayK,aAAb,CACC,KAAKF,UADN,EAEC,KAAKD,KAFN,EAGC,KAAKjR,KAHN,mBAIC,KAAKqI,MAJN,kDAIC,cAAa1B,OAJd,EAKC,IALD;CAOA;;CACD,QAAIwK,YAAJ,EAAkB;CACjB,WAAKH,OAAL,GAAezH,IAAI,CAClB,KAAK5C,OADa,EAElB,KAAKyH,MAFa,EAGlB,KAAK4C,OAHa,CAAnB;CAKA;CACD;;CACDS,EAAAA,QAAQ,GAAS;CAChB,QAAI,CAAC,KAAK5E,OAAV,EAAmB;CAAE;CAAS;;CAC9B,QAAI,KAAKF,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAKhK,QAAL,CAAc,YAAd;CACAiJ,IAAAA,IAAI,CACHgD,CAAC,IAAIA,CAAC,IAAI,KAAKX,WAAL,EADP,EAEH,MAAM,KAAKsD,SAAL,EAFH,CAAJ;CAIArE,IAAAA,QAAQ,CAAC,MAAM,KAAKvK,QAAL,CAAc,OAAd,CAAP,CAAR;CACA;CACD;;;CAIA;CACAwN,EAAAA,QAAQ,CACPpF,OADO,EAEP2G,MAAM,GAAG,KAFF,EAGA;CAAA;;CACP,QAAI,uBAAKrJ,MAAL,gEAAa1B,OAAb,MAAyB,KAAKA,OAAlC,EAA2C;CAC1C,WAAK0B,MAAL,CAAYqF,SAAZ,CAAsByC,QAAtB,CAA+BpF,OAA/B,EAAwC2G,MAAxC;CACA;CACA;;CACD,QAAI3G,OAAO,KAAK,IAAZ,IAAoB,KAAK1C,MAA7B,EAAqC;CACpC,WAAKA,MAAL,CAAYqF,SAAZ,CAAsByC,QAAtB,CAA+B,IAA/B,EAAqCuB,MAArC;CACA,WAAKF,SAAL,GAAiB,CAACE,MAAlB;CACA,KAHD,MAGO,IAAIA,MAAJ,EAAY;CAClB,WAAKC,UAAL,CAAgBnQ,MAAhB,CAAuBuJ,OAAvB;CACA,KAFM,MAEA;CACN,WAAK4G,UAAL,CAAgBxT,GAAhB,CAAoB4M,OAApB;CACA;;CACD,SAAK4F,aAAL,CAAmBiB,iBAAnB,CACC,IADD,EAEC,CAAC,KAAKJ,SAAN,IAAmB,CAAC,KAAKG,UAAL,CAAgBtQ,IAApC,IACG,KAAKsL,SAHT;CAKA;;CACDyE,EAAAA,aAAa,GAAS;CACrB,UAAM;CACLH,MAAAA,KAAK,EAAEpN,IADF;CAELqN,MAAAA,UAAU,EAAExD,SAFP;CAGLiE,MAAAA,UAAU,EAAEnB;CAHP,QAIF,IAJJ;;CAKA,QAAI,CAAC3M,IAAD,IAAS,CAAC6J,SAAd,EAAyB;CAAE;CAAS;;CACpC,SAAK/K,QAAL,CAAc,YAAd;CACA,UAAMkP,QAAQ,GAAG,KAAKL,SAAtB;CACA,SAAKA,SAAL,GAAiB,KAAjB;CACA,UAAMnT,IAAI,GAAG,CAAC,GAAGmS,SAAJ,CAAb;CACAA,IAAAA,SAAS,CAAClS,KAAV;;CACA,QAAIuT,QAAJ,EAAc;CAAE,WAAKJ,QAAL;CAAkB;;CAClCpT,IAAAA,IAAI,CAAChC,GAAL,CAASuS,CAAC,IAAIA,CAAC,CAACrF,IAAF,EAAd;CACA,SAAK5C,OAAL,CAAamL,QAAb,CAAsBpE,SAAtB,EAAiC7J,IAAjC;CACAqJ,IAAAA,QAAQ,CAAC,MAAM,KAAKvK,QAAL,CAAc,OAAd,CAAP,CAAR;CACA;;CAEDiP,EAAAA,iBAAiB,CAChBlE,SADgB,EAEhBgE,MAAM,GAAG,KAFO,EAGT;CACP,QAAIA,MAAJ,EAAY;CACX,WAAKK,WAAL,CAAiBvQ,MAAjB,CAAwBkM,SAAxB;CACA,KAFD,MAEO;CACN,WAAKqE,WAAL,CAAiB5T,GAAjB,CAAqBuP,SAArB;CACA;;CACDyC,IAAAA,QAAQ,CAAC,IAAD,CAAR;CACA;;CACDO,EAAAA,OAAO,GAAS;CACf,UAAMsB,UAAU,GAAG,KAAKD,WAAxB;;CACA,QAAI,CAACC,UAAU,CAAC3Q,IAAhB,EAAsB;CAAE;CAAS;;CACjC,UAAMhD,IAAI,GAAG,CAAC,GAAG2T,UAAJ,CAAb;CACAA,IAAAA,UAAU,CAAC1T,KAAX;CACA,SAAKqE,QAAL,CAAc,eAAd;CACA,UAAMsP,IAAoB,GAAG,EAA7B;CACA,UAAMjF,YAA4B,GAAG,EAArC;CACAC,IAAAA,eAAe,CAACD,YAAD,CAAf;CACA5G,IAAAA,UAAU,CAAC6L,IAAD,CAAV;CACA5T,IAAAA,IAAI,CAACE,OAAL,CAAaqQ,CAAC,IAAIA,CAAC,CAACwC,aAAF,EAAlB;CACAhL,IAAAA,UAAU;CACV6L,IAAAA,IAAI,CAAC1T,OAAL,CAAa2T,CAAC,IAAIA,CAAC,EAAnB;CACAlF,IAAAA,YAAY,CAACzO,OAAb,CAAqB2T,CAAC,IAAIA,CAAC,EAA3B;CACA,SAAKvP,QAAL,CAAc,UAAd;CACA;;CA/PwD;;CCtB3C,SAAS1G,MAAT,CACdmF,CADc,EAEd5B,CAAa,GAAG,EAFF,EAGA;CACd,MAAI2S,MAAM,GAAG,EAAC,GAAG3S;CAAJ,GAAb;CACA,QAAMkO,SAAS,GAAI,IAAI6C,eAAJ,CAClB1U,SAAS,CAAC2D,CAAC,CAAC1D,IAAH,CADS,EAElBqW,MAFkB,EAGlB/Q,CAAC,KAAK2C,SAAN,GAAkB,EAAlB,GAAuBN,SAAS,CAACrC,CAAD,CAAT,GAAe,CAACA,CAAD,CAAf,GAAqB,CAACsC,aAAa,CAACtC,CAAD,CAAd,CAH1B,CAAnB;;CAKA,EAAmB;CAClBxG,IAAAA,QAAQ,CAACC,UAAT,CAAoB6S,SAApB;CACA;;CACD,QAAM;CAAE9K,IAAAA;CAAF,MAAc8K,SAApB;CACA9M,EAAAA,OAAO,CAACC,cAAR,CAAuB+B,OAAvB,EAAgC,SAAhC,EAA2C;CAC1CtG,IAAAA,KAAK,CAACsS,CAAD,EAA8B;CAClClB,MAAAA,SAAS,CAACmD,WAAV,CAAsBjC,CAAC,KAAK7K,SAAN,GAAkB,EAAlB,GACnBN,SAAS,CAACmL,CAAD,CAAT,GAAe,CAACA,CAAD,CAAf,GAAqB,CAAClL,aAAa,CAACkL,CAAD,CAAd,CADxB;CAEA,aAAOhM,OAAP;CACA,KALyC;;CAM1CzB,IAAAA,YAAY,EAAE;CAN4B,GAA3C;CAQAP,EAAAA,OAAO,CAACC,cAAR,CAAuB+B,OAAvB,EAAgC,QAAhC,EAA0C;CACzCtG,IAAAA,KAAK,CAAC8V,MAAD,EAAe;CACnB,UAAIxP,OAAO,CAACgK,QAAZ,EAAsB;CAAE,eAAOhK,OAAP;CAAiB;;CACzC,UAAIwP,MAAJ,EAAY;CACXD,QAAAA,MAAM,CAACC,MAAP,GAAgBA,MAAhB;CACA1E,QAAAA,SAAS,CAACoD,QAAV,CAAmBqB,MAAnB;CACA;;CACDzE,MAAAA,SAAS,CAAC/F,KAAV;CACA,aAAO/E,OAAP;CACA,KATwC;;CAUzCzB,IAAAA,YAAY,EAAE;CAV2B,GAA1C;CAYAP,EAAAA,OAAO,CAACC,cAAR,CAAuB+B,OAAvB,EAAgC,UAAhC,EAA4C;CAC3CtG,IAAAA,KAAK,GAAG;CACP,UAAI,CAACsG,OAAO,CAACgK,QAAb,EAAuB;CAAE;CAAS;;CAClC,UAAIhK,OAAO,CAACkK,UAAZ,EAAwB;CAAE;CAAS;;CACnC,UAAIlK,OAAO,CAAC8J,UAAZ,EAAwB;CAAE,eAAOgB,SAAS,CAACc,OAAV,EAAP;CAA6B;;CACvDd,MAAAA,SAAS,CAAChH,OAAV;CACA,KAN0C;;CAO3CvF,IAAAA,YAAY,EAAE;CAP6B,GAA5C;;CASA,MAAIgR,MAAM,CAACC,MAAX,EAAmB;CAClB1E,IAAAA,SAAS,CAAC/F,KAAV;CACA;;CACD,SAAO/E,OAAP;CACA;;CCxDD;;CAKA;CACA,SAASyP,IAAT,CACCnN,MADD,EAEC5I,KAFD,EAGQ;CACP,SAAOmK,SAAS,IAAI;CACnBA,IAAAA,SAAS,CAACvB,MAAD,CAAT,GAAoB5I,KAApB;CACA,WAAOmK,SAAP;CACA,GAHD;CAIA;AACD,CAkBA;;;AAMA,CAAO,SAAS6L,KAAT,CACN9R,IADM,EAENiG,SAFM,EAGK;CACX,MAAI,CAACA,SAAL,EAAgB;CAAE,WAAO4L,IAAI,CAACrP,UAAD,EAAaxC,IAAb,CAAX;CAAgC;;CAClDiG,EAAAA,SAAS,CAACzD,UAAD,CAAT,GAAwBxC,IAAxB;CACA,SAAOiG,SAAP;CACA;AAED,CAcA;;AAKA,CAAO,SAAS8L,OAAT,CACN9L,SADM,EAEK;CACX,MAAI,CAACA,SAAL,EAAgB;CAAE,WAAO4L,IAAI,CAACxP,UAAD,EAAa,QAAb,CAAX;CAAoC;;CACtD4D,EAAAA,SAAS,CAAC5D,UAAD,CAAT,GAAwB,QAAxB;CACA,SAAO4D,SAAP;CACA;AACD,CAgEO,SAAS7K,QAAT,CACNgT,CADM,EAENsD,CAFM,EAGF;CACJ,MAAI,OAAOA,CAAP,KAAa,UAAjB,EAA6B;CAC5BtD,IAAAA,CAAC,CAAC3L,YAAD,CAAD,GAAkBiP,CAAlB;CACA;;CACD,SAAOtD,CAAP;CACA;;CCrJD;;;;;AAKA;CAEA,SAAS4D,WAAT,GAAuB;CACrB,SAAOC,OAAP;CACD;;CAED,SAASC,KAAT,CAAepX,CAAf,EAAkB;CAChB,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;CACzB,WAAOA,CAAP;CACD;;CAED,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;CACzB,WAAOc,MAAM,CAACd,CAAD,CAAb;CACD;;CAED,SAAOyI,SAAP;CACD;;CAED,SAAS4O,QAAT,CAAkB3S,KAAlB,EAAyB4J,EAAzB,EAA6Bf,GAA7B,EAAkC;CAChC,QAAMtG,EAAE,GAAGmQ,KAAK,CAAC9K,OAAO,CAAC5H,KAAK,CAACuC,EAAP,CAAP,GAAoBvC,KAAK,CAACuC,EAAN,EAApB,GAAiCvC,KAAK,CAACuC,EAAxC,CAAhB;;CAEA,MAAIA,EAAE,KAAKsG,GAAX,EAAgB;CACd,QAAI,OAAOtG,EAAP,KAAc,QAAlB,EAA4B;CAC1BqH,MAAAA,EAAE,CAACrH,EAAH,GAAQvC,KAAK,CAACuC,EAAd;CACD,KAFD,MAEO;CACLqH,MAAAA,EAAE,CAACgJ,eAAH,CAAmB,IAAnB;CACD;CACF;;CAED,SAAOrQ,EAAP;CACD;;CAED,UAAU0D,oBAAV,CAA6B5H,IAA7B,EAAmC;CACjC,MAAIuJ,OAAO,CAACvJ,IAAD,CAAX,EAAmB;CACjB,WAAO4H,oBAAkB,CAAC5H,IAAI,EAAL,CAAzB;CACA;CACD;;CAED,MAAI,CAACgB,KAAK,CAACC,OAAN,CAAcjB,IAAd,CAAL,EAA0B;CACxB,UAAMA,IAAN;CACA;CACD;;CAED,OAAK,MAAM6H,EAAX,IAAiB7H,IAAjB,EAAuB;CACrB,WAAO4H,oBAAkB,CAACC,EAAD,CAAzB;CACD;CACF;;CAED,SAAS2M,QAAT,CAAkBxU,IAAlB,EAAwB;CACtB,QAAMqE,GAAG,GAAG,IAAI1E,GAAJ,EAAZ;;CAEA,OAAK,MAAM1C,CAAX,IAAgB2K,oBAAkB,CAAC5H,IAAD,CAAlC,EAA0C;CACxC,QAAI,CAAC/C,CAAL,EAAQ;CACN;CACD;;CAED,QAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;CACzB,WAAK,IAAIwD,CAAT,IAAcxD,CAAC,CAACwX,KAAF,CAAQ,GAAR,EAAa9R,MAAb,CAAoB6J,OAApB,CAAd,EAA4C;CAC1CnI,QAAAA,GAAG,CAACvE,GAAJ,CAAQW,CAAR;CACD;CACF,KAJD,MAIO,IAAI,OAAOxD,CAAP,KAAa,QAAjB,EAA2B;CAChC,WAAK,MAAMwD,CAAX,IAAgBxD,CAAhB,EAAmB;CACjB,cAAM6C,GAAG,GAAG7C,CAAC,CAACwD,CAAD,CAAb;;CAEA,aAAK,IAAIoH,EAAT,IAAepH,CAAC,CAACgU,KAAF,CAAQ,GAAR,EAAa9R,MAAb,CAAoB6J,OAApB,CAAf,EAA6C;CAC3CnI,UAAAA,GAAG,CAACvE,GAAG,GAAG,KAAH,GAAW,QAAf,CAAH,CAA4B+H,EAA5B;CACD;CACF;CACF;CACF;;CAED,MAAI,CAACxD,GAAG,CAACrB,IAAT,EAAe;CACb,WAAO0C,SAAP;CACD;;CAED,SAAOrB,GAAP;CACD;;CAED,SAAS/C,QAAT,CAAgBiK,EAAhB,EAAoBmJ,OAApB,EAA6BC,QAA7B,EAAuC;CACrC,MAAID,OAAO,IAAIC,QAAf,EAAyB;CACvB,UAAM3U,IAAI,GAAGuL,EAAE,CAACqJ,YAAH,CAAgB,OAAhB,KAA4B,EAAzC;CACA,UAAMC,SAAS,GAAG,IAAIlV,GAAJ,CAAQK,IAAI,CAACyU,KAAL,CAAW,GAAX,EAAgB9R,MAAhB,CAAuB6J,OAAvB,CAAR,CAAlB;CACAmI,IAAAA,QAAQ,CAACzU,OAAT,CAAiBqQ,CAAC,IAAIsE,SAAS,CAAC1R,MAAV,CAAiBoN,CAAjB,CAAtB;CACAmE,IAAAA,OAAO,CAACxU,OAAR,CAAgBqQ,CAAC,IAAIsE,SAAS,CAAC/U,GAAV,CAAcyQ,CAAd,CAArB;CACAhF,IAAAA,EAAE,CAACuJ,YAAH,CAAgB,OAAhB,EAAyB,CAAC,GAAGD,SAAJ,EAAeE,IAAf,CAAoB,GAApB,CAAzB;CACD,GAND,MAMO,IAAIL,OAAJ,EAAa;CAClBnJ,IAAAA,EAAE,CAACuJ,YAAH,CAAgB,OAAhB,EAAyB,CAAC,GAAGJ,OAAJ,EAAaK,IAAb,CAAkB,GAAlB,CAAzB;CACD,GAFM,MAEA,IAAIJ,QAAJ,EAAc;CACnBpJ,IAAAA,EAAE,CAACgJ,eAAH,CAAmB,OAAnB;CACD;CACF;;CAED,SAASS,WAAT,CAAqBrT,KAArB,EAA4B4J,EAA5B,EAAgCf,GAAhC,EAAqC;CACnC,QAAMkK,OAAO,GAAGF,QAAQ,CAACjL,OAAO,CAAC5H,KAAK,CAACsT,KAAP,CAAP,GAAuBtT,KAAK,CAACsT,KAAN,EAAvB,GAAuCtT,KAAK,CAACsT,KAA9C,CAAxB;CACA3T,EAAAA,QAAM,CAACiK,EAAD,EAAKmJ,OAAL,EAAclK,GAAd,CAAN;CACA,SAAOkK,OAAP;CACD;;CAED,MAAMQ,IAAI,GAAG;CACX,WAAS,IADE;CAEX,YAAU,IAFC;CAGX,SAAO,IAHI;CAIX,WAAS,IAJE;CAKX,YAAU,IALC;CAMX,UAAQ,IANG;CAOX,YAAU,IAPC;CAQX,gBAAc,IARH;CASX,kBAAgB,IATL;CAUX,iBAAe,IAVJ;CAWX,mBAAiB,IAXN;CAYX,kBAAgB,IAZL;CAaX,sBAAoB,IAbT;CAcX,wBAAsB,IAdX;CAeX,uBAAqB,IAfV;CAgBX,yBAAuB,IAhBZ;CAiBX,mBAAiB,IAjBN;CAkBX,4BAA0B,IAlBf;CAmBX,6BAA2B,IAnBhB;CAoBX,+BAA6B,IApBlB;CAqBX,gCAA8B,IArBnB;CAsBX,aAAW,IAtBA;CAuBX,iBAAe,IAvBJ;CAwBX,mBAAiB,IAxBN;CAyBX,kBAAgB,IAzBL;CA0BX,oBAAkB,IA1BP;CA2BX,YAAU,IA3BC;CA4BX,gBAAc,IA5BH;CA6BX,kBAAgB,IA7BL;CA8BX,iBAAe,IA9BJ;CA+BX,mBAAiB;CA/BN,CAAb;;CAkCA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;CACvB,MAAI7L,OAAO,CAAC6L,KAAD,CAAX,EAAoB;CAClBA,IAAAA,KAAK,GAAGA,KAAK,EAAb;CACD;;CAED,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;CAC7B,WAAOA,KAAP;CACD;;CAED,MAAI,CAACA,KAAL,EAAY;CACV,WAAO1P,SAAP;CACD;;CAED,MAAI,OAAO0P,KAAP,KAAiB,QAArB,EAA+B;CAC7B,WAAO1P,SAAP;CACD;;CAED,QAAM2P,GAAG,GAAG/X,MAAM,CAACC,MAAP,CAAc,IAAd,CAAZ;;CAEA,OAAK,IAAIkD,CAAT,IAAc2U,KAAd,EAAqB;CACnB,QAAInX,KAAK,GAAGmX,KAAK,CAAC3U,CAAD,CAAjB;;CAEA,QAAI8I,OAAO,CAACtL,KAAD,CAAX,EAAoB;CAClBA,MAAAA,KAAK,GAAGA,KAAK,EAAb;CACD;;CAED,UAAMwH,GAAG,GAAGhF,CAAC,CAACC,MAAF,CAAS,CAAT,EAAY,CAAZ,MAAmB,IAAnB,GAA0BD,CAA1B,GAA8BA,CAAC,CAACmJ,OAAF,CAAU,QAAV,EAAoB,KAApB,EAA2BA,OAA3B,CAAmC,KAAnC,EAA0C,GAA1C,EAA+CP,WAA/C,EAA1C;;CAEA,QAAI,OAAOpL,KAAP,KAAiB,QAArB,EAA+B;CAC7B,YAAMqX,GAAG,GAAGrX,KAAK,IAAIwC,CAAC,IAAIyU,IAAd,GAAsB,GAAEjX,KAAM,GAAEiX,IAAI,CAACzU,CAAD,CAAI,EAAxC,GAA6C,GAAExC,KAAM,EAAjE;CACAoX,MAAAA,GAAG,CAAC5P,GAAD,CAAH,GAAW,CAAC6P,GAAD,EAAM5P,SAAN,CAAX;CACD,KAHD,MAGO,IAAIzH,KAAK,IAAI,OAAOA,KAAP,KAAiB,QAA9B,EAAwC;CAC7C,YAAMhB,CAAC,GAAGgB,KAAK,CAAC2L,OAAN,CAAc,gBAAd,EAAgC,EAAhC,CAAV;CACAyL,MAAAA,GAAG,CAAC5P,GAAD,CAAH,GAAW,CAACxI,CAAD,EAAIA,CAAC,KAAKgB,KAAN,GAAcyH,SAAd,GAA0B,WAA9B,CAAX;CACD;CACF;;CAED,SAAO2P,GAAP;CACD;;CAED,SAASE,UAAT,CAAkBF,GAAlB,EAAuBD,KAAvB,EAA8BI,MAA9B,EAAsC;CACpC,MAAI,CAACJ,KAAL,EAAY;CACV,QAAI,CAACI,MAAL,EAAa;CACX;CACD;;CAED,QAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;CAC9BH,MAAAA,GAAG,CAACI,OAAJ,GAAc,EAAd;CACA;CACD;;CAED,SAAK,MAAMhV,CAAX,IAAgBnD,MAAM,CAAC8D,IAAP,CAAYoU,MAAZ,CAAhB,EAAqC;CACnCH,MAAAA,GAAG,CAACK,cAAJ,CAAmBjV,CAAnB;CACD;;CAED;CACD;;CAED,MAAI,OAAO2U,KAAP,KAAiB,QAArB,EAA+B;CAC7B,QAAIA,KAAK,KAAK,OAAOI,MAArB,EAA6B;CAC3BH,MAAAA,GAAG,CAACI,OAAJ,GAAcL,KAAd;CACD;;CAED;CACD;;CAED,MAAI,CAACI,MAAD,IAAW,OAAOA,MAAP,KAAkB,QAAjC,EAA2C;CACzC,QAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;CAC9BH,MAAAA,GAAG,CAACI,OAAJ,GAAc,EAAd;CACD;;CAED,SAAK,MAAMhV,CAAX,IAAgBnD,MAAM,CAAC8D,IAAP,CAAYgU,KAAZ,CAAhB,EAAoC;CAClCC,MAAAA,GAAG,CAACM,WAAJ,CAAgBlV,CAAhB,EAAmB,GAAG2U,KAAK,CAAC3U,CAAD,CAA3B;CACD;;CAED;CACD;;CAED,OAAK,MAAMA,CAAX,IAAgBnD,MAAM,CAAC8D,IAAP,CAAYgU,KAAZ,CAAhB,EAAoC;CAClC,UAAMnY,CAAC,GAAGmY,KAAK,CAAC3U,CAAD,CAAf;;CAEA,QAAI,CAAC+U,MAAM,CAAC/U,CAAD,CAAP,IAAc+U,MAAM,CAAC/U,CAAD,CAAN,CAAU,CAAV,MAAiBxD,CAAC,CAAC,CAAD,CAAhC,IAAuCuY,MAAM,CAAC/U,CAAD,CAAN,CAAU,CAAV,MAAiBxD,CAAC,CAAC,CAAD,CAA7D,EAAkE;CAChEoY,MAAAA,GAAG,CAACM,WAAJ,CAAgBlV,CAAhB,EAAmB,GAAGxD,CAAtB;CACD;CACF;;CAED,OAAK,MAAMwD,CAAX,IAAgBnD,MAAM,CAAC8D,IAAP,CAAYoU,MAAZ,CAAhB,EAAqC;CACnC,QAAI,CAACJ,KAAK,CAAC3U,CAAD,CAAV,EAAe;CACb4U,MAAAA,GAAG,CAACK,cAAJ,CAAmBjV,CAAnB;CACD;CACF;CACF;;CAED,SAASmV,WAAT,CAAqBjU,KAArB,EAA4B0T,GAA5B,EAAiC7K,GAAjC,EAAsCqL,QAAtC,EAAgD;CAC9C,MAAI,CAACA,QAAL,EAAe;CACb,WAAOnQ,SAAP;CACD;;CAED,QAAM0P,KAAK,GAAGD,QAAQ,CAAC5L,OAAO,CAAC5H,KAAK,CAACyT,KAAP,CAAP,GAAuBzT,KAAK,CAACyT,KAAN,EAAvB,GAAuCzT,KAAK,CAACyT,KAA9C,CAAtB;CACAG,EAAAA,UAAQ,CAACF,GAAD,EAAMD,KAAN,EAAa5K,GAAb,CAAR;CACA,SAAO4K,KAAP;CACD;;CAED,SAASU,QAAT,CAAkBvK,EAAlB,EAAsBjG,KAAtB,EAA6B;CAC3B,MAAIiG,EAAE,YAAYwK,gBAAd,IAAkC,aAAazQ,KAAnD,EAA0D;CACxD,YAAQiG,EAAE,CAAC9N,IAAH,CAAQ4L,WAAR,EAAR;CACE,WAAK,UAAL;CACA,WAAK,OAAL;CACE,YAAI/D,KAAK,CAAC0Q,OAAN,KAAkB,IAAlB,KAA2BzK,EAAE,CAACyK,OAAlC,EAA2C;CACzCzK,UAAAA,EAAE,CAACyK,OAAH,GAAa1Q,KAAK,CAAC0Q,OAAN,KAAkB,IAA/B;CACD;;CALL;CAQD;;CAED,MAAI,CAACzK,EAAE,YAAY0K,iBAAd,IAAmC1K,EAAE,YAAYwK,gBAAjD,IAAqExK,EAAE,YAAY2K,mBAApF,KAA4G,WAAW5Q,KAA3H,EAAkI;CAChI,UAAMrH,KAAK,GAAGqH,KAAK,CAACrH,KAAN,IAAe,EAA7B;;CAEA,QAAIsN,EAAE,CAACtN,KAAH,KAAaA,KAAjB,EAAwB;CACtBsN,MAAAA,EAAE,CAACtN,KAAH,GAAWA,KAAX;CACD;CACF;;CAED,MAAIsN,EAAE,YAAY4K,kBAAd,IAAoC,UAAU7Q,KAAlD,EAAyD;CACvD,UAAMrH,KAAK,GAAGqH,KAAK,CAAC8Q,IAAN,KAAe,IAA7B;;CAEA,QAAI7K,EAAE,CAAC6K,IAAH,KAAYnY,KAAhB,EAAuB;CACrBsN,MAAAA,EAAE,CAAC6K,IAAH,GAAUnY,KAAV;CACD;CACF;;CAED,MAAIsN,EAAE,YAAY8K,gBAAlB,EAAoC;CAClC,QAAI,WAAW/Q,KAAf,EAAsB;CACpB,YAAMrH,KAAK,GAAGqH,KAAK,CAACgR,KAAN,KAAgB,IAA9B;;CAEA,UAAI/K,EAAE,CAAC+K,KAAH,KAAarY,KAAjB,EAAwB;CACtBsN,QAAAA,EAAE,CAAC+K,KAAH,GAAWrY,KAAX;CACD;CACF;;CAED,QAAI,YAAYqH,KAAhB,EAAuB;CACrB,YAAMrH,KAAK,GAAGqH,KAAK,CAACiR,MAAN,KAAiB,IAA/B;;CAEA,UAAIhL,EAAE,CAACgL,MAAH,KAActY,KAAlB,EAAyB;CACvB,YAAIA,KAAJ,EAAW;CACTsN,UAAAA,EAAE,CAACiL,KAAH;CACD,SAFD,MAEO;CACLjL,UAAAA,EAAE,CAACkL,IAAH;CACD;CACF;CACF;;CAED,QAAI,iBAAiBnR,KAArB,EAA4B;CAC1B,YAAMrH,KAAK,GAAGqH,KAAK,CAACoR,WAApB;;CAEA,UAAIzY,KAAK,IAAI,gBAAgB0C,IAAhB,CAAqB1C,KAArB,CAAb,EAA0C;CACxC,cAAM0Y,GAAG,GAAGC,MAAM,CAAC3Y,KAAD,CAAlB;;CAEA,YAAIsN,EAAE,CAACmL,WAAH,KAAmBC,GAAvB,EAA4B;CAC1BpL,UAAAA,EAAE,CAACmL,WAAH,GAAiBC,GAAjB;CACD;CACF;CACF;;CAED,QAAI,kBAAkBrR,KAAtB,EAA6B;CAC3B,YAAMrH,KAAK,GAAGqH,KAAK,CAACuR,YAApB;;CAEA,UAAI5Y,KAAK,IAAI,gBAAgB0C,IAAhB,CAAqB1C,KAArB,CAAb,EAA0C;CACxC,cAAM0Y,GAAG,GAAGC,MAAM,CAAC3Y,KAAD,CAAlB;;CAEA,YAAIsN,EAAE,CAACsL,YAAH,KAAoBF,GAAxB,EAA6B;CAC3BpL,UAAAA,EAAE,CAACsL,YAAH,GAAkBF,GAAlB;CACD;CACF;CACF;;CAED,QAAI,YAAYrR,KAAhB,EAAuB;CACrB,YAAMrH,KAAK,GAAGqH,KAAK,CAACwR,MAApB;;CAEA,UAAI7Y,KAAK,IAAI,gBAAgB0C,IAAhB,CAAqB1C,KAArB,CAAb,EAA0C;CACxC,cAAM0Y,GAAG,GAAGC,MAAM,CAAC3Y,KAAD,CAAlB;;CAEA,YAAIsN,EAAE,CAACuL,MAAH,KAAcH,GAAlB,EAAuB;CACrBpL,UAAAA,EAAE,CAACuL,MAAH,GAAYH,GAAZ;CACD;CACF;CACF;CACF;CACF;;CAED,SAASI,SAAT,CAAmBC,IAAnB,EAAyBC,IAAI,GAAG,KAAhC,EAAuC;CACrC,MAAID,IAAI,KAAKtR,SAAT,IAAsBsR,IAAI,KAAK,IAAnC,EAAyC;CACvC,WAAOA,IAAP;CACD;;CAED,MAAIC,IAAI,IAAI,OAAOD,IAAP,KAAgB,UAA5B,EAAwC;CACtC,WAAOtR,SAAP;CACD;;CAED,MAAI,OAAOsR,IAAP,KAAgB,SAApB,EAA+B;CAC7B,WAAOA,IAAI,GAAG,EAAH,GAAQ,IAAnB;CACD;;CAED,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;CAC5B,WAAOjZ,MAAM,CAACiZ,IAAD,CAAb;CACD;;CAED,MAAIA,IAAI,YAAYnO,IAApB,EAA0B;CACxB,WAAOmO,IAAI,CAAClO,WAAL,EAAP;CACD;;CAED,MAAIkO,IAAI,YAAYrO,MAApB,EAA4B;CAC1B,WAAOqO,IAAI,CAACE,QAAL,EAAP;CACD;;CAED,SAAOC,IAAI,CAACJ,SAAL,CAAeC,IAAf,CAAP;CACD;;CAED,SAASI,QAAT,CAAkBzV,KAAlB,EAAyBkU,QAAzB,EAAmC;CACjC,QAAMvQ,KAAK,GAAGhI,MAAM,CAACC,MAAP,CAAc,IAAd,CAAd;;CAEA,OAAK,MAAMkD,CAAX,IAAgBkB,KAAhB,EAAuB;CACrB,QAAI,wBAAwBhB,IAAxB,CAA6BF,CAA7B,CAAJ,EAAqC;CACnC;CACD;;CAED,QAAI,CAAC,8BAA8BE,IAA9B,CAAmCF,CAAnC,CAAL,EAA4C;CAC1C;CACD;;CAED,UAAM0B,IAAI,GAAG1B,CAAC,CAAC4I,WAAF,EAAb;;CAEA,YAAQlH,IAAR;CACE,WAAK,OAAL;CACE,YAAI,CAAC0T,QAAL,EAAe;CACb;CACD;;CAEH,WAAK,KAAL;CACA,WAAK,IAAL;CACA,WAAK,IAAL;CACA,WAAK,OAAL;CACE;CAVJ;;CAaA,QAAImB,IAAI,GAAGrV,KAAK,CAAClB,CAAD,CAAhB;;CAEA,QAAI8I,OAAO,CAACyN,IAAD,CAAX,EAAmB;CACjBA,MAAAA,IAAI,GAAGA,IAAI,EAAX;CACD;;CAED,UAAM/Y,KAAK,GAAG8Y,SAAS,CAACC,IAAD,EAAO7U,IAAI,CAACzB,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,IAA7B,CAAvB;;CAEA,QAAIzC,KAAK,KAAKyH,SAAd,EAAyB;CACvBJ,MAAAA,KAAK,CAACnD,IAAD,CAAL,GAAclE,KAAd;CACD;CACF;;CAED,SAAOqH,KAAP;CACD;;CAED,SAAS+R,QAAT,CAAkB9L,EAAlB,EAAsBjG,KAAtB,EAA6BkF,GAA7B,EAAkC;CAChC,OAAK,MAAM/J,CAAX,IAAgBnD,MAAM,CAAC8D,IAAP,CAAYkE,KAAZ,CAAhB,EAAoC;CAClC,UAAMrI,CAAC,GAAGqI,KAAK,CAAC7E,CAAD,CAAf;;CAEA,QAAI,EAAEA,CAAC,IAAI+J,GAAP,KAAeA,GAAG,CAAC/J,CAAD,CAAH,KAAWxD,CAA9B,EAAiC;CAC/B,UAAIA,CAAC,KAAK,IAAV,EAAgB;CACdsO,QAAAA,EAAE,CAACgJ,eAAH,CAAmB9T,CAAnB;CACD,OAFD,MAEO;CACL8K,QAAAA,EAAE,CAACuJ,YAAH,CAAgBrU,CAAhB,EAAmBxD,CAAnB;CACD;CACF;CACF;;CAED,OAAK,MAAMwD,CAAX,IAAgBnD,MAAM,CAAC8D,IAAP,CAAYoJ,GAAZ,CAAhB,EAAkC;CAChC,QAAI,EAAE/J,CAAC,IAAI6E,KAAP,CAAJ,EAAmB;CACjBiG,MAAAA,EAAE,CAACgJ,eAAH,CAAmB9T,CAAnB;CACD;CACF;CACF;;CAED,SAAS6W,WAAT,CAAqB3V,KAArB,EAA4B4J,EAA5B,EAAgCf,GAAhC,EAAqCqL,QAArC,EAA+C;CAC7C,QAAMvQ,KAAK,GAAG8R,QAAQ,CAACzV,KAAD,EAAQkU,QAAR,CAAtB;CACAwB,EAAAA,QAAQ,CAAC9L,EAAD,EAAKjG,KAAL,EAAYkF,GAAZ,CAAR;CACAsL,EAAAA,QAAQ,CAACvK,EAAD,EAAKjG,KAAL,CAAR;CACA,SAAOA,KAAP;CACD;;CAED,SAASiS,kBAAT,GAA8B;CAC5B,QAAMzW,MAAM,GAAG,IAAIO,YAAJ,EAAf;CACAP,EAAAA,MAAM,CAAC0W,WAAP,GAAqBla,MAAM,CAACC,MAAP,CAAc,IAAd,CAArB;CACA,SAAOuD,MAAP;CACD;;CAED,UAAU2W,eAAV,CAA0BlM,EAA1B,EAA8B;CAC5B,MAAIA,EAAE,YAAYwK,gBAAlB,EAAoC;CAClC,YAAQxK,EAAE,CAAC9N,IAAH,CAAQ4L,WAAR,EAAR;CACE,WAAK,UAAL;CACE,cAAM,CAAC,eAAD,EAAkB,QAAlB,EAA4BtG,CAAC,IAAIA,CAAC,CAAC2U,aAAF,CAAgBC,aAAjD,CAAN;CACA,eAAO,MAAM,CAAC,SAAD,EAAY,QAAZ,EAAsB5U,CAAC,IAAIA,CAAC,CAAC2U,aAAF,CAAgB1B,OAA3C,CAAb;;CAEF,WAAK,OAAL;CACE,eAAO,MAAM,CAAC,SAAD,EAAY,QAAZ,EAAsBjT,CAAC,IAAIA,CAAC,CAAC2U,aAAF,CAAgB1B,OAA3C,CAAb;CANJ;;CASA,WAAO,MAAM,CAAC,OAAD,EAAU,OAAV,EAAmBjT,CAAC,IAAIA,CAAC,CAAC2U,aAAF,CAAgBzZ,KAAxC,CAAb;CACD;;CAED,MAAIsN,EAAE,YAAY2K,mBAAlB,EAAuC;CACrC,WAAO,MAAM,CAAC,OAAD,EAAU,OAAV,EAAmBnT,CAAC,IAAIA,CAAC,CAAC2U,aAAF,CAAgBzZ,KAAxC,CAAb;CACD;;CAED,MAAIsN,EAAE,YAAY0K,iBAAlB,EAAqC;CACnC,WAAO,MAAM,CAAC,OAAD,EAAU,QAAV,EAAoBlT,CAAC,IAAIA,CAAC,CAAC2U,aAAF,CAAgBzZ,KAAzC,CAAb;CACD;;CAED,MAAIsN,EAAE,YAAY4K,kBAAlB,EAAsC;CACpC,WAAO,MAAM,CAAC,MAAD,EAAS,QAAT,EAAmBpT,CAAC,IAAIA,CAAC,CAAC2U,aAAF,CAAgBtB,IAAxC,CAAb;CACD;;CAED,MAAI7K,EAAE,YAAY8K,gBAAlB,EAAoC;CAClC,UAAM,CAAC,aAAD,EAAgB,YAAhB,EAA8BtT,CAAC,IAAIA,CAAC,CAAC2U,aAAF,CAAgBhB,WAAnD,CAAN;CACA,UAAM,CAAC,cAAD,EAAiB,YAAjB,EAA+B3T,CAAC,IAAIA,CAAC,CAAC2U,aAAF,CAAgBb,YAApD,CAAN;CACA,UAAM,CAAC,QAAD,EAAW,cAAX,EAA2B9T,CAAC,IAAIA,CAAC,CAAC2U,aAAF,CAAgBZ,MAAhD,CAAN;CACA,UAAM,CAAC,OAAD,EAAU,cAAV,EAA0B/T,CAAC,IAAIA,CAAC,CAAC2U,aAAF,CAAgBpB,KAA/C,CAAN;CACA,UAAM,CAAC,QAAD,EAAW,SAAX,EAAsBvT,CAAC,IAAIA,CAAC,CAAC2U,aAAF,CAAgBnB,MAA3C,CAAN;CACA,WAAO,MAAM,CAAC,QAAD,EAAW,OAAX,EAAoBxT,CAAC,IAAIA,CAAC,CAAC2U,aAAF,CAAgBnB,MAAzC,CAAb;CACD;CACF;;CAED,SAAS/V,cAAT,CAAsBC,CAAtB,EAAyB;CACvB,MAAIA,CAAC,CAACC,MAAF,CAAS,CAAT,EAAY,CAAZ,MAAmB,IAAvB,EAA6B;CAC3B,WAAO,EAAP;CACD;;CAED,MAAIQ,CAAC,GAAGT,CAAC,CAACC,MAAF,CAAS,CAAT,CAAR;;CAEA,MAAIQ,CAAC,CAAC,CAAD,CAAD,KAAS,GAAT,IAAgBA,CAAC,CAAC,CAAD,CAAD,KAAS,GAA7B,EAAkC;CAChC,WAAO,EAAP;CACD;;CAED,SAAOA,CAAP;CACD;;CAED,SAAS0W,WAAT,CAAqBjW,KAArB,EAA4B4J,EAA5B,EAAgCnJ,KAAK,GAAGmV,kBAAkB,EAA1D,EAA8D;CAC5DnV,EAAAA,KAAK,CAACV,aAAN,CAAoBC,KAApB,EAA2Bd,QAAQ,IAAI;CACrC,SAAK,MAAMJ,CAAX,IAAgBkB,KAAhB,EAAuB;CACrB,YAAMrB,CAAC,GAAGqB,KAAK,CAAClB,CAAD,CAAf;;CAEA,UAAI,OAAOH,CAAP,KAAa,UAAjB,EAA6B;CAC3B;CACD;;CAED,YAAM6B,IAAI,GAAG3B,cAAY,CAACC,CAAD,CAAzB;;CAEA,UAAI,CAAC0B,IAAL,EAAW;CACT;CACD;;CAEDtB,MAAAA,QAAQ,CAACsB,IAAD,EAAO7B,CAAP,CAAR;CACD;;CAED,SAAK,MAAM,CAACuX,IAAD,EAAO1V,IAAP,EAAaS,CAAb,CAAX,IAA8B6U,eAAe,CAAClM,EAAD,CAA7C,EAAmD;CACjD,YAAMtN,KAAK,GAAG0D,KAAK,CAACkW,IAAD,CAAnB;;CAEA,UAAItO,OAAO,CAACtL,KAAD,CAAX,EAAoB;CAClB4C,QAAAA,QAAQ,CAACsB,IAAD,EAAOY,CAAC,IAAI9E,KAAK,CAAC2E,CAAC,CAACG,CAAD,CAAF,CAAjB,CAAR;CACD;CACF;CACF,GAxBD;CAyBA,QAAMhC,KAAK,GAAG,IAAIpB,GAAJ,CAAQyC,KAAK,CAACrB,KAAN,CAAY/C,GAAZ,CAAgBD,MAAhB,CAAR,CAAd;CACA,QAAM+Z,SAAS,GAAG1V,KAAK,CAACoV,WAAxB;;CAEA,OAAK,MAAM/W,CAAX,IAAgBnD,MAAM,CAAC8D,IAAP,CAAY0W,SAAZ,CAAhB,EAAwC;CACtC,QAAI/W,KAAK,CAACqF,GAAN,CAAU3F,CAAV,CAAJ,EAAkB;CAChB;CACD;;CAEDqX,IAAAA,SAAS,CAACrX,CAAD,CAAT;CACA,WAAOqX,SAAS,CAACrX,CAAD,CAAhB;CACD;;CAED,QAAM;CACJyB,IAAAA;CADI,MAEFE,KAFJ;;CAIA,OAAK,MAAM3B,CAAX,IAAgBM,KAAhB,EAAuB;CACrB,QAAIN,CAAC,IAAIqX,SAAT,EAAoB;CAClB;CACD;;CAED,UAAMxX,CAAC,GAAG,CAAC,GAAGa,CAAJ,KAAUe,IAAI,CAACzB,CAAD,EAAI,GAAGU,CAAP,CAAxB;;CAEAoK,IAAAA,EAAE,CAACwM,gBAAH,CAAoBtX,CAApB,EAAuBH,CAAvB;;CAEAwX,IAAAA,SAAS,CAACrX,CAAD,CAAT,GAAe,MAAM;CACnB8K,MAAAA,EAAE,CAACyM,mBAAH,CAAuBvX,CAAvB,EAA0BH,CAA1B;CACD,KAFD;CAGD;;CAED,SAAO8B,KAAP;CACD;;CAED,MAAM6V,QAAQ,GAAG,IAAI3I,OAAJ,EAAjB;;CACA,SAAS4I,QAAT,CAAkB3M,EAAlB,EAAsB5J,KAAtB,EAA6B;CAC3B,QAAM0T,GAAG,GAAG9J,EAAE,CAAC6J,KAAf;CACA,QAAMS,QAAQ,GAAGR,GAAG,YAAY8C,mBAAhC;CACA,QAAM3N,GAAG,GAAGyN,QAAQ,CAACxV,GAAT,CAAa8I,EAAb,KAAoB;CAC9BjG,IAAAA,KAAK,EAAE;CADuB,GAAhC;CAGA,QAAMpB,EAAE,GAAGoQ,QAAQ,CAAC3S,KAAD,EAAQ4J,EAAR,EAAYf,GAAG,CAACtG,EAAhB,CAAnB;CACA,QAAMwQ,OAAO,GAAGM,WAAW,CAACrT,KAAD,EAAQ4J,EAAR,EAAYf,GAAG,CAACkK,OAAhB,CAA3B;CACA,QAAMU,KAAK,GAAGQ,WAAW,CAACjU,KAAD,EAAQ0T,GAAR,EAAa7K,GAAG,CAAC4K,KAAjB,EAAwBS,QAAxB,CAAzB;CACA,QAAMvQ,KAAK,GAAGgS,WAAW,CAAC3V,KAAD,EAAQ4J,EAAR,EAAYf,GAAG,CAAClF,KAAhB,EAAuBuQ,QAAvB,CAAzB;CACA,QAAMzT,KAAK,GAAGwV,WAAW,CAACjW,KAAD,EAAQ4J,EAAR,EAAYf,GAAG,CAACpI,KAAhB,CAAzB;CACA6V,EAAAA,QAAQ,CAAC5T,GAAT,CAAakH,EAAb,EAAiB;CACfrH,IAAAA,EADe;CAEfwQ,IAAAA,OAFe;CAGfU,IAAAA,KAHe;CAIf9P,IAAAA,KAJe;CAKflD,IAAAA;CALe,GAAjB;CAOA,SAAOmJ,EAAP;CACD;;CAED,IAAIvL,IAAJ;;CACA,SAAS7C,WAAT,CAAmBmD,CAAnB,EAAsB;CACpB,MAAIN,IAAJ,EAAU;CACRA,IAAAA,IAAI,CAACV,IAAL,CAAUgB,CAAV;CACA;CACD;;CAEDN,EAAAA,IAAI,GAAG,CAACM,CAAD,CAAP;CACA8X,EAAAA,MAAM,CAACC,qBAAP,CAA6B,MAAM;CACjC,UAAMC,EAAE,GAAGtY,IAAX;CACAA,IAAAA,IAAI,GAAG0F,SAAP;;CAEA,QAAI,CAAC4S,EAAL,EAAS;CACP;CACD;;CAEDA,IAAAA,EAAE,CAACpY,OAAH,CAAWI,CAAC,IAAIA,CAAC,EAAjB;CACD,GATD;CAUD;;CAED,MAAMiY,QAAQ,GAAG;CACfC,EAAAA,GAAG,EAAE,4BADU;CAEfC,EAAAA,IAAI,EAAE,8BAFS;CAGfC,EAAAA,MAAM,EAAE;CAHO,CAAjB;CAKA,MAAMC,OAAO,GAAG,IAAIhZ,GAAJ,CAAQ,CAAC,UAAD,EAAa,aAAb,EAA4B,cAA5B,EAA4C,SAA5C,EAAuD,cAAvD,EAAuE,eAAvE,EAAwF,kBAAxF,EAA4G,QAA5G,EAAsH,UAAtH,EAAkI,eAAlI,EAAmJ,QAAnJ,EAA6J,MAA7J,EAAqK,MAArK,EAA6K,SAA7K,EAAwL,SAAxL,EAAmM,eAAnM,EAAoN,qBAApN,EAA2O,aAA3O,EAA0P,kBAA1P,EAA8Q,mBAA9Q,EAAmS,mBAAnS,EAAwT,gBAAxT,EAA0U,SAA1U,EAAqV,SAArV,EAAgW,SAAhW,EAA2W,SAA3W,EAAsX,SAAtX,EAAiY,gBAAjY,EAAmZ,SAAnZ,EAA8Z,SAA9Z,EAAya,aAAza,EAAwb,cAAxb,EAAwc,UAAxc,EAAod,cAApd,EAAoe,oBAApe,EAA0f,aAA1f,EAAygB,QAAzgB,EAAmhB,cAAnhB,EAAmiB,QAAniB,EAA6iB,WAA7iB,EAA0jB,kBAA1jB,EAA8kB,gBAA9kB,EAAgmB,eAAhmB,EAAinB,eAAjnB,EAAkoB,eAAloB,EAAmpB,GAAnpB,EAAwpB,OAAxpB,EAAiqB,UAAjqB,EAA6qB,OAA7qB,EAAsrB,OAAtrB,EAA+rB,MAA/rB,EAAusB,gBAAvsB,EAAytB,QAAztB,EAAmuB,MAAnuB,EAA2uB,UAA3uB,EAAuvB,eAAvvB,EAAwwB,OAAxwB,EAAixB,MAAjxB,EAAyxB,SAAzxB,EAAoyB,SAApyB,EAA+yB,UAA/yB,EAA2zB,gBAA3zB,EAA60B,MAA70B,EAAq1B,QAAr1B,EAA+1B,KAA/1B,EAAs2B,MAAt2B,EAA82B,OAA92B,EAAu3B,KAAv3B,EAA83B,QAA93B,EAAw4B,QAAx4B,EAAk5B,MAAl5B,EAA05B,UAA15B,EAAs6B,OAAt6B,EAA+6B,MAA/6B,EAAu7B,OAAv7B,EAAg8B,KAAh8B,EAAu8B,MAAv8B,EAA+8B,OAA/8B,CAAR,CAAhB;CACA,MAAMiZ,UAAU,GAAG,IAAIjZ,GAAJ,CAAQ,CAAC,SAAD,EAAY,MAAZ,EAAoB,UAApB,EAAgC,QAAhC,EAA0C,SAA1C,EAAqD,OAArD,EAA8D,QAA9D,EAAwE,IAAxE,EAA8E,YAA9E,EAA4F,eAA5F,EAA6G,IAA7G,EAAmH,IAAnH,EAAyH,OAAzH,EAAkI,SAAlI,EAA6I,UAA7I,EAAyJ,OAAzJ,EAAkK,MAAlK,EAA0K,IAA1K,EAAgL,QAAhL,EAA0L,OAA1L,EAAmM,QAAnM,EAA6M,MAA7M,EAAqN,SAArN,EAAgO,MAAhO,EAAwO,QAAxO,EAAkP,KAAlP,EAAyP,OAAzP,EAAkQ,KAAlQ,EAAyQ,QAAzQ,EAAmR,YAAnR,EAAiS,WAAjS,CAAR,CAAnB;;CACA,SAAS0F,eAAT,CAAuBwT,OAAvB,EAAgCC,SAAhC,EAA2C;CACzC,QAAMzW,GAAG,GAAG,oCAAoCkL,IAApC,CAAyCsL,OAAzC,CAAZ;CACA,QAAM9b,GAAG,GAAGsF,GAAG,GAAGA,GAAG,CAAC,CAAD,CAAN,GAAYwW,OAA3B;CACA,QAAME,EAAE,GAAG,CAACD,SAAS,KAAKzW,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAK,KAAK,CAA7B,GAAiC,KAAK,CAAtC,GAA0CA,GAAG,CAAC,CAAD,CAAlD,CAAT,IAAmEsW,OAAO,CAACvS,GAAR,CAAYrJ,GAAG,CAACsM,WAAJ,EAAZ,KAAkC,KAArG,IAA8GuP,UAAU,CAACxS,GAAX,CAAerJ,GAAG,CAACsM,WAAJ,EAAf,KAAqC,QAAnJ,IAA+J,EAAhK,EAAoKA,WAApK,EAAX;;CAEA,MAAI,CAAC0P,EAAL,EAAS;CACP,WAAOC,QAAQ,CAAC3T,aAAT,CAAuBtI,GAAvB,CAAP;CACD;;CAED,SAAOic,QAAQ,CAACC,eAAT,CAAyBF,EAAE,IAAIR,QAAN,IAAkBA,QAAQ,CAACQ,EAAD,CAA1B,IAAkCA,EAA3D,EAA+Dhc,GAA/D,CAAP;CACD;;CAED,MAAMmc,QAAQ,GAAG,gEAAjB;;CACA,SAASC,SAAT,CAAmBpc,GAAnB,EAAwB;CACtB,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;CAC3B,WAAO,KAAP;CACD;;CAED,SAAOmc,QAAQ,CAACvY,IAAT,CAAc5D,GAAd,CAAP;CACD;;CAED,MAAMa,QAAM,GAAG;CACbH,EAAAA,IAAI,EAAE,KADO;CAEbN,aAAAA,WAFa;;CAIbuL,EAAAA,MAAM,CAACzL,CAAD,EAAI;CACR,WAAOA,CAAC,YAAYmc,IAApB;CACD,GANY;;CAQb9P,EAAAA,KAAK,CAAC;CACJyK,IAAAA,MADI;CAEJkB,IAAAA,KAAK,EAAEoE,SAFH;CAGJjE,IAAAA,KAHI;CAIJrY,IAAAA;CAJI,GAAD,EAKFiN,MALE,EAKM;CACT,QAAIT,OAAO,CAACwK,MAAD,CAAX,EAAqB;CACnBA,MAAAA,MAAM,GAAGA,MAAM,CAAC9V,KAAhB;CACD;;CAED,QAAI,CAACkb,SAAS,CAACpc,GAAD,CAAd,EAAqB;CACnBA,MAAAA,GAAG,GAAG,KAAN;CACD;;CAED,UAAMsS,SAAS,GAAGzR,QAAM,CAACyH,aAAP,CAAqBtI,GAArB,CAAlB;CACAa,IAAAA,QAAM,CAAC6L,WAAP,CAAmB4F,SAAnB,EAA8B;CAC5B4F,MAAAA,KAAK,EAAEoE,SADqB;CAE5BjE,MAAAA;CAF4B,KAA9B;;CAKA,QAAIrB,MAAM,KAAK,IAAf,EAAqB;CACnB,UAAI,CAAC/J,MAAL,EAAa;CACX,eAAO,CAACqF,SAAD,EAAYA,SAAZ,CAAP;CACD;;CAED,aAAO,CAACA,SAAD,EAAYrF,MAAM,CAACjB,iBAAP,EAAZ,CAAP;CACD;;CAED,QAAI,OAAOgL,MAAP,KAAkB,QAAtB,EAAgC;CAC9BA,MAAAA,MAAM,GAAGiF,QAAQ,CAACM,aAAT,CAAuBvF,MAAvB,CAAT;CACD;;CAED,QAAIA,MAAM,YAAYwF,OAAtB,EAA+B;CAC7BxF,MAAAA,MAAM,CAACyF,WAAP,CAAmBnK,SAAnB;;CAEA,UAAIrF,MAAJ,EAAY;CACV,eAAO,CAACqF,SAAD,EAAYrF,MAAM,CAACjB,iBAAP,EAAZ,CAAP;CACD;;CAED,aAAO,CAACsG,SAAD,EAAYA,SAAZ,CAAP;CACD;;CAED,QAAIrF,MAAM,KAAKpM,QAAf,EAAuB;CACrBob,MAAAA,QAAQ,CAACS,IAAT,CAAcD,WAAd,CAA0BnK,SAA1B;CACA,aAAO,CAACA,SAAD,EAAYA,SAAZ,CAAP;CACD;;CAED,WAAO,CAACA,SAAD,EAAYA,SAAZ,CAAP;CACD,GAxDY;;CA0DbhH,EAAAA,OAAO,CAACgH,SAAD,EAAY7J,IAAZ,EAAkBtC,OAAlB,EAA2B;CAChC,QAAImM,SAAS,KAAK7J,IAAd,IAAsBtC,OAA1B,EAAmC;CACjC;CACD;;CAEDmM,IAAAA,SAAS,CAACgE,MAAV;CACD,GAhEY;;CAkEbN,EAAAA,aAAa,CAAC1D,SAAD,EAAY7J,IAAZ,EAAkB;CAC7BuO,IAAAA,MAD6B;CAE7BkB,IAAAA,KAAK,EAAEoE,SAFsB;CAG7BjE,IAAAA,KAH6B;CAI7BrY,IAAAA;CAJ6B,GAAlB,EAKViN,MALU,EAKF;CACTpM,IAAAA,QAAM,CAAC6L,WAAP,CAAmB4F,SAAnB,EAA8B;CAC5B4F,MAAAA,KAAK,EAAEoE,SADqB;CAE5BjE,MAAAA;CAF4B,KAA9B;;CAKA,QAAI7L,OAAO,CAACwK,MAAD,CAAX,EAAqB;CACnBlW,MAAAA,OAAO,CAAC6b,GAAR,CAAY3F,MAAZ;CACAA,MAAAA,MAAM,GAAGA,MAAM,CAAC9V,KAAhB;CACD;;CAED,UAAM0b,SAAS,GAAG3P,MAAM,KAAKpM,QAAX,IAAqByR,SAAS,KAAK7J,IAAnC,GAA0CE,SAA1C,GAAsD9H,QAAM,CAACqM,SAAP,CAAiBzE,IAAjB,CAAxE;;CAEA,QAAIuO,MAAM,KAAK,IAAf,EAAqB;CACnB,UAAI4F,SAAS,KAAK,IAAlB,EAAwB;CACtB,eAAO,CAACtK,SAAD,EAAY7J,IAAZ,CAAP;CACD;;CAED,UAAI6J,SAAS,KAAK7J,IAAlB,EAAwB;CACtB6J,QAAAA,SAAS,CAACgE,MAAV;CACD;;CAED,UAAI,CAACrJ,MAAL,EAAa;CACX,eAAO,CAACqF,SAAD,EAAYA,SAAZ,CAAP;CACD;;CAED,aAAO,CAACA,SAAD,EAAYrF,MAAM,CAACjB,iBAAP,EAAZ,CAAP;CACD;;CAED,QAAI,OAAOgL,MAAP,KAAkB,QAAtB,EAAgC;CAC9BA,MAAAA,MAAM,GAAGiF,QAAQ,CAACM,aAAT,CAAuBvF,MAAvB,CAAT;CACD;;CAED,QAAI/J,MAAM,KAAKpM,QAAX,IAAqB,EAAEmW,MAAM,YAAYwF,OAApB,CAAzB,EAAuD;CACrDxF,MAAAA,MAAM,GAAGiF,QAAQ,CAACS,IAAlB;CACD;;CAED,QAAIE,SAAS,KAAK5F,MAAlB,EAA0B;CACxB,aAAO,CAAC1E,SAAD,EAAY7J,IAAZ,CAAP;CACD;;CAED,QAAIwE,MAAM,KAAKpM,QAAf,EAAuB;CACrBmW,MAAAA,MAAM,CAACyF,WAAP,CAAmBnK,SAAnB;CACA,aAAO,CAACA,SAAD,EAAY7J,IAAZ,CAAP;CACD;;CAED,QAAI,CAACmU,SAAL,EAAgB;CACd,YAAMC,OAAO,GAAG5P,MAAM,CAACjB,iBAAP,EAAhB;CACA,YAAM8Q,KAAK,GAAG7P,MAAM,CAACC,SAAP,CAAiBzE,IAAjB,CAAd;;CAEA,UAAIqU,KAAJ,EAAW;CACTjc,QAAAA,QAAM,CAAC4L,UAAP,CAAkBqQ,KAAlB,EAAyBD,OAAzB,EAAkCpU,IAAlC;CACA5H,QAAAA,QAAM,CAAC2K,UAAP,CAAkB/C,IAAlB;CACD;;CAEDuO,MAAAA,MAAM,CAACyF,WAAP,CAAmBnK,SAAnB;CACA,aAAO,CAACA,SAAD,EAAYuK,OAAZ,CAAP;CACD;;CAED,QAAI,CAAC7F,MAAL,EAAa;CACX,YAAM8F,KAAK,GAAG7P,MAAM,CAACC,SAAP,CAAiBzE,IAAjB,CAAd;;CAEA,UAAIqU,KAAJ,EAAW;CACTjc,QAAAA,QAAM,CAAC4L,UAAP,CAAkBqQ,KAAlB,EAAyBxK,SAAzB,EAAoC7J,IAApC;CACA5H,QAAAA,QAAM,CAAC2K,UAAP,CAAkB/C,IAAlB;CACD;;CAED,aAAO,CAAC6J,SAAD,EAAYA,SAAZ,CAAP;CACD;;CAED0E,IAAAA,MAAM,CAACyF,WAAP,CAAmBnK,SAAnB;CACA,WAAO,CAACA,SAAD,EAAY7J,IAAZ,CAAP;CACD,GA/IY;;CAiJbiO,EAAAA,QAAQ,GAAG,EAjJE;;CAmJbpO,EAAAA,aAAa,CAACtI,GAAD,EAAM;CACjB,WAAOsI,eAAa,CAACtI,GAAD,CAApB;CACD,GArJY;;CAuJb6L,EAAAA,UAAU,CAACkR,IAAD,EAAO;CACf,WAAOd,QAAQ,CAACe,cAAT,CAAwBD,IAAxB,CAAP;CACD,GAzJY;;CA2Jb/Q,EAAAA,iBAAiB,GAAG;CAClB,WAAOiQ,QAAQ,CAACgB,aAAT,CAAuB,EAAvB,CAAP;CACD,GA7JY;;CA+JbpI,EAAAA,eAAe,GAAG;CAChB,UAAMpM,IAAI,GAAGH,eAAa,CAAC,gBAAD,CAA1B;CACA,WAAO,CAACG,IAAD,EAAOA,IAAI,CAACyU,YAAL,CAAkB;CAC9BC,MAAAA,IAAI,EAAE;CADwB,KAAlB,CAAP,CAAP;CAGD,GApKY;;CAsKbjQ,EAAAA,SAAS,CAACzE,IAAD,EAAO;CACd,WAAOA,IAAI,CAAC2U,UAAZ;CACD,GAxKY;;CA0KbvP,EAAAA,QAAQ,CAACpF,IAAD,EAAO;CACb,WAAOA,IAAI,CAAC4U,WAAZ;CACD,GA5KY;;CA8Kb3Q,EAAAA,WAAW,CAACjE,IAAD,EAAO7D,KAAP,EAAc;CACvBuW,IAAAA,QAAQ,CAAC1S,IAAD,EAAO7D,KAAP,CAAR;CACD,GAhLY;;CAkLb6H,EAAAA,UAAU,CAACQ,MAAD,EAASxE,IAAT,EAAeuE,IAAI,GAAG,IAAtB,EAA4B;CACpCC,IAAAA,MAAM,CAACqQ,YAAP,CAAoB7U,IAApB,EAA0BuE,IAA1B;CACD,GApLY;;CAsLbxB,EAAAA,UAAU,CAAC/C,IAAD,EAAO;CACf,UAAMrE,CAAC,GAAGvD,QAAM,CAACqM,SAAP,CAAiBzE,IAAjB,CAAV;;CAEA,QAAI,CAACrE,CAAL,EAAQ;CACN;CACD;;CAEDA,IAAAA,CAAC,CAACmZ,WAAF,CAAc9U,IAAd;CACD,GA9LY;;CAgMb+U,EAAAA,OAAO,CAAC/U,IAAD,EAAO;CACZ,QAAIA,IAAI,YAAY+T,OAApB,EAA6B;CAC3B,YAAM;CACJiB,QAAAA,GADI;CAEJC,QAAAA,KAFI;CAGJC,QAAAA,MAHI;CAIJC,QAAAA,IAJI;CAKJC,QAAAA,KALI;CAMJC,QAAAA;CANI,UAOFrV,IAAI,CAACsV,qBAAL,EAPJ;CAQA,aAAO;CACLN,QAAAA,GADK;CAELC,QAAAA,KAFK;CAGLC,QAAAA,MAHK;CAILC,QAAAA,IAJK;CAKLC,QAAAA,KALK;CAMLC,QAAAA;CANK,OAAP;CAQD;;CAED,QAAIrV,IAAI,YAAYuV,UAApB,EAAgC;CAC9B,YAAM;CACJP,QAAAA,GADI;CAEJC,QAAAA,KAFI;CAGJC,QAAAA,MAHI;CAIJC,QAAAA,IAJI;CAKJC,QAAAA,KALI;CAMJC,QAAAA;CANI,UAOFrV,IAAI,CAACwV,IAAL,CAAUF,qBAAV,EAPJ;CAQA,aAAO;CACLN,QAAAA,GADK;CAELC,QAAAA,KAFK;CAGLC,QAAAA,MAHK;CAILC,QAAAA,IAJK;CAKLC,QAAAA,KALK;CAMLC,QAAAA;CANK,OAAP;CAQD;;CAED,WAAO,IAAP;CACD;;CAxOY,CAAf;CA4OA1G,WAAW,GAAG;CACZvW,UAAAA;CADY,CAAH,CAAX;;CCj0Be,SAASS,SAAT,GAAmB;CACjC,SAAO4c,OAAP;CACA;;KCbWC,IAAZ;;YAAYA;CAAAA,EAAAA;CAAAA,EAAAA;CAAAA,EAAAA;CAAAA,EAAAA;CAAAA,EAAAA;CAAAA,EAAAA;CAAAA,EAAAA;IAAAA,SAAAA;;AAyBZ,CAAO,UAAUC,OAAV,CACNhT,IADM,EAEN6B,MAAc,GAAG,CAFX,EAGgB;CAAA;;CACtB,MAAIhJ,KAAK,CAACC,OAAN,CAAckH,IAAd,CAAJ,EAAyB;CACxB,SAAK,MAAMN,EAAX,IAAiBM,IAAjB,EAAuB;CACtB,aAAOgT,OAAO,CAACtT,EAAD,CAAd;CACA;;CACD;CACA;;CACD,QAAM;CACL3D,IAAAA,EAAE,EAAEkX,KADC;CAELre,IAAAA,GAFK;CAGL4E,IAAAA,KAHK;CAIL4D,IAAAA,QAJK;CAKLE,IAAAA,GALK;CAML2C,IAAAA,SANK;CAOL3B,IAAAA,KAAK,GAAG2B,SAAH,aAAGA,SAAH,6CAAGA,SAAS,CAAE7D,OAAd,uDAAG,mBAAoB8W;CAPvB,MAQFlT,IARJ;;CASA,MAAI,CAACpL,GAAL,EAAU;CACT,WAAO,MAAM;CACZqe,MAAAA,KADY;CACLpR,MAAAA,MADK;CAEZvM,MAAAA,IAAI,EAAEyd,IAAI,CAACI,WAFC;CAGZve,MAAAA,GAAG,EAAE,aAHO;CAIZwI,MAAAA,QAAQ,EAAE;CAJE,KAAb;CAMA;;CACD,MAAI,OAAOxI,GAAP,KAAe,QAAnB,EAA6B;CAC5B,UAAMoF,IAAI,GAAGpF,GAAG,CAAC4H,UAAD,CAAH,IAAmB5H,GAAG,CAACoF,IAApC;;CACA,QAAI,CAACiG,SAAL,EAAgB;CACf,aAAO,MAAM;CACZgT,QAAAA,KADY;CACLpR,QAAAA,MADK;CAEZvM,QAAAA,IAAI,EAAEyd,IAAI,CAACK,MAFC;CAGZxe,QAAAA,GAAG,EAAEoF,IAHO;CAIZoD,QAAAA,QAAQ,EAAE,CAAC,GAAG4V,OAAO,CAAC5V,QAAD,CAAX,CAJE;CAKZ5D,QAAAA,KALY;CAMZ8D,QAAAA,GANY;CAOZgB,QAAAA;CAPY,OAAb;CASA;;CACD,UAAM+U,QAAQ,GAAGze,GAAG,CAACyH,UAAD,CAAH,KAAoB,QAArC;CACA,WAAO,MAAM;CACZ4W,MAAAA,KADY;CACLpR,MAAAA,MADK;CAEZvM,MAAAA,IAAI,EAAE+d,QAAQ,GAAGN,IAAI,CAAC7P,MAAR,GAAiB6P,IAAI,CAACO,QAFxB;CAGZ1e,MAAAA,GAAG,EAAEoF,IAHO;CAIZoD,MAAAA,QAAQ,EAAE,CAAC,GAAG4V,OAAO,CACpBK,QAAQ,GACJpT,SAAD,CAA+B4J,UAD1B,GAEL5J,SAAS,CAACD,IAHO,CAAX,CAJE;CASZxG,MAAAA,KATY;CAUZ8D,MAAAA,GAVY;CAWZgB,MAAAA;CAXY,KAAb;CAaA;;CACD,QAAM2C,IAAI,GAAGrM,GAAG,CAACsM,WAAJ,EAAb;;CACA,MAAID,IAAI,KAAK,gBAAb,EAA+B;CAC9B,WAAO,MAAM;CACZgS,MAAAA,KADY;CACLpR,MAAAA,MADK;CAEZvM,MAAAA,IAAI,EAAEyd,IAAI,CAAC7L,SAFC;CAGZtS,MAAAA,GAAG,EAAEqM,IAHO;CAIZ7D,MAAAA,QAAQ,EAAE,CAAC,GAAG4V,OAAO,CACpB/S,SAAS,GACLA,SAAD,CAA+BuK,OADzB,GAENpN,QAHiB,CAAX,CAJE;CASZ5D,MAAAA,KATY;CAUZ8D,MAAAA,GAVY;CAWZgB,MAAAA;CAXY,KAAb;CAaA;;CACD,MAAI2C,IAAI,KAAK,YAAb,EAA2B;CAC1B,UAAMsS,SAAS,GAAGvT,IAAI,CAAClK,KAAvB;CACA,WAAO,MAAM;CACZmd,MAAAA,KADY;CACLpR,MAAAA,MADK;CAEZvM,MAAAA,IAAI,EAAEyd,IAAI,CAACS,OAFC;CAGZ5e,MAAAA,GAAG,EAAEqM,IAHO;CAIZ7D,MAAAA,QAAQ,EAAE,EAJE;CAKZiW,MAAAA,QAAQ,EAAEE,SAAS,KAAKvT,IAAI,CAAC3C,IALjB;CAMZvH,MAAAA,KAAK,EAAEyd,SANK;CAOZ/Z,MAAAA,KAPY;CAQZ8D,MAAAA,GARY;CASZgB,MAAAA;CATY,KAAb;CAWA;;CACD,MAAI2C,IAAI,CAAC1I,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,OAAtB,IAAiC0I,IAAI,KAAK,UAA9C,EAA0D;CACzD,WAAO,MAAM;CACZgS,MAAAA,KADY;CACLpR,MAAAA,MADK;CAEZvM,MAAAA,IAAI,EAAEyd,IAAI,CAACS,OAFC;CAGZ5e,MAAAA,GAAG,EAAEqM,IAHO;CAIZ7D,MAAAA,QAAQ,EAAE,CAAC,GAAG4V,OAAO,CAAC5V,QAAD,CAAX,CAJE;CAKZ5D,MAAAA,KALY;CAMZ8D,MAAAA,GANY;CAOZgB,MAAAA;CAPY,KAAb;CASA;;CACD,QAAM;CACL2U,IAAAA,KADK;CACEpR,IAAAA,MADF;CAELvM,IAAAA,IAAI,EAAEyd,IAAI,CAACne,GAFN;CAGLA,IAAAA,GAHK;CAILwI,IAAAA,QAAQ,EAAE,CAAC,GAAG4V,OAAO,CAAC5V,QAAD,CAAX,CAJL;CAKL5D,IAAAA,KALK;CAML8D,IAAAA,GANK;CAOLgB,IAAAA;CAPK,GAAN;CAUA;;CClIM,SAASmV,UAAT,CACN3d,KADM,EAEK;CACX,QAAMR,IAAI,GAAG,OAAOQ,KAApB;;CACA,MAAIR,IAAI,KAAK,UAAb,EAAyB;CACxB,WAAO;CAAM,MAAA,KAAK,EAAC;CAAZ,oBAAP;CACA;;CACD,MAAIA,IAAI,KAAK,QAAb,EAAuB;CACtB,WAAO,4BAAOQ,KAAP,CAAP;CACA;;CACD,MACCR,IAAI,KAAK,QAAT,IACGA,IAAI,KAAK,SADZ,IAEGA,IAAI,KAAK,QAFZ,IAGGA,IAAI,KAAK,QAHZ,IAIGA,IAAI,KAAK,WAJZ,IAKGQ,KAAK,KAAK,IANd,EAOE;CACD,WAAO;CAAM,MAAA,KAAK,EAAC;CAAZ,OAAmCF,MAAM,CAACE,KAAD,CAAzC,CAAP;CACA,GATD,MASO,IAAIA,KAAK,YAAY0K,MAArB,EAA6B;CACnC,WAAO;CAAM,MAAA,KAAK,EAAC;CAAZ,OAAkC5K,MAAM,CAACE,KAAD,CAAxC,CAAP;CACA,GAFM,MAEA,IAAIA,KAAK,YAAY4K,IAArB,EAA2B;CACjC,WAAO;CAAM,MAAA,KAAK,EAAC;CAAZ,OAAkC5K,KAAK,CAAC6K,WAAN,EAAlC,CAAP;CACA,GAFM,MAEA,IAAIrL,IAAI,KAAK,QAAb,EAAuB;CAC7B,WAAO;CAAM,MAAA,KAAK,EAAC;CAAZ,OAAmCM,MAAM,CAACE,KAAD,CAAzC,CAAP;CACA;;CACD,SAAO,IAAP;CACA;AAED,CAAO,SAAS4d,QAAT,CACN;CAAEL,EAAAA,QAAF;CAAYvd,EAAAA;CAAZ,CADM,EAEK;CACX,MAAIud,QAAJ,EAAc;CACb,WAAO;CAAM,MAAA,KAAK,EAAC;CAAZ,kBAAP;CACA;;CACD,MAAI,CAACjS,OAAO,CAACtL,KAAD,CAAZ,EAAqB;CACpB,WAAO2d,UAAQ,CAAC3d,KAAD,CAAf;CACA;;CACD,SAAO,gCACN;CAAM,IAAA,KAAK,EAAC;CAAZ,mBADM,EAEL2d,UAAQ,CAAC3d,KAAK,EAAN,CAFH,EAGN;CAAM,IAAA,KAAK,EAAC;CAAZ,aAHM,CAAP;CAKA;;CC5CM,SAAS6d,MAAT,CAAgBrW,GAAhB,EAA0B;CAChC,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;CAAE,WAAQ,QAAO0R,IAAI,CAACJ,SAAL,CAAetR,GAAf,CAAoB,EAAnC;CAAuC;;CACtE,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;CAAE,WAAQ,QAAOA,GAAI,EAAnB;CAAuB;;CACtD,MAAI,OAAOA,GAAP,KAAe,SAAnB,EAA8B;CAAE,WAAQ,QAAOA,GAAI,EAAnB;CAAuB;;CACvD,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;CAAE,WAAQ,QAAOA,GAAI,EAAnB;CAAuB;;CACtD,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;CAAE,WAAQ,QAAO1H,MAAM,CAAC0H,GAAD,CAAM,EAA3B;CAA+B;;CAC9D,MAAIA,GAAG,KAAK,IAAZ,EAAkB;CAAE,WAAQ,QAAOA,GAAI,EAAnB;CAAuB;;CAC3C,MAAIA,GAAG,KAAKC,SAAZ,EAAuB;CAAE,WAAQ,QAAO3H,MAAM,CAAC0H,GAAD,CAAM,EAA3B;CAA+B;CACxD;AAED,CAAO,SAASsW,SAAT,CAAmBC,MAAnB,EAA6D;CACnE,SAAQA,MAAM,CAACrZ,MAAP,CAAc6J,OAAd,CAAD,CACLxO,GADK,CACD,CAAC,CAACf,CAAD,EAAIgf,KAAJ,CAAD,KAAgB;CAAM,IAAA,KAAK,EAAG,UAASA,KAAK,IAAI,MAAO;CAAvC,KACnBhf,CADmB,CADf,CAAP;CAIA;;CCDc,SAASif,GAAT,CAAa;CAC3B9a,EAAAA,IAD2B;CACrBga,EAAAA,KADqB;CACd3V,EAAAA,GADc;CACTuW,EAAAA,MADS;CACDG,EAAAA,OADC;CACQ5W,EAAAA;CADR,CAAb,EAEK;CACnB,QAAM6W,MAAM,GAAGhb,IAAI,CAACga,KAAD,CAAnB;CACA,QAAMpU,UAAU,GAAGoV,MAAM,GAAG,CAAC,GAAGC,OAAO,CAAC9W,QAAD,EAAWnE,IAAX,EAAiB+a,OAAjB,CAAX,CAAH,GAA2C,EAApE;CACA,QAAMG,aAAa,GAAG9P,OAAO,CAAC4P,MAAM,IAAIpV,UAAU,CAAChI,MAAtB,CAA7B;CACA,SAAO;CAAK,IAAA,GAAG,EAAEoc,KAAV;CAAiB,IAAA,KAAK,EAAC;CAAvB,KAMN;CACC,IAAA,KAAK,EAAC,8HADP;CAWC,IAAA,OAAO,EAAE,MAAMha,IAAI,CAACga,KAAD,CAAJ,GAAc,CAACgB;CAX/B,KAYEA,MAAM,GAAG,GAAH,GAAS,GAZjB,CANM,EAmBN,2BACE,GADF,EACM,cAAC,IAAD,OADN,EACeN,MAAM,CAACrW,GAAD,CADrB,EAC4B,GAD5B,EAEE,CAAC6W,aAAD,IAAkB,gCACjBF,MAAM,GAAG,2BAAH,GAAc;CACpB,IAAA,OAAO,EAAE,MAAMhb,IAAI,CAACga,KAAD,CAAJ,GAAc,IADT;CAEpB,IAAA,KAAK,EAAC;CAFc,WADH,EAKjB,IALiB,EAKZ,cAAC,IAAD,OALY,EAKH,GALG,CAFpB,EASEW,SAAS,CAACC,MAAD,CATX,CAnBM,EA8BLM,aAAa,IAAI,gCACjB;CAAK,IAAA,KAAK,EAAC;CAAX,KAAiCtV,UAAjC,CADiB,EAEjB,2BAAM,IAAN,EAAW,cAAC,IAAD,OAAX,EAAoB,GAApB,CAFiB,CA9BZ,CAAP;CAmCA;;CC9Cc,SAASuV,cAAT,CAAwB;CACtCpa,EAAAA,IAAI,GAAG,aAD+B;CAChBiZ,EAAAA,KADgB;CACT3V,EAAAA,GADS;CACJuW,EAAAA;CADI,CAAxB,EAEK;CACnB,SAAO;CAAK,IAAA,GAAG,EAAEZ,KAAV;CAAiB,IAAA,KAAK,EAAC;CAAvB,KAML,GANK,EAON;CAAM,IAAA,KAAK,EAAC;CAAZ,KAAmCjZ,IAAnC,CAPM,EAQL2Z,MAAM,CAACrW,GAAD,CARD,EASL,IATK,EAULsW,SAAS,CAACC,MAAD,CAVJ,CAAP;CAYA;;CCRc,UAAUK,OAAV,CACdrc,IADc,EAEdoB,IAFc,EAGd+a,OAHc,EAIdH,MAAwC,GAAG,EAJ7B,EAKO;CACrB,MAAIhb,KAAK,CAACC,OAAN,CAAcjB,IAAd,CAAJ,EAAyB;CACxB,SAAK,MAAM6H,EAAX,IAAiB7H,IAAjB,EAAuB;CACtB,aAAOqc,OAAO,CAACxU,EAAD,EAAKzG,IAAL,EAAW+a,OAAX,EAAoBH,MAApB,CAAd;CACA;;CACD;CACA;;CACD,QAAM;CACLZ,IAAAA,KADK;CAEL3d,IAAAA,IAFK;CAGLV,IAAAA,GAHK;CAILwI,IAAAA,QAJK;CAKL5D,IAAAA,KALK;CAML8D,IAAAA,GANK;CAOLgB,IAAAA,KAPK;CAQLxI,IAAAA,KARK;CASLud,IAAAA;CATK,MAUFxb,IAVJ;CAWA,QAAMwc,SAAS,GAAG,CAAC/V,KAAD,EAAQ,GAAGuV,MAAX,CAAlB;;CACA,MAAIve,IAAI,KAAKyd,IAAI,CAACO,QAAd,IAA0Bhe,IAAI,KAAKyd,IAAI,CAAC7P,MAA5C,EAAoD;CACnD,WAAO,MAAM,cAAC,GAAD;CACZ,MAAA,IAAI,EAAEjK,IADM;CAEZ,MAAA,KAAK,EAAEga,KAFK;CAGZ,MAAA,GAAG,EAAE3V,GAHO;CAIZ,MAAA,MAAM,EAAE+W,SAJI;CAKZ,MAAA,OAAO,EAAEL,OALG;CAMZ,MAAA,QAAQ,EAAE5W;CANE,OAQZ;CAAM,MAAA,KAAK,EAAC;CAAZ,OAAkCxI,GAAlC,CARY,CAAb;CAUA;;CACD,MAAIU,IAAI,KAAKyd,IAAI,CAACne,GAAlB,EAAuB;CACtB,QAAI,CAACof,OAAO,CAACpf,GAAb,EAAkB;CACjB,aAAO,OAAOsf,OAAO,CAAC9W,QAAD,EAAWnE,IAAX,EAAiB+a,OAAjB,EAA0BK,SAA1B,CAArB;CACA;;CACD,WAAO,MAAM,cAAC,GAAD;CACZ,MAAA,IAAI,EAAEpb,IADM;CAEZ,MAAA,KAAK,EAAEga,KAFK;CAGZ,MAAA,GAAG,EAAE3V,GAHO;CAIZ,MAAA,MAAM,EAAE+W,SAJI;CAKZ,MAAA,OAAO,EAAEL,OALG;CAMZ,MAAA,QAAQ,EAAE5W;CANE,OAQXxI,GARW,CAAb;CAUA;;CACD,MAAIU,IAAI,KAAKyd,IAAI,CAACK,MAAlB,EAA0B;CACzB,QAAI,CAACY,OAAO,CAACZ,MAAb,EAAqB;CACpB,aAAO,OAAOc,OAAO,CAAC9W,QAAD,EAAWnE,IAAX,EAAiB+a,OAAjB,EAA0BK,SAA1B,CAArB;CACA;;CACD,WAAO,MAAM,cAAC,GAAD;CACZ,MAAA,IAAI,EAAEpb,IADM;CAEZ,MAAA,KAAK,EAAEga,KAFK;CAGZ,MAAA,GAAG,EAAE3V,GAHO;CAIZ,MAAA,MAAM,EAAE+W,SAJI;CAKZ,MAAA,OAAO,EAAEL,OALG;CAMZ,MAAA,QAAQ,EAAE5W;CANE,OAQZ;CAAM,MAAA,KAAK,EAAC;CAAZ,OAGGxI,GAHH,CARY,CAAb;CAaA;;CACD,MAAIU,IAAI,KAAKyd,IAAI,CAACI,WAAlB,EAA+B;CAC9B,QAAI,CAACa,OAAO,CAACb,WAAb,EAA0B;CAAE;CAAS;;CACrC,WAAO,MAAM,cAAC,cAAD;CACZ,MAAA,KAAK,EAAEF,KADK;CAEZ,MAAA,GAAG,EAAE3V,GAFO;CAGZ,MAAA,MAAM,EAAE+W;CAHI,MAAb;CAKA;;CACD,MAAI/e,IAAI,KAAKyd,IAAI,CAAC7L,SAAlB,EAA6B;CAC5B,QAAI,CAAC8M,OAAO,CAAC9M,SAAb,EAAwB;CACvB,aAAO,OAAOgN,OAAO,CAAC9W,QAAD,EAAWnE,IAAX,EAAiB+a,OAAjB,EAA0BK,SAA1B,CAArB;CACA;;CACD,WAAO,MAAM,cAAC,GAAD;CACZ,MAAA,IAAI,EAAEpb,IADM;CAEZ,MAAA,KAAK,EAAEga,KAFK;CAGZ,MAAA,GAAG,EAAE3V,GAHO;CAIZ,MAAA,MAAM,EAAE+W,SAJI;CAKZ,MAAA,OAAO,EAAEL,OALG;CAMZ,MAAA,QAAQ,EAAE5W;CANE,OAQZ;CAAM,MAAA,KAAK,EAAC;CAAZ,mBARY,CAAb;CAUA;;CACD,MAAI0B,SAAS,CAAClK,GAAD,CAAb,EAAoB;CACnB,QAAI,CAACof,OAAO,CAACtP,OAAb,EAAsB;CACrB,aAAO,OAAOwP,OAAO,CAAC9W,QAAD,EAAWnE,IAAX,EAAiB+a,OAAjB,EAA0BK,SAA1B,CAArB;CACA;;CACD,WAAO,MAAM,cAAC,GAAD;CACZ,MAAA,IAAI,EAAEpb,IADM;CAEZ,MAAA,KAAK,EAAEga,KAFK;CAGZ,MAAA,GAAG,EAAE3V,GAHO;CAIZ,MAAA,MAAM,EAAE+W,SAJI;CAKZ,MAAA,OAAO,EAAEL,OALG;CAMZ,MAAA,QAAQ,EAAE5W;CANE,OAQZ;CAAM,MAAA,KAAK,EAAC;CAAZ,iBARY,CAAb;CAUA;;CACD,MAAIxI,GAAG,KAAK,UAAZ,EAAwB;CACvB,QAAI,CAACof,OAAO,CAACM,QAAb,EAAuB;CACtB,aAAO,OAAOJ,OAAO,CAAC9W,QAAD,EAAWnE,IAAX,EAAiB+a,OAAjB,EAA0BK,SAA1B,CAArB;CACA;;CACD,WAAO,MAAM,cAAC,GAAD;CACZ,MAAA,IAAI,EAAEpb,IADM;CAEZ,MAAA,KAAK,EAAEga,KAFK;CAGZ,MAAA,GAAG,EAAE3V,GAHO;CAIZ,MAAA,MAAM,EAAE+W,SAJI;CAKZ,MAAA,OAAO,EAAEL,OALG;CAMZ,MAAA,QAAQ,EAAE5W;CANE,OAQZ;CAAM,MAAA,KAAK,EAAC;CAAZ,kBARY,CAAb;CAUA;;CACD,MAAIxI,GAAG,KAAK,gBAAR,IAA4BA,GAAG,KAAK,iBAAxC,EAA2D;CAC1D,QAAI,CAACof,OAAO,CAACO,SAAb,EAAwB;CACvB,aAAO,OAAOL,OAAO,CAAC9W,QAAD,EAAWnE,IAAX,EAAiB+a,OAAjB,EAA0BK,SAA1B,CAArB;CACA;;CACD,WAAO,MAAM,cAAC,GAAD;CACZ,MAAA,IAAI,EAAEpb,IADM;CAEZ,MAAA,KAAK,EAAEga,KAFK;CAGZ,MAAA,GAAG,EAAE3V,GAHO;CAIZ,MAAA,MAAM,EAAE+W,SAJI;CAKZ,MAAA,OAAO,EAAEL,OALG;CAMZ,MAAA,QAAQ,EAAE5W;CANE,OAQZ;CAAM,MAAA,KAAK,EAAC;CAAZ,mBARY,CAAb;CAUA;;CACD,MAAIxI,GAAG,KAAK,YAAZ,EAA0B;CACzB,QAAI,CAACof,OAAO,CAACpf,GAAb,EAAkB;CAAE;CAAS;;CAC7B,QAAI,CAACof,OAAO,CAACle,KAAb,EAAoB;CAAE;CAAS;;CAC/B,WAAO,MAAM,cAAC,QAAD;CAAU,MAAA,QAAQ,EAAEud,QAApB;CAA8B,MAAA,KAAK,EAAEvd;CAArC,MAAb;CACA;;CACD,MAAIlB,GAAG,KAAK,iBAAR,IAA6BA,GAAG,KAAK,kBAAzC,EAA6D;CAC5D,QAAIof,OAAO,CAACQ,UAAZ,EAAwB;CACvB,aAAO,MAAM,cAAC,cAAD;CACZ,QAAA,KAAK,EAAEvB,KADK;CAEZ,QAAA,GAAG,EAAE3V,GAFO;CAGZ,QAAA,MAAM,EAAE+W,SAHI;CAIZ,QAAA,IAAI,EAAC;CAJO,QAAb;CAMA;;CACD;CACA;CACD;;AClKD,aAAgB7a,KAAD,IAAsB;CACpC,QAAMP,IAAI,GAAGqQ,MAAM,CAA2B,EAA3B,CAAnB;CACA,SAAO,MAAM;CAAK,IAAA,KAAK,EAAC;CAAX,KACX,CAAC,GAAG4K,OAAO,CAAC1a,KAAK,CAACwG,IAAP,EAAa/G,IAAb,EAAmBO,KAAK,CAACwa,OAAzB,CAAX,CADW,CAAb;CAGA,CALD;;CCHe,mBAAUxa,KAAV,EAAwB;CACtC,SAAO,2BACN,cAAC,IAAD;CAAM,IAAA,IAAI,EAAC;CAAX,IADM,EAEN,cAAC,IAAD;CAAM,IAAA,IAAI,EAAC;CAAX,IAFM,CAAP;CAIA;;CCJc,mBAAUA,KAAV,EAAgC;CAC9C,QAAMwa,OAAO,GAAGS,OAAO,CAACjb,KAAK,CAACwa,OAAP,CAAvB;CACA,QAAMle,KAAK,GAAGke,OAAO,CAAC,OAAD,CAArB;CACA,QAAMpf,GAAG,GAAGof,OAAO,CAAC,KAAD,CAAnB;CACA,QAAMb,WAAW,GAAGa,OAAO,CAAC,aAAD,CAA3B;CACA,QAAMZ,MAAM,GAAGY,OAAO,CAAC,QAAD,CAAtB;CACA,QAAM9M,SAAS,GAAG8M,OAAO,CAAC,WAAD,CAAzB;CACA,QAAMM,QAAQ,GAAGN,OAAO,CAAC,UAAD,CAAxB;CACA,QAAMO,SAAS,GAAGP,OAAO,CAAC,WAAD,CAAzB;CACA,QAAMQ,UAAU,GAAGR,OAAO,CAAC,YAAD,CAA1B;CACA,QAAMtP,OAAO,GAAGsP,OAAO,CAAC,SAAD,CAAvB;CACA,SAAO,2BACN,6BAAO;CAAO,IAAA,IAAI,EAAC,UAAZ;CAAuB,IAAA,OAAO,EAAEle;CAAhC,IAAP,UADM,EAEN,6BAAO;CAAO,IAAA,IAAI,EAAC,UAAZ;CAAuB,IAAA,OAAO,EAAElB;CAAhC,IAAP,QAFM,EAGN,6BAAO;CAAO,IAAA,IAAI,EAAC,UAAZ;CAAuB,IAAA,OAAO,EAAEue;CAAhC,IAAP,gBAHM,EAIN,6BAAO;CAAO,IAAA,IAAI,EAAC,UAAZ;CAAuB,IAAA,OAAO,EAAEC;CAAhC,IAAP,WAJM,EAKN,6BAAO;CAAO,IAAA,IAAI,EAAC,UAAZ;CAAuB,IAAA,OAAO,EAAElM;CAAhC,IAAP,cALM,EAMN,6BAAO;CAAO,IAAA,IAAI,EAAC,UAAZ;CAAuB,IAAA,OAAO,EAAEoN;CAAhC,IAAP,aANM,EAON,6BAAO;CAAO,IAAA,IAAI,EAAC,UAAZ;CAAuB,IAAA,OAAO,EAAEC;CAAhC,IAAP,cAPM,EAQN,6BAAO;CAAO,IAAA,IAAI,EAAC,UAAZ;CAAuB,IAAA,OAAO,EAAEC;CAAhC,IAAP,eARM,EASN,6BAAO;CAAO,IAAA,IAAI,EAAC,UAAZ;CAAuB,IAAA,OAAO,EAAE9P;CAAhC,IAAP,YATM,CAAP;CAWA;;CCtBD,IAAIgQ,QAAQ,GAAG,KAAf;;CAOA,SAAStf,QAAT,GAAkB;CACjBsf,EAAAA,QAAQ,GAAG,IAAX;;CACA,MAAI;CACH,WAAO;CACNV,MAAAA,OAAO,EAAE1K,MAAM,CAAC;CACfxT,QAAAA,KAAK,EAAE,KADQ;CAEflB,QAAAA,GAAG,EAAE,KAFU;CAGfue,QAAAA,WAAW,EAAE,KAHE;CAIfC,QAAAA,MAAM,EAAE,KAJO;CAKflM,QAAAA,SAAS,EAAE,KALI;CAMfoN,QAAAA,QAAQ,EAAE,KANK;CAOfC,QAAAA,SAAS,EAAE,KAPI;CAQfC,QAAAA,UAAU,EAAE,KARG;CASf9P,QAAAA,OAAO,EAAE;CATM,OAAD,CADT;CAYNtI,MAAAA,OAAO,EAAE3G,MAAM;CAZT,KAAP;CAcA,GAfD,SAeU;CACTif,IAAAA,QAAQ,GAAG,KAAX;CACA;CACD;;AAED,CAAe,SAASrgB,UAAT,CAAoB6S,SAApB,EAAgD;CAC9D,MAAIwN,QAAJ,EAAc;CAAE;CAAS;;CACzB,MAAIC,GAAJ;;CACA,QAAMC,OAAO,GAAG,MAAM;CACrB,QAAI,CAACD,GAAL,EAAU;CAAEA,MAAAA,GAAG,GAAGvf,QAAM,EAAZ;CAAiB;;CAC7B,UAAM4K,IAAI,GAAG,CAAC,GAAGgT,OAAO,CAAC9L,SAAS,CAACsD,OAAX,CAAX,CAAb;CACAmK,IAAAA,GAAG,CAACvY,OAAJ,CAAYyY,OAAZ,CAAoB,cAAC,QAAD;CAAU,MAAA,OAAO,EAAEF,GAAG,CAACX;CAAvB,OACnB,cAAC,IAAD;CAAM,MAAA,IAAI,EAAC,MAAX;CAAkB,MAAA,IAAI,EAAEhU,IAAxB;CAA8B,MAAA,OAAO,EAAE2U,GAAG,CAACX;CAA3C,MADmB,EAEnB,cAAC,QAAD;CAAU,MAAA,IAAI,EAAC,UAAf;CAA0B,MAAA,OAAO,EAAEW,GAAG,CAACX;CAAvC,MAFmB,CAApB;CAIA,GAPD;;CAQAlY,EAAAA,OAAO,CAAC,UAAD,EAAa8Y,OAAb,EAAsB1N,SAAS,CAAC3Q,MAAhC,CAAP;CACAuF,EAAAA,OAAO,CAAC,SAAD,EAAY,MAAM;CACxB,QAAI,CAAC6Y,GAAL,EAAU;CAAEA,MAAAA,GAAG,GAAGvf,QAAM,EAAZ;CAAiB;;CAC7Bwf,IAAAA,OAAO;CACPD,IAAAA,GAAG,CAACvY,OAAJ,CAAY0Y,MAAZ;CACA,GAJM,EAIJ5N,SAAS,CAAC3Q,MAJN,CAAP;CAKA;;CClDD,MAAMnC,UAAkB,GAAG;CAC1BC,EAAAA;CAD0B,CAA3B;;ACDA2X,UAAW,GAAG;CAAE5X,YAAAA;CAAF,CAAH,CAAX;;CCEO,IAAI2gB,iBAAJ;AAEP,CAAe,SAASC,YAAT,GAAwB;CACtCD,EAAAA,iBAAiB,GAAGtW,aAAa,EAAjC;CACA;;CCJD,SAASwW,kBAAT,CAA4Bhe,OAA5B,EAA8C;CAC7CmD,EAAAA,OAAO,CAACC,cAAR,CAAuBpD,OAAvB,EAAgC,YAAhC,EAA8C;CAC7CnB,IAAAA,KAAK,EAAEmB,OAAO,CAACgI,SAAR,CAAkB8V,iBAAlB,CADsC;CAE7CzP,IAAAA,UAAU,EAAE,IAFiC;CAG7C3K,IAAAA,YAAY,EAAE;CAH+B,GAA9C;CAKA;;AAED,CAAe,SAASua,yBAAT,GAAqC;CACnDhe,EAAAA,qBAAqB,CAAC+d,kBAAD,CAArB;CACA;;CCJc,SAASE,UAAT,CACd3b,KADc,EAEd;CAAE4b,EAAAA,UAAU,EAAEC,iBAAd;CAAiCxW,EAAAA;CAAjC,CAFc,EAGb;CACD,QAAM;CAAE7E,IAAAA,IAAF;CAAQob,IAAAA;CAAR,MAAuB5b,KAA7B;;CACA,MAAI,CAACQ,IAAD,IAASob,UAAU,YAAYE,UAAnC,EAA+C;CAC9C,WAAOpY,aAAa,CAAC6X,iBAAD,EAAoB;CACvCjf,MAAAA,KAAK,EAAEsf;CADgC,KAApB,EAEjB,GAAGvW,UAFc,CAApB;CAGA;;CACD,MAAI,CAAC7E,IAAL,EAAW;CAAE,WAAO6E,UAAP;CAAoB;;CACjC,MAAIuW,UAAU,YAAYE,UAA1B,EAAsC;CACrC,UAAMzd,IAAI,GAAGud,UAAU,CAAC9a,GAAX,CAAeN,IAAf,CAAb;;CACA,QAAI,CAACnC,IAAL,EAAW;CAAE,aAAO,IAAP;CAAc;;CAC3B,WAAOqF,aAAa,CAAC6X,iBAAD,EAAoB;CACvCjf,MAAAA,KAAK,EAAEsf;CADgC,KAApB,EAEjBvd,IAAI,CAAChC,GAAL,CAAS4E,CAAC,IAAIyC,aAAa,CAACzC,CAAC,CAACwF,SAAH,EAAczG,KAAd,EAAqB,GAAGqF,UAAxB,CAA3B,CAFiB,CAApB;CAGA;;CACD,MAAI,EAAEwW,iBAAiB,YAAYC,UAA/B,CAAJ,EAAgD;CAC/C,WAAOzW,UAAP;CACA;;CACD,QAAMhH,IAAI,GAAGwd,iBAAiB,CAAC/a,GAAlB,CAAsBN,IAAtB,CAAb;;CACA,MAAI,CAACnC,IAAL,EAAW;CAAE,WAAO,IAAP;CAAc;;CAC3B,SAAOA,IAAI,CAAChC,GAAL,CAAS4E,CAAC,IAAIyC,aAAa,CAACzC,CAAC,CAACwF,SAAH,EAAczG,KAAd,EAAqB,GAAGqF,UAAxB,CAA3B,CAAP;CACA;CAEDkN,OAAO,CAACoJ,UAAD,CAAP;CACArJ,KAAK,CAAC,YAAD,EAAeqJ,UAAf,CAAL;;CClCe,SAASI,iBAAT,GAA6B;CAC3C5R,EAAAA,QAAQ,CAAC,YAAD,EAAewR,UAAf,CAAR;CACAxR,EAAAA,QAAQ,CAAC,aAAD,EAAgBwR,UAAhB,CAAR;CACA;;ACFD,kBAAe,CACdI,iBADc,EAEdL,yBAFc,EAGdF,YAHc,CAAf;;CCFe,SAAS9e,SAAT,CAAiBsf,IAAjB,EAAqD;;CAEpE,KAAK,MAAMrd,CAAX,IAAgBsd,UAAhB,EAA4B;CAC3Btd,EAAAA,CAAC;CACD;;CCNM,MAAMud,OAAe,GAAG,eAAxB;;CCaP,MAAMJ,UAAN,CAAiB;CAGhB5gB,EAAAA,WAAW,CAACmN,MAAD,EAAsB;CAAA;;CAAA,qCADoByH,MAAM,CAACnU,MAAM,CAACC,MAAP,CAAc,IAAd,CAAD,CAC1B;;CAChC,QAAIyM,MAAM,YAAYyT,UAAtB,EAAkC;CACjC,WAAKzT,MAAL,GAAcA,MAAd;CACA;CACD;;CACDlK,EAAAA,GAAG,CACFqC,IADE,EAEF0J,UAFE,EAGFiS,IAAsC,GAAG,EAHvC,EAID;CACD,QAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;CAAEA,MAAAA,IAAI,GAAG;CAAEC,QAAAA,KAAK,EAAED;CAAT,OAAP;CAAyB;;CACzD,UAAME,MAAM,GAAG,KAAKC,OAApB;;CACA,QAAI,CAACjd,KAAK,CAACC,OAAN,CAAc4K,UAAd,CAAL,EAAgC;CAAEA,MAAAA,UAAU,GAAG,CAACA,UAAD,CAAb;CAA4B;;CAC9D,UAAM7L,IAAI,GAAGge,MAAM,CAAC7b,IAAD,CAAN,GAAe,CAAC,GAAG6b,MAAM,CAAC7b,IAAD,CAAV,CAAf,GAAmC,EAAhD;CACAnC,IAAAA,IAAI,CAACV,IAAL,CAAU,GAAGuM,UAAU,CAAC7N,GAAX,CAAeoK,SAAS,IAAI9K,MAAM,CAAC4gB,MAAP,CAAc,EACtD,GAAGJ,IADmD;CAEtD1V,MAAAA;CAFsD,KAAd,CAA5B,CAAb;CAIApI,IAAAA,IAAI,CAACme,IAAL,CAAU,CAAC;CAACJ,MAAAA,KAAK,EAAEjY;CAAR,KAAD,EAAa;CAACiY,MAAAA,KAAK,EAAEhY;CAAR,KAAb,KAA4B,CAACD,CAAC,IAAI,CAAN,KAAYC,CAAC,IAAI,CAAjB,CAAtC;CACAiY,IAAAA,MAAM,CAAC7b,IAAD,CAAN,GAAenC,IAAf;CACA;;CAEDqT,EAAAA,MAAM,CACLlR,IADK,EAELiG,SAFK,EAGE;CACP,UAAM4V,MAAM,GAAG,KAAKC,OAApB;CACA,UAAMG,OAAO,GAAGJ,MAAM,CAAC7b,IAAD,CAAtB;;CACA,QAAI,CAACic,OAAL,EAAc;CAAE;CAAS;;CACzB,QAAI,CAAChW,SAAL,EAAgB;CACf4V,MAAAA,MAAM,CAAC7b,IAAD,CAAN,GAAe,EAAf;CACA;CACA;;CACD,UAAM1B,CAAC,GAAG2d,OAAO,CAAC7T,SAAR,CAAmB3H,CAAD,IAAOA,CAAC,CAACwF,SAAF,KAAgBA,SAAzC,CAAV;;CACA,QAAI3H,CAAC,GAAG,CAAR,EAAW;CAAE;CAAS;;CACtB,UAAMT,IAAI,GAAG,CAAC,GAAGoe,OAAO,CAACC,KAAR,CAAc,CAAd,EAAiB5d,CAAjB,CAAJ,EAAyB,GAAG2d,OAAO,CAACC,KAAR,CAAc5d,CAAC,GAAG,CAAlB,CAA5B,CAAb;CACAud,IAAAA,MAAM,CAAC7b,IAAD,CAAN,GAAenC,IAAf;CACA;;CACDqE,EAAAA,GAAG,CACFlC,IADE,EAEF0J,UAFE,EAGFiS,IAAsC,GAAG,EAHvC,EAID;CACD,QAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;CAAEA,MAAAA,IAAI,GAAG;CAAEC,QAAAA,KAAK,EAAED;CAAT,OAAP;CAAyB;;CACzD,UAAME,MAAM,GAAG,KAAKC,OAApB;;CACA,QAAI,CAACjd,KAAK,CAACC,OAAN,CAAc4K,UAAd,CAAL,EAAgC;CAAEA,MAAAA,UAAU,GAAG,CAACA,UAAD,CAAb;CAA4B;;CAC9D,UAAM7L,IAAI,GAAG6L,UAAU,CAAC7N,GAAX,CAAeoK,SAAS,IAAI9K,MAAM,CAAC4gB,MAAP,CAAc,EACtD,GAAGJ,IADmD;CAEtD1V,MAAAA;CAFsD,KAAd,CAA5B,CAAb;CAIA4V,IAAAA,MAAM,CAAC7b,IAAD,CAAN,GAAenC,IAAf;CACA;;CACDyC,EAAAA,GAAG,CAACN,IAAD,EAAe6H,MAAf,EAA4D;CAC9D,UAAMgU,MAAM,GAAG,KAAKC,OAApB;CACA,UAAMje,IAAI,GAAGge,MAAM,CAAC7b,IAAD,CAAN,IAAgB,EAA7B;;CACA,QAAI,CAAC6H,MAAD,IAAW,CAAC,KAAKA,MAArB,EAA6B;CAAE,aAAO,CAAC,GAAGhK,IAAJ,CAAP;CAAmB;;CAClD,UAAMse,UAAU,GAAG,KAAKtU,MAAL,CAAYvH,GAAZ,CAClBN,IADkB,EAElB,OAAO6H,MAAP,KAAkB,QAAlB,GAA6BA,MAAM,GAAG,CAAtC,GAA0C,CAAC,CAFzB,CAAnB;CAIA,UAAMuU,OAAO,GAAG,CAAC,GAAGD,UAAJ,EAAgB,GAAGte,IAAnB,CAAhB;;CACA,QAAIA,IAAI,CAAChB,MAAL,IAAesf,UAAU,CAACtf,MAA9B,EAAsC;CACrCuf,MAAAA,OAAO,CAACJ,IAAR,CAAa,CAAC;CAACJ,QAAAA,KAAK,EAAEjY;CAAR,OAAD,EAAa;CAACiY,QAAAA,KAAK,EAAEhY;CAAR,OAAb,KAA4B,CAACD,CAAC,IAAI,CAAN,KAAYC,CAAC,IAAI,CAAjB,CAAzC;CACA;;CACD,WAAOwY,OAAP;CACA;;CACD,MAAIC,IAAJ,GAAW;CACV,UAAMA,IAAe,GAAG,CAAC7c,KAAD,EAGrB,GAAGR,CAHkB,KAIxBmc,UAAU,CAAC,EAAC,GAAG3b,KAAJ;CAAW4b,MAAAA,UAAU,EAAE;CAAvB,KAAD,EAA+B,GAAGpc,CAAlC,CAJV;;CAKA8S,IAAAA,KAAK,CAAC,YAAD,EAAeuK,IAAf,CAAL;CACAtK,IAAAA,OAAO,CAACsK,IAAD,CAAP;CACAjc,IAAAA,OAAO,CAACC,cAAR,CAAuB,IAAvB,EAA6B,MAA7B,EAAqC;CACpCvE,MAAAA,KAAK,EAAEugB,IAD6B;CAEpC/Q,MAAAA,UAAU,EAAE,IAFwB;CAGpC3K,MAAAA,YAAY,EAAE;CAHsB,KAArC;CAKA,WAAO0b,IAAP;CACA;;CACD,aAAWngB,OAAX,GAAqB;CAAE,WAAOA,SAAP;CAAiB;;CACxC,aAAWogB,IAAX,GAAkB;CAAE,WAAOnB,UAAP;CAAoB;;CACxC,aAAWO,OAAX,GAAqB;CAAE,WAAOA,OAAP;CAAiB;;CAtFxB;;CCVjB;;CACA,MAAMa,IAAI,GAAGnhB,QAAM,CAAC,CAACoE,KAAD,EAAa;CAACO,EAAAA;CAAD,CAAb,KACpB;CAAK,cAAU,MAAMA,IAAI,CAAC,OAAD,EAAU,KAAV;CAAzB,GACEP,KAAK,CAACgd,eADR,kBADmB,CAAnB;CAIA,MAAMC,IAAI,GAAGrhB,QAAM,CAAC,MAAM,2CAAP,CAAnB;CACA,MAAMshB,IAAI,GAAGthB,QAAM,CAAC,MAAM,2CAAP,CAAnB;CACA0W,KAAK,CAAC,MAAD,EAASyK,IAAT,CAAL;CACAzK,KAAK,CAAC,MAAD,EAAS2K,IAAT,CAAL;CACA3K,KAAK,CAAC,MAAD,EAAS4K,IAAT,CAAL;;CAGA,MAAMtB,UAAU,GAAG,IAAIE,UAAJ,EAAnB;;CAGAF,UAAU,CAACzd,GAAX,CAAe,SAAf,EAA0B4e,IAA1B;CACAnB,UAAU,CAACzd,GAAX,CAAe,SAAf,EAA0B8e,IAA1B;;CAEArB,UAAU,CAACzd,GAAX,CAAe,SAAf,EAA0B4e,IAA1B;CAEAnB,UAAU,CAACzd,GAAX,CAAe,SAAf,EAA0B+e,IAA1B;CACAtB,UAAU,CAACzd,GAAX,CAAe,SAAf,EAA0B8e,IAA1B;CACArB,UAAU,CAACzd,GAAX,CAAe,SAAf,EAA0B4e,IAA1B;;CAEAnB,UAAU,CAACzd,GAAX,CAAe,SAAf,EAA0B,KAA1B;CAECsY,MAAD,CAAgBmF,UAAhB,GAA6BA,UAA7B;AAEA,WAAe,cAAC,UAAD,CAAY,IAAZ,QAKd,cAAC,UAAD,CAAY,IAAZ;CAAiB,EAAA,IAAI,EAAC,SAAtB;CAAgC,EAAA,eAAe,EAAC;CAAhD,EALc,EAYd,yBAZc,EAcd,cAAC,UAAD,CAAY,IAAZ;CAAiB,EAAA,IAAI,EAAC,SAAtB;CAAgC,EAAA,eAAe,EAAC;CAAhD,EAdc,EAsBd,yBAtBc,EAyBd,cAAC,UAAD,CAAY,IAAZ;CAAiB,EAAA,IAAI,EAAC;CAAtB,EAzBc,CAAf;;CC3BA3f,MAAM,CAACkhB,GAAD,CAAN,CAAY7B,MAAZ;;;;"}