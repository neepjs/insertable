{"version":3,"file":"index.js","sources":["../../node_modules/monitorable/dist/monitorable.esm.js","../../node_modules/@neep/core/dist/neep.core.mjs","../../node_modules/@neep/web-render/dist/neep.web.render.mjs","../../node_modules/@neep/devtools/dist/neep.devtools.mjs","../../src/install/installContextConstructor.ts","../../src/InsertView.ts","../../src/install/installComponents.ts","../../src/install/install.ts","../../src/Insertable.ts","../App.tsx","../index.tsx"],"sourcesContent":["\n/*!\n * monitorable v0.1.0-alpha.7\n * (c) 2020 Fierflame\n * @license MIT\n */\n\nlet printErrorLog;\n/** 打印错误 */\n\nfunction printError(info) {\n  if (typeof printErrorLog === 'function') {\n    printErrorLog(info);\n    return;\n  }\n\n  console.error(info);\n}\nfunction setPrintError(p) {\n  printErrorLog = typeof p === 'function' ? p : undefined;\n}\n/**\n * 判断对象是否可被代理\n */\n\nfunction encashable(v) {\n  return Boolean(v && ['object', 'function'].includes(typeof v));\n}\n/** 回调函数安全化处理 */\n\nfunction safeify(fn) {\n  return (...p) => {\n    try {\n      fn(...p);\n    } catch (e) {\n      printError(e);\n    }\n  };\n}\nfunction getIndexes(target, prop) {\n  if (!target) {\n    return undefined;\n  }\n\n  if (typeof target !== 'function' && typeof target !== 'object') {\n    return undefined;\n  }\n\n  if (typeof prop === 'number') {\n    return [target, String(prop)];\n  }\n\n  if (typeof prop === 'symbol') {\n    return [target, prop];\n  }\n\n  if (typeof prop === 'string') {\n    return [target, prop];\n  }\n\n  if (typeof prop === 'boolean') {\n    return [target, prop];\n  }\n\n  return undefined;\n}\nfunction getMapValue(map, key, def) {\n  if (map.has(key)) {\n    return map.get(key);\n  }\n\n  const value = def();\n  map.set(key, value);\n  return value;\n}\n\n/** 已被读取的 */\nlet read;\n/**\n * 标记已读状态\n * @param obj  要标记的对象\n * @param prop 要标记的属性\n */\n\nfunction markRead(target, prop) {\n  if (!read) {\n    return;\n  }\n\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return;\n  }\n\n  [target, prop] = indexes;\n  const propMap = getMapValue(read, target, () => new Map());\n\n  if (propMap.has(prop)) {\n    return;\n  }\n\n  propMap.set(prop, false);\n}\n\n/**\n * 监听函数的执行，并将执行过程中读取的对象值设置到 map 中\n * @param fn 要执行的含糊\n * @param map 用于存储被读取对象的 map\n */\nfunction observeRun(map, fn, options) {\n  const oldRead = read;\n  read = map;\n\n  try {\n    if (!(options === null || options === void 0 ? void 0 : options.postpone)) {\n      return fn();\n    }\n\n    return postpone(fn, options.postpone === 'priority');\n  } finally {\n    read = oldRead;\n  }\n}\nfunction observe(map, fn, options) {\n  if (typeof fn === 'function') {\n    return observeRun(map, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return observeRun(map, options, fn);\n}\nconst watchList = new WeakMap();\n\nfunction execWatch(target, prop) {\n  var _watchList$get;\n\n  const watch = (_watchList$get = watchList.get(target)) === null || _watchList$get === void 0 ? void 0 : _watchList$get.get(prop);\n\n  if (!watch) {\n    return;\n  }\n\n  [...watch].forEach(w => w());\n}\n\nlet waitList;\n\nfunction run(list) {\n  for (const [target, set] of list.entries()) {\n    var _read;\n\n    const propMap = (_read = read) === null || _read === void 0 ? void 0 : _read.get(target);\n\n    for (const prop of set) {\n      execWatch(target, prop);\n\n      if (propMap === null || propMap === void 0 ? void 0 : propMap.has(prop)) {\n        propMap.set(prop, true);\n      }\n    }\n  }\n}\n\nfunction postponeRun(f, priority) {\n  const list = !priority && waitList || new Map();\n  const old = waitList;\n  waitList = list;\n\n  try {\n    return f();\n  } finally {\n    waitList = old;\n\n    if (list !== waitList) {\n      run(list);\n    }\n  }\n}\n\nfunction postpone(fn, priority) {\n  if (typeof fn === 'function') {\n    return postponeRun(fn, priority);\n  }\n\n  if (typeof priority !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return postponeRun(priority, fn);\n}\n\nfunction wait(target, prop) {\n  if (!waitList) {\n    return false;\n  }\n\n  getMapValue(waitList, target, () => new Set()).add(prop);\n  return true;\n}\n/**\n * 标记属性的修改，同时触发监听函数\n * @param target 要标记的对象\n * @param prop   要标记的属性 特别的，false 表示原型，true 表示成员\n */\n\n\nfunction markChange(target, prop) {\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return;\n  }\n\n  [target, prop] = indexes;\n\n  if (wait(target, prop)) {\n    return;\n  }\n\n  execWatch(target, prop);\n}\n/**\n * 观察对象属性的变化\n * @param target 要观察的对象\n * @param prop   要观察的属性名 特别的，false 表示原型，true 表示成员\n * @param fn     属性改变后触发的函数\n */\n\nfunction watchProp(target, prop, cb) {\n  if (typeof cb !== 'function') {\n    return () => {};\n  }\n\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return () => {};\n  }\n\n  [target, prop] = indexes;\n  const key = prop;\n  let map = watchList.get(target);\n\n  if (!map) {\n    map = new Map();\n    watchList.set(target, map);\n  }\n\n  const list = getMapValue(map, key, () => new Set());\n  cb = safeify(cb);\n  list.add(cb);\n  let removed = false;\n  return () => {\n    if (removed) {\n      return;\n    }\n\n    removed = true; // 从当前列表中移除\n\n    list.delete(cb); // 从属性关联中删除\n\n    if (list.size) {\n      return;\n    }\n\n    if (!map) {\n      return;\n    }\n\n    map.delete(key); // 映射列表中删除\n\n    if (map.size) {\n      return;\n    }\n\n    watchList.delete(target);\n  };\n}\n\n/**\n * 判断对象是否可被代理\n */\n\nfunction encashable$1(v) {\n  return Boolean(v && ['object', 'function'].includes(typeof v));\n}\n\nlet getValue;\n/**\n * 获取被代理对象\n * @param obj  要被代理的对象\n * @param nest 递归代理的层数\n */\n\nfunction encase(value, nest = 0) {\n  if (!encashable$1(value)) {\n    return value;\n  }\n\n  const original = recover(value);\n  const nestLayer = nest === true ? Infinity : nest || 0;\n  const proxy = new Proxy(original, {\n    set(target, prop, value, receiver) {\n      if (nest === false) {\n        return Reflect.set(target, prop, value, receiver);\n      }\n\n      const has = Reflect.has(target, prop);\n      const modified = Reflect.set(target, prop, value, encase(receiver));\n\n      if (!modified) {\n        return modified;\n      }\n\n      if (has !== Reflect.has(target, prop)) {\n        markChange(target, true);\n      }\n\n      return modified;\n    },\n\n    get(target, prop, receiver) {\n      if (getValue === proxy) {\n        if (prop === '__monitorable__recover__') {\n          getValue = original;\n          return;\n        }\n      }\n\n      if (nest === false) {\n        return Reflect.get(target, prop, receiver);\n      }\n\n      markRead(target, prop);\n      const value = Reflect.get(target, prop, encase(receiver));\n\n      if (nestLayer > 0) {\n        return encase(value, nestLayer - 1);\n      }\n\n      return value;\n    },\n\n    setPrototypeOf(target, proto) {\n      if (nest === false) {\n        return Reflect.setPrototypeOf(target, proto);\n      }\n\n      const oldProto = Reflect.getPrototypeOf(target);\n      const modified = Reflect.setPrototypeOf(target, proto);\n\n      if (modified && oldProto !== proto) {\n        markChange(target, false);\n      }\n\n      return modified;\n    },\n\n    getPrototypeOf(target) {\n      if (nest === false) {\n        return Reflect.getPrototypeOf(target);\n      }\n\n      markRead(target, false);\n      const value = Reflect.getPrototypeOf(target);\n\n      if (nestLayer > 0) {\n        return encase(value, nestLayer - 1);\n      }\n\n      return value;\n    },\n\n    defineProperty(target, prop, attr) {\n      if (nest === false) {\n        return Reflect.defineProperty(target, prop, attr);\n      }\n\n      let changed = true;\n\n      if ('value' in attr) {\n        const desc = Reflect.getOwnPropertyDescriptor(target, prop);\n\n        if (desc && 'value' in desc && recover(attr.value) === recover(desc.value)) {\n          changed = false;\n        }\n      }\n\n      const modified = Reflect.defineProperty(target, prop, attr);\n\n      if (changed && modified) {\n        markChange(target, prop);\n      }\n\n      return modified;\n    },\n\n    getOwnPropertyDescriptor(target, prop) {\n      if (nest === false) {\n        return Reflect.getOwnPropertyDescriptor(target, prop);\n      }\n\n      markRead(target, prop);\n      return Reflect.getOwnPropertyDescriptor(target, prop);\n    },\n\n    deleteProperty(target, prop) {\n      if (nest === false) {\n        return Reflect.deleteProperty(target, prop);\n      }\n\n      const has = Reflect.has(target, prop);\n      const deleted = Reflect.deleteProperty(target, prop);\n\n      if (has && !Reflect.has(target, prop)) {\n        markChange(target, prop);\n        markChange(target, true);\n      }\n\n      return deleted;\n    },\n\n    ownKeys(target) {\n      if (nest === false) {\n        return Reflect.ownKeys(target);\n      }\n\n      markRead(target, true);\n      return Reflect.ownKeys(target);\n    },\n\n    has(target, prop) {\n      if (nest === false) {\n        return Reflect.has(target, prop);\n      }\n\n      markRead(target, true);\n      return Reflect.has(target, prop);\n    }\n\n  });\n  return proxy;\n}\n/** 获取被代理的原始值 */\n\nfunction recover(v) {\n  if (!v) {\n    return v;\n  }\n\n  if (!encashable$1(v)) {\n    return v;\n  }\n\n  let value = v;\n\n  try {\n    getValue = v;\n    value = v.__monitorable__recover__;\n  } catch (_unused) {}\n\n  value = getValue;\n  getValue = false;\n\n  if (!value) {\n    return v;\n  }\n\n  if (typeof value === 'object') {\n    return value;\n  }\n\n  if (typeof value === 'function') {\n    return value;\n  }\n\n  return v;\n}\nfunction equal(a, b) {\n  return recover(a) === recover(b);\n}\n\nfunction run$1(cb, fn, options) {\n  cb = safeify(cb);\n  let cancelList;\n  const postpone = options === null || options === void 0 ? void 0 : options.postpone;\n  let end = false;\n  /** 取消监听 */\n\n  function cancel() {\n    if (end) {\n      return false;\n    }\n\n    end = true;\n\n    if (!cancelList) {\n      return true;\n    }\n\n    const list = cancelList;\n    cancelList = undefined;\n    list.forEach(f => f());\n    return true;\n  }\n\n  function trigger() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(true);\n  }\n\n  function run(thisRead) {\n    if (end) {\n      return false;\n    }\n\n    if (!thisRead.size) {\n      end = true;\n      return cb(false);\n    }\n\n    const list = [];\n\n    for (let [obj, props] of thisRead) {\n      for (const [p, m] of props) {\n        if (m) {\n          return cb(true);\n        }\n\n        list.push([obj, p]);\n      }\n    }\n\n    cancelList = list.map(([obj, p]) => watchProp(recover(obj), p, trigger));\n  }\n\n  function stop() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(false);\n  }\n  const thisRead = new Map();\n  const result = observe(thisRead, () => fn(stop), {\n    postpone\n  });\n  run(thisRead);\n\n  if (options === null || options === void 0 ? void 0 : options.resultOnly) {\n    return result;\n  }\n\n  return {\n    result,\n    stop\n  };\n}\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\n\n\nfunction exec(cb, fn, options) {\n  if (typeof cb !== 'function') {\n    throw new Error('cb needs to be a function');\n  }\n\n  if (typeof fn === 'function') {\n    return run$1(cb, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return run$1(cb, options, fn);\n}\n\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\nfunction create(cb, fn, options) {\n  cb = safeify(cb);\n  let cancelList;\n  /** 取消监听 */\n\n  function cancel() {\n    if (!cancelList) {\n      return false;\n    }\n\n    const list = cancelList;\n    cancelList = undefined;\n    list.forEach(f => f());\n    return true;\n  }\n\n  function trigger() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(true);\n  }\n\n  function run(thisRead) {\n    if (!thisRead.size) {\n      return cb(false);\n    }\n\n    const list = [];\n\n    for (let [obj, props] of thisRead) {\n      for (const [p, m] of props) {\n        if (m) {\n          return cb(true);\n        }\n\n        list.push([obj, p]);\n      }\n    }\n\n    cancelList = list.map(([obj, p]) => watchProp(recover(obj), p, trigger));\n  }\n\n  function exec() {\n    cancel();\n    const thisRead = new Map();\n    const result = observe(thisRead, fn, options);\n    run(thisRead);\n    return result;\n  }\n\n  exec.stop = () => {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(false);\n  };\n\n  return exec;\n}\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\n\n\nfunction createExecutable(cb, fn, options) {\n  if (typeof fn === 'function') {\n    return create(cb, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return create(cb, options, fn);\n}\n\n/** 取消监听的方法 */\n\nconst values = new WeakSet();\nfunction isValue(x) {\n  return values.has(x);\n}\n/** 触发监听 */\n\nfunction valueOf() {\n  const value = this();\n\n  if (value === undefined) {\n    return value;\n  }\n\n  if (value === null) {\n    return value;\n  }\n\n  return value.valueOf();\n}\n\nfunction toString(...p) {\n  const value = this();\n\n  if (value === undefined) {\n    return String(value);\n  }\n\n  if (value === null) {\n    return String(value);\n  }\n\n  if (typeof value.toString === 'function') {\n    return value.toString(...p);\n  }\n\n  return String(value);\n}\n\nfunction toPrimitive(hint) {\n  const value = this();\n\n  if (value === undefined) {\n    return String(value);\n  }\n\n  if (value === null) {\n    return String(value);\n  }\n\n  if (typeof value[Symbol.toPrimitive] === 'function') {\n    return value[Symbol.toPrimitive](hint);\n  }\n\n  if (hint === 'string') {\n    return String(value);\n  }\n\n  if (hint === 'number') {\n    return Number(value);\n  }\n\n  return value;\n}\n\nfunction createValue(recover, setValue, stop = () => {}, change = () => {}) {\n  function set(v, marked = false) {\n    if (!setValue) {\n      return;\n    }\n\n    try {\n      setValue(v, () => {\n        marked = true;\n      });\n    } finally {\n      if (marked) {\n        trigger();\n      }\n    }\n  }\n\n  function get() {\n    markRead(value, 'value');\n    return recover();\n  }\n\n  const value = (...v) => {\n    if (v.length) {\n      set(v[0], v[1]);\n      return v[0];\n    }\n\n    return get();\n  };\n\n  Reflect.defineProperty(value, 'value', {\n    get,\n    set,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, 'valueOf', {\n    value: valueOf,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, 'toString', {\n    value: toString,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, Symbol.toPrimitive, {\n    value: toPrimitive,\n    enumerable: true,\n    configurable: true\n  });\n\n  function watch(cb) {\n    if (!callbacks) {\n      return () => {};\n    }\n\n    cb = safeify(cb);\n    callbacks.push(cb);\n    change();\n    let cancelled = false;\n    return () => {\n      if (cancelled) {\n        return;\n      }\n\n      cancelled = true;\n\n      if (!callbacks) {\n        return;\n      }\n\n      const index = callbacks.findIndex(a => a === cb);\n\n      if (index < 0) {\n        return;\n      }\n\n      callbacks.splice(index, 1);\n      change();\n    };\n  }\n\n  let callbacks = [];\n  Reflect.defineProperty(value, 'watch', {\n    get() {\n      return watch;\n    },\n\n    set() {},\n\n    configurable: true\n  });\n\n  const trigger = () => {\n    if (!callbacks) {\n      return;\n    }\n\n    markChange(value, 'value');\n\n    for (const cb of [...callbacks]) {\n      cb(value, false);\n    }\n  };\n\n  trigger.has = () => {\n    var _callbacks;\n\n    return Boolean((_callbacks = callbacks) === null || _callbacks === void 0 ? void 0 : _callbacks.length);\n  };\n\n  trigger.stop = () => {\n    if (!callbacks) {\n      return;\n    }\n\n    const list = callbacks;\n    callbacks = undefined;\n\n    for (const cb of [...list]) {\n      cb(value, true);\n    }\n  };\n\n  values.add(value);\n  let stopped = false;\n\n  value.stop = () => {\n    if (stopped) {\n      return;\n    }\n\n    stopped = true;\n    stop();\n    trigger.stop();\n  };\n\n  return {\n    value,\n    trigger\n  };\n}\n/**\n * 创建引用值\n * @param value 初始值\n * @param options 选项\n */\n\n\nfunction value(def, options) {\n  const proxy = options === true || options && options.proxy;\n  let source;\n  let proxyValue;\n  const {\n    value\n  } = createValue(() => proxyValue, (v, mark) => {\n    if (proxy) {\n      v = recover(v);\n    }\n\n    if (v === source) {\n      return;\n    }\n\n    source = v;\n    proxyValue = proxy ? encase(source) : source;\n    mark();\n  });\n  value(def);\n  return value;\n}\nfunction computed(getter, setter, options) {\n  var _options;\n\n  if (typeof setter !== 'function') {\n    options = setter;\n    setter = undefined;\n  }\n\n  const setValue = setter;\n  const proxy = options === true || options && options.proxy;\n  const postpone = typeof options === 'object' && ((_options = options) === null || _options === void 0 ? void 0 : _options.postpone);\n  let source;\n  let proxyValue;\n  let stopped = false;\n  let computed = false;\n  let trigger;\n  const executable = createExecutable(changed => {\n    computed = !changed;\n\n    if (changed && trigger) {\n      trigger();\n    }\n  }, getter, {\n    postpone\n  });\n\n  function run() {\n    computed = true;\n\n    try {\n      source = executable();\n\n      if (proxy) {\n        source = recover(source);\n      }\n\n      proxyValue = proxy ? encase(source) : source;\n      return proxyValue;\n    } catch (e) {\n      if (!stopped) {\n        computed = false;\n      }\n\n      throw e;\n    }\n  }\n\n  let value;\n  ({\n    value,\n    trigger\n  } = createValue(() => computed || stopped ? proxyValue : run(), setValue && (v => setValue(proxy ? recover(v) : v)), () => {\n    if (stopped) {\n      return;\n    }\n\n    stopped = true;\n\n    if (computed) {\n      return;\n    }\n\n    run();\n  }));\n  return value;\n}\nfunction merge(cb) {\n  let oldValue;\n  let ran = false;\n  return (v, stopped) => {\n    if (stopped) {\n      return cb(v, stopped);\n    }\n\n    const newValue = recover(v());\n\n    if (newValue === oldValue && ran) {\n      return;\n    }\n\n    ran = true;\n    oldValue = newValue;\n    cb(v, stopped);\n  };\n}\nfunction mix(source) {\n  for (const k of Reflect.ownKeys(source)) {\n    const descriptor = Reflect.getOwnPropertyDescriptor(source, k);\n\n    if (!descriptor) {\n      continue;\n    }\n\n    if (!('value' in descriptor) || 'get' in descriptor || 'set' in descriptor) {\n      continue;\n    }\n\n    const value = descriptor.value;\n\n    if (!isValue(value)) {\n      continue;\n    }\n\n    descriptor.get = () => value.value;\n\n    if (descriptor.writable) {\n      descriptor.set = v => value.value = v;\n    }\n\n    delete descriptor.value;\n    delete descriptor.writable;\n    Reflect.defineProperty(source, k, descriptor);\n  }\n\n  return source;\n}\n\nfunction createValue$1(props, key, def = value(undefined), set) {\n  function setValue(value, setted) {\n    if (!set) {\n      return;\n    }\n\n    set(value, setted);\n  }\n\n  return computed(() => {\n    if (!(key in props)) {\n      return def();\n    }\n\n    const p = props[key];\n    return isValue(p) ? p() : p;\n  }, v => {\n    if (!(key in props)) {\n      def(v);\n      setValue(v, false);\n      return;\n    }\n\n    const p = props[key];\n\n    if (isValue(p)) {\n      p(v);\n      setValue(v, true);\n      return;\n    }\n\n    setValue(v, false);\n  });\n}\n\nfunction valueify(props, key, def, set) {\n  if (arguments.length >= 2) {\n    return createValue$1(props, key, def, set);\n  }\n\n  return (k, d, s) => createValue$1(props, k, d, s);\n}\n\nexport { computed, createExecutable, encase, encashable, equal, exec, getIndexes, getMapValue, isValue, markChange, markRead, merge, mix, observe, observeRun, postpone, printError, recover, safeify, setPrintError, value, valueify, watchProp };\n//# sourceMappingURL=monitorable.esm.js.map\n","/*!\n * Neep v0.1.0-alpha.9\n * (c) 2019-2020 Fierflame\n * @license MIT\n */\nimport { markRead, markChange, value, safeify, isValue, computed, encase, recover, valueify, exec as exec$1, createExecutable } from 'monitorable';\nexport { computed, encase, isValue, recover, value, valueify } from 'monitorable';\n\nconst version = 'undefined';\nconst isProduction = process.env.NODE_ENV === 'production';\n\nvar Constant = /*#__PURE__*/Object.freeze({\n\tversion: version,\n\tisProduction: isProduction\n});\n\nconst devtools = {\n  renderHook() {}\n\n};\nfunction installDevtools(tools) {\n  if (!tools) {\n    return;\n  }\n\n  if (typeof tools !== 'object') {\n    return;\n  }\n\n  const {\n    renderHook\n  } = tools;\n\n  if (typeof renderHook === 'function') {\n    devtools.renderHook = renderHook;\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nclass NeepError extends Error {\n  constructor(message, tag = '') {\n    super(tag ? `[${tag}] ${message}` : message);\n\n    _defineProperty(this, \"tag\", void 0);\n\n    this.tag = tag;\n  }\n\n}\nfunction assert(v, message, tag) {\n  if (v) {\n    return;\n  }\n\n  throw new NeepError(message, tag);\n}\n\nlet nextFrameApi;\nfunction nextFrame(fn) {\n  assert(nextFrameApi, 'The basic renderer is not installed', 'install');\n  nextFrameApi(fn);\n}\nconst renders = Object.create(null);\nfunction getRender(type = '') {\n  if (typeof type === 'object') {\n    return type;\n  }\n\n  return renders[type] || renders.default;\n}\nfunction installRender(render) {\n  if (!render) {\n    return;\n  }\n\n  renders[render.type] = render;\n\n  if (nextFrameApi) {\n    return;\n  }\n\n  if (!renders.default) {\n    renders.default = render;\n  }\n\n  if (!nextFrameApi && render.nextFrame) {\n    renders.default = render;\n    nextFrameApi = render.nextFrame;\n  }\n}\n\nfunction installMonitorable(api) {}\n\nfunction install(apis) {\n  installMonitorable(apis.monitorable);\n  installRender(apis.render);\n\n  if (!isProduction) {\n    installDevtools(apis.devtools);\n  }\n}\n\nfunction getEventName(k) {\n  if (k[0] === '@') {\n    return k.substr(1);\n  }\n\n  if (/^on[:-]/.test(k)) {\n    return k.substr(3);\n  }\n\n  if (/^n([:-])on(\\1|:)/.test(k)) {\n    return k.substr(5);\n  }\n\n  return '';\n}\n\nfunction addEventFromCollection(addEvent, events) {\n  if (!events) {\n    return;\n  }\n\n  if (typeof events === 'function') {\n    const {\n      names\n    } = events;\n\n    if (!Array.isArray(names)) {\n      return;\n    }\n\n    for (const n of names) {\n      if (!n) {\n        continue;\n      }\n\n      addEvent(n, (...p) => events(n, ...p));\n    }\n\n    return;\n  }\n\n  if (typeof events !== 'object') {\n    return;\n  }\n\n  for (const k of Object.keys(events)) {\n    const f = events[k];\n\n    if (typeof f !== 'function') {\n      continue;\n    }\n\n    addEvent(k, f);\n  }\n}\n\nclass EventEmitter {\n  static update(emitter, events) {\n    if (!events) {\n      return [];\n    }\n\n    const newHandles = [];\n\n    if (events && typeof events === 'object') {\n      for (const n of Object.keys(events)) {\n        if (!n) {\n          continue;\n        }\n\n        const fn = events[n];\n\n        if (typeof fn !== 'function') {\n          continue;\n        }\n\n        newHandles.push(emitter.on(n, fn));\n      }\n    }\n\n    return newHandles;\n  }\n\n  static updateInProps(emitter, props, custom) {\n    if (!props) {\n      return [];\n    }\n\n    const newHandles = [];\n\n    function addEvent(entName, listener) {\n      newHandles.push(emitter.on(entName, listener));\n    }\n\n    for (const k of Object.keys(props)) {\n      const fn = props[k];\n\n      if (typeof fn !== 'function') {\n        continue;\n      }\n\n      const entName = getEventName(k);\n\n      if (!entName) {\n        continue;\n      }\n\n      addEvent(entName, fn);\n    }\n\n    addEventFromCollection(addEvent, props['@']);\n    addEventFromCollection(addEvent, props['n:on']);\n    addEventFromCollection(addEvent, props['n-on']);\n\n    if (typeof custom === 'function') {\n      custom(addEvent);\n    }\n\n    newHandles.push(...EventEmitter.update(emitter, props['@']));\n    return newHandles;\n  }\n\n  get names() {\n    return [...this._names];\n  }\n\n  constructor() {\n    _defineProperty(this, \"_names\", new Set());\n\n    _defineProperty(this, \"_cancelHandles\", new Set());\n\n    _defineProperty(this, \"emit\", void 0);\n\n    _defineProperty(this, \"on\", void 0);\n\n    const events = Object.create(null);\n    const names = this._names;\n\n    function createEmit(...omitNames) {\n      function emit(name, ...p) {\n        const event = events[name];\n\n        if (!event) {\n          return true;\n        }\n\n        let res = true;\n\n        for (const fn of [...event]) {\n          res = fn(...p) && res;\n        }\n\n        return res;\n      }\n\n      emit.omit = (...names) => createEmit(...omitNames, ...names);\n\n      Reflect.defineProperty(emit, 'names', {\n        get: () => {\n          markRead(createEmit, 'names');\n          return [...names].filter(t => !omitNames.includes(t));\n        },\n        configurable: true\n      });\n      return emit;\n    }\n\n    const on = (name, listener) => {\n      var _event;\n\n      function fn(...p) {\n        try {\n          return listener(...p) !== false;\n        } catch (e) {\n          console.error(e);\n          return false;\n        }\n      }\n\n      let event = events[name];\n\n      if (!((_event = event) === null || _event === void 0 ? void 0 : _event.size)) {\n        event = new Set();\n        events[name] = event;\n        markChange(createEmit, 'names');\n        names.add(name);\n      }\n\n      event.add(fn);\n      let removed = false;\n      return () => {\n        if (removed) {\n          return;\n        }\n\n        removed = true;\n        event.delete(fn);\n\n        if (event.size) {\n          return;\n        }\n\n        markChange(createEmit, 'names');\n        names.delete(name);\n      };\n    };\n\n    this.emit = createEmit();\n    this.on = on;\n  }\n\n  updateHandles(newHandles) {\n    const eventCancelHandles = this._cancelHandles;\n    const oldHandles = [...eventCancelHandles];\n    eventCancelHandles.clear();\n\n    for (const fn of oldHandles) {\n      fn();\n    }\n\n    newHandles.forEach(f => eventCancelHandles.add(f));\n    return newHandles;\n  }\n\n  update(list) {\n    const handles = EventEmitter.update(this, list);\n    return this.updateHandles(handles);\n  }\n\n  updateInProps(list, custom) {\n    const handles = EventEmitter.updateInProps(this, list, custom);\n    return this.updateHandles(handles);\n  }\n\n}\n\nconst components = Object.create(null);\nfunction register(name, component) {\n  components[name] = component;\n}\n\nconst isElementSymbol = Symbol.for('isNeepElement');\nconst typeSymbol = Symbol.for('type');\nconst nameSymbol = Symbol.for('name');\nconst renderSymbol = Symbol.for('render');\nconst componentsSymbol = Symbol.for('components');\nconst configSymbol = Symbol.for('config');\n\nfunction Mark(symbol, value) {\n  return component => {\n    component[symbol] = value;\n    return component;\n  };\n}\n\nfunction MarkValue(symbol, key, value) {\n  return component => {\n    let obj = component[symbol];\n\n    if (!obj) {\n      obj = Object.create(null);\n      component[symbol] = obj;\n    }\n\n    obj[key] = value;\n    return component;\n  };\n}\n\nfunction mName(name, component) {\n  if (!component) {\n    return Mark(nameSymbol, name);\n  }\n\n  component[nameSymbol] = name;\n  return component;\n}\nfunction mType(type, component) {\n  if (!component) {\n    return Mark(typeSymbol, type);\n  }\n\n  component[typeSymbol] = type;\n  return component;\n}\nfunction mSimple(component) {\n  if (!component) {\n    return Mark(typeSymbol, 'simple');\n  }\n\n  component[typeSymbol] = 'simple';\n  return component;\n}\nfunction mNative(component) {\n  if (!component) {\n    return Mark(typeSymbol, 'native');\n  }\n\n  component[typeSymbol] = 'native';\n  return component;\n}\nfunction mRender(fn, component) {\n  if (!component) {\n    return Mark(renderSymbol, fn);\n  }\n\n  component[renderSymbol] = fn;\n  return component;\n}\nfunction mConfig(name, config, component) {\n  const mark = MarkValue(configSymbol, name, config);\n\n  if (!component) {\n    return mark;\n  }\n\n  return mark(component);\n}\nfunction mComponent(name, item, component) {\n  const mark = MarkValue(componentsSymbol, name, item);\n\n  if (!component) {\n    return mark;\n  }\n\n  return mark(component);\n}\nfunction create(c, r) {\n  if (typeof r === 'function') {\n    c[renderSymbol] = r;\n  }\n\n  return c;\n}\nfunction mark(component, ...marks) {\n  for (const m of marks) {\n    m(component);\n  }\n\n  return component;\n}\n\nfunction lazy(component, Placeholder) {\n  const reslut = value(0);\n  const Component = value(undefined);\n\n  async function load() {\n    if (reslut()) {\n      return;\n    }\n\n    reslut(1);\n\n    try {\n      const c = await component();\n\n      if (typeof c === 'function') {\n        Component(c);\n        return;\n      }\n\n      if (!c) {\n        reslut(-1);\n        return;\n      }\n\n      if (typeof c.default === 'function') {\n        Component(c.default);\n        return;\n      }\n\n      reslut(-1);\n    } catch (_unused) {\n      reslut(-1);\n    }\n  }\n\n  function Lazy(props, {\n    childNodes\n  }, {\n    createElement\n  }) {\n    const com = Component();\n\n    if (com) {\n      return createElement(com, props, ...childNodes);\n    }\n\n    load();\n\n    if (!Placeholder) {\n      return null;\n    }\n\n    return createElement(Placeholder, {\n      loading: reslut() > 0\n    });\n  }\n\n  return mark(Lazy, mSimple, mName('Lazy'));\n}\n\nconst ScopeSlot = 'Neep:ScopeSlot';\nconst SlotRender = 'Neep:SlotRender';\nconst Slot = 'Neep:Slot';\nconst Value = 'Neep:Value';\nconst Container = 'Neep:Container';\nconst Deliver = 'Neep:Deliver';\nconst Template = 'template';\nconst Fragment = Template;\n\nvar Tags = /*#__PURE__*/Object.freeze({\n\tScopeSlot: ScopeSlot,\n\tSlotRender: SlotRender,\n\tSlot: Slot,\n\tValue: Value,\n\tContainer: Container,\n\tDeliver: Deliver,\n\tTemplate: Template,\n\tFragment: Fragment\n});\n\nlet current;\nfunction setCurrent(fn, entity) {\n  const oldEntity = current;\n  current = entity;\n\n  try {\n    current.$_valueIndex = 0;\n    const ret = fn();\n\n    if (current.$_valueIndex !== current.$_values.length) {\n      throw new NeepError('Inconsistent number of useValue executions', 'life');\n    }\n\n    return ret;\n  } finally {\n    current = oldEntity;\n  }\n}\nfunction checkCurrent(name, initOnly = false) {\n  if (!current) {\n    throw new NeepError(`Function \\`${name}\\` can only be called within a cycle.`, 'life');\n  }\n\n  if (!initOnly) {\n    return current;\n  }\n\n  if (!current.created) {\n    return current;\n  }\n\n  throw new NeepError(`Function \\`${name}\\` can only be called at initialization time.`, 'life');\n}\n\nconst constructors = [];\nfunction initContext(context, exposed) {\n  for (const constructor of constructors) {\n    constructor(context, exposed);\n  }\n\n  return context;\n}\nfunction addContextConstructor(constructor) {\n  constructors.push(safeify(constructor));\n}\n\nconst hooks = Object.create(null);\nfunction setHook(id, hook, entity) {\n  let list = (entity === null || entity === void 0 ? void 0 : entity.$_hooks) || hooks;\n\n  if (!list) {\n    return () => {};\n  }\n\n  hook = safeify(hook);\n  let set = list[id];\n\n  if (!set) {\n    set = new Set();\n    list[id] = set;\n  }\n\n  set.add(hook);\n  return () => set.delete(hook);\n}\nfunction callHook(id, exposed) {\n  if (!exposed) {\n    return;\n  }\n\n  for (const hook of exposed.$_hooks[id] || []) {\n    hook(exposed);\n  }\n\n  for (const hook of hooks[id] || []) {\n    hook(exposed);\n  }\n}\n\nfunction watch(value, cb) {\n  const entity = checkCurrent('watch');\n\n  if (typeof value !== 'function') {\n    return () => {};\n  }\n\n  const stop = isValue(value) ? value.watch(cb) : computed(value).watch((v, s) => cb(v(), s));\n  setHook('beforeDestroy', () => stop(), entity);\n  return stop;\n}\nfunction useValue(fn, name = 'useValue') {\n  const entity = checkCurrent(name);\n  const index = entity.$_valueIndex++;\n  const values = entity.$_values;\n\n  if (!entity.created) {\n    values[index] = undefined;\n    const v = typeof fn === 'function' ? fn() : value(undefined);\n    return values[index] = v;\n  }\n\n  if (index >= values.length) {\n    throw new NeepError('Inconsistent number of useValue executions', 'life');\n  }\n\n  return values[index];\n}\nfunction hook(name, hook, initOnly) {\n  const entity = checkCurrent('setHook');\n\n  if (initOnly && entity.created) {\n    return undefined;\n  }\n\n  return setHook(name, () => hook(), entity);\n}\n\nfunction setValue(obj, name, value, opt) {\n  if (typeof name === 'string' && ['$', '_'].includes(name[0])) {\n    return;\n  }\n\n  if (isValue(value) && opt) {\n    Reflect.defineProperty(obj, name, {\n      get() {\n        return value();\n      },\n\n      set(v) {\n        value(v);\n      },\n\n      configurable: true,\n      enumerable: true\n    });\n    return;\n  }\n\n  if (typeof value === 'function' && opt) {\n    Reflect.defineProperty(obj, name, {\n      get: value,\n      set: typeof opt === 'function' ? opt : undefined,\n      configurable: true,\n      enumerable: true\n    });\n    return;\n  }\n\n  Reflect.defineProperty(obj, name, {\n    get() {\n      return value;\n    },\n\n    configurable: true,\n    enumerable: true\n  });\n}\n\nfunction expose(name, value, opt) {\n  setValue(checkCurrent('expose', true).exposed, name, value, opt);\n}\nfunction deliver(name, value, opt) {\n  setValue(checkCurrent('deliver', true).delivered, name, value, opt);\n}\n\nvar Life = /*#__PURE__*/Object.freeze({\n\twatch: watch,\n\tuseValue: useValue,\n\thook: hook,\n\texpose: expose,\n\tdeliver: deliver\n});\n\nfunction isElement(v) {\n  if (!v) {\n    return false;\n  }\n\n  if (typeof v !== 'object') {\n    return false;\n  }\n\n  return v[isElementSymbol] === true;\n}\nfunction createElement(tag, attrs, ...children) {\n  attrs = attrs ? { ...attrs\n  } : {};\n  const node = {\n    [isElementSymbol]: true,\n    tag,\n    children: []\n  };\n\n  if ('key' in attrs) {\n    node.key = attrs.key;\n  }\n\n  if ('slot' in attrs) {\n    node.slot = attrs.slot;\n  }\n\n  if (typeof attrs.ref === 'function') {\n    node.ref = attrs.ref;\n  }\n\n  if (tag === Value) {\n    node.value = attrs.value;\n    return node;\n  }\n\n  node.children = children;\n\n  if (tag === Template) {\n    return node;\n  }\n\n  if (tag === SlotRender) {\n    node.render = attrs.render;\n    return node;\n  }\n\n  if (tag === ScopeSlot || tag === Slot) {\n    const {\n      render,\n      argv,\n      args,\n      name\n    } = attrs;\n    node.render = render;\n    node.args = argv && [argv] || Array.isArray(args) && args.length && args || [{}];\n\n    if (tag === ScopeSlot) {\n      node.props = {\n        name\n      };\n      return node;\n    }\n  }\n\n  node.props = {};\n\n  for (let k in attrs) {\n    node.props[k] = attrs[k];\n  }\n\n  return node;\n}\nfunction elements(node, opt = {}) {\n  if (Array.isArray(node)) {\n    const list = [];\n\n    for (let n of node) {\n      list.push(elements(n, opt));\n    }\n\n    return [].concat(...list);\n  }\n\n  if (!isElement(node)) {\n    return [node];\n  }\n\n  let {\n    tag\n  } = node;\n\n  if (!tag) {\n    return [node];\n  }\n\n  if ([Template, ScopeSlot].includes(tag)) {\n    return elements(node.children, opt);\n  }\n\n  if (typeof tag !== 'function') {\n    return [node];\n  }\n\n  if (tag[typeSymbol] !== 'simple') {\n    return [node];\n  }\n\n  const {\n    simple\n  } = opt;\n\n  if (!simple) {\n    return [node];\n  }\n\n  if (Array.isArray(simple)) {\n    if (simple.includes(tag)) {\n      return [node];\n    }\n  } else if (typeof simple === 'function') {\n    if (!simple(tag)) {\n      return [node];\n    }\n  }\n\n  return elements(node.children, opt);\n}\n\nvar Element = /*#__PURE__*/Object.freeze({\n\tisElement: isElement,\n\tcreateElement: createElement,\n\telements: elements\n});\n\nlet label;\nfunction setLabel(l) {\n  label = l;\n}\nfunction getLabel() {\n  const l = label;\n  label = undefined;\n  return l;\n}\n\nfunction label$1(text, color = '') {\n  if (!isProduction) {\n    if (!current) {\n      setLabel([text, color]);\n      return;\n    }\n\n    Reflect.defineProperty(current.exposed, '$label', {\n      value: [text, color],\n      configurable: true\n    });\n  }\n}\n\nvar Dev = /*#__PURE__*/Object.freeze({\n\tlabel: label$1\n});\n\nconst auxiliary = { ...Tags,\n  ...Life,\n  ...Element,\n  ...Dev,\n  ...Constant,\n\n  get value() {\n    return value;\n  },\n\n  get computed() {\n    return computed;\n  },\n\n  get isValue() {\n    return isValue;\n  },\n\n  get encase() {\n    return encase;\n  },\n\n  get recover() {\n    return recover;\n  }\n\n};\nfunction setAuxiliary(name, value) {\n  Reflect.defineProperty(auxiliary, name, {\n    value,\n    enumerable: true,\n    configurable: true\n  });\n}\nfunction defineAuxiliary(name, get) {\n  Reflect.defineProperty(auxiliary, name, {\n    get,\n    enumerable: true,\n    configurable: true\n  });\n}\n\nlet ids = 0;\nconst Nodes = {};\nlet IdMap;\n\nif (!isProduction) {\n  IdMap = new Map();\n}\n\nfunction createMountedNode(n, id) {\n  if (!isProduction) {\n    id = id || ++ids;\n    const {\n      node\n    } = n;\n\n    if (node && IdMap) {\n      IdMap.set(node, id);\n    }\n\n    return Nodes[id] = { ...n,\n      id\n    };\n  }\n\n  return { ...n,\n    id: 0\n  };\n}\nfunction recoveryMountedNode(node) {\n  if (!isProduction) {\n    delete Nodes[node.id];\n  }\n}\n\nfunction* recursive2iterable(list) {\n  if (!Array.isArray(list)) {\n    yield list;\n    return;\n  }\n\n  for (const it of list) {\n    yield* recursive2iterable(it);\n  }\n}\n\nlet refList;\nfunction setRefList(list) {\n  refList = list;\n}\n\nfunction setRef(ref, node, isRemove) {\n  if (typeof ref !== 'function') {\n    return;\n  }\n\n  if (!node) {\n    return;\n  }\n\n  if (!refList) {\n    ref(node, isRemove);\n  } else {\n    refList.push(() => ref(node, isRemove));\n  }\n}\n\nfunction getLastNode(tree) {\n  if (Array.isArray(tree)) {\n    return getLastNode(tree[tree.length - 1]);\n  }\n\n  const {\n    component,\n    children,\n    node\n  } = tree;\n\n  if (node) {\n    return node;\n  }\n\n  if (component) {\n    return getLastNode(component.tree);\n  }\n\n  return getLastNode(children);\n}\n\nfunction getFirstNode(tree) {\n  if (Array.isArray(tree)) {\n    return getFirstNode(tree[0]);\n  }\n\n  const {\n    component,\n    children,\n    node\n  } = tree;\n\n  if (node) {\n    return node;\n  }\n\n  if (component) {\n    return getFirstNode(component.tree);\n  }\n\n  return getFirstNode(children[0]);\n}\n\nfunction* getNodes(tree) {\n  if (Array.isArray(tree)) {\n    for (const it of tree) {\n      yield* getNodes(it);\n    }\n\n    return;\n  }\n\n  const {\n    children,\n    node,\n    component\n  } = tree;\n\n  if (node) {\n    yield node;\n    return;\n  }\n\n  if (component) {\n    yield* getNodes(component.tree);\n    return;\n  }\n\n  yield* getNodes(children);\n}\nfunction unmount(iRender, tree) {\n  if (Array.isArray(tree)) {\n    tree.forEach(e => unmount(iRender, e));\n    return;\n  }\n\n  const {\n    component,\n    children,\n    node,\n    ref\n  } = tree;\n  recoveryMountedNode(tree);\n\n  if (node) {\n    setRef(ref, node, true);\n    iRender.remove(node);\n    return;\n  }\n\n  if (component) {\n    setRef(ref, component.exposed, true);\n    component.unmount();\n    return;\n  }\n\n  unmount(iRender, children);\n}\n\nfunction replace(iRender, newTree, oldTree) {\n  const next = getFirstNode(oldTree);\n\n  if (!next) {\n    return newTree;\n  }\n\n  const parent = iRender.parent(next);\n\n  if (!parent) {\n    return newTree;\n  }\n\n  for (const it of getNodes(newTree)) {\n    iRender.insert(parent, it, next);\n  }\n\n  unmount(iRender, oldTree);\n  return newTree;\n}\n\nfunction updateList(iRender, source, tree) {\n  if (!source.length) {\n    const node = createItem(iRender, {\n      tag: null,\n      children: []\n    });\n    return [replace(iRender, node, tree)];\n  }\n\n  if (!Array.isArray(tree)) {\n    tree = [tree];\n  }\n\n  const newList = [];\n  const list = [...tree];\n  const mountedMap = new Map();\n\n  for (const src of source) {\n    const index = list.findIndex(it => it.tag === src.tag && it.key === src.key);\n\n    if (index >= 0) {\n      const old = list[index];\n      const item = updateItem(iRender, src, old);\n      mountedMap.set(old, item);\n      newList.push(item);\n      list.splice(index, 1);\n    } else {\n      const item = createItem(iRender, src);\n      newList.push(item);\n    }\n  }\n\n  if (!mountedMap.size) {\n    return replace(iRender, newList, list);\n  }\n\n  unmount(iRender, list);\n  tree = tree.filter(t => mountedMap.has(t));\n  const last = getLastNode(tree[tree.length - 1]);\n  const parent = iRender.parent(last);\n\n  if (!parent) {\n    return newList;\n  }\n\n  let next = iRender.next(last);\n\n  for (let i = newList.length - 1; i >= 0; i--) {\n    const item = newList[i];\n    const index = tree.findIndex(o => mountedMap.get(o) === item);\n\n    if (index >= 0) {\n      for (const it of tree.splice(index)) {\n        mountedMap.delete(it);\n      }\n    } else {\n      for (const it of getNodes(item)) {\n        iRender.insert(parent, it, next);\n      }\n    }\n\n    next = getFirstNode(item) || next;\n  }\n\n  return newList;\n}\n\nfunction updateAll(iRender, source, tree) {\n  let index = 0;\n  let length = Math.min(source.length, source.length || 1);\n  const list = [];\n\n  for (; index < length; index++) {\n    const src = source[index];\n\n    if (Array.isArray(src)) {\n      list.push(updateList(iRender, src, tree[index]));\n    } else {\n      list.push(updateItem(iRender, src, tree[index]));\n    }\n  }\n\n  length = Math.max(source.length, tree.length);\n\n  if (tree.length > length) {\n    for (; index < length; index++) {\n      unmount(iRender, tree[index]);\n    }\n  }\n\n  if (source.length > length) {\n    const last = getLastNode(list[list.length - 1]);\n    const parent = iRender.parent(last);\n    const next = iRender.next(last);\n\n    for (; index < length; index++) {\n      const src = source[index];\n      const item = Array.isArray(src) ? createList(iRender, src) : createItem(iRender, src);\n      list.push(item);\n\n      if (!parent) {\n        continue;\n      }\n\n      for (const it of getNodes(item)) {\n        iRender.insert(parent, it, next);\n      }\n    }\n  }\n\n  return list;\n}\n\nfunction updateItem(iRender, source, tree) {\n  if (Array.isArray(tree)) {\n    const index = tree.findIndex(it => it.tag === source.tag && it.component === source.component);\n\n    if (index < 0) {\n      return replace(iRender, createItem(iRender, source), tree);\n    }\n\n    const all = tree;\n    [tree] = tree.splice(index, 1);\n    unmount(iRender, all);\n  }\n\n  const {\n    tag,\n    component\n  } = source;\n  const ref = source.ref !== tree.ref && source.ref || undefined;\n\n  if (tag !== tree.tag || component !== tree.component) {\n    return replace(iRender, createItem(iRender, source), tree);\n  }\n\n  if (!tag) {\n    return tree;\n  }\n\n  const ltag = typeof tag !== 'string' ? '' : tag.toLowerCase();\n\n  if (typeof tag !== 'string' || ltag === 'neep:container') {\n    if (!component) {\n      return createMountedNode({ ...source,\n        node: undefined,\n        component: undefined,\n        children: draw(iRender, source.children, tree.children)\n      }, tree.id);\n    }\n\n    setRef(ref, component.exposed);\n    return createMountedNode({ ...source,\n      node: undefined,\n      component,\n      children: []\n    }, tree.id);\n  }\n\n  if (ltag === 'neep:value') {\n    let value = source.value;\n\n    if (isValue(value)) {\n      value = value();\n    }\n\n    if (tree.value === value) {\n      setRef(ref, tree.node);\n      return createMountedNode({ ...tree,\n        ...source,\n        value,\n        children: []\n      }, tree.id);\n    }\n\n    return replace(iRender, createValue(iRender, source, value), tree);\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return createMountedNode({ ...source,\n      node: undefined,\n      component: undefined,\n      children: updateAll(iRender, source.children, tree.children)\n    }, tree.id);\n  }\n\n  const {\n    node\n  } = tree;\n  iRender.update(node, source.props || {});\n  setRef(ref, node);\n\n  if (!source.children.length && !tree.children.length) {\n    return createMountedNode({ ...tree,\n      ...source,\n      children: []\n    }, tree.id);\n  }\n\n  if (!source.children.length && tree.children.length) {\n    unmount(iRender, tree.children);\n  }\n\n  if (source.children.length && !tree.children.length) {\n    const children = createAll(iRender, source.children);\n\n    for (const it of getNodes(children)) {\n      iRender.insert(node, it);\n    }\n\n    return createMountedNode({ ...tree,\n      ...source,\n      children\n    }, tree.id);\n  }\n\n  return createMountedNode({ ...tree,\n    ...source,\n    children: updateAll(iRender, source.children, tree.children)\n  }, tree.id);\n}\n\nfunction createValue(iRender, source, value) {\n  let {\n    ref\n  } = source;\n\n  if (iRender.isNode(value)) {\n    setRef(ref, value);\n    return createMountedNode({ ...source,\n      value,\n      node: value,\n      children: [],\n      component: undefined\n    });\n  }\n\n  const type = typeof value;\n  let node;\n\n  if (type === 'bigint' || type === 'boolean' || type === 'number' || type === 'string' || type === 'symbol' || value instanceof RegExp) {\n    node = iRender.text(String(value));\n  } else if (value instanceof Date) {\n    node = iRender.text(value.toISOString());\n  } else if (type === 'object' && value) {\n    node = iRender.text(String(value));\n  }\n\n  if (!node) {\n    node = iRender.placeholder();\n  }\n\n  setRef(ref, node);\n  return createMountedNode({ ...source,\n    value,\n    node,\n    component: undefined,\n    children: []\n  });\n}\n\nfunction createAll(iRender, source) {\n  if (!source.length) {\n    return [createMountedNode({\n      tag: null,\n      node: iRender.placeholder(),\n      component: undefined,\n      children: []\n    })];\n  }\n\n  return source.map(item => Array.isArray(item) ? createList(iRender, item) : createItem(iRender, item));\n}\n\nfunction createList(iRender, source) {\n  if (source.length) {\n    return source.map(it => createItem(iRender, it));\n  }\n\n  return [createMountedNode({\n    tag: null,\n    node: iRender.placeholder(),\n    component: undefined,\n    children: []\n  })];\n}\n\nfunction createItem(iRender, source) {\n  var _source$children;\n\n  const {\n    tag,\n    ref,\n    component\n  } = source;\n\n  if (!tag) {\n    const node = iRender.placeholder();\n    setRef(ref, node);\n    return createMountedNode({\n      tag: null,\n      node,\n      component: undefined,\n      children: []\n    });\n  }\n\n  const ltag = typeof tag !== 'string' ? '' : tag.toLowerCase();\n\n  if (typeof tag !== 'string' || ltag === 'neep:container') {\n    if (!component) {\n      return createMountedNode({ ...source,\n        node: undefined,\n        component: undefined,\n        children: draw(iRender, source.children)\n      });\n    }\n\n    component.mount();\n    setRef(ref, component.exposed);\n    return createMountedNode({ ...source,\n      node: undefined,\n      component,\n      children: []\n    });\n  }\n\n  if (ltag === 'neep:value') {\n    let value = source.value;\n\n    if (isValue(value)) {\n      value = value();\n    }\n\n    return createValue(iRender, source, value);\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return createMountedNode({ ...source,\n      node: undefined,\n      component: undefined,\n      children: createAll(iRender, source.children)\n    });\n  }\n\n  const node = iRender.create(tag, source.props || {});\n  setRef(ref, node);\n  let children = [];\n\n  if ((_source$children = source.children) === null || _source$children === void 0 ? void 0 : _source$children.length) {\n    children = createAll(iRender, source.children);\n\n    for (const it of getNodes(children)) {\n      iRender.insert(node, it);\n    }\n  }\n\n  return createMountedNode({ ...source,\n    node,\n    component: undefined,\n    children\n  });\n}\n\nfunction draw(iRender, source, tree) {\n  if (tree) {\n    return updateAll(iRender, source, tree);\n  }\n\n  return createAll(iRender, source);\n}\n\nfunction getSlots(iRender, children, slots, native = false) {\n  const nativeList = [];\n\n  for (const it of children) {\n    if (Array.isArray(it)) {\n      const list = Object.create(null);\n      nativeList.push(getSlots(iRender, it, list, native));\n\n      for (const k of Reflect.ownKeys(list)) {\n        if (k in slots) {\n          slots[k].push(list[k]);\n        } else {\n          slots[k] = [list[k]];\n        }\n      }\n\n      continue;\n    }\n\n    if (native) {\n      if (iRender.isNode(it)) {\n        nativeList.push(it);\n        continue;\n      }\n\n      if (!isElement(it)) {\n        nativeList.push(it);\n        continue;\n      }\n\n      if (it.tag !== SlotRender) {\n        nativeList.push(it);\n        continue;\n      }\n    }\n\n    const slot = isElement(it) && it.slot || 'default';\n    const el = isElement(it) ? { ...it,\n      slot: undefined,\n      props: { ...it.props,\n        slot: undefined\n      }\n    } : it;\n\n    if (slot in slots) {\n      slots[slot].push(el);\n    } else {\n      slots[slot] = [el];\n    }\n  }\n\n  return nativeList;\n}\n\nfunction renderSlots(list, ...props) {\n  return list.map(it => {\n    if (Array.isArray(it)) {\n      return renderSlots(it, ...props);\n    }\n\n    if (!isElement(it)) {\n      return it;\n    }\n\n    if (it.tag !== SlotRender) {\n      return { ...it,\n        slot: undefined\n      };\n    }\n\n    if (typeof it.render === 'function') {\n      return it.render(...props);\n    }\n\n    return it.children;\n  });\n}\n\nfunction createSlots(name, list) {\n  const slot = (...props) => ({\n    [isElementSymbol]: true,\n    tag: ScopeSlot,\n    children: renderSlots(list, ...props),\n    inserted: true,\n    label: isProduction ? undefined : [`[${name}]`, '#00F']\n  });\n\n  slot.children = list;\n  return slot;\n}\n\nfunction setSlots(children, slots = Object.create(null)) {\n  for (const k of Reflect.ownKeys(slots)) {\n    if (!(k in children)) {\n      delete slots[k];\n    }\n  }\n\n  for (const k of Reflect.ownKeys(children)) {\n    slots[k] = createSlots(k, children[k]);\n  }\n\n  return slots;\n}\n\nconst disabledKey = new Set([':', '@', '#', '*', '!', '%', '^', '~', '&', '=', '+', '.', '(', ')', '[', ']', '{', '}', '<', '>']);\n\nfunction filter(k) {\n  if (typeof k !== 'string') {\n    return true;\n  }\n\n  if (disabledKey.has(k[0])) {\n    return false;\n  }\n\n  if (/^n[:-]/.test(k)) {\n    return false;\n  }\n\n  if (/^on[:-]/.test(k)) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction updateProps(obj, props, oldProps = {}, define = false, isProps = false) {\n  const keys = Reflect.ownKeys(props);\n  const newKeys = new Set(isProps ? keys.filter(filter) : keys);\n\n  for (const k of Reflect.ownKeys(obj)) {\n    if (!newKeys.has(k)) {\n      delete obj[k];\n    }\n  }\n\n  if (!define) {\n    for (const k of newKeys) {\n      obj[k] = props[k];\n    }\n\n    return obj;\n  }\n\n  for (const k of newKeys) {\n    const value = props[k];\n\n    if (k in oldProps && oldProps[k] === value) {\n      continue;\n    }\n\n    if (isValue(value)) {\n      Reflect.defineProperty(obj, k, {\n        configurable: true,\n        enumerable: true,\n\n        get() {\n          return value();\n        },\n\n        set(v) {\n          value(v);\n        }\n\n      });\n      continue;\n    }\n\n    Reflect.defineProperty(obj, k, {\n      configurable: true,\n      enumerable: true,\n      value\n    });\n  }\n\n  return obj;\n}\n\nfunction getComponents(...components) {\n  return components.filter(Boolean);\n}\n\nfunction execSimple(nObject, delivered, node, tag, components, children) {\n  const {\n    iRender\n  } = nObject;\n  const slotMap = Object.create(null);\n  getSlots(iRender, children, slotMap);\n  const slots = setSlots(slotMap);\n  const event = new EventEmitter();\n  event.updateInProps(node.props);\n  const props = { ...node.props\n  };\n  const context = initContext({\n    slots,\n    created: false,\n    parent: nObject.exposed,\n    delivered,\n    children: new Set(),\n    childNodes: children,\n\n    refresh(f) {\n      nObject.refresh(f);\n    },\n\n    emit: event.emit,\n    valueifyProp: valueify(props)\n  });\n\n  if (!isProduction) {\n    getLabel();\n  }\n\n  const result = tag(props, context, auxiliary);\n  let label;\n\n  if (!isProduction) {\n    label = getLabel();\n  }\n\n  const nodes = exec(nObject, delivered, renderNode(iRender, result, context, tag[renderSymbol]), slots, getComponents(...components, tag[componentsSymbol]));\n  return { ...node,\n    tag,\n    children: Array.isArray(nodes) ? nodes : [nodes],\n    label\n  };\n}\n\nfunction execSlot(nObject, delivered, node, slots, components, children, args = [{}], native) {\n  var _node$props;\n\n  const slotName = ((_node$props = node.props) === null || _node$props === void 0 ? void 0 : _node$props.name) || 'default';\n  const slot = slots[slotName];\n\n  if (typeof slot === 'function') {\n    return { ...node,\n      ...slot(...args)\n    };\n  }\n\n  const {\n    render\n  } = node;\n  const label = isProduction ? undefined : [`[${slotName}]`, '#00F'];\n  return { ...node,\n    tag: ScopeSlot,\n    label,\n    children: exec(nObject, delivered, typeof render !== 'function' ? children : render(...args), slots, components, native)\n  };\n}\n\nfunction findComponent(tag, components$1) {\n  if (!tag) {\n    return null;\n  }\n\n  if (typeof tag !== 'string') {\n    return tag;\n  }\n\n  if (tag === 'template') {\n    return tag;\n  }\n\n  if (/^neep:.+/i.test(tag)) {\n    return tag;\n  }\n\n  for (const list of components$1) {\n    const component = list[tag];\n\n    if (component) {\n      return component;\n    }\n  }\n\n  return components[tag] || tag;\n}\n\nfunction exec(nObject, delivered, node, slots, components, native = false) {\n  if (Array.isArray(node)) {\n    return node.map(n => exec(nObject, delivered, n, slots, components, native));\n  }\n\n  if (!isElement(node)) {\n    return node;\n  }\n\n  const {\n    inserted,\n    args = [{}]\n  } = node;\n  let tag = findComponent(node.tag, components);\n\n  if (tag === Deliver) {\n    const props = { ...node.props\n    };\n    delete props.ref;\n    delete props.slot;\n    delete props.key;\n    const newDelivered = Object.create(delivered);\n    updateProps(newDelivered, props || {}, {}, true);\n    return { ...node,\n      tag,\n      $__neep__delivered: newDelivered,\n      children: node.children.map(n => exec(nObject, newDelivered, n, slots, components, native))\n    };\n  }\n\n  const children = node.children.map(n => exec(nObject, delivered, n, slots, components, native));\n\n  if (typeof tag === 'function') {\n    if (tag[typeSymbol] === 'simple') {\n      return execSimple(nObject, delivered, node, tag, components, exec(nObject, delivered, children, slots, components, native));\n    }\n\n    return { ...node,\n      $__neep__delivered: delivered,\n      children,\n      tag\n    };\n  }\n\n  if (tag === Slot) {\n    tag = native ? 'slot' : ScopeSlot;\n  }\n\n  if (tag !== ScopeSlot || inserted) {\n    return { ...node,\n      children,\n      tag\n    };\n  }\n\n  return execSlot(nObject, delivered, { ...node,\n    tag\n  }, slots, components, children, args, native);\n}\n\nfunction renderNode(iRender, node, context, render) {\n  if (Array.isArray(node)) {\n    return node;\n  }\n\n  if (isElement(node)) {\n    return [node];\n  }\n\n  if (node === undefined || node === null) {\n    return [{\n      [isElementSymbol]: true,\n      tag: null,\n      children: []\n    }];\n  }\n\n  if (!iRender.isNode(node) && node && typeof node === 'object' && render) {\n    node = render(node, context, auxiliary);\n  }\n\n  if (isElement(node)) {\n    return [node];\n  }\n\n  if (node === undefined || node === null) {\n    return [{\n      [isElementSymbol]: true,\n      tag: null,\n      children: []\n    }];\n  }\n\n  return [{\n    [isElementSymbol]: true,\n    tag: Value,\n    value: node,\n    children: []\n  }];\n}\n\nfunction normalize(nObject, result) {\n  const {\n    component\n  } = nObject;\n  return exec(nObject, nObject.delivered, renderNode(nObject.iRender, result, nObject.context, component[renderSymbol]), nObject.context.slots, getComponents(component[componentsSymbol]), Boolean(nObject.native));\n}\n\nlet delayedRefresh = 0;\nconst objectSet = new Set();\nfunction wait(obj) {\n  if (delayedRefresh <= 0) {\n    return false;\n  }\n\n  objectSet.add(obj);\n  return true;\n}\n\nfunction run() {\n  if (delayedRefresh > 0) {\n    return;\n  }\n\n  const list = [...objectSet];\n  objectSet.clear();\n  list.forEach(o => o.refresh());\n}\n\nasync function asyncRefresh(f) {\n  try {\n    delayedRefresh++;\n    return await f();\n  } finally {\n    delayedRefresh--;\n    run();\n  }\n}\n\nfunction refresh(f, async) {\n  if (async) {\n    return asyncRefresh(f);\n  }\n\n  try {\n    delayedRefresh++;\n    return f();\n  } finally {\n    delayedRefresh--;\n    run();\n  }\n}\n\nfunction createExposed(obj) {\n  const cfg = {\n    $parent: {\n      configurable: true,\n      get: () => {\n        var _obj$parent;\n\n        return (_obj$parent = obj.parent) === null || _obj$parent === void 0 ? void 0 : _obj$parent.exposed;\n      }\n    },\n    $component: {\n      configurable: true,\n      value: null\n    },\n    $isContainer: {\n      configurable: true,\n      value: false\n    },\n    $created: {\n      configurable: true,\n      get: () => obj.created\n    },\n    $destroyed: {\n      configurable: true,\n      get: () => obj.destroyed\n    },\n    $mounted: {\n      configurable: true,\n      get: () => obj.mounted\n    },\n    $unmounted: {\n      configurable: true,\n      get: () => obj.unmounted\n    }\n  };\n  const exposed = Object.create(null, cfg);\n  return exposed;\n}\n\nlet completeList;\nfunction setCompleteList(list) {\n  completeList = list;\n}\nfunction complete(it) {\n  if (!completeList) {\n    it();\n  } else {\n    completeList.push(it);\n  }\n}\n\nfunction createEntity(obj) {\n  const cfg = {\n    exposed: {\n      configurable: true,\n      get: () => obj.exposed\n    },\n    delivered: {\n      configurable: true,\n      get: () => obj.delivered\n    },\n    parent: {\n      configurable: true,\n      get: () => {\n        var _obj$parent2;\n\n        return (_obj$parent2 = obj.parent) === null || _obj$parent2 === void 0 ? void 0 : _obj$parent2.entity;\n      }\n    },\n    component: {\n      configurable: true,\n      value: null\n    },\n    isContainer: {\n      configurable: true,\n      value: false\n    },\n    created: {\n      configurable: true,\n      get: () => obj.created\n    },\n    destroyed: {\n      configurable: true,\n      get: () => obj.destroyed\n    },\n    mounted: {\n      configurable: true,\n      get: () => obj.mounted\n    },\n    unmounted: {\n      configurable: true,\n      get: () => obj.unmounted\n    },\n    $_hooks: {\n      configurable: true,\n      value: Object.create(null)\n    },\n    $_valueIndex: {\n      configurable: true,\n      value: 0,\n      writable: true\n    },\n    $_values: {\n      configurable: true,\n      value: []\n    },\n    callHook: {\n      configurable: true,\n\n      value(h) {\n        callHook(h, entity);\n      }\n\n    },\n    setHook: {\n      configurable: true,\n\n      value(id, hook) {\n        return setHook(id, hook, entity);\n      }\n\n    },\n    refresh: {\n      configurable: true,\n      value: obj.refresh.bind(obj)\n    },\n    on: {\n      configurable: true,\n      value: obj.on\n    },\n    emit: {\n      configurable: true,\n      value: obj.emit\n    },\n    config: {\n      configurable: true,\n      value: obj.config\n    }\n  };\n  const entity = Object.create(null, cfg);\n  return entity;\n}\n\nclass NeepObject {\n  constructor(iRender, parent, delivered = (parent === null || parent === void 0 ? void 0 : parent.delivered) || Object.create(null), container) {\n    _defineProperty(this, \"events\", new EventEmitter());\n\n    _defineProperty(this, \"emit\", this.events.emit);\n\n    _defineProperty(this, \"on\", this.events.on);\n\n    _defineProperty(this, \"eventCancelHandles\", new Set());\n\n    _defineProperty(this, \"iRender\", void 0);\n\n    _defineProperty(this, \"components\", Object.create(null));\n\n    _defineProperty(this, \"config\", Object.create(null));\n\n    _defineProperty(this, \"parentDelivered\", void 0);\n\n    _defineProperty(this, \"delivered\", void 0);\n\n    _defineProperty(this, \"exposed\", createExposed(this));\n\n    _defineProperty(this, \"entity\", createEntity(this));\n\n    _defineProperty(this, \"parent\", void 0);\n\n    _defineProperty(this, \"native\", void 0);\n\n    _defineProperty(this, \"created\", false);\n\n    _defineProperty(this, \"destroyed\", false);\n\n    _defineProperty(this, \"mounted\", false);\n\n    _defineProperty(this, \"unmounted\", false);\n\n    _defineProperty(this, \"children\", new Set());\n\n    _defineProperty(this, \"tree\", []);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"_render\", () => []);\n\n    _defineProperty(this, \"_needRefresh\", false);\n\n    _defineProperty(this, \"_delayedRefresh\", 0);\n\n    _defineProperty(this, \"_refreshing\", false);\n\n    _defineProperty(this, \"_nodes\", []);\n\n    _defineProperty(this, \"childNodes\", []);\n\n    _defineProperty(this, \"__executed_destroy\", false);\n\n    _defineProperty(this, \"__executed_mount\", false);\n\n    _defineProperty(this, \"__executed_mounted\", false);\n\n    _defineProperty(this, \"_cancelDrawMonitor\", void 0);\n\n    this.iRender = iRender;\n    this.parentDelivered = delivered;\n    this.delivered = Object.create(delivered);\n\n    if (parent) {\n      this.parent = parent;\n    }\n\n    this.container = container || this;\n  }\n\n  get canRefresh() {\n    if (wait(this)) {\n      return false;\n    }\n\n    return !this._delayedRefresh;\n  }\n\n  get needRefresh() {\n    if (wait(this)) {\n      return false;\n    }\n\n    if (this._delayedRefresh) {\n      return false;\n    }\n\n    const needRefresh = this._needRefresh;\n    this._needRefresh = false;\n    return needRefresh;\n  }\n\n  requestDraw() {}\n\n  async asyncRefresh(f) {\n    try {\n      this._delayedRefresh++;\n      return await f();\n    } finally {\n      this._delayedRefresh--;\n      this.refresh();\n    }\n  }\n\n  refresh(f, async) {\n    if (typeof f === 'function') {\n      if (async) {\n        return this.asyncRefresh(f);\n      }\n\n      try {\n        this._delayedRefresh++;\n        return f();\n      } finally {\n        this._delayedRefresh--;\n\n        if (this._delayedRefresh <= 0) {\n          this.refresh();\n        }\n      }\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this._needRefresh = true;\n\n    if (!this.created) {\n      return;\n    }\n\n    if (this._refreshing) {\n      return;\n    }\n\n    this._refreshing = true;\n    let nodes;\n\n    while (this.needRefresh) {\n      nodes = this._render();\n\n      if (this.destroyed) {\n        return;\n      }\n    }\n\n    this._refreshing = false;\n\n    if (!this.canRefresh) {\n      return;\n    }\n\n    if (!nodes) {\n      return;\n    }\n\n    this._nodes = convert(this, nodes, this._nodes);\n\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    if (this.unmounted) {\n      return;\n    }\n\n    this.requestDraw();\n  }\n\n  callHook(id) {\n    callHook(id, this.entity);\n  }\n\n  _update(props, children) {\n    this.childNodes = children;\n  }\n\n  update(props, children) {\n    this._update(props, children);\n  }\n\n  _destroy() {}\n\n  destroy() {\n    if (this.__executed_destroy) {\n      return;\n    }\n\n    this.__executed_destroy = true;\n    this.callHook('beforeDestroy');\n\n    this._destroy();\n\n    this.callHook('destroyed');\n    this.destroyed = true;\n  }\n\n  _mount() {}\n\n  mount() {\n    if (this.__executed_destroy) {\n      return;\n    }\n\n    if (this.__executed_mount) {\n      return;\n    }\n\n    this.__executed_mount = true;\n    this.callHook('beforeMount');\n    const result = exec$1(c => c && this.requestDraw(), () => {\n      this._mount();\n\n      this.mounted = true;\n    });\n    this._cancelDrawMonitor = result.stop;\n    complete(() => this.callHook('mounted'));\n  }\n\n  _unmount() {}\n\n  unmount() {\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.__executed_mounted) {\n      return;\n    }\n\n    this.__executed_mounted = true;\n    this.callHook('beforeUnmount');\n\n    this._unmount();\n\n    this.callHook('unmounted');\n    this.unmounted = true;\n  }\n\n  _draw() {}\n\n  draw() {\n    var _this$_cancelDrawMoni;\n\n    if (this.__executed_destroy) {\n      return;\n    }\n\n    (_this$_cancelDrawMoni = this._cancelDrawMonitor) === null || _this$_cancelDrawMoni === void 0 ? void 0 : _this$_cancelDrawMoni.call(this);\n    this.callHook('beforeUpdate');\n    const result = exec$1(c => c && this.requestDraw(), () => this._draw());\n    this._cancelDrawMonitor = result.stop;\n    complete(() => this.callHook('updated'));\n  }\n\n}\n\nfunction update(nObject, props, children) {\n  updateProps(nObject.props, props, {}, false, true);\n  nObject.events.updateInProps(props);\n  const slots = Object.create(null);\n  const {\n    native\n  } = nObject;\n  const childNodes = getSlots(nObject.iRender, children, slots, Boolean(native));\n  setSlots(slots, nObject.slots);\n\n  if (!native) {\n    return;\n  }\n\n  nObject.nativeNodes = convert(nObject, childNodes, nObject.nativeNodes);\n\n  if (!nObject.mounted) {\n    return;\n  }\n\n  nObject.requestDraw();\n}\n\nfunction createContext(nObject) {\n  return initContext({\n    slots: nObject.slots,\n\n    get created() {\n      return nObject.created;\n    },\n\n    get parent() {\n      return nObject.parent.exposed;\n    },\n\n    get delivered() {\n      return nObject.parentDelivered;\n    },\n\n    get children() {\n      return nObject.children;\n    },\n\n    get childNodes() {\n      return nObject.childNodes;\n    },\n\n    get emit() {\n      return nObject.emit;\n    },\n\n    refresh(f) {\n      nObject.refresh(f);\n    },\n\n    valueifyProp: valueify(nObject.props)\n  }, nObject.exposed);\n}\n\nfunction initRender(nObject) {\n  const {\n    component,\n    props,\n    context,\n    entity\n  } = nObject;\n\n  const refresh = changed => changed && nObject.refresh();\n\n  const result = exec$1(refresh, () => setCurrent(() => component(props, context, auxiliary), entity), {\n    resultOnly: true\n  });\n\n  if (typeof result === 'function') {\n    const render = createExecutable(refresh, () => normalize(nObject, result()));\n    return {\n      nodes: render(),\n      render,\n      stopRender: () => render.stop()\n    };\n  }\n\n  const render = createExecutable(refresh, () => normalize(nObject, setCurrent(() => component(props, context, auxiliary), entity)));\n  return {\n    nodes: exec$1(refresh, () => normalize(nObject, result), {\n      resultOnly: true\n    }),\n    render,\n    stopRender: () => render.stop()\n  };\n}\n\nclass Entity extends NeepObject {\n  constructor(component, props, children, parent, delivered) {\n    var _this$iRender$compone, _this$iRender;\n\n    super(parent.iRender, parent, delivered, parent.container);\n\n    _defineProperty(this, \"component\", void 0);\n\n    _defineProperty(this, \"props\", encase(Object.create(null)));\n\n    _defineProperty(this, \"slots\", encase(Object.create(null)));\n\n    _defineProperty(this, \"_stopRender\", void 0);\n\n    _defineProperty(this, \"nativeNodes\", void 0);\n\n    _defineProperty(this, \"shadowTree\", []);\n\n    _defineProperty(this, \"nativeTree\", []);\n\n    _defineProperty(this, \"_shadow\", void 0);\n\n    _defineProperty(this, \"context\", void 0);\n\n    _defineProperty(this, \"parent\", void 0);\n\n    this.component = component;\n    Object.assign(this.config, component[configSymbol]);\n    Object.assign(this.components, component[componentsSymbol]);\n    Reflect.defineProperty(this.exposed, '$component', {\n      value: component,\n      enumerable: true,\n      configurable: true\n    });\n    [this.native, this._shadow] = component[typeSymbol] === 'native' && ((_this$iRender$compone = (_this$iRender = this.iRender).component) === null || _this$iRender$compone === void 0 ? void 0 : _this$iRender$compone.call(_this$iRender)) || [];\n    this.parent = parent;\n    parent.children.add(this.exposed);\n    const context = createContext(this);\n    this.context = context;\n    this.callHook('beforeCreate');\n    this.childNodes = children;\n    refresh(() => update(this, props, children));\n    const {\n      render,\n      nodes,\n      stopRender\n    } = initRender(this);\n    this._render = render;\n    this._stopRender = stopRender;\n    this._nodes = convert(this, nodes);\n    this.callHook('created');\n    this.created = true;\n\n    if (this._needRefresh) {\n      this.refresh();\n    }\n  }\n\n  _update(props, children) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.childNodes = children;\n    refresh(() => update(this, props, children));\n  }\n\n  _destroy() {\n    if (this._stopRender) {\n      this._stopRender();\n    }\n\n    this.parent.children.delete(this.exposed);\n    destroy(this._nodes);\n  }\n\n  requestDraw() {\n    this.container.markDraw(this);\n  }\n\n  _draw() {\n    const {\n      nativeNodes,\n      iRender,\n      _shadow,\n      native\n    } = this;\n\n    if (!native || !nativeNodes || !_shadow) {\n      this.tree = draw(iRender, this._nodes, this.tree);\n      return;\n    }\n\n    this.shadowTree = draw(iRender, this._nodes, this.shadowTree);\n    this.nativeTree = draw(iRender, nativeNodes, this.nativeTree);\n  }\n\n  _mount() {\n    const {\n      nativeNodes,\n      iRender,\n      _shadow,\n      native,\n      _nodes\n    } = this;\n\n    if (!native || !nativeNodes || !_shadow) {\n      this.tree = draw(iRender, _nodes);\n      return;\n    }\n\n    this.tree = draw(iRender, convert(this, native));\n    this.shadowTree = draw(iRender, _nodes);\n\n    for (const it of getNodes(this.shadowTree)) {\n      iRender.insert(_shadow, it);\n    }\n\n    this.nativeTree = draw(iRender, nativeNodes);\n\n    for (const it of getNodes(this.nativeTree)) {\n      iRender.insert(native, it);\n    }\n  }\n\n  _unmount() {\n    const {\n      iRender,\n      nativeTree\n    } = this;\n    unmount(iRender, this.tree);\n\n    if (!nativeTree) {\n      return;\n    }\n\n    unmount(iRender, nativeTree);\n  }\n\n}\n\nfunction toElement(t) {\n  if (t === false || t === null || t === undefined) {\n    return null;\n  }\n\n  if (isElement(t)) {\n    return t;\n  }\n\n  return {\n    [isElementSymbol]: true,\n    tag: 'Neep:Value',\n    key: t,\n    value: t,\n    children: []\n  };\n}\n\nfunction destroy(tree) {\n  if (Array.isArray(tree)) {\n    tree.forEach(t => destroy(t));\n    return;\n  }\n\n  const {\n    component\n  } = tree;\n\n  if (component) {\n    component.destroy();\n  }\n}\n\nfunction createItem$1(nObject, source) {\n  if (!source) {\n    return {\n      tag: null,\n      children: []\n    };\n  }\n\n  const {\n    tag\n  } = source;\n\n  if (!tag) {\n    return {\n      tag: null,\n      children: []\n    };\n  }\n\n  if (typeof tag !== 'string') {\n    if (tag[typeSymbol] === 'simple') {\n      return { ...source,\n        children: convert(nObject, source.children),\n        component: undefined\n      };\n    }\n\n    return { ...source,\n      children: [],\n      component: new Entity(tag, source.props || {}, source.children, nObject, source.$__neep__delivered)\n    };\n  }\n\n  const ltag = tag.toLowerCase();\n\n  if (ltag === 'neep:container') {\n    var _source$props;\n\n    const type = source === null || source === void 0 ? void 0 : (_source$props = source.props) === null || _source$props === void 0 ? void 0 : _source$props.type;\n    const iRender = type ? getRender(type) : nObject.iRender;\n    return { ...source,\n      children: [],\n      component: new Container$1(iRender, source.props || {}, source.children, nObject, source.$__neep__delivered)\n    };\n  }\n\n  if (ltag === 'neep:value') {\n    return { ...source,\n      children: []\n    };\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return { ...source,\n      children: convert(nObject, source.children)\n    };\n  }\n\n  return { ...source,\n    children: convert(nObject, source.children)\n  };\n}\n\nfunction updateList$1(nObject, source, tree) {\n  if (!Array.isArray(tree)) {\n    tree = [tree];\n  }\n\n  const newList = [];\n\n  for (const src of recursive2iterable(source)) {\n    const node = toElement(src);\n\n    if (!node) {\n      continue;\n    }\n\n    const index = tree.findIndex(it => it.tag === node.tag && it.key === node.key);\n\n    if (index >= 0) {\n      newList.push(updateItem$1(nObject, node, tree[index]));\n      tree.splice(index, 1);\n    } else {\n      newList.push(createItem$1(nObject, node));\n    }\n  }\n\n  destroy(tree);\n  return newList;\n}\n\nfunction updateItem$1(nObject, source, tree) {\n  if (!tree) {\n    return createItem$1(nObject, source);\n  }\n\n  if (!source) {\n    destroy(tree);\n    return {\n      tag: null,\n      children: []\n    };\n  }\n\n  if (Array.isArray(tree)) {\n    if (!tree.length) {\n      return createItem$1(nObject, source);\n    }\n\n    const index = tree.findIndex(it => it.tag === source.tag);\n\n    if (index < 0) {\n      destroy(tree);\n      return createItem$1(nObject, source);\n    }\n\n    const all = tree;\n    [tree] = tree.splice(index, 1);\n    destroy(all);\n  }\n\n  const {\n    tag\n  } = source;\n\n  if (tag !== tree.tag) {\n    destroy(tree);\n    return createItem$1(nObject, source);\n  }\n\n  if (!tag) {\n    return {\n      tag: null,\n      children: []\n    };\n  }\n\n  if (typeof tag !== 'string') {\n    if (tag[typeSymbol] === 'simple') {\n      return { ...source,\n        children: convert(nObject, source.children, tree.children),\n        component: undefined\n      };\n    }\n\n    const {\n      component\n    } = tree;\n\n    if (!component) {\n      return createItem$1(nObject, source);\n    }\n\n    component.update(source.props || {}, source.children);\n    return { ...source,\n      children: [],\n      component\n    };\n  }\n\n  const ltag = tag.toLowerCase();\n\n  if (ltag === 'neep:container') {\n    var _source$props2;\n\n    const {\n      component\n    } = tree;\n\n    if (!component) {\n      return createItem$1(nObject, source);\n    }\n\n    const type = source === null || source === void 0 ? void 0 : (_source$props2 = source.props) === null || _source$props2 === void 0 ? void 0 : _source$props2.type;\n    const iRender = type ? getRender(type) : nObject.iRender;\n\n    if (iRender !== component.iRender) {\n      return createItem$1(nObject, source);\n    }\n\n    component.update(source.props || {}, source.children);\n    return { ...source,\n      children: [],\n      component\n    };\n  }\n\n  if (ltag === 'neep:value') {\n    return { ...source,\n      children: []\n    };\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    let delivered;\n\n    if (ltag === 'neep:deliver') {\n      const props = { ...source.props\n      };\n      delete props.ref;\n      delete props.slot;\n      delete props.key;\n      delivered = updateProps(tree.$__neep__delivered, props, tree.props, true);\n    }\n\n    return { ...source,\n      $__neep__delivered: delivered,\n      children: convert(nObject, source.children, tree.children)\n    };\n  }\n\n  return { ...source,\n    children: convert(nObject, source.children, tree.children)\n  };\n}\n\nfunction createAll$1(nObject, source) {\n  if (!source.length) {\n    return [];\n  }\n\n  return source.map(item => {\n    if (!Array.isArray(item)) {\n      return createItem$1(nObject, toElement(item));\n    }\n\n    return [...recursive2iterable(item)].map(it => createItem$1(nObject, toElement(it)));\n  });\n}\n\nfunction* updateAll$1(nObject, source, tree) {\n  let index = 0;\n  let length = Math.min(source.length, source.length);\n\n  for (; index < length; index++) {\n    const src = source[index];\n\n    if (Array.isArray(src)) {\n      yield updateList$1(nObject, src, tree[index]);\n    } else {\n      yield updateItem$1(nObject, toElement(src), tree[index]);\n    }\n  }\n\n  length = Math.max(source.length, source.length);\n\n  if (tree.length > length) {\n    for (; index < length; index++) {\n      destroy(tree[index]);\n    }\n  }\n\n  if (source.length > length) {\n    for (; index < length; index++) {\n      const src = toElement(source[index]);\n\n      if (Array.isArray(src)) {\n        yield [...recursive2iterable(src)].map(it => createItem$1(nObject, it));\n      } else {\n        yield createItem$1(nObject, src);\n      }\n    }\n  }\n}\n\nfunction convert(nObject, source, tree) {\n  if (!Array.isArray(source)) {\n    source = [source];\n  }\n\n  if (!tree) {\n    return createAll$1(nObject, source);\n  }\n\n  return [...updateAll$1(nObject, source, tree)];\n}\n\nlet awaitDraw = new Set();\nlet requested = false;\n\nfunction markDraw(c) {\n  awaitDraw.add(c);\n\n  if (requested) {\n    return;\n  }\n\n  requested = true;\n  nextFrame(() => {\n    requested = false;\n    const list = [...awaitDraw];\n    awaitDraw.clear();\n    list.map(c => c.drawAll());\n  });\n}\n\nclass Container$1 extends NeepObject {\n  constructor(iRender, props, children, parent, delivered) {\n    super(iRender, parent, delivered);\n\n    _defineProperty(this, \"props\", void 0);\n\n    _defineProperty(this, \"content\", []);\n\n    _defineProperty(this, \"_node\", null);\n\n    _defineProperty(this, \"_container\", null);\n\n    _defineProperty(this, \"rootContainer\", this);\n\n    _defineProperty(this, \"_drawChildren\", false);\n\n    _defineProperty(this, \"_drawContainer\", false);\n\n    _defineProperty(this, \"_awaitDraw\", new Set());\n\n    _defineProperty(this, \"_needDraw\", false);\n\n    _defineProperty(this, \"_containers\", new Set());\n\n    this.props = props;\n    this.parent = parent;\n\n    if (parent) {\n      this.rootContainer = parent.container.rootContainer;\n    }\n\n    this.callHook('beforeCreate');\n\n    this._render = () => children;\n\n    this._nodes = convert(this, children);\n    this.callHook('created');\n    this.created = true;\n  }\n\n  setChildren(children) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.childNodes = children;\n\n    this._render = () => children;\n\n    this._drawChildren = true;\n    this.refresh();\n  }\n\n  setProps(props) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.props = props;\n    this._drawContainer = true;\n    this.refresh();\n  }\n\n  update(props, children) {\n    this.refresh(() => {\n      this.setProps(props);\n      this.setChildren(children);\n    });\n  }\n\n  requestDraw() {\n    this.markDraw(this);\n  }\n\n  _mount() {\n    const {\n      props,\n      parent,\n      iRender\n    } = this;\n    const content = draw(this.container.iRender, this._nodes);\n    this.content = content;\n    const [container, node] = iRender.mount(props, parent === null || parent === void 0 ? void 0 : parent.iRender);\n\n    for (const it of getNodes(content)) {\n      iRender.insert(container, it);\n    }\n\n    this.tree = [createMountedNode({\n      tag: Value,\n      component: undefined,\n      node,\n      value: node,\n      children: []\n    })];\n    this._node = node;\n    this._container = container;\n  }\n\n  _destroy() {\n    destroy(this.content);\n  }\n\n  _unmount() {\n    const {\n      parent,\n      iRender\n    } = this;\n\n    if (parent) {\n      unmount(parent.iRender, this.tree);\n    }\n\n    iRender.unmount(this._container, this._node, Boolean(parent));\n    unmount(this.iRender, this.content);\n  }\n\n  _draw() {\n    const {\n      _drawChildren: drawChildren,\n      _drawContainer: drawContainer\n    } = this;\n    this._drawContainer = false;\n\n    if (drawContainer) {\n      var _this$parent;\n\n      this.iRender.drawContainer(this._container, this._node, this.props, (_this$parent = this.parent) === null || _this$parent === void 0 ? void 0 : _this$parent.iRender);\n    }\n\n    if (this.parent && this.parent.iRender !== this.iRender) {\n      return;\n    }\n\n    this._drawChildren = false;\n\n    if (drawChildren) {\n      this.content = draw(this.iRender, this._nodes, this.content);\n    }\n  }\n\n  _drawSelf() {\n    const {\n      _drawChildren: drawChildren,\n      _drawContainer: drawContainer\n    } = this;\n    this._needDraw = false;\n    this._drawChildren = false;\n    this._drawContainer = false;\n\n    if (drawContainer) {\n      var _this$parent2;\n\n      this.iRender.drawContainer(this._container, this._node, this.props, (_this$parent2 = this.parent) === null || _this$parent2 === void 0 ? void 0 : _this$parent2.iRender, true);\n    }\n\n    if (drawChildren) {\n      this.content = draw(this.iRender, this._nodes, this.content);\n    }\n  }\n\n  drawSelf() {\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this.callHook('beforeUpdate');\n    exec$1(c => c && this.markDraw(this), () => this._drawSelf());\n    complete(() => this.callHook('updated'));\n  }\n\n  markDraw(nObject, remove = false) {\n    var _this$parent3;\n\n    if (((_this$parent3 = this.parent) === null || _this$parent3 === void 0 ? void 0 : _this$parent3.iRender) === this.iRender) {\n      this.parent.container.markDraw(nObject, remove);\n      return;\n    }\n\n    if (nObject === this && this.parent) {\n      this.parent.container.markDraw(this, remove);\n      this._needDraw = !remove;\n    } else if (remove) {\n      this._awaitDraw.delete(nObject);\n    } else {\n      this._awaitDraw.add(nObject);\n    }\n\n    this.rootContainer.markDrawContainer(this, !this._needDraw && !this._awaitDraw.size || this.destroyed);\n  }\n\n  drawContainer() {\n    const {\n      _node: node,\n      _container: container,\n      _awaitDraw: awaitDraw\n    } = this;\n\n    if (!node || !container) {\n      return;\n    }\n\n    this.callHook('beforeDraw');\n    const needDraw = this._needDraw;\n    this._needDraw = false;\n    const list = [...awaitDraw];\n    awaitDraw.clear();\n\n    if (needDraw) {\n      this.drawSelf();\n    }\n\n    list.map(c => c.draw());\n    this.iRender.draw(container, node);\n    complete(() => this.callHook('drawn'));\n  }\n\n  markDrawContainer(container, remove = false) {\n    if (remove) {\n      this._containers.delete(container);\n    } else {\n      this._containers.add(container);\n    }\n\n    markDraw(this);\n  }\n\n  drawAll() {\n    const containers = this._containers;\n\n    if (!containers.size) {\n      return;\n    }\n\n    this.callHook('beforeDrawAll');\n    const refs = [];\n    const completeList = [];\n    setCompleteList(completeList);\n    setRefList(refs);\n    const list = [...containers];\n    containers.clear();\n    list.forEach(c => c.drawContainer());\n    setRefList();\n    refs.forEach(r => r());\n    completeList.forEach(r => r());\n    this.callHook('drawnAll');\n  }\n\n}\n\nfunction render(e, p = {}) {\n  let params = { ...p\n  };\n  const container = new Container$1(getRender(p.type), params, e === undefined ? [] : isElement(e) ? [e] : [createElement(e)]);\n\n  if (!isProduction) {\n    devtools.renderHook(container);\n  }\n\n  const {\n    exposed\n  } = container;\n  Reflect.defineProperty(exposed, '$update', {\n    value(c) {\n      container.setChildren(c === undefined ? [] : isElement(c) ? [c] : [createElement(c)]);\n      return exposed;\n    },\n\n    configurable: true\n  });\n  Reflect.defineProperty(exposed, '$mount', {\n    value(target) {\n      if (exposed.$mounted) {\n        return exposed;\n      }\n\n      if (target) {\n        params.target = target;\n        container.setProps(params);\n      }\n\n      container.mount();\n      return exposed;\n    },\n\n    configurable: true\n  });\n  Reflect.defineProperty(exposed, '$unmount', {\n    value() {\n      if (!exposed.$mounted) {\n        return;\n      }\n\n      if (exposed.$unmounted) {\n        return;\n      }\n\n      if (exposed.$destroyed) {\n        return container.destroy();\n      }\n\n      container.unmount();\n      return;\n    },\n\n    configurable: true\n  });\n\n  if (params.target) {\n    container.mount();\n  }\n\n  return exposed;\n}\n\nexport { Container, Deliver, NeepError as Error, EventEmitter, Fragment, ScopeSlot, Slot, SlotRender, Tags, Template, Value, addContextConstructor, callHook, checkCurrent, componentsSymbol, configSymbol, create, createElement, current, defineAuxiliary, deliver, elements, expose, hook, install, isElement, isElementSymbol, isProduction, label$1 as label, lazy, mComponent, mConfig, mName, mNative, mRender, mSimple, mType, mark, nameSymbol, refresh, register, render, renderSymbol, setAuxiliary, setHook, typeSymbol, useValue, version, watch };\n","/*!\n * NeepWebRender v0.1.0-alpha.9\n * (c) 2019-2020 Fierflame\n * @license MIT\n */\nimport { install as install$1, isValue, EventEmitter } from '@neep/core';\n\nfunction installNeep() {\n  return install$1;\n}\n\nfunction getId(v) {\n  if (typeof v === 'string') {\n    return v;\n  }\n\n  if (typeof v === 'number') {\n    return String(v);\n  }\n\n  return undefined;\n}\n\nfunction updateId(props, el, old) {\n  const id = getId(isValue(props.id) ? props.id() : props.id);\n\n  if (id !== old) {\n    if (typeof id === 'string') {\n      el.id = props.id;\n    } else {\n      el.removeAttribute('id');\n    }\n  }\n\n  return id;\n}\n\nfunction* recursive2iterable(list) {\n  if (isValue(list)) {\n    yield* recursive2iterable(list());\n    return;\n  }\n\n  if (!Array.isArray(list)) {\n    yield list;\n    return;\n  }\n\n  for (const it of list) {\n    yield* recursive2iterable(it);\n  }\n}\n\nfunction getClass(list) {\n  const set = new Set();\n\n  for (const v of recursive2iterable(list)) {\n    if (!v) {\n      continue;\n    }\n\n    if (typeof v === 'string') {\n      for (let k of v.split(' ').filter(Boolean)) {\n        set.add(k);\n      }\n    } else if (typeof v === 'object') {\n      for (const k in v) {\n        const add = v[k];\n\n        for (let it of k.split(' ').filter(Boolean)) {\n          set[add ? 'add' : 'delete'](it);\n        }\n      }\n    }\n  }\n\n  if (!set.size) {\n    return undefined;\n  }\n\n  return set;\n}\n\nfunction update(el, classes, oClasses) {\n  if (classes && oClasses) {\n    const list = el.getAttribute('class') || '';\n    const classList = new Set(list.split(' ').filter(Boolean));\n    oClasses.forEach(c => classList.delete(c));\n    classes.forEach(c => classList.add(c));\n    el.setAttribute('class', [...classList].join(' '));\n  } else if (classes) {\n    el.setAttribute('class', [...classes].join(' '));\n  } else if (oClasses) {\n    el.removeAttribute('class');\n  }\n}\n\nfunction updateClass(props, el, old) {\n  const classes = getClass(isValue(props.class) ? props.class() : props.class);\n  update(el, classes, old);\n  return classes;\n}\n\nfunction getStyle(style) {\n  if (typeof style === 'string') {\n    return style;\n  }\n\n  if (!style) {\n    return undefined;\n  }\n\n  if (typeof style !== 'object') {\n    return undefined;\n  }\n\n  const css = Object.create(null);\n\n  for (let k in style) {\n    let value = style[k];\n    const key = k.substr(0, 2) === '--' ? k : k.replace(/[A-Z]/g, '-$1').replace(/-+/g, '-').toLowerCase();\n\n    if (typeof value === 'number') {\n      css[key] = [value === 0 ? '0' : `${value}px`, null];\n    } else if (value && typeof value === 'string') {\n      const v = value.replace(/\\!important\\s*$/, '');\n      css[key] = [v, v === value ? null : 'important'];\n    }\n  }\n\n  return css;\n}\n\nfunction update$1(css, style, oStyle) {\n  if (!style) {\n    if (!oStyle) {\n      return;\n    }\n\n    if (typeof oStyle === 'string') {\n      css.cssText = '';\n      return;\n    }\n\n    for (const k of Object.keys(oStyle)) {\n      css.removeProperty(k);\n    }\n\n    return;\n  }\n\n  if (typeof style === 'string') {\n    if (style !== typeof oStyle) {\n      css.cssText = style;\n    }\n\n    return;\n  }\n\n  if (!oStyle || typeof oStyle === 'string') {\n    if (typeof oStyle === 'string') {\n      css.cssText = '';\n    }\n\n    for (const k of Object.keys(style)) {\n      css.setProperty(k, ...style[k]);\n    }\n\n    return;\n  }\n\n  for (const k of Object.keys(style)) {\n    const v = style[k];\n\n    if (!oStyle[k] || oStyle[k][0] !== v[0] || oStyle[k][1] !== v[1]) {\n      css.setProperty(k, ...v);\n    }\n  }\n\n  for (const k of Object.keys(oStyle)) {\n    if (!style[k]) {\n      css.removeProperty(k);\n    }\n  }\n}\n\nfunction updateStyle(props, css, old, hasStyle) {\n  if (!hasStyle) {\n    return undefined;\n  }\n\n  const style = getStyle(isValue(props.style) ? props.style() : props.style);\n  update$1(css, style, old);\n  return style;\n}\n\nfunction setAttrs(el, attrs) {\n  if (el instanceof HTMLInputElement && 'checked' in attrs) {\n    switch (el.type.toLowerCase()) {\n      case 'checkbox':\n      case 'radio':\n        if (attrs.checked !== null !== el.checked) {\n          el.checked = attrs.checked !== null;\n        }\n\n    }\n  }\n\n  if ((el instanceof HTMLSelectElement || el instanceof HTMLInputElement) && 'value' in attrs) {\n    const value = attrs.value || '';\n\n    if (el.value !== value) {\n      el.value = value;\n    }\n  }\n}\n\nfunction stringify(data, isOn = false) {\n  if (data === undefined || data === null) {\n    return data;\n  }\n\n  if (isOn && typeof data === 'function') {\n    return undefined;\n  }\n\n  if (typeof data === 'boolean') {\n    return data ? '' : null;\n  }\n\n  if (typeof data !== 'object') {\n    return String(data);\n  }\n\n  if (data instanceof Date) {\n    return data.toISOString();\n  }\n\n  if (data instanceof RegExp) {\n    return data.toString();\n  }\n\n  return JSON.stringify(data);\n}\n\nfunction getAttrs(props, hasStyle) {\n  const attrs = Object.create(null);\n\n  for (const k in props) {\n    if (/^(n|on|bind|slot)[:-]/.test(k)) {\n      continue;\n    }\n\n    if (!/^[a-zA-Z:_][a-zA-Z0-9:_-]*$/.test(k)) {\n      continue;\n    }\n\n    const name = k.toLowerCase();\n\n    switch (name) {\n      case 'style':\n        if (!hasStyle) {\n          break;\n        }\n\n      case 'ref':\n      case 'is':\n      case 'id':\n      case 'class':\n        continue;\n    }\n\n    let data = props[k];\n\n    if (isValue(data)) {\n      data = data();\n    }\n\n    const value = stringify(data, name.substr(0, 2) === 'on');\n\n    if (value !== undefined) {\n      attrs[name] = value;\n    }\n  }\n\n  return attrs;\n}\n\nfunction update$2(el, attrs, old) {\n  for (const k of Object.keys(attrs)) {\n    const v = attrs[k];\n\n    if (!(k in old) || old[k] !== v) {\n      if (v === null) {\n        el.removeAttribute(k);\n      } else {\n        el.setAttribute(k, v);\n      }\n    }\n  }\n\n  for (const k of Object.keys(old)) {\n    if (!(k in attrs)) {\n      el.removeAttribute(k);\n    }\n  }\n}\n\nfunction updateAttrs(props, el, old, hasStyle) {\n  const attrs = getAttrs(props, hasStyle);\n  update$2(el, attrs, old);\n  setAttrs(el, attrs);\n  return attrs;\n}\n\nfunction createEventEmitter() {\n  const events = new EventEmitter();\n  events.__eventBind = Object.create(null);\n  return events;\n}\n\nfunction* getElementModel(el) {\n  if (el instanceof HTMLInputElement) {\n    switch (el.type.toLowerCase()) {\n      case 'checkbox':\n      case 'radio':\n        return yield ['checked', 'change', e => e.currentTarget.checked];\n    }\n\n    return yield ['value', 'input', e => e.currentTarget.value];\n  }\n\n  if (el instanceof HTMLSelectElement) {\n    return yield ['value', 'select', e => e.currentTarget.value];\n  }\n}\n\nfunction getEventName(k) {\n  if (k.substr(0, 2) !== 'on') {\n    return '';\n  }\n\n  let n = k.substr(2);\n\n  if (n[0] === ':' || n[0] === '-') {\n    return '';\n  }\n\n  return n;\n}\n\nfunction updateEvent(props, el, event = createEventEmitter()) {\n  event.updateInProps(props, addEvent => {\n    for (const k in props) {\n      const f = props[k];\n\n      if (typeof f !== 'function') {\n        continue;\n      }\n\n      const name = getEventName(k);\n\n      if (!name) {\n        continue;\n      }\n\n      addEvent(name, f);\n    }\n\n    for (const [prop, name, t] of getElementModel(el)) {\n      const value = props[prop];\n\n      if (isValue(value)) {\n        addEvent(name, e => value(t(e)));\n      }\n    }\n  });\n  const names = new Set(event.names.map(String));\n  const eventBind = event.__eventBind;\n\n  for (const k of Object.keys(eventBind)) {\n    if (names.has(k)) {\n      continue;\n    }\n\n    eventBind[k]();\n    delete eventBind[k];\n  }\n\n  const {\n    emit\n  } = event;\n\n  for (const k of names) {\n    if (k in eventBind) {\n      continue;\n    }\n\n    const f = (...p) => emit(k, ...p);\n\n    el.addEventListener(k, f);\n\n    eventBind[k] = () => {\n      el.removeEventListener(k, f);\n    };\n  }\n\n  return event;\n}\n\nconst PropsMap = new WeakMap();\nfunction update$3(el, props) {\n  const css = el.style;\n  const hasStyle = css instanceof CSSStyleDeclaration;\n  const old = PropsMap.get(el) || {\n    attrs: {}\n  };\n  const id = updateId(props, el, old.id);\n  const classes = updateClass(props, el, old.classes);\n  const style = updateStyle(props, css, old.style, hasStyle);\n  const attrs = updateAttrs(props, el, old.attrs, hasStyle);\n  const event = updateEvent(props, el, old.event);\n  PropsMap.set(el, {\n    id,\n    classes,\n    style,\n    attrs,\n    event\n  });\n  return el;\n}\n\nlet list;\nfunction nextFrame(f) {\n  if (list) {\n    list.push(f);\n    return;\n  }\n\n  list = [f];\n  window.requestAnimationFrame(() => {\n    const fs = list;\n    list = undefined;\n\n    if (!fs) {\n      return;\n    }\n\n    fs.forEach(f => f());\n  });\n}\n\nconst xmlnsMap = {\n  svg: 'http://www.w3.org/2000/svg',\n  html: 'http://www.w3.org/1999/xhtml',\n  mathml: 'http://www.w3.org/1998/Math/MathML'\n};\nconst SVGTags = new Set(['altGlyph', 'altGlyphDef', 'altGlyphItem', 'animate', 'animateColor', 'animateMotion', 'animateTransform', 'circle', 'clipPath', 'color-profile', 'cursor', 'defs', 'desc', 'ellipse', 'feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence', 'filter', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignObject', 'g', 'glyph', 'glyphRef', 'hkern', 'image', 'line', 'linearGradient', 'marker', 'mask', 'metadata', 'missing-glyph', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'script', 'set', 'stop', 'style', 'svg', 'switch', 'symbol', 'text', 'textPath', 'title', 'tref', 'tspan', 'use', 'view', 'vkern']);\nconst MathMLTags = new Set(['maction', 'math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msubsup', 'msup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'semantics']);\nfunction createElement(tagname, namespace) {\n  const res = /^([a-z][a-z0-9-]*):([a-z0-9-]+)$/i.exec(tagname);\n  const tag = res ? res[2] : tagname;\n  const ns = (namespace || (res === null || res === void 0 ? void 0 : res[1]) || SVGTags.has(tag.toLowerCase()) && 'svg' || MathMLTags.has(tag.toLowerCase()) && 'mathml' || '').toLowerCase();\n\n  if (!ns) {\n    return document.createElement(tag);\n  }\n\n  return document.createElementNS(ns in xmlnsMap && xmlnsMap[ns] || ns, tag);\n}\n\nconst render = {\n  type: 'web',\n  nextFrame,\n\n  isNode(v) {\n    return v instanceof Node;\n  },\n\n  mount({\n    target,\n    class: className,\n    style,\n    tag\n  }, parent) {\n    if (!(typeof tag === 'string' && /^[a-z][a-z0-9]*(?:\\-[a-z0-9]+)?(?:\\:[a-z0-9]+(?:\\-[a-z0-9]+)?)?$/i.test(tag))) {\n      tag = 'div';\n    }\n\n    const container = render.create(tag, {\n      class: className,\n      style\n    });\n\n    if (typeof target === 'string') {\n      target = document.querySelector(target);\n    }\n\n    if (target instanceof Element) {\n      target.appendChild(container);\n\n      if (parent) {\n        return [container, parent.placeholder()];\n      }\n\n      return [container, container];\n    }\n\n    if (parent !== render) {\n      document.body.appendChild(container);\n      return [container, container];\n    }\n\n    return [container, container];\n  },\n\n  unmount(container, node, removed) {\n    if (container === node && removed) {\n      return;\n    }\n\n    container.remove();\n  },\n\n  drawContainer(container, node, {\n    target,\n    class: className,\n    style,\n    tag\n  }, parent) {\n    render.update(container, {\n      class: className,\n      style\n    });\n\n    if (typeof target === 'string') {\n      target = document.querySelector(target);\n    }\n\n    if (parent !== render && !(target instanceof Element)) {\n      target = document.body;\n    }\n\n    const oldTarget = parent === render && container === node ? undefined : render.parent(node);\n\n    if (oldTarget === target) {\n      return [container, node];\n    }\n\n    if (parent !== render) {\n      target.appendChild(container);\n      return [container, node];\n    }\n\n    if (!oldTarget) {\n      const newNode = parent.placeholder();\n      const pNode = parent.parent(node);\n\n      if (pNode) {\n        render.insert(pNode, newNode, node);\n        render.remove(node);\n      }\n\n      return [container, newNode];\n    }\n\n    if (!target) {\n      const pNode = parent.parent(node);\n\n      if (pNode) {\n        render.insert(pNode, container, node);\n        render.remove(node);\n      }\n\n      return [container, container];\n    }\n\n    target.appendChild(node);\n    return [container, node];\n  },\n\n  draw() {},\n\n  create(tag, props) {\n    return update$3(createElement(tag), props);\n  },\n\n  text(text) {\n    return document.createTextNode(text);\n  },\n\n  placeholder() {\n    return document.createComment('');\n  },\n\n  component() {\n    const node = createElement('neep-component');\n    return [node, node.attachShadow({\n      mode: 'open'\n    })];\n  },\n\n  parent(node) {\n    return node.parentNode;\n  },\n\n  next(node) {\n    return node.nextSibling;\n  },\n\n  update(node, props) {\n    update$3(node, props);\n  },\n\n  insert(parent, node, next = null) {\n    parent.insertBefore(node, next);\n  },\n\n  remove(node) {\n    const p = render.parent(node);\n\n    if (!p) {\n      return;\n    }\n\n    p.removeChild(node);\n  }\n\n};\n\ninstallNeep()({\n  render\n});\nfunction install(Neep) {}\n\nvar index = { ...render,\n  install\n};\n\nexport default index;\n","/*!\n * NeepDevtools v0.1.0-alpha.4\n * (c) 2019-2020 Fierflame\n * @license MIT\n */\nimport { install as install$2, nameSymbol, typeSymbol, createElement, isValue, encase, setHook, render } from '@neep/core';\n\nfunction install() {\n  return install$2;\n}\n\nlet Type;\n\n(function (Type) {\n  Type[\"tag\"] = \"tag\";\n  Type[\"placeholder\"] = \"placeholder\";\n  Type[\"standard\"] = \"standard\";\n  Type[\"simple\"] = \"simple\";\n  Type[\"native\"] = \"native\";\n  Type[\"container\"] = \"container\";\n  Type[\"special\"] = \"special\";\n})(Type || (Type = {}));\n\nfunction* getTree(tree, parent = 0) {\n  var _component$exposed;\n\n  if (Array.isArray(tree)) {\n    for (const it of tree) {\n      yield* getTree(it);\n    }\n\n    return;\n  }\n\n  const {\n    id,\n    tag,\n    props,\n    children,\n    key,\n    component,\n    label = component === null || component === void 0 ? void 0 : (_component$exposed = component.exposed) === null || _component$exposed === void 0 ? void 0 : _component$exposed.$label\n  } = tree;\n\n  if (!tag) {\n    return yield {\n      id,\n      parent,\n      type: Type.placeholder,\n      tag: 'placeholder',\n      children: []\n    };\n  }\n\n  if (typeof tag !== 'string') {\n    const name = tag[nameSymbol] || tag.name;\n\n    if (!component) {\n      return yield {\n        id,\n        parent,\n        type: Type.simple,\n        tag: name,\n        children: [...getTree(children)],\n        props,\n        key,\n        label\n      };\n    }\n\n    const isNative = tag[typeSymbol] === 'native';\n    return yield {\n      id,\n      parent,\n      type: isNative ? Type.native : Type.standard,\n      tag: name,\n      children: [...getTree('content' in component ? component.content : isNative ? component.nativeTree : component.tree)],\n      props,\n      key,\n      label\n    };\n  }\n\n  const ltag = tag.toLowerCase();\n\n  if (ltag === 'neep:value') {\n    const treeValue = tree.value;\n    return yield {\n      id,\n      parent,\n      type: Type.special,\n      tag,\n      children: [],\n      isNative: treeValue === tree.node,\n      value: treeValue,\n      props,\n      key,\n      label\n    };\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return yield {\n      id,\n      parent,\n      type: Type.special,\n      tag,\n      children: [...getTree(children)],\n      props,\n      key,\n      label\n    };\n  }\n\n  yield {\n    id,\n    parent,\n    type: Type.tag,\n    tag,\n    children: [...getTree(children)],\n    props,\n    key,\n    label\n  };\n}\n\nfunction getValue(value) {\n  const type = typeof value;\n\n  if (type === 'function') {\n    return createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, \"[Function]\");\n  }\n\n  if (type === 'string') {\n    return createElement(\"span\", null, value);\n  }\n\n  if (type === 'bigint' || type === 'boolean' || type === 'number' || type === 'symbol' || type === 'undefined' || value === null) {\n    return createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, String(value));\n  } else if (value instanceof RegExp) {\n    return createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, String(value));\n  } else if (value instanceof Date) {\n    return createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, value.toISOString());\n  } else if (type === 'object') {\n    return createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, String(value));\n  }\n\n  return null;\n}\nfunction TextNode({\n  isNative,\n  value\n}) {\n  if (isNative) {\n    return createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, \"[Native]\");\n  }\n\n  if (!isValue(value)) {\n    return getValue(value);\n  }\n\n  return createElement(\"template\", null, createElement(\"span\", {\n    style: \"font-weight: bold;\"\n  }, \"[Value:\\xA0\"), getValue(value()), createElement(\"span\", {\n    style: \"font-weight: bold;\"\n  }, \"\\xA0]\"));\n}\n\nfunction getOptions({\n  value = false,\n  tag = false,\n  placeholder = false,\n  simple = false,\n  container = false,\n  template = false,\n  scopeSlot = false,\n  slotRender = false,\n  deliver = false\n}) {\n  return {\n    value,\n    tag,\n    placeholder,\n    simple,\n    container,\n    template,\n    scopeSlot,\n    slotRender,\n    deliver\n  };\n}\n\nfunction createTag(name, keys, id, key, labels, ...children) {\n  const opened = keys[id];\n  const hasChildren = Boolean(children.length);\n  return createElement(\"div\", {\n    key: id,\n    style: \" position: relative; min-height: 20px; font-size: 14px; line-height: 20px; \"\n  }, children.length && createElement(\"div\", {\n    style: \" position: absolute; left: -20px; top: 0; width: 20px; height: 20px; text-align: center; cursor: pointer; background: #DDD;; \",\n    onclick: () => keys[id] = !opened\n  }, opened ? '-' : '+') || undefined, createElement(\"div\", null, '<', name, typeof key === 'string' ? ` key=\"${key}\"` : typeof key === 'number' ? ` key=${key}` : typeof key === 'boolean' ? ` key=${key}` : typeof key === 'bigint' ? ` key=${key}` : typeof key === 'symbol' ? ` key=${String(key)}` : key === null ? ` key=${key}` : key !== undefined && ` key={${String(key)}}`, hasChildren ? '>' : ' />', hasChildren && !opened && createElement(\"span\", null, createElement(\"span\", {\n    onclick: () => keys[id] = true,\n    style: \"cursor: pointer;\"\n  }, \"...\"), '</', name, '>'), hasChildren && labels.filter(Boolean).map(([v, color]) => createElement(\"span\", {\n    style: `color: ${color || '#000'}`\n  }, v))), hasChildren && opened && createElement(\"div\", {\n    style: \"padding-left: 20px\"\n  }, children), opened && hasChildren && createElement(\"div\", null, '</', name, '>'));\n}\n\nfunction* getList(list, keys, options, labels = []) {\n  if (Array.isArray(list)) {\n    for (const it of list) {\n      yield* getList(it, keys, options, labels);\n    }\n\n    return;\n  }\n\n  const {\n    id,\n    type,\n    tag,\n    children,\n    props,\n    key,\n    label,\n    value,\n    isNative\n  } = list;\n\n  if (type === Type.standard || type === Type.native) {\n    return yield createTag(createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, tag), keys, id, key, [label, ...labels], ...getList(children, keys, options));\n  }\n\n  if (type === Type.tag) {\n    if (!options.tag) {\n      return yield* getList(children, keys, options, [label, ...labels]);\n    }\n\n    return yield createTag(tag, keys, id, key, [label, ...labels], ...getList(children, keys, options));\n  }\n\n  if (type === Type.simple) {\n    if (!options.simple) {\n      return yield* getList(children, keys, options, [label, ...labels]);\n    }\n\n    return yield createTag(createElement(\"span\", {\n      style: \" font-style: italic; font-weight: bold; \"\n    }, tag), keys, id, key, [label, ...labels], ...getList(children, keys, options));\n  }\n\n  if (type === Type.placeholder) {\n    if (!options.placeholder) {\n      return;\n    }\n\n    return yield createTag(createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"placeholder\"), keys, id, key, [label, ...labels], ...getList(children, keys, options));\n  }\n\n  if (type === Type.container) {\n    if (!options.container) {\n      return yield* getList(children, keys, options, [label, ...labels]);\n    }\n\n    return yield createTag(createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"container\"), keys, id, key, [label, ...labels], ...getList(children, keys, options));\n  }\n\n  const ltag = tag.toLowerCase();\n\n  if (ltag === 'neep:deliver') {\n    if (!options.deliver) {\n      return yield* getList(children, keys, options, [label, ...labels]);\n    }\n\n    return yield createTag(createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"Deliver\"), keys, id, key, [label, ...labels], ...getList(children, keys, options));\n  }\n\n  if (ltag === 'template') {\n    if (!options.template) {\n      return yield* getList(children, keys, options, [label, ...labels]);\n    }\n\n    return yield createTag(createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"Template\"), keys, id, key, [label, ...labels], ...getList(children, keys, options));\n  }\n\n  if (ltag === 'neep:scopeslot' || ltag === 'neep:scope-slot') {\n    if (!options.scopeSlot) {\n      return yield* getList(children, keys, options, [label, ...labels]);\n    }\n\n    return yield createTag(createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"ScopeSlot\"), keys, id, key, [label, ...labels], ...getList(children, keys, options));\n  }\n\n  if (ltag === 'neep:slotrender' || ltag === 'neep:slot-render') {\n    if (options.slotRender) ;\n\n    return;\n  }\n\n  if (ltag === 'neep:value') {\n    if (!options.tag) {\n      return;\n    }\n\n    if (!options.value) {\n      return;\n    }\n\n    return yield createElement(TextNode, {\n      isNative: isNative,\n      value: value\n    });\n  }\n}\n\nvar App = (props => {\n  const keys = encase({});\n  return () => createElement(\"div\", {\n    style: \"padding-left: 20px;\"\n  }, [...getList(props.tree, keys, getOptions(props))]);\n});\n\nlet creating = false;\n\nfunction create() {\n  creating = true;\n\n  try {\n    return render();\n  } finally {\n    creating = false;\n  }\n}\n\nconst devtools = {\n  renderHook(container) {\n    if (creating) {\n      return;\n    }\n\n    let app;\n\n    const getData = () => {\n      if (!app) {\n        app = create();\n      }\n\n      const tree = [...getTree(container.content)];\n      app.$update(createElement(App, {\n        tree,\n        value: true,\n        tag: true\n      }));\n    };\n\n    setHook('drawnAll', getData, container.entity);\n    setHook('mounted', () => {\n      if (!app) {\n        app = create();\n      }\n\n      getData();\n      app.$mount();\n    }, container.entity);\n  }\n\n};\n\ninstall()({\n  devtools\n});\nfunction install$1(Neep) {}\n\nexport { install$1 as install };\n","import { Context } from '@neep/core';\nimport { addContextConstructor } from './neep';\n\nfunction contextConstructor(context: Context) {\n\tReflect.defineProperty(context, 'insertable', {\n\t\tvalue: context.delivered.__NeepInsertable__,\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n}\n\nexport default function installContextConstructor() {\n\taddContextConstructor(contextConstructor);\n}\n","import Insertable from './Insertable';\nimport { mSimple, mName, Context, Auxiliary } from '@neep/core';\n\nexport interface Props {\n\tname?: string;\n\tinsertable?: Insertable;\n\t[key: string]: any;\n}\nexport default function InsertView(\n\tprops: Props,\n\t{ insertable: contextInsertable, childNodes }: Context,\n\t{ createElement, Deliver }: Auxiliary,\n) {\n\tconst { name, insertable } = props;\n\tif (!name && insertable instanceof Insertable) {\n\t\treturn createElement(Deliver, {\n\t\t\t__NeepInsertable__: insertable,\n\t\t}, ...childNodes);\n\t}\n\tif (!name) { return childNodes; }\n\tif (insertable instanceof Insertable) {\n\t\tconst list = insertable.get(name);\n\t\tif (!list) { return null; }\n\t\treturn createElement(Deliver, {\n\t\t\t__NeepInsertable__: insertable,\n\t\t}, list.map(t => createElement(t.component, props, ...childNodes)));\n\t}\n\tif (!(contextInsertable instanceof Insertable)) {\n\t\treturn childNodes;\n\t}\n\tconst list = contextInsertable.get(name);\n\tif (!list) { return null; }\n\treturn list.map(t => createElement(t.component, props, ...childNodes));\n}\n\nmSimple(InsertView);\nmName('InsertView', InsertView);\n","import InsertView from '../InsertView';\nimport { register } from './neep';\n\nexport default function installComponents() {\n\tregister('InsertView', InsertView);\n\tregister('insert-view', InsertView);\n}\n","import installContextConstructor from './installContextConstructor';\nimport installComponents from './installComponents';\n\nexport default function install(Neep: typeof import ('@neep/core')) {\n}\ninstallComponents();\ninstallContextConstructor();\n","import { Component, mName } from '@neep/core';\nimport install from './install';\nimport { encase } from './install/neep';\nimport InsertView from './InsertView';\n\nexport type InsertableComponent = string | Component<any, any>;\nexport interface Info {\n\tcomponent: InsertableComponent;\n\torder?: number;\n}\nexport type Item = [InsertableComponent, Info];\n\nclass Insertable {\n\treadonly parent?: Insertable;\n\tprivate _groups: {[key: string]: Readonly<Info>[]} = encase(Object.create(null));\n\tconstructor(parent?: Insertable) {\n\t\tif (parent instanceof Insertable) {\n\t\t\tthis.parent = parent;\n\t\t}\n\t}\n\tadd(\n\t\tname: string,\n\t\tcomponents: InsertableComponent | InsertableComponent[],\n\t\tinfo: Omit<Info, 'component'> | number = {},\n\t) {\n\t\tif (typeof info === 'number') { info = { order: info }; }\n\t\tconst groups = this._groups;\n\t\tif (!Array.isArray(components)) { components = [components]; }\n\t\tconst list = groups[name] ? [...groups[name]] : [];\n\t\tlist.push(...components.map(component => Object.freeze({\n\t\t\t...info as Omit<Info, 'component'>,\n\t\t\tcomponent,\n\t\t}) as Info));\n\t\tlist.sort(({order: a}, {order: b}) => (a || 0) - (b || 0));\n\t\tgroups[name] = list;\n\t}\n\tremove(name: string): void;\n\tremove(\n\t\tname: string,\n\t\tcomponent?: InsertableComponent,\n\t): void {\n\t\tconst groups = this._groups;\n\t\tconst oldList = groups[name];\n\t\tif (!oldList) { return; }\n\t\tif (!component) {\n\t\t\tgroups[name] = [];\n\t\t\treturn;\n\t\t}\n\t\tconst k = oldList.findIndex((t) => t.component === component);\n\t\tif (k < 0) { return; }\n\t\tconst list = [...oldList.slice(0, k), ...oldList.slice(k + 1)];\n\t\tgroups[name] = list;\n\t}\n\tset(\n\t\tname: string,\n\t\tcomponents: InsertableComponent | InsertableComponent[],\n\t\tinfo: Omit<Info, 'component'> | number = {},\n\t) {\n\t\tif (typeof info === 'number') { info = { order: info }; }\n\t\tconst groups = this._groups;\n\t\tif (!Array.isArray(components)) { components = [components]; }\n\t\tconst list = components.map(component => Object.freeze({\n\t\t\t...info as Omit<Info, 'component'>,\n\t\t\tcomponent,\n\t\t}) as Info);\n\t\tgroups[name] = list;\n\t}\n\tget(name: string, parent?: boolean | number): Readonly<Info>[] {\n\t\tconst groups = this._groups;\n\t\tconst list = groups[name] || [];\n\t\tif (!parent || !this.parent) { return [...list]; }\n\t\tconst parentList = this.parent.get(\n\t\t\tname,\n\t\t\ttypeof parent === 'number' ? parent - 1 : -1,\n\t\t);\n\t\tconst allList = [...parentList, ...list];\n\t\tif (list.length && parentList.length) {\n\t\t\tallList.sort(({order: a}, {order: b}) => (a || 0) - (b || 0));\n\t\t}\n\t\treturn allList;\n\t}\n\tget view() {\n\t\tconst view: Component = (props: {\n\t\t\tname?: string;\n\t\t\t[key: string]: any;\n\t\t}, ...p) =>\n\t\tInsertView({...props, insertable: this}, ...p);\n\t\tmName('Insertable', view);\n\t\tReflect.defineProperty(this, 'view', {\n\t\t\tvalue: view,\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t});\n\t\treturn view;\n\t}\n\tstatic get install() { return install; };\n\tstatic get View() { return InsertView; };\n\tstatic readonly version = '__VERSION__';\n}\nexport default Insertable;\n","import { create, mName } from '@neep/core';\nimport Insertable from '@neep/insertable';\n// 1. 定义组件。\n// 可以从其他文件 import 进来\nconst Com1 = create((props: any, {emit}, { createElement }) =>\n<div on-click={() => emit('click', '666')}>\n\t{props.customAttribute}组件1\n</div>);\nconst Com2 = create((p, {}, { createElement }) => <div>组件2</div>);\nconst Com3 = create((p, {}, { createElement }) => <div>组件3</div>);\nmName('Com1', Com1);\nmName('Com2', Com2);\nmName('Com3', Com3);\n\n// 2. 创建 insertable 实例\nconst insertable = new Insertable();\n\n// 3. 添加组件\ninsertable.add('insert1', Com1);\ninsertable.add('insert1', Com2);\n// 同一组件组件在同一名称下注册多次，将会被渲染多次\ninsertable.add('insert1', Com1);\n\ninsertable.add('insert2', Com3);\ninsertable.add('insert2', Com2);\ninsertable.add('insert2', Com1);\n// 普通的 html 标签也支持\ninsertable.add('insert2', 'div');\n\n(window as any).insertable = insertable;\nconst App = create((props, context, { createElement }) =>\n<Insertable.View insertable={insertable}>\n\t{/* 使用 insert-view 组件在插入注册的组件 */}\n\t{/* name 为注册的名称 */}\n\t{/* <insert-view /> 会渲染出指定注册名的所有组件 */}\n\t{/* <insert-view /> 会将属性及事件传递给组件 */}\n\t<insert-view name=\"insert1\" customAttribute=\"myValue\"></insert-view>\n\t{/* 渲染结果同下： */}\n\t{/* <Com1 name=\"insert1\" customAttribute=\"myValue\"></Com1> */}\n\t{/* <Com2 name=\"insert1\" customAttribute=\"myValue\"></Com2> */}\n\t{/* <Com1 name=\"insert1\" customAttribute=\"myValue\"></Com1> */}\n\t{/* 同一组件组件在同一名称下注册多次，将会被渲染多次 */}\n\n\t<hr />\n\n\t<insert-view name=\"insert2\" customAttribute=\"myValue\"></insert-view>\n\t{/* 渲染结果同下： */}\n\t{/* <Com3 name=\"insert2\" customAttribute=\"myValue\" class=\"a\"></Com3> */}\n\t{/* <Com2 name=\"insert2\" customAttribute=\"myValue\" class=\"a\"></Com2> */}\n\t{/* <Com1 name=\"insert2\" customAttribute=\"myValue\" class=\"a\"></Com1> */}\n\t{/* <div name=\"insert2\" customAttribute=\"myValue\" class=\"a\"></div> */}\n\t{/* 普通的 html 标签也支持 */}\n\n\t<hr />\n\n\t{/* <insert-view /> 如果被引入多次将会被渲染多次，，即便 name 相同 */}\n\t<insert-view name=\"insert1\"></insert-view>\n\t{/* 渲染结果同下： */}\n\t{/* <Com1 name=\"insert1\"></Com1> */}\n\t{/* <Com2 name=\"insert1\"></Com2> */}\n\t{/* <Com1 name=\"insert1\"></Com1> */}\n</Insertable.View>);\n\nmName('App', App);\n\nexport default App;\n","import { render } from '@neep/core';\nimport  '@neep/web-render';\nimport  '@neep/devtools';\nimport App from './App';\nrender(App).$mount();\n"],"names":["console","fn","printError","String","map","value","def","version","isProduction","process","Constant","Object","freeze","devtools","renderHook","installDevtools","tools","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable","NeepError","Error","constructor","message","tag","assert","v","nextFrameApi","nextFrame","renders","create","getRender","type","default","installRender","render","installMonitorable","api","install","apis","monitorable","getEventName","k","substr","test","addEventFromCollection","addEvent","events","names","Array","isArray","n","p","keys","f","EventEmitter","update","emitter","newHandles","push","on","updateInProps","props","custom","entName","listener","_names","Set","createEmit","omitNames","emit","name","event","res","omit","Reflect","get","markRead","filter","t","includes","_event","e","error","size","markChange","add","removed","delete","updateHandles","eventCancelHandles","_cancelHandles","oldHandles","clear","forEach","list","handles","components","register","component","isElementSymbol","Symbol","for","typeSymbol","nameSymbol","renderSymbol","componentsSymbol","configSymbol","Mark","symbol","mName","mSimple","c","r","ScopeSlot","SlotRender","Slot","Value","Container","Deliver","Template","Fragment","Tags","current","setCurrent","entity","oldEntity","$_valueIndex","ret","$_values","length","checkCurrent","initOnly","created","constructors","initContext","context","exposed","addContextConstructor","safeify","hooks","setHook","id","hook","$_hooks","set","callHook","watch","cb","stop","isValue","computed","s","useValue","index","values","undefined","setValue","opt","expose","deliver","delivered","Life","isElement","createElement","attrs","children","node","slot","ref","argv","args","elements","concat","simple","Element","label","setLabel","l","getLabel","label$1","text","color","Dev","auxiliary","encase","recover","ids","Nodes","IdMap","Map","createMountedNode","recoveryMountedNode","recursive2iterable","it","refList","setRefList","setRef","isRemove","getLastNode","tree","getFirstNode","getNodes","unmount","iRender","remove","replace","newTree","oldTree","next","parent","insert","updateList","source","createItem","newList","mountedMap","src","findIndex","old","item","updateItem","splice","has","last","i","o","updateAll","Math","min","max","createList","all","ltag","toLowerCase","draw","createValue","createAll","isNode","RegExp","Date","toISOString","placeholder","_source$children","mount","getSlots","slots","native","nativeList","ownKeys","el","renderSlots","createSlots","inserted","setSlots","disabledKey","updateProps","oldProps","define","isProps","newKeys","getComponents","Boolean","execSimple","nObject","slotMap","childNodes","refresh","valueifyProp","valueify","result","nodes","exec","renderNode","execSlot","_node$props","slotName","findComponent","components$1","newDelivered","$__neep__delivered","normalize","delayedRefresh","objectSet","wait","run","asyncRefresh","async","createExposed","cfg","$parent","_obj$parent","$component","$isContainer","$created","$destroyed","destroyed","$mounted","mounted","$unmounted","unmounted","completeList","setCompleteList","complete","createEntity","_obj$parent2","isContainer","h","bind","config","NeepObject","container","parentDelivered","canRefresh","_delayedRefresh","needRefresh","_needRefresh","requestDraw","_refreshing","_render","_nodes","convert","_update","_destroy","destroy","__executed_destroy","_mount","__executed_mount","exec$1","_cancelDrawMonitor","_unmount","__executed_mounted","_draw","_this$_cancelDrawMoni","call","nativeNodes","createContext","initRender","changed","resultOnly","createExecutable","stopRender","Entity","_this$iRender$compone","_this$iRender","assign","_shadow","_stopRender","markDraw","shadowTree","nativeTree","toElement","createItem$1","_source$props","Container$1","updateList$1","updateItem$1","_source$props2","createAll$1","updateAll$1","awaitDraw","requested","drawAll","rootContainer","setChildren","_drawChildren","setProps","_drawContainer","content","_node","_container","drawChildren","drawContainer","_this$parent","_drawSelf","_needDraw","_this$parent2","drawSelf","_this$parent3","_awaitDraw","markDrawContainer","needDraw","_containers","containers","refs","params","target","installNeep","install$1","getId","updateId","removeAttribute","getClass","split","classes","oClasses","getAttribute","classList","setAttribute","join","updateClass","class","getStyle","style","css","update$1","oStyle","cssText","removeProperty","setProperty","updateStyle","hasStyle","setAttrs","HTMLInputElement","checked","HTMLSelectElement","stringify","data","isOn","toString","JSON","getAttrs","update$2","updateAttrs","createEventEmitter","__eventBind","getElementModel","currentTarget","updateEvent","prop","eventBind","addEventListener","removeEventListener","PropsMap","WeakMap","update$3","CSSStyleDeclaration","window","requestAnimationFrame","fs","xmlnsMap","svg","html","mathml","SVGTags","MathMLTags","tagname","namespace","ns","document","createElementNS","Node","className","querySelector","appendChild","body","oldTarget","newNode","pNode","createTextNode","createComment","attachShadow","mode","parentNode","nextSibling","insertBefore","removeChild","install$2","Type","getTree","_component$exposed","$label","isNative","standard","treeValue","special","getValue","TextNode","getOptions","template","scopeSlot","slotRender","createTag","labels","opened","hasChildren","onclick","getList","options","App","creating","app","getData","$update","$mount","contextConstructor","__NeepInsertable__","installContextConstructor","InsertView","insertable","contextInsertable","Insertable","installComponents","Neep","info","order","groups","_groups","sort","a","b","oldList","slice","parentList","allList","view","View","Com1","customAttribute","Com2","Com3"],"mappings":"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"}