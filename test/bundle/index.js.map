{"version":3,"file":"index.js","sources":["../../../neep.js/packages/core/src/constant/info.ts","../../../neep.js/packages/core/src/install/devtools.ts","../../../neep.js/packages/core/src/Error.ts","../../../neep.js/packages/core/src/install/renderer.ts","../../../../monitorable.js/src/utils.ts","../../../../monitorable.js/src/mark.ts","../../../../monitorable.js/src/exec.ts","../../../../monitorable.js/src/monitor.ts","../../../../monitorable.js/src/value.ts","../../../../monitorable.js/src/valueExt.ts","../../../../monitorable.js/src/object.ts","../../../../monitorable.js/src/encase.ts","../../../neep.js/packages/core/src/install/monitorable.ts","../../../neep.js/packages/core/src/install/index.ts","../../../neep.js/packages/core/src/extends/use.ts","../../../neep.js/packages/core/src/extends/current.ts","../../../neep.js/packages/core/src/extends/hook.ts","../../../neep.js/packages/core/src/auxiliary/life/withWatch.ts","../../../neep.js/packages/core/src/auxiliary/life/withHook.ts","../../../neep.js/packages/core/src/constant/symbols.ts","../../../neep.js/packages/core/src/is.ts","../../../neep.js/packages/core/src/auxiliary/life/withDelivered.ts","../../../neep.js/packages/core/src/auxiliary/life/withRefresh.ts","../../../neep.js/packages/core/src/auxiliary/life/withParent.ts","../../../neep.js/packages/core/src/auxiliary/life/withChildren.ts","../../../neep.js/packages/core/src/auxiliary/life/withCallback.ts","../../../neep.js/packages/core/src/auxiliary/element/createElementBase.ts","../../../neep.js/packages/core/src/constant/tags.ts","../../../neep.js/packages/core/src/auxiliary/element/createTemplateElement.ts","../../../neep.js/packages/core/src/auxiliary/element/isElement.ts","../../../neep.js/packages/core/src/auxiliary/element/equal.ts","../../../neep.js/packages/core/src/auxiliary/element/isRenderElement.ts","../../../neep.js/packages/core/src/auxiliary/dev/withLabel.ts","../../../neep.js/packages/core/src/entity/id/index.ts","../../../neep.js/packages/core/src/entity/convert/toElement.ts","../../../neep.js/packages/core/src/entity/draw/create/drawPlaceholder.ts","../../../neep.js/packages/core/src/entity/draw/create/createItem.ts","../../../neep.js/packages/core/src/entity/draw/create/createList.ts","../../../neep.js/packages/core/src/entity/draw/create/createAll.ts","../../../neep.js/packages/core/src/entity/draw/unmount.ts","../../../neep.js/packages/core/src/entity/draw/update/getNodes.ts","../../../neep.js/packages/core/src/entity/draw/update/getFirstNode.ts","../../../neep.js/packages/core/src/entity/draw/update/drawReplace.ts","../../../neep.js/packages/core/src/entity/draw/update/getLastNode.ts","../../../neep.js/packages/core/src/entity/draw/update/updateItem.ts","../../../neep.js/packages/core/src/entity/draw/update/updateList.ts","../../../neep.js/packages/core/src/entity/draw/update/updateAll.ts","../../../neep.js/packages/core/src/entity/draw/index.ts","../../../neep.js/packages/core/src/entity/proxy/BaseProxy.ts","../../../neep.js/packages/core/src/entity/proxy/NodeProxy.ts","../../../neep.js/packages/core/src/extends/delayRefresh.ts","../../../neep.js/packages/core/src/extends/with.ts","../../../neep.js/packages/core/src/entity/slot.ts","../../../neep.js/packages/core/src/EventEmitter.ts","../../../neep.js/packages/core/src/entity/normalize/createSimpleEmit.ts","../../../neep.js/packages/core/src/entity/normalize/getComponents.ts","../../../neep.js/packages/core/src/entity/normalize/getNodeArray.ts","../../../neep.js/packages/core/src/register.ts","../../../neep.js/packages/core/src/entity/normalize/findComponent.ts","../../../neep.js/packages/core/src/entity/normalize/getChildren.ts","../../../neep.js/packages/core/src/entity/normalize/createSimpleSlots.ts","../../../neep.js/packages/core/src/entity/normalize/index.ts","../../../neep.js/packages/core/src/entity/proxy/ValueProxy.ts","../../../neep.js/packages/core/src/entity/proxy/DeliverProxy.ts","../../../neep.js/packages/core/src/entity/proxy/GroupProxy.ts","../../../neep.js/packages/core/src/entity/proxy/RefProxy.ts","../../../neep.js/packages/core/src/entity/proxy/ElementProxy.ts","../../../neep.js/packages/core/src/entity/proxy/CustomComponentProxy.ts","../../../neep.js/packages/core/src/entity/proxy/ShellProxy.ts","../../../neep.js/packages/core/src/entity/proxy/SlotProxy.ts","../../../neep.js/packages/core/src/entity/proxy/ComponentProxy.ts","../../../neep.js/packages/core/src/entity/proxy/RenderComponentProxy.ts","../../../neep.js/packages/core/src/entity/proxy/StandardComponentProxy.ts","../../../neep.js/packages/core/src/extends/recognizer.ts","../../../neep.js/packages/core/src/entity/convert/create/createProxy.ts","../../../neep.js/packages/core/src/entity/convert/create/createItem.ts","../../../neep.js/packages/core/src/entity/convert/create/createAll.ts","../../../neep.js/packages/core/src/entity/convert/destroy.ts","../../../neep.js/packages/core/src/entity/convert/update/updateItem.ts","../../../neep.js/packages/core/src/entity/convert/update/recursive2iterable.ts","../../../neep.js/packages/core/src/entity/convert/update/updateList.ts","../../../neep.js/packages/core/src/entity/convert/update/updateAll.ts","../../../neep.js/packages/core/src/entity/convert/index.ts","../../../neep.js/packages/core/src/extends/nextTick.ts","../../../neep.js/packages/core/src/entity/proxy/ContainerProxy.ts","../../../neep.js/packages/core/src/render.ts","../../../neep.js/packages/core/src/create.ts","../../../neep.js/packages/core/src/extends/proxy.ts","../../../neep.js/packages/core/src/additional/createElement.ts","../../../neep.js/packages/core/src/additional/useValue.ts","../../../neep.js/packages/core/src/additional/ref.ts","../../../neep.js/packages/core/src/additional/lazy.ts","../../../neep.js/packages/core/src/additional/createRenderElement.ts","../../../neep.js/packages/core/src/additional/elements.ts","../../../neep.js/packages/core/src/additional/isFragmentElement.ts","../../../neep.js/packages/core/src/additional/isSimpleElement.ts","../../../neep.js/packages/core/src/additional/withAncestor.ts","../../../neep.js/packages/renderer-html/src/renderer/createElement.ts","../../../neep.js/packages/renderer-html/src/renderer/createComponent.ts","../../../neep.js/packages/renderer-html/src/renderer/createPlaceholder.ts","../../../neep.js/packages/renderer-html/src/renderer/createText.ts","../../../neep.js/packages/renderer-html/src/renderer/getParent.ts","../../../neep.js/packages/renderer-html/src/renderer/insertNode.ts","../../../neep.js/packages/renderer-html/src/install/neep.ts","../../../neep.js/packages/renderer-html/src/renderer/updateProps/id.ts","../../../neep.js/packages/renderer-html/src/renderer/updateProps/class.ts","../../../neep.js/packages/renderer-html/src/renderer/updateProps/style.ts","../../../neep.js/packages/renderer-html/src/renderer/updateProps/attr.ts","../../../neep.js/packages/renderer-html/src/renderer/updateProps/event.ts","../../../neep.js/packages/renderer-html/src/renderer/updateProps/index.ts","../../../neep.js/packages/renderer-html/src/renderer/nextFrame.ts","../../../neep.js/packages/renderer-html/src/renderer/container/getTarget.ts","../../../neep.js/packages/renderer-html/src/renderer/container/mountContainer.ts","../../../neep.js/packages/renderer-html/src/renderer/container/unmountContainer.ts","../../../neep.js/packages/renderer-html/src/renderer/container/updateContainer.ts","../../../neep.js/packages/renderer-html/src/renderer/removeNode.ts","../../../neep.js/packages/renderer-html/src/renderer/container/getContainer.ts","../../../neep.js/packages/renderer-html/src/renderer/index.ts","../../../neep.js/packages/renderer-html/src/init/Container.ts","../../../neep.js/packages/renderer-html/src/install/init.ts","../../../neep.js/packages/renderer-html/src/install/install.ts","../../../devtools.js/src/types.ts","../../../devtools.js/src/install/neep.ts","../../../devtools.js/src/deliver.ts","../../../devtools.js/src/Panel/Tree/NodeTag.ts","../../../devtools.js/src/Panel/Tree/ValueTag.ts","../../../devtools.js/src/Panel/Tree/TreeNode.ts","../../../devtools.js/src/Panel/Tree/utils.ts","../../../devtools.js/src/Panel/Tree/index.ts","../../../devtools.js/src/Panel/utils.ts","../../../devtools.js/src/Panel/Attr/Prop.ts","../../../devtools.js/src/Panel/Attr/index.ts","../../../devtools.js/src/Panel/Settings/index.ts","../../../devtools.js/src/container.ts","../../../devtools.js/src/devtools/renderHook.ts","../../../devtools.js/src/devtools/index.ts","../../../devtools.js/src/install/install.ts","../../src/install/initDelivers.ts","../../src/install/initWith.ts","../../src/InsertView.ts","../../src/install/installComponents.ts","../../src/install/moduleList.ts","../../src/install/install.ts","../../src/constants.ts","../../src/Insertable.ts","../App.tsx","../index.tsx"],"sourcesContent":["/**\n * Global constant\n *\n * Will be replaced by the 'rollup-plugin-replace' plug-in\n */\n\n/**\n * Neep code version\n */\nexport const version = '__VERSION__' as string;\n/**\n * Is the current mode production mode\n * @description Support tree shaking\n */\nexport const isProduction = process.env.NODE_ENV === 'production';\n","import { Devtools } from '../types';\n\nexport const devtools: Devtools = {\n\trenderHook(){},\n};\n\nexport default function installDevtools(\n\ttools?: Partial<Devtools>,\n): void {\n\tif (!tools) { return; }\n\tif (typeof tools !== 'object') { return; }\n\tconst { renderHook } = tools;\n\tif (typeof renderHook === 'function') {\n\t\tdevtools.renderHook = renderHook;\n\t}\n}\n","export default class NeepError extends Error {\n\treadonly tag: string;\n\tconstructor(message: string, tag: string = '') {\n\t\tsuper(tag ? `[${ tag }] ${ message }` : message);\n\t\tthis.tag = tag;\n\t}\n}\nexport function assert(\n\tv: any,\n\tmessage: string | (() => string),\n\ttag?: string,\n): asserts v {\n\tif (v) { return; }\n\tif (typeof message === 'function') { message = message(); }\n\tthrow new NeepError(message, tag);\n}\n","import { IRenderer } from '../types';\nimport { assert } from '../Error';\n\nlet nextFrameApi: undefined | ((fn: () => void) => void);\nexport function nextFrame(fn: () => void): void {\n\tassert(nextFrameApi, 'The basic renderer is not installed', 'install');\n\tnextFrameApi(fn);\n}\n\nexport const renderers: Record<string, IRenderer>\n\t= Object.create(null);\n\nexport function getRender(\n\ttype: string | number | IRenderer = '',\n\tdef = renderers.default,\n): IRenderer {\n\tif (typeof type === 'object') { return type; }\n\treturn renderers[type] || def;\n}\n\nexport default function installRender(renderer?: IRenderer): void {\n\tif (!renderer) { return; }\n\trenderers[renderer.type] = renderer;\n\tif (nextFrameApi) { return; }\n\tif (!renderers.default) {\n\t\trenderers.default = renderer;\n\t}\n\tif (!nextFrameApi && renderer.nextFrame) {\n\t\trenderers.default = renderer;\n\t\tnextFrameApi = renderer.nextFrame.bind(renderer);\n\t}\n\n}\n","\nlet printErrorLog: undefined | ((info: any) => void);\n/** 打印错误 */\nexport function printError(info: any) {\n\tif (typeof printErrorLog === 'function') {\n\t\tprintErrorLog(info);\n\t\treturn;\n\t}\n\tconsole.error(info);\n}\n\nexport function setPrintError(p?: (info: any) => void) {\n\tprintErrorLog = typeof p === 'function' ? p : undefined;\n}\n\n/**\n * 判断对象是否可被代理\n */\nexport function encashable(v: any): v is object | Function {\n\treturn Boolean(v && ['object', 'function'].includes(typeof v));\n}\n\n\n/** 回调函数安全化处理 */\nexport function safeify<T extends any[]>(\n\tfn: (...p: T) => void\n): (...p: T) => void {\n\treturn (...p) => {\n\t\ttry {\n\t\t\tfn(...p);\n\t\t} catch(e) {\n\t\t\tprintError(e);\n\t\t}\n\t};\n}\n\n/** 回调函数安全化处理 */\nexport function safeCall(\n\tfn: () => void\n): void {\n\ttry {\n\t\tfn();\n\t} catch(e) {\n\t\tprintError(e);\n\t}\n}\nexport function getIndexes(\n\ttarget: any,\n\tprop: string | number | symbol | boolean,\n): [object | Function, string | boolean | symbol] | undefined {\n\tif (!target) { return undefined; }\n\tif (typeof target !== 'function' && typeof target !== 'object') {\n\t\treturn undefined;\n\t}\n\tif (typeof prop === 'number') { return [target, String(prop)]; }\n\tif (typeof prop === 'symbol') { return [target, prop]; }\n\tif (typeof prop === 'string') { return [target, prop]; }\n\tif (typeof prop === 'boolean') { return [target, prop]; }\n\treturn undefined;\n}\nexport function getMapValue<K, V>(\n\tmap: Map<K, V>,\n\tkey: K,\n\tdef: () => V,\n): V;\nexport function getMapValue<K extends object, V>(\n\tmap: WeakMap<K, V>,\n\tkey: K,\n\tdef: () => V,\n): V;\nexport function getMapValue<K, V>(\n\tmap: WeakMap<K & object, V> | Map<K, V>,\n\tkey: K,\n\tdef: () => V,\n): V {\n\tif (map.has(key as any)) {\n\t\treturn map.get(key as any)!;\n\t}\n\tconst value = def();\n\tmap.set(key as any, value);\n\treturn value;\n}\n","import { safeify, getMapValue, getIndexes } from './utils';\n\nexport type ReadMap = Map<\n\tobject | Function,\n\tMap<string | boolean | symbol, boolean>\n>;\n\n/** 已被读取的 */\nlet read: ReadMap | undefined;\n\n/**\n * 标记已读状态\n * @param obj  要标记的对象\n * @param prop 要标记的属性\n */\nexport function markRead(\n\ttarget: object | Function,\n\tprop: string | number | boolean | symbol,\n) {\n\tif (!read) { return; }\n\tconst indexes = getIndexes(target, prop);\n\tif (!indexes) { return; }\n\t[target, prop] = indexes;\n\tconst propMap = getMapValue(read, target, () => new Map());\n\tif (propMap.has(prop)) { return; }\n\tpropMap.set(prop, false);\n}\nexport interface ObserveOptions {\n\tpostpone?: boolean | 'priority';\n}\n/**\n * 监听函数的执行，并将执行过程中读取的对象值设置到 map 中\n * @param fn 要执行的含糊\n * @param map 用于存储被读取对象的 map\n */\nfunction observeRun<T>(\n\tmap: ReadMap,\n\tfn: () => T,\n\toptions?: ObserveOptions,\n): T {\n\tconst oldRead = read;\n\tread = map;\n\ttry {\n\t\tif (!options?.postpone) { return fn(); }\n\t\treturn postpone(fn, options.postpone === 'priority');\n\t} finally {\n\t\tread = oldRead;\n\t}\n}\nexport function observe<T>(\n\tmap: ReadMap,\n\tfn: () => T,\n\tpriority?: ObserveOptions,\n): T;\nexport function observe<T>(\n\tmap: ReadMap,\n\tpriority: ObserveOptions,\n\tf: () => T,\n): T;\nexport function observe<T>(\n\tmap: ReadMap,\n\tfn: (() => T) | ObserveOptions | undefined,\n\toptions?: (() => T) | ObserveOptions | undefined\n): T;\nexport function observe<T>(\n\tmap: ReadMap,\n\tfn: (() => T) | ObserveOptions | undefined,\n\toptions?: (() => T) | ObserveOptions | undefined\n): T {\n\n\tif (typeof fn === 'function') {\n\t\treturn observeRun(map, fn, options as ObserveOptions | undefined);\n\t}\n\tif (typeof options !== 'function') {\n\t\tthrow new Error('fn needs to be a function');\n\t}\n\treturn observeRun(map, options, fn);\n}\n\n\nconst watchList = new WeakMap<\n\tobject | Function,\n\tMap<string | boolean | symbol, Set<[() => void, boolean]>>\n>();\n\nfunction execWatch(\n\ttarget: object | Function,\n\tprop: string | boolean | symbol,\n\tfilter?: (isNonDeforred: boolean) => boolean,\n) {\n\tconst watch = watchList.get(target)?.get(prop);\n\tif (!watch) { return; }\n\tlet list = [...watch];\n\tif (filter) {\n\t\tlist = list.filter(([, t]) => filter(t));\n\t}\n\tlist.forEach(([w]) => w());\n}\n\ntype MarkMap = Map<\n\tobject | Function,\n\tSet<string | boolean | symbol>\n>;\nlet waitList: MarkMap | undefined;\n\nfunction runDeferred(list: MarkMap) {\n\tfor (const [target, set] of list.entries()) {\n\t\tconst propMap = read?.get(target);\n\t\tfor (const prop of set) {\n\t\t\texecWatch(target, prop, t => !t);\n\t\t\tif (propMap?.has(prop)) {\n\t\t\t\tpropMap.set(prop, true);\n\t\t\t}\n\t\t}\n\t}\n}\n\n\nfunction postponeRun<T>(f: () => T, priority?: boolean): T {\n\tconst list = !priority && waitList || new Map();\n\tconst old = waitList;\n\twaitList = list;\n\ttry {\n\t\treturn f();\n\t} finally {\n\t\twaitList = old;\n\t\tif (list !== waitList) { runDeferred(list); }\n\t}\n}\nexport function postpone<T>(priority: boolean, f: () => T): T;\nexport function postpone<T>(fn: () => T, priority?: boolean): T;\nexport function postpone<T>(\n\tfn: (() => T) | boolean | undefined,\n\tpriority?: (() => T) | boolean | undefined\n): T;\nexport function postpone<T>(\n\tfn: (() => T) | boolean | undefined,\n\tpriority?: (() => T) | boolean | undefined\n): T {\n\tif (typeof fn === 'function') {\n\t\treturn postponeRun(fn, priority as boolean | undefined);\n\t}\n\tif (typeof priority !== 'function') {\n\t\tthrow new Error('fn needs to be a function');\n\t}\n\treturn postponeRun(priority, fn);\n}\n\n\nfunction wait(\n\ttarget: object | Function,\n\tprop: string | boolean | symbol,\n) {\n\tif (!waitList) { return false; }\n\tgetMapValue(waitList, target, () => new Set()).add(prop);\n\treturn true;\n}\n\n/**\n * 标记属性的修改，同时触发监听函数\n * @param target 要标记的对象\n * @param prop   要标记的属性 特别的，false 表示原型，true 表示成员\n */\nexport function markChange(\n\ttarget: object | Function,\n\tprop: string | number | boolean | symbol,\n) {\n\n\tconst indexes = getIndexes(target, prop);\n\tif (!indexes) { return; }\n\t[target, prop] = indexes;\n\tif (wait(target, prop)) {\n\t\texecWatch(target, prop, Boolean);\n\t\treturn;\n\t}\n\texecWatch(target, prop);\n}\n\n/**\n * 观察对象属性的变化\n * @param target 要观察的对象\n * @param prop   要观察的属性名 特别的，false 表示原型，true 表示成员\n * @param fn     属性改变后触发的函数\n */\nexport function watchProp(\n\ttarget: object | Function,\n\tprop: string | number | boolean | symbol,\n\tcb: () => void,\n\tdisdeferable: boolean = false,\n): () => void {\n\tif (typeof cb !== 'function') { return  () => {}; }\n\tconst indexes = getIndexes(target, prop);\n\tif (!indexes) { return () => {}; }\n\t[target, prop] = indexes;\n\n\tconst key = prop;\n\tlet map = watchList.get(target);\n\tif (!map) {\n\t\tmap = new Map();\n\t\twatchList.set(target, map);\n\t}\n\tconst list = getMapValue(map, key, () => new Set());\n\tconst item: [() => void, boolean] = [safeify(cb), disdeferable];\n\tlist.add(item);\n\tlet removed = false;\n\treturn () => {\n\t\tif (removed) { return; }\n\t\tremoved = true;\n\n\t\t// 从当前列表中移除\n\t\tlist.delete(item);\n\n\t\t// 从属性关联中删除\n\t\tif (list.size) { return; }\n\t\tif (!map) { return; }\n\t\tmap.delete(key);\n\n\t\t// 映射列表中删除\n\t\tif (map.size) { return; }\n\t\twatchList.delete(target);\n\t};\n\n}\n","import { safeify } from './utils';\nimport { observe, watchProp, ReadMap, ObserveOptions } from './mark';\n\nexport interface ExecResult<T> {\n\tresult: T;\n\tstop(): void;\n}\nexport interface ExecOptions extends ObserveOptions {\n\tresultOnly?: boolean;\n\tdisdeferable?: boolean;\n}\nfunction run<T>(\n\tcb: (changed: boolean) => void,\n\tfn: (stop: () => void) => T,\n\toptions?: ExecOptions,\n): ExecResult<T> | T {\n\tcb = safeify(cb);\n\tlet cancelList: (() => void)[] | undefined;\n\tconst postpone = options?.postpone;\n\tlet end = false;\n\t/** 取消监听 */\n\tfunction cancel() {\n\t\tif (end) { return false; }\n\t\tend = true;\n\t\tif (!cancelList) { return true; }\n\t\tconst list = cancelList;\n\t\tcancelList = undefined;\n\t\tlist.forEach(f => f());\n\t\treturn true;\n\t}\n\tfunction trigger() {\n\t\tif (!cancel()) { return; }\n\t\tcb(true);\n\t};\n\tfunction run(thisRead: ReadMap) {\n\t\tif (end) { return false; }\n\t\tif (!thisRead.size) {\n\t\t\tend = true;\n\t\t\treturn cb(false);\n\t\t}\n\t\tconst list: [\n\t\t\tobject | Function,\n\t\t\tstring | boolean | symbol,\n\t\t][] = [];\n\t\tfor ( let [obj, props] of thisRead) {\n\t\t\tfor (const [p, m] of props) {\n\t\t\t\tif (m) { return cb(true); }\n\t\t\t\tlist.push([obj, p]);\n\t\t\t}\n\t\t}\n\t\tcancelList = list.map(\n\t\t\t([obj, p]) => watchProp(\n\t\t\t\tobj,\n\t\t\t\tp,\n\t\t\t\ttrigger,\n\t\t\t\toptions?.disdeferable,\n\t\t\t),\n\t\t);\n\t}\n\tfunction stop() {\n\t\tif (!cancel()) { return; }\n\t\tcb(false);\n\t};\n\tconst thisRead: ReadMap = new Map();\n\tconst result = observe(thisRead, () => fn(stop), { postpone });\n\trun(thisRead);\n\tif (options?.resultOnly) { return result; }\n\treturn { result, stop };\n}\n\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\nexport function exec<T>(\n\tcb: (changed: boolean) => void,\n\tfn: (stop: () => void) => T,\n\toptions?: ExecOptions & {resultOnly?: false},\n): ExecResult<T>;\nexport function exec<T>(\n\tcb: (changed: boolean) => void,\n\toptions: ExecOptions & {resultOnly?: false} | undefined,\n\tfn?: (stop: () => void) => T,\n): ExecResult<T>;\n\nexport function exec<T>(\n\tcb: (changed: boolean) => void,\n\tfn: (stop: () => void) => T,\n\toptions: ExecOptions & {resultOnly: true},\n): T;\nexport function exec<T>(\n\tcb: (changed: boolean) => void,\n\toptions: ExecOptions & {resultOnly: true},\n\tfn: (stop: () => void) => T,\n): T;\n\nexport function exec<T>(\n\tcb: (changed: boolean) => void,\n\tfn: (stop: () => void) => T,\n\toptions?: ExecOptions,\n): ExecResult<T> | T;\nexport function exec<T>(\n\tcb: (changed: boolean) => void,\n\toptions: ExecOptions | undefined,\n\tfn: (stop: () => void) => T,\n): ExecResult<T> | T;\n\nexport function exec<T>(\n\tcb: (changed: boolean) => void,\n\tfn: ((stop: () => void) => T) | ExecOptions | undefined,\n\toptions?: ((stop: () => void) => T) | ExecOptions | undefined,\n): ExecResult<T> | T  {\n\tif (typeof cb !== 'function') {\n\t\tthrow new Error('cb needs to be a function');\n\t}\n\tif (typeof fn === 'function') {\n\t\treturn run(cb, fn, options as ExecOptions | undefined);\n\t}\n\tif (typeof options !== 'function') {\n\t\tthrow new Error('fn needs to be a function');\n\t}\n\treturn run(cb, options, fn);\n}\n","import { safeify } from './utils';\nimport { observe, watchProp, ReadMap, ObserveOptions } from './mark';\n\nexport interface Monitored<T, P extends any[] = []> {\n\t(...p: P): T;\n\tstop(): void;\n}\nexport interface MonitorOptions extends ObserveOptions {\n\tdisdeferable?: boolean;\n}\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\nfunction create<T, P extends any[] = []>(\n\tcb: (changed: boolean) => void,\n\tfn: (...p: P) => T,\n\toptions?: MonitorOptions,\n): Monitored<T, P> {\n\tcb = safeify(cb);\n\tlet cancelList: (() => void)[] | undefined;\n\t/** 取消监听 */\n\tfunction cancel() {\n\t\tif (!cancelList) { return false; }\n\t\tconst list = cancelList;\n\t\tcancelList = undefined;\n\t\tlist.forEach(f => f());\n\t\treturn true;\n\t}\n\tfunction trigger() {\n\t\tif (!cancel()) { return; }\n\t\tcb(true);\n\t};\n\tfunction run(thisRead: ReadMap) {\n\t\tif (!thisRead.size) {\n\t\t\treturn cb(false);\n\t\t}\n\t\tconst list: [\n\t\t\tobject | Function,\n\t\t\tstring | boolean | symbol,\n\t\t][] = [];\n\t\tfor ( let [obj, props] of thisRead) {\n\t\t\tfor (const [p, m] of props) {\n\t\t\t\tif (m) { return cb(true); }\n\t\t\t\tlist.push([obj, p]);\n\t\t\t}\n\t\t}\n\t\tcancelList = list.map(\n\t\t\t([obj, p]) => watchProp(\n\t\t\t\tobj,\n\t\t\t\tp,\n\t\t\t\ttrigger,\n\t\t\t\toptions?.disdeferable,\n\t\t\t),\n\t\t);\n\t}\n\tfunction exec(...p: P) {\n\t\tcancel();\n\t\tconst thisRead: ReadMap = new Map();\n\t\tconst result = observe(thisRead, () => fn(...p), options);\n\t\trun(thisRead);\n\t\treturn result;\n\t}\n\texec.stop = () => {\n\t\tif (!cancel()) { return; }\n\t\tcb(false);\n\t};\n\treturn exec;\n}\n\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\nexport function monitor<T, P extends any[] = []>(\n\tcb: (changed: boolean) => void,\n\tfn: (...p: P) => T,\n\toptions?: MonitorOptions,\n): Monitored<T, P>\nexport function monitor<T, P extends any[] = []>(\n\tcb: (changed: boolean) => void,\n\toptions: MonitorOptions | undefined,\n\tfn: (...p: P) => T,\n): Monitored<T, P>;\nexport function monitor<T, P extends any[] = []>(\n\tcb: (changed: boolean) => void,\n\tfn: ((...p: P) => T) | MonitorOptions | undefined,\n\toptions?: ((...p: P) => T) | MonitorOptions,\n): Monitored<T, P>;\nexport function monitor<T, P extends any[] = []>(\n\tcb: (changed: boolean) => void,\n\tfn: ((...p: P) => T) | MonitorOptions | undefined,\n\toptions?: ((...p: P) => T) | MonitorOptions,\n): Monitored<T, P> {\n\tif (typeof fn === 'function') {\n\t\treturn create(cb, fn, options as MonitorOptions | undefined);\n\t}\n\tif (typeof options !== 'function') {\n\t\tthrow new Error('fn needs to be a function');\n\t}\n\treturn create(cb, options, fn);\n}\n","import { safeCall } from './utils';\nimport { markRead, markChange, watchProp } from './mark';\nimport { monitor } from './monitor';\n\n/** 取消监听的方法 */\nexport interface CancelWatch {\n\t(): void;\n}\n/** 监听函数 */\nexport interface WatchCallback<T, V extends Value<T> = Value<T>> {\n\t(v: V, stopped: boolean): void;\n}\n/** 可监听值 */\nexport interface Value<T> {\n\t(): T;\n\t(v: T, mark?: boolean): T;\n\tvalue: T;\n\twatch(cb: WatchCallback<T, this>, disdeferable?: boolean): CancelWatch;\n\tstop(): void;\n\ttoString(...p: T extends {toString(...p: infer P): string} ? P : any): string;\n\tvalueOf(): T extends {valueOf(): infer R} ? R : T;\n}\nconst valueSignKey = '__$$__monitorable_value__$$__';\nexport function isValue(x: any): x is Value<any> {\n\treturn Boolean(typeof x === 'function' && x[valueSignKey]);\n}\n/** 触发监听 */\ninterface Trigger {\n\t(): void;\n\t/** 是否存在监听函数 */\n\thas(): boolean;\n\t/** 停止监听 */\n\tstop(): void;\n}\n\n\nfunction valueOf<T>(this: Value<T>) {\n\tconst value = this();\n\tif (value === undefined) { return value; }\n\tif (value === null) { return value; }\n\treturn (value as any).valueOf();\n}\nfunction toString<T>(this: Value<T>, ...p: any) {\n\tconst value = this();\n\tif (value === undefined) { return String(value); }\n\tif (value === null) { return String(value); }\n\tif (typeof (value as any).toString === 'function') {\n\t\treturn (value as any).toString(...p);\n\t}\n\treturn String(value);\n}\nfunction toPrimitive<T>(this: Value<T>, hint?: 'string' | 'number' | 'default') {\n\tconst value = this();\n\tif (value === undefined) { return String(value); }\n\tif (value === null) { return String(value); }\n\tif (typeof (value as any)[Symbol.toPrimitive] === 'function') {\n\t\treturn (value as any)[Symbol.toPrimitive](hint);\n\t}\n\tif (hint === 'string') {\n\t\treturn String(value);\n\t}\n\tif (hint === 'number') {\n\t\treturn Number(value);\n\t}\n\treturn value;\n}\n\nfunction createValue<T, V extends Value<T> = Value<T>>(\n\trecover: () => T,\n\tsetValue?: (value: T, markChange: () => void) => void,\n\tstop: () => void = () => {},\n\tchange: () => void = () => {},\n): {value: V, trigger: Trigger} {\n\tfunction set(v: T, marked = false) {\n\t\tif (!setValue) { return; }\n\t\ttry {\n\t\t\tsetValue(v, () => { marked = true; });\n\t\t} finally {\n\t\t\tif (marked) {\n\t\t\t\ttrigger();\n\t\t\t}\n\t\t}\n\t}\n\tfunction get() {\n\t\tmarkRead(value, 'value');\n\t\treturn recover();\n\t}\n\tconst value: V = ((...v: [T] | [T, boolean] | []): T => {\n\t\tif (v.length) {\n\t\t\tset(v[0], v[1]);\n\t\t\treturn v[0];\n\t\t}\n\t\treturn get();\n\t}) as V;\n\tReflect.defineProperty(value, 'value', {\n\t\tget,\n\t\tset,\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n\tReflect.defineProperty(value, 'valueOf', {\n\t\tvalue: valueOf,\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n\tReflect.defineProperty(value, 'toString', {\n\t\tvalue: toString,\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n\n\tReflect.defineProperty(value, Symbol.toPrimitive, {\n\t\tvalue: toPrimitive,\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n\n\tlet stopList: Set<() => void> | undefined = new Set();\n\tfunction watch(\n\t\tcb: WatchCallback<T, V>,\n\t\tdisdeferable?: boolean,\n\t): () => void {\n\t\tif (!stopList) { return () => {}; }\n\t\tconst cancel = watchProp(\n\t\t\tvalue,\n\t\t\t'value',\n\t\t\t() => cb(value, false),\n\t\t\tdisdeferable,\n\t\t);\n\t\tlet cancelled = false;\n\t\tconst stop = () => {\n\t\t\tif (cancelled) { return; }\n\t\t\tcancelled = true;\n\t\t\tif (stopList) { stopList.delete(stop); }\n\t\t\tcancel();\n\t\t\tsafeCall(() => cb(value, true));\n\t\t};\n\t\tstopList.add(stop);\n\t\tchange();\n\t\treturn () => {\n\t\t\tif (cancelled) { return; }\n\t\t\tcancelled = true;\n\t\t\tif (stopList) { stopList.delete(stop); }\n\t\t\tcancel();\n\t\t\tchange();\n\t\t};\n\t}\n\tReflect.defineProperty(value, 'watch', {\n\t\tget() { return watch; },\n\t\tset() {},\n\t\tconfigurable: true,\n\t});\n\tconst trigger = (() => markChange(value, 'value')) as Trigger;\n\ttrigger.has = () => Boolean(stopList?.size);\n\ttrigger.stop = () => {\n\t\tif (!stopList) { return; }\n\t\tconst list = stopList;\n\t\tstopList = undefined;\n\t\tfor (const stop of [...list]) {\n\t\t\tstop();\n\t\t}\n\t};\n\tReflect.defineProperty(value, valueSignKey, { value: true, configurable: true });\n\tlet stopped = false;\n\tvalue.stop = () => {\n\t\tif (stopped) { return; }\n\t\tstopped = true;\n\t\tstop();\n\t\ttrigger.stop();\n\n\t};\n\treturn {value, trigger};\n}\n/**\n * 创建引用值\n * @param value 初始值\n * @param options 选项\n */\nexport function value<T>(def: T): Value<T> {\n\tlet source: T;\n\tlet proxyValue: T;\n\tconst { value } = createValue<T>(\n\t\t() => proxyValue,\n\t\t(v, mark) => {\n\t\t\tif (v === source) { return; }\n\t\t\tsource = v;\n\t\t\tproxyValue = source;\n\t\t\tmark();\n\t\t},\n\t);\n\tvalue(def);\n\treturn value;\n}\n\nexport interface ComputedOptions {\n\tpostpone?: boolean | 'priority';\n\tdeferable?: boolean;\n}\n/**\n * 创建计算值\n * @param getter 取值方法\n * @param options 选项\n */\nexport function computed<T>(\n\tgetter: () => T,\n\toptions?: ComputedOptions,\n): Value<T>;\n/**\n * 创建可赋值计算值\n * @param getter 取值方法\n * @param setter 复制方法\n * @param options 选项\n */\nexport function computed<T>(\n\tgetter: () => T,\n\tsetter: (value: T) => void,\n\toptions?: ComputedOptions,\n): Value<T>;\nexport function computed<T>(\n\tgetter: () => T,\n\tsetter?: ((value: T) => void) | ComputedOptions,\n\toptions?: ComputedOptions,\n): Value<T>;\nexport function computed<T>(\n\tgetter: () => T,\n\tsetter?: ((value: T) => void) | ComputedOptions,\n\toptions?: ComputedOptions,\n): Value<T> {\n\tif (typeof setter !== 'function') {\n\t\toptions = setter;\n\t\tsetter = undefined;\n\t}\n\tconst setValue = setter;\n\tconst postpone = options?.postpone;\n\tconst deferable = options?.deferable;\n\tlet source: T;\n\tlet proxyValue: T;\n\tlet stopped = false;\n\tlet computed = false;\n\tlet trigger: Trigger | undefined;\n\tconst executable = monitor(changed => {\n\t\tcomputed = !changed;\n\t\tif (changed  && trigger) {\n\t\t\ttrigger();\n\t\t}\n\t}, getter, { postpone, disdeferable: !deferable });\n\tfunction run() {\n\t\tcomputed = true;\n\t\ttry {\n\t\t\tsource = executable();\n\t\t\tproxyValue = source;\n\t\t\treturn proxyValue;\n\t\t} catch(e) {\n\t\t\tif (!stopped) {\n\t\t\t\tcomputed = false;\n\t\t\t}\n\t\t\tthrow e;\n\t\t}\n\t}\n\tlet value: Value<T>;\n\t({value, trigger} = createValue<T, Value<T>>(\n\t\t() => computed || stopped ? proxyValue : run(),\n\t\tsetValue && (v => setValue(v)),\n\t\t() => {\n\t\t\tif (stopped) { return; }\n\t\t\tstopped = true;\n\t\t\tif (computed) { return; }\n\t\t\trun();\n\t\t},\n\t));\n\treturn value;\n\n}\n","import {\n\tValue,\n\tcomputed,\n\tisValue,\n} from './value';\n\nexport type DeValue<T> = T extends Value<infer V> ? V : T;\nexport type EnValue<T> = Value<DeValue<T>>;\n\nexport interface Valueify<T> {\n\t<K extends keyof T>(\n\t\tkey: K,\n\t\tdef?: Value<DeValue<T[K]> | undefined>,\n\t\tset?: (value: DeValue<T[K]>, setted: boolean) => void\n\t): Value<DeValue<T[K]> | undefined>\n}\n\nfunction createValue<T, K extends keyof T>(\n\tprops: T,\n\tkey: K,\n\tdef?: Value<DeValue<T[K]> | undefined>,\n\tset?: (value: DeValue<T[K]>, setted: boolean) => void,\n): Value<DeValue<T[K]> | undefined> {\n\tfunction setValue(value: DeValue<T[K]>, setted: boolean): void {\n\t\tif (!set) { return; }\n\t\tset(value, setted);\n\t}\n\treturn computed(() => {\n\t\tconst p = props[key];\n\t\tif (p === undefined && def) { return def(); }\n\t\treturn isValue(p) ? p() : p;\n\t}, v => {\n\t\tconst p = props[key];\n\t\tif (isValue(p)) {\n\t\t\tp(v);\n\t\t\tsetValue(v, true);\n\t\t\treturn;\n\t\t}\n\t\tif (p === undefined && def) { def(v); }\n\t\tsetValue(v, false);\n\t});\n}\nexport function valueify<T extends object>(props: T): Valueify<T>;\nexport function valueify<T extends object, K extends keyof T>(\n\tprops: T,\n\tkey: K,\n\tdef?: Value<DeValue<T[K]> | undefined>,\n\tset?: (value: DeValue<T[K]>, setted: boolean) => void,\n): Value<DeValue<T[K]> | undefined>;\nexport function valueify<T extends object, K extends keyof T>(\n\tprops: T,\n\tkey: K[],\n\tdef?: (key: K) => Value<DeValue<T[K]> | undefined>,\n\tset?: (value: DeValue<T[K]>, setted: boolean, key: K) => void,\n): {[k in K]: Value<DeValue<T[k]> | undefined>};\nexport function valueify<T extends object, K extends keyof T>(\n\tprops: T,\n\tkey?: K | K[],\n\tdef?: (key: K) => Value<DeValue<T[K]> | undefined>,\n\tset?: (value: DeValue<T[K]>, setted: boolean, key?: K) => void\n): Valueify<T>\n| Value<DeValue<T[K]> | undefined>\n| {[k in K]: Value<DeValue<T[k]> | undefined>} {\n\tif (!key) {\n\t\treturn (k, d, s) => createValue(props, k, d, s);\n\t}\n\tif (!Array.isArray(key)) {\n\t\treturn createValue(\n\t\t\tprops,\n\t\t\tkey,\n\t\t\tdef as Value<DeValue<T[K]> | undefined>,\n\t\t\tset,\n\t\t);\n\t}\n\tconst r = Object.create(null);\n\tfor (const k of key) {\n\t\tconst value = createValue(\n\t\t\tprops,\n\t\t\tk,\n\t\t\tdef && def(k),\n\t\t\tset && ((v, s) => set!(v, s, k))\n\t\t);\n\t\tReflect.defineProperty(props, k, {\n\t\t\tget() { return value(); },\n\t\t\tset(v) { value.value = v; },\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t});\n\t}\n\treturn r;\n}\nexport function mixValue<T extends object, K extends keyof T>(\n\tsource: T,\n\tprops = Reflect.ownKeys(source) as K[] | {\n\t\t[k in K]?: Value<DeValue<T[k]> | undefined>;\n\t},\n\tset?: (value: DeValue<T[K]>, key?: K) => void\n): { [k in keyof T]: k extends K ? DeValue<T[k]> : T[k]; } {\n\tconst p = Object.create(source);\n\tfunction setValue(value: DeValue<T[K]>, key: K): void {\n\t\tif (!set) { return; }\n\t\tset(value, key);\n\t}\n\tconst keys = (Array.isArray(props) ? props : Reflect.ownKeys(props)) as K[];\n\tconst values = Array.isArray(props) ? source : props;\n\tfor (const key of keys) {\n\t\tconst value = values[key];\n\t\tif (!isValue(value)) { continue; }\n\t\tReflect.defineProperty(p, key, {\n\t\t\tget() { return value(); },\n\t\t\tset(v) { value.value = v; setValue(v, key); },\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t});\n\t}\n\treturn p;\n}\n\nexport interface AsValue<T> {\n\t<K extends keyof T>(key: K): EnValue<T[K]>\n}\n\nfunction createAsValue<T, K extends keyof T>(\n\tprops: T,\n\tkey: K,\n): EnValue<T[K]> {\n\treturn computed(() => {\n\t\tconst p = props[key];\n\t\treturn isValue(p) ? p() : p;\n\t}, v => {\n\t\tconst p = props[key];\n\t\tif (isValue(p)) {\n\t\t\tp(v);\n\t\t} else {\n\t\t\tprops[key] = v;\n\t\t}\n\t});\n}\nexport function asValue<T>(props: T): AsValue<T>;\nexport function asValue<T, K extends keyof T>(\n\tprops: T,\n\tkey: K,\n): EnValue<T[K]>;\nexport function asValue<T, K extends keyof T>(\n\tprops: T,\n\tkey?: K,\n): AsValue<T> | EnValue<T[K]> {\n\tif (arguments.length >= 2) {\n\t\treturn createAsValue(props, key!);\n\t}\n\treturn k => createAsValue(props, k);\n}\n","import { markChange, markRead } from './mark';\nexport function defineProperty<\n\tT extends object,\n\tK extends keyof T,\n\tV extends T[K]\n>(obj: T, key: K, val: V): boolean {\n\treturn Reflect.defineProperty(obj, key, {\n\t\tget() {\n\t\t\tmarkRead(obj, key);\n\t\t\treturn val;\n\t\t},\n\t\tset(v) {\n\t\t\tif (v === val) { return; }\n\t\t\tval = v;\n\t\t\tmarkChange(obj, key);\n\t\t},\n\t\tconfigurable: true,\n\t\tenumerable: true,\n\t});\n}\nexport function createObject<T extends object>(\n\tkeys: (keyof T)[],\n\tbase: T | null = {} as T,\n\tcreate?: boolean\n): T {\n\tconst obj = create || base === null ? Object.create(base) : base;\n\tfor (const key of keys) {\n\t\tlet val = obj[key];\n\t\tReflect.defineProperty(obj, key, {\n\t\t\tget() {\n\t\t\t\tmarkRead(obj, key);\n\t\t\t\treturn val;\n\t\t\t},\n\t\t\tset(v) {\n\t\t\t\tif (v === val) { return; }\n\t\t\t\tval = v;\n\t\t\t\tmarkChange(obj, key);\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t});\n\t}\n\treturn obj;\n}\n\nexport function get<\n\tT extends object,\n\tK extends keyof T,\n>(obj: T, key: K): T[K] {\n\tmarkRead(obj, key);\n\treturn obj[key];\n}\n\nexport function set<\n\tT extends object,\n\tK extends keyof T,\n\tV extends T[K]\n>(obj: T, key: K, v: V): V {\n\tif (v === obj[key]) { return v; }\n\tobj[key] = v;\n\tmarkChange(obj, key);\n\treturn v;\n}\n","import { markChange, markRead } from './mark';\n\n/**\n * 判断对象是否可被代理\n */\nfunction encashable(v: any): v is object | Function {\n\treturn Boolean(v && ['object', 'function'].includes(typeof v));\n}\n\nlet getValue: any;\n/**\n * 获取被代理对象\n * @param obj  要被代理的对象\n * @param nest 递归代理的层数\n */\nexport function encase<T>(value: T, nest: number | boolean = 0): T {\n\tif (!encashable(value)) { return value; }\n\tconst original = recover(value);\n\tconst nestLayer: number = nest === true ? Infinity : nest || 0;\n\tconst proxy = new Proxy(original, {\n\t\tset(target, prop, value, receiver) {\n\t\t\tif (nest === false) {\n\t\t\t\treturn Reflect.set(target, prop, value, receiver);\n\t\t\t}\n\t\t\tconst has = Reflect.has(target, prop);\n\t\t\tconst old = Reflect.get(target, prop, receiver);\n\t\t\tconst modified =\n\t\t\t\tReflect.set(target, prop, value, encase(receiver));\n\t\t\tif (!modified) { return modified; }\n\t\t\tif (has !== Reflect.has(target, prop)) {\n\t\t\t\tmarkChange(receiver, true);\n\t\t\t}\n\t\t\tif (old !== Reflect.get(target, prop, receiver)) {\n\t\t\t\tmarkChange(receiver, prop);\n\t\t\t}\n\t\t\treturn modified;\n\t\t},\n\t\tget(target, prop, receiver) {\n\t\t\tif (getValue === proxy) {\n\t\t\t\tif (prop === '__monitorable__recover__') {\n\t\t\t\t\tgetValue = original;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nest === false) {\n\t\t\t\treturn Reflect.get(target, prop, receiver);\n\t\t\t}\n\t\t\tmarkRead(receiver, prop);\n\t\t\tconst value = Reflect.get(target, prop, encase(receiver));\n\t\t\tif (nestLayer > 0) { return encase(value, nestLayer - 1); }\n\t\t\treturn value;\n\t\t},\n\t\tsetPrototypeOf(target, proto) {\n\t\t\tif (nest === false) {\n\t\t\t\treturn Reflect.setPrototypeOf(target, proto);\n\t\t\t}\n\t\t\tconst oldProto = Reflect.getPrototypeOf(target);\n\t\t\tconst modified = Reflect.setPrototypeOf(target, proto);\n\t\t\tif (modified && oldProto !== proto) {\n\t\t\t\tmarkChange(target, false);\n\t\t\t\tmarkChange(proxy, false);\n\t\t\t}\n\t\t\treturn modified;\n\t\t},\n\t\tgetPrototypeOf(target) {\n\t\t\tif (nest === false) {\n\t\t\t\treturn Reflect.getPrototypeOf(target);\n\t\t\t}\n\t\t\tmarkRead(target, false);\n\t\t\tmarkRead(proxy, false);\n\t\t\tconst value: any = Reflect.getPrototypeOf(target);\n\t\t\tif (nestLayer > 0) {\n\t\t\t\treturn encase(value, nestLayer - 1);\n\t\t\t}\n\t\t\treturn value;\n\t\t},\n\t\tdefineProperty(target, prop, attr) {\n\t\t\tif (nest === false) {\n\t\t\t\treturn Reflect.defineProperty(target, prop, attr);\n\t\t\t}\n\t\t\tlet changed = true;\n\t\t\tif ('value' in attr) {\n\t\t\t\tconst desc =\n\t\t\t\t\tReflect.getOwnPropertyDescriptor(target, prop);\n\t\t\t\tif (\n\t\t\t\t\tdesc && 'value' in desc\n\t\t\t\t\t&& recover(attr.value) === recover(desc.value)) {\n\t\t\t\t\tchanged = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst modified = Reflect.defineProperty(target, prop, attr);\n\t\t\tif (changed && modified) {\n\t\t\t\tmarkChange(target, prop);\n\t\t\t\tmarkChange(proxy, prop);\n\t\t\t}\n\t\t\treturn modified;\n\t\t},\n\t\tgetOwnPropertyDescriptor(target, prop) {\n\t\t\tif (nest === false) {\n\t\t\t\treturn Reflect.getOwnPropertyDescriptor(target, prop);\n\t\t\t}\n\t\t\tmarkRead(target, prop);\n\t\t\tmarkRead(proxy, prop);\n\t\t\treturn Reflect.getOwnPropertyDescriptor(target, prop);\n\t\t},\n\t\tdeleteProperty(target, prop) {\n\t\t\tif (nest === false) {\n\t\t\t\treturn Reflect.deleteProperty(target, prop);\n\t\t\t}\n\t\t\tconst has = Reflect.has(target, prop);\n\t\t\tconst deleted = Reflect.deleteProperty(target, prop);\n\t\t\tif (has && !Reflect.has(target, prop)) {\n\t\t\t\tmarkChange(target, prop);\n\t\t\t\tmarkChange(target, true);\n\t\t\t\tmarkChange(proxy, prop);\n\t\t\t\tmarkChange(proxy, true);\n\t\t\t}\n\t\t\treturn deleted;\n\t\t},\n\t\townKeys(target) {\n\t\t\tif (nest === false) { return Reflect.ownKeys(target); }\n\t\t\tmarkRead(target, true);\n\t\t\tmarkRead(proxy, true);\n\t\t\treturn Reflect.ownKeys(target);\n\t\t},\n\t\thas(target, prop) {\n\t\t\tif (nest === false) { return Reflect.has(target, prop); }\n\t\t\tmarkRead(target, true);\n\t\t\tmarkRead(proxy, true);\n\t\t\treturn Reflect.has(target, prop);\n\t\t},\n\t});\n\treturn proxy;\n}\n/** 获取被代理的原始值 */\nexport function recover<T>(v: T): T {\n\tif (!v) { return v; }\n\tif (!encashable(v)) { return v; }\n\tlet value = v;\n\ttry {\n\t\tgetValue = v;\n\t\tvalue = (v as any).__monitorable__recover__;\n\t} catch {}\n\tvalue = getValue;\n\tgetValue = false;\n\tif (!value) { return v; }\n\tif (typeof value === 'object') { return value; }\n\tif (typeof value === 'function') { return value; }\n\treturn v;\n}\nexport function equal(a: any, b: any): boolean {\n\treturn recover(a) === recover(b);\n}\n","export {\n\tprintError, safeify,\n\tmarkRead, markChange, postpone,\n\texec, monitor,\n\tvalue, computed, isValue, valueify, asValue, mixValue,\n\tdefineProperty, createObject, get, set,\n\tencase,\n} from 'monitorable';\n\n\nexport default function installMonitorable(\n\tapi?: typeof import('monitorable'),\n): void {\n}\n","import { IRenderer, Devtools } from '../types';\nimport { isProduction } from '../constant/info';\nimport installDevtools from './devtools';\nimport installRender from './renderer';\nimport installMonitorable from './monitorable';\n\n\nexport * from './devtools';\nexport * from './renderer';\n\nfunction install(apis: install.Option): void {\n\tinstallMonitorable(apis.monitorable);\n\tinstallRender(apis.renderer);\n\tif (!isProduction) {\n\t\tinstallDevtools(apis.devtools);\n\t}\n}\n\n\ndeclare namespace install {\n\texport interface Option {\n\t\tmonitorable?: typeof import('monitorable');\n\t\trenderer?: IRenderer;\n\t\tdevtools?: Devtools;\n\t}\n\n}\nexport default install;\n","import { isProduction } from '../constant/info';\nimport { assert } from '../Error';\nimport { UseData } from '../types';\n\nexport interface HookState {\n\tlist: UseData[] | undefined;\n\tisInit: boolean;\n\troot?: UseData[];\n\truns?: UseData[];\n}\n\nconst destroyFns: Record<number, (c: any) => void> = Object.create(null);\nlet nextId = 1;\n\n\nlet isInit = false;\nlet hookList: UseData[] | undefined;\nlet root: UseData[] | undefined;\nlet runs: UseData[] | undefined;\n\n\nexport function hookSafe(): void {\n\tassert(\n\t\tisInit || !hookList || !hookList.length,\n\t\t'Inconsistent number of useService executions',\n\t\t'life',\n\t);\n}\n\nexport function initHook(init: boolean, useData?: UseData[]): HookState {\n\tconst state: HookState = isProduction\n\t\t? { list: hookList, isInit }\n\t\t: { list: hookList, isInit, root, runs };\n\tif (!useData) {\n\t\tisInit = false;\n\t\thookList = undefined;\n\t\tif (!isProduction) {\n\t\t\troot = [];\n\t\t\truns = [];\n\t\t}\n\t\treturn state;\n\t}\n\tisInit = init;\n\thookList = init ? useData : [...useData];\n\tif (!isProduction) {\n\t\troot = useData;\n\t\truns = [];\n\t}\n\treturn state;\n}\nexport function restoreHookState(state: HookState): void {\n\tif (isProduction) {\n\t\t({ list: hookList, isInit } = state);\n\t} else {\n\t\t({ list: hookList, isInit, root, runs } = state);\n\t}\n}\nfunction printError(item?: UseData, isEnd?: boolean): string {\n\tif (isProduction) {\n\t\t// TODO\n\t} else {\n\t\t// TODO\n\t}\n\treturn '';\n}\nexport function createUse<T, P extends any[]>(p: {\n\tname: string,\n\tcreate?: (...p: P) => T,\n\texec?: undefined,\n\tdestroy?: ((c: T) => void),\n}): (...p: P) => T;\nexport function createUse<T, P extends any[], R>(p: {\n\tname: string,\n\tcreate?: (...p: P) => T,\n\texec: (c: T, ...p: P) => R,\n\tdestroy?: ((c: T) => void),\n}): (...p: P) => R;\nexport function createUse<T, P extends any[], R>({\n\tname,\n\tcreate = () => ({}) as T,\n\tdestroy,\n\texec = ((v: any) => v) as any,\n}: {\n\tname: string,\n\tcreate?: (...p: P) => T,\n\texec?: (c: T, ...p: P) => R,\n\tdestroy?: ((c: T) => void),\n}): (...p: P) => R {\n\tconst id = nextId++;\n\tif (typeof destroy === 'function') {\n\t\tdestroyFns[id] = destroy;\n\t}\n\treturn (...p: P) => {\n\t\tassert(\n\t\t\thookList,\n\t\t\t`Function \\`${ name }\\` can only be called within a cycle.`,\n\t\t\t'life',\n\t\t);\n\t\tif (isInit) {\n\t\t\tconst list: UseData[] = [];\n\t\t\tconst item: UseData = { id, value: create(...p), list };\n\t\t\tconst parent = hookList;\n\t\t\thookList = list;\n\t\t\ttry {\n\t\t\t\treturn exec(item.value, ...p);\n\t\t\t} finally {\n\t\t\t\thookList = parent;\n\t\t\t}\n\t\t}\n\t\tconst item = hookList.shift();\n\t\tassert(item && item.id === id, () => printError(item), 'life');\n\t\tconst { value } = item;\n\n\t\tconst list = [...item.list];\n\t\tconst parent = hookList;\n\t\thookList = list;\n\n\t\tif (isProduction) {\n\t\t\ttry {\n\t\t\t\tconst ret = exec(value, ...p);\n\t\t\t\tassert(!list.length, '');\n\t\t\t\treturn ret;\n\t\t\t} finally {\n\t\t\t\thookList = parent;\n\t\t\t}\n\t\t} else {\n\t\t\tconst runList: UseData[] = [];\n\t\t\tif (runs) {\n\t\t\t\truns.push({ id, list: runList, value });\n\t\t\t}\n\t\t\tconst runParent = runs;\n\t\t\truns = runList;\n\t\t\ttry {\n\t\t\t\tconst ret = exec(value, ...p);\n\t\t\t\tassert(!list.length, () => printError(item, true), 'life');\n\t\t\t\treturn ret;\n\t\t\t} finally {\n\t\t\t\thookList = parent;\n\t\t\t\truns = runParent;\n\t\t\t}\n\t\t}\n\n\t};\n}\n\nexport function destroyUseData(data?: UseData[]): void {\n\tif (!data) { return; }\n\tfor (const {id, value, list} of data) {\n\t\tdestroyUseData(list);\n\t\tif (!(id in destroyFns)) { continue; }\n\t\tconst destroy = destroyFns[id];\n\t\tdestroy(value);\n\t}\n}\n","import { ComponentEntity, Label, ContextData } from '../types';\nimport { assert } from '../Error';\nimport { hookSafe, HookState, initHook, restoreHookState } from './use';\n\n\nexport let setLabels: ((l: Label[] | undefined) => void) | undefined;\nlet current: ContextData | undefined;\n\nexport function runCurrent<P extends any[], R>(\n\tnewContextData: ContextData,\n\tentity: ComponentEntity<any> | undefined,\n\tfn: (...p: P) => R,\n\t...p: P\n): R {\n\n\n\tconst oldCurrent = current;\n\tcurrent = newContextData;\n\n\tconst hookState: HookState = entity\n\t\t? initHook(!newContextData.created, newContextData.useData)\n\t\t: initHook(false);\n\n\ttry {\n\t\tconst ret = fn(...p);\n\t\tif (entity) { hookSafe(); }\n\t\treturn ret;\n\t} finally {\n\t\tcurrent = oldCurrent;\n\t\trestoreHookState(hookState);\n\t}\n}\nexport function runCurrentWithLabel<P extends any[], R>(\n\tnewContextData: ContextData,\n\tentity: ComponentEntity<any> | undefined,\n\tsetLabel: typeof setLabels,\n\tfn: (...p: P) => R,\n\t...p: P\n): R {\n\tconst oldCurrent = current;\n\tcurrent = newContextData;\n\n\tconst hookState: HookState = entity\n\t\t? initHook(!newContextData.created, newContextData.useData)\n\t\t: initHook(false);\n\n\tconst oldSetLabel = setLabels;\n\tsetLabels = setLabel;\n\n\ttry {\n\t\tconst ret = fn(...p);\n\t\tif (entity) { hookSafe(); }\n\t\treturn ret;\n\t} finally {\n\t\tcurrent = oldCurrent;\n\t\trestoreHookState(hookState);\n\t\tsetLabels = oldSetLabel;\n\t}\n}\n\n\nexport function checkCurrent(\n\tname: string,\n): ContextData {\n\tassert(\n\t\tcurrent,\n\t\t`Function \\`${ name }\\` can only be called within a cycle.`,\n\t\t'life',\n\t);\n\treturn current;\n}\n","import { safeify } from '../install/monitorable';\nimport { Hook, HookName, HookData } from '../types';\n\nexport function setHook<H extends HookName>(\n\tid: H,\n\thook: Hook,\n\tcontextData: HookData,\n): () => void;\nexport function setHook(\n\tid: string,\n\thook: Hook,\n\tcontextData: HookData,\n): () => void;\n\nexport function setHook(\n\tid: string,\n\thook: Hook,\n\tcontextData: HookData,\n): () => void {\n\tlet {hooks} = contextData;\n\tif (!hooks) { return () => {}; }\n\thook = safeify(hook);\n\tlet set = hooks[id];\n\tif (!set) {\n\t\tset = new Set();\n\t\thooks[id] = set;\n\t}\n\tset.add(hook);\n\treturn () => set.delete(hook);\n}\n\nexport function callHook<H extends HookName>(\n\tid: H,\n\tcontextData: HookData,\n): void;\nexport function callHook(\n\tid: string,\n\tcontextData: HookData,\n): void;\nexport function callHook(\n\tid: string,\n\t{hooks}: HookData,\n): void {\n\tif (!hooks) { return; }\n\tfor (const hook of hooks[id] || []) {\n\t\thook();\n\t}\n}\n","import { Value, WatchCallback, CancelWatch } from '../../types';\nimport { checkCurrent } from '../../extends/current';\nimport { setHook } from '../../extends/hook';\nimport { isValue, computed } from '../state';\n\n\n/**********************************\n * 状态管理类 API\n **********************************/\n/**\n * 监听指定值的变化\n * @description 本质是调用 Value 对象的 watch 方法\n * @description 但是通过此方法进行的观察，会在组件生命周期结束时自动停止观察\n * @description 此函数只有在初始化调用时有效\n * @param value 被监听的值\n * @param cb    当监听的值发送变化时调用的函数\n */\nfunction withWatch<T>(\n\tvalue: Value<T>,\n\tcb: WatchCallback<T>,\n\trun?: boolean,\n): () => void;\n/**\n * 监听指定值的变化\n * @description 本质是创建调用 Value 对象的 watch 方法\n * @description 但是通过此方法进行的观察，会在组件生命周期结束时自动停止观察\n * @description 此函数只有在初始化调用时有效\n * @param value 用于计算观测值的函数\n * @param cb    当监听的值发送变化时调用的函数\n */\nfunction withWatch<T>(\n\tvalue: () => T,\n\tcb: (v: T, stopped: boolean) => void,\n\trun?: boolean,\n): () => void;\nfunction withWatch<T>(\n\tvalue: Value<T> | (() => T),\n\tcb: (v: Value<T> | T, stopped: boolean) => void,\n\trun?: boolean,\n): () => void {\n\tconst contextData = checkCurrent('withWatch');\n\tif (typeof value !== 'function') { return () => {}; }\n\tlet stop: CancelWatch;\n\tif (isValue(value)) {\n\t\tstop = value.watch(cb);\n\t\tif (run) {\n\t\t\tcb(value, false);\n\t\t}\n\t} else {\n\t\tconst v = computed(value);\n\t\tstop = v.watch((v, s) => cb(v(), s));\n\t\tif (run) {\n\t\t\tcb(v(), false);\n\t\t}\n\t}\n\tsetHook('beforeDestroy', () => stop(), contextData);\n\treturn stop;\n}\nexport default withWatch;\n","import { HookName } from '../../types';\nimport { checkCurrent } from '../../extends/current';\nimport { setHook } from '../../extends/hook';\n\n/**********************************\n * 钩子类 API\n **********************************/\n/**\n * 为当前组件注册钩子\n * @param name 钩子名称\n * @param hook 钩子\n * @param initOnly 是否仅在初始化时有效\n */\nfunction withHook<H extends HookName>(\n\tname: H,\n\thook: () => void,\n\tinitOnly?: boolean,\n): undefined | (() => void);\nfunction withHook(\n\tname: string,\n\thook: () => void,\n\tinitOnly?: boolean,\n): undefined | (() => void);\nfunction withHook(\n\tname: string,\n\thook: () => void,\n\tinitOnly?: boolean,\n): undefined | (() => void) {\n\tconst contextData = checkCurrent('withHook');\n\tif (initOnly && contextData.created) { return undefined; }\n\treturn setHook(name, () => hook(), contextData);\n}\nexport default withHook;\n","export const rendererSymbol = Symbol.for('renderer');\nexport const nameSymbol = Symbol.for('name');\nexport const componentsSymbol = Symbol.for('components');\nexport const propsSymbol = Symbol.for('props');\nexport const componentValueSymbol = Symbol.for('$$$componentValue$$$');\n\n\nexport const objectTypeSymbol = Symbol.for('$$$objectType$$$');\nexport const objectTypeSymbolElement = '$$$objectType$$$Element';\nexport const objectTypeSymbolDeliverComponent = '$$$objectType$$$DeliverComponent';\nexport const objectTypeSymbolNativeComponent = '$$$objectType$$$NativeComponentNode';\nexport const objectTypeSymbolSimpleComponent = '$$$objectType$$$SimpleComponent';\nexport const objectTypeSymbolShellComponent = '$$$objectType$$$ShellComponent';\nexport const objectTypeSymbolRenderComponent = '$$$objectType$$$RenderComponent';\nexport const objectTypeSymbolContainerComponent = '$$$objectType$$$ContainerComponent';\nexport const objectTypeSymbolElementComponent = '$$$objectType$$$ElementComponent';\nexport const objectTypeSymbolRootEntity = '$$$objectType$$$RootEntity';\n\n\nexport const deliverKeySymbol = Symbol.for('$$$deliverKey$$$');\nexport const deliverDefaultSymbol = Symbol.for('$$$deliverDefault$$$');\n","import {\n\tRenderComponent,\n\tSimpleComponent,\n\tContainerComponent,\n\tDeliverComponent,\n\tNativeComponent,\n\tShellComponent,\n\tElementComponent,\n} from './types';\nimport {\n\tobjectTypeSymbol,\n\tobjectTypeSymbolSimpleComponent,\n\tobjectTypeSymbolNativeComponent,\n\tobjectTypeSymbolRenderComponent,\n\tobjectTypeSymbolDeliverComponent,\n\tobjectTypeSymbolContainerComponent,\n\tobjectTypeSymbolShellComponent,\n\tobjectTypeSymbolElementComponent,\n} from './constant/symbols';\n\nexport function isSimpleComponent(v: any): v is SimpleComponent<any, any> {\n\tif (typeof v !== 'function') { return false; }\n\treturn v[objectTypeSymbol] === objectTypeSymbolSimpleComponent;\n}\nexport function isShellComponent(v: any): v is ShellComponent<any, any> {\n\tif (typeof v !== 'function') { return false; }\n\treturn v[objectTypeSymbol] === objectTypeSymbolShellComponent;\n}\nexport function isNativeComponent(v: any):  v is NativeComponent<any, any, any> {\n\tif (typeof v !== 'function') { return false; }\n\treturn v[objectTypeSymbol] === objectTypeSymbolNativeComponent;\n}\nexport function isRenderComponent(v: any): v is RenderComponent<any, any, any> {\n\tif (typeof v !== 'function') { return false; }\n\treturn v[objectTypeSymbol] === objectTypeSymbolRenderComponent;\n}\nexport function isContainerComponent(v: any): v is ContainerComponent<any, any> {\n\tif (typeof v !== 'function') { return false; }\n\treturn v[objectTypeSymbol] === objectTypeSymbolContainerComponent;\n}\nexport function isElementComponent(v: any): v is ElementComponent<any, any> {\n\tif (typeof v !== 'function') { return false; }\n\treturn v[objectTypeSymbol] === objectTypeSymbolElementComponent;\n}\nexport function isDeliverComponent(v: any): v is DeliverComponent<any> {\n\tif (typeof v !== 'function') { return false; }\n\treturn v[objectTypeSymbol] === objectTypeSymbolDeliverComponent;\n}\n\nexport {\n\tisDeliverComponent as isDeliver,\n};\n","import { DeliverComponent } from '../../types';\nimport {\n\tdeliverKeySymbol,\n\tdeliverDefaultSymbol,\n} from '../../constant/symbols';\nimport { assert } from '../../Error';\nimport { isDeliver } from '../../is';\nimport { checkCurrent } from '../../extends/current';\n\nexport default function withDelivered<T>(deliver: DeliverComponent<T>): T {\n\tassert(isDeliver(deliver), 'The `deliver` is not a DeliverComponent.', 'deliver');\n\tconst { delivered } = checkCurrent('withDelivered');\n\tconst value = delivered[deliver[deliverKeySymbol] as any];\n\treturn value === undefined ? deliver[deliverDefaultSymbol] : value;\n}\n","import { checkCurrent } from '../../extends/current';\n\nfunction withRefresh(): void;\nfunction withRefresh<T>(f: () => T): T;\nfunction withRefresh<T>(f?: () =>  T): T | void;\nfunction withRefresh<T>(f?: () =>  T): T | void {\n\treturn checkCurrent('withRefresh').refresh(f);\n}\n\nexport default withRefresh;\n","import { ComponentEntity } from '../../types';\nimport { checkCurrent } from '../../extends/current';\n\nfunction withParent<T extends ComponentEntity<any, any>>(): T | undefined {\n\treturn checkCurrent('withParent').parent as T;\n}\nexport default withParent;\n","import { checkCurrent } from '../../extends/current';\n\nfunction withChildren<T>(): T[] {\n\treturn checkCurrent('withChildren').getChildren() as T[];\n}\nexport default withChildren;\n","import { checkCurrent, runCurrent } from '../../extends/current';\n\nfunction withCallback<R, P extends any[]>(fn: (...p: P) =>  R): (...p: P) =>  R {\n\tconst current = checkCurrent('withCallback');\n\treturn (...p) => runCurrent(current, undefined, fn, ...p);\n}\n\nexport default withCallback;\n","import {\n\tTag,\n\tElement,\n\tComponent,\n\tDeliverComponent,\n\tRenderComponent,\n} from '../../types';\nimport { objectTypeSymbol, objectTypeSymbolElement } from '../../constant/symbols';\n\nfunction createElementBase<T extends DeliverComponent<any>>(\n\ttag: T,\n\tattrs?: (T extends DeliverComponent<infer P> ? {value: P} : never),\n\t...children: any[]\n): Element;\nfunction createElementBase<P extends object, T extends Component<P> | RenderComponent<P, any, any>>(\n\ttag: T,\n\tattrs?: P,\n\t...children: any[]\n): Element;\nfunction createElementBase<T extends string>(\n\ttag: T,\n\tattrs?: Record<string, any>,\n\t...children: any[]\n): Element;\nfunction createElementBase<T extends Tag<any>>(\n\ttag: T,\n\tattrs?: Record<string, any> | null,\n\t...children: any[]\n): Element;\nfunction createElementBase<T extends Tag<any>>(\n\ttag: T,\n\tattrs?: Record<string, any> | null,\n\t...children: any[]\n): Element {\n\tconst props: Record<string, any> = typeof attrs === 'object' && attrs || {};\n\tconst node: Element = {\n\t\t[objectTypeSymbol]: objectTypeSymbolElement,\n\t\ttag,\n\t\tprops,\n\t\tchildren,\n\t\tkey: undefined,\n\t};\n\tif ('n:key' in props) { node.key = props['n:key']; }\n\tif ('n:slot' in props) { node.slot = props['n:slot']; }\n\treturn node;\n}\nexport default createElementBase;\n","export const ScopeSlot = 'core:scopeslot';\nexport const Render = 'core:render';\nexport const Slot = 'core:slot';\nexport const Container = 'core:container';\nexport const Template = 'template';\nexport const Fragment = Template;\n","import { Element } from '../../types';\nimport { objectTypeSymbol, objectTypeSymbolElement } from '../../constant/symbols';\nimport { Template } from '../../constant/tags';\n\n\nexport default function createTemplateElement(...children: any[]): Element {\n\treturn {\n\t\t[objectTypeSymbol]: objectTypeSymbolElement,\n\t\ttag: Template,\n\t\tchildren,\n\t};\n}\n","import {\n\tElement,\n} from '../../types';\nimport { objectTypeSymbol, objectTypeSymbolElement } from '../../constant/symbols';\n\n/**\n * 判读是否为元素\n */\nexport default function isElement(v: any): v is Element {\n\tif (!v) { return false; }\n\tif (typeof v !== 'object') { return false; }\n\treturn v[objectTypeSymbol] === objectTypeSymbolElement;\n}\n","import isElement from './isElement';\n\nexport default function equal(a: any, b: any): boolean {\n\tif (Object.is(a, b)) { return true; }\n\tif (!a) { return false; }\n\tif (!b) { return false; }\n\tif (typeof a !== 'object') { return false; }\n\tif (typeof b !== 'object') { return false; }\n\tif (Array.isArray(a)) {\n\t\tif (!Array.isArray(b)) { return false; }\n\t\tif (a.length !== b.length) { return false; }\n\t\tfor (let i = a.length - 1; i >= 0; i--) {\n\t\t\tif (!equal(a[i], b[i])) { return false; }\n\t\t}\n\t\treturn true;\n\t}\n\tif (Array.isArray(b)) { return false; }\n\tif (!isElement(a)) { return false; }\n\tif (!isElement(b)) { return false; }\n\tif (a.tag !== b.tag) { return false; }\n\tif (a.execed !== b.execed) { return false; }\n\tif (a.inserted !== b.inserted) { return false; }\n\tif (a.isDefault !== b.isDefault) { return false; }\n\tif (a.key !== b.key) { return false; }\n\tif (a.slot !== b.slot) { return false; }\n\tconst aprops = a.props;\n\tconst bprops = b.props;\n\tif (Object.is(aprops, bprops)) { return equal(a.children, b.children); }\n\tif (!aprops) { return false; }\n\tif (!bprops) { return false; }\n\tif (typeof aprops !== 'object') { return false; }\n\tif (typeof bprops !== 'object') { return false; }\n\tconst aKeys = new Set(Object.keys(aprops));\n\tconst bKeys = Object.keys(bprops);\n\tif (aKeys.size !== bKeys.length) { return false; }\n\tfor (const k of bKeys) {\n\t\tif (!aKeys.has(k)) { return false; }\n\t\tif (aprops[k] !== bprops[k]) { return false; }\n\t}\n\treturn equal(a.children, b.children);\n}\n","import { Element } from '../../types';\nimport { Render } from '../../constant/tags';\nimport isElement from './isElement';\n\nexport default function isRenderElement(v: any): v is Element<typeof Render> {\n\tif (!isElement(v)) { return false; }\n\tconst { tag } = v;\n\tif (typeof tag !== 'string') { return false; }\n\treturn tag.toLowerCase() === Render;\n}\n","import { isProduction } from '../../constant/info';\nimport { Label } from '../../types';\nimport { setLabels } from '../../extends/current';\n\n\nexport default function withLabel(...label: (string | Label)[]): void {\n\tif (!isProduction) {\n\t\tconst labels = label.filter(Boolean).map(t => typeof t === 'string' ? {text: t} : t);\n\t\tif (!setLabels) { return; }\n\t\tsetLabels(labels);\n\t}\n}\n","import { NativeNode, MountNode, MountedNode } from '../../types';\nimport { isProduction } from '../../constant/info';\nimport { markRead, markChange } from '../../install/monitorable';\n\nlet ids = 0;\nconst Nodes: {[key: number]: MountNode} = {};\nconst IdMap = isProduction ? undefined : new WeakMap<NativeNode, number>();\nexport function createMountedNode(\n\tn: MountNode,\n\tid?: number,\n): MountedNode {\n\tif (!isProduction) {\n\t\tid = id || ++ids;\n\t\tconst { node } = n;\n\t\tif (node && IdMap) { IdMap.set(node, id); }\n\t\tconst newNode = {...n, id} as MountedNode;\n\t\tNodes[id] = newNode;\n\t\tmarkChange(Nodes, id);\n\t\treturn newNode;\n\t}\n\treturn {...n, id: 0} as MountedNode;\n}\n\nexport function recoveryMountedNode(node: MountedNode): void {\n\tif (!isProduction) {\n\t\tdelete Nodes[node.id];\n\t}\n}\n\nexport function getNode(\n\tid: number | NativeNode,\n): MountNode | undefined {\n\tif (!isProduction) {\n\t\tif (typeof id !== 'number') {\n\t\t\tid = IdMap?.get(id) || -1;\n\t\t}\n\t\tmarkRead(Nodes, id);\n\t\treturn Nodes[id];\n\t}\n\treturn undefined;\n}\n","import { Element, ValueElement } from '../../types';\nimport { isElement } from '../../auxiliary';\n\n/** 强制转换为 Element */\n\nexport default function toElement(t: any): null | Element | ValueElement {\n\tif (t === false || t === null || t === undefined) {\n\t\treturn null;\n\t}\n\tif (isElement(t)) {\n\t\treturn t;\n\t}\n\treturn { key: t, props: { value: t }, children: [] };\n}\n","import {\n\tIRenderer,\n\n\tMountedNode,\n} from '../../../types';\nimport { createMountedNode } from '../../id';\n\n\nexport default function drawPlaceholder(renderer: IRenderer): MountedNode {\n\tconst node = renderer.createPlaceholder();\n\treturn createMountedNode({ tag: null, node });\n}\n","import {\n\tIRenderer,\n\tTreeNode,\n\tMountedNode,\n\n\tMountOptions,\n} from '../../../types';\nimport { createMountedNode } from '../../id';\nimport drawPlaceholder from './drawPlaceholder';\n\n\nexport default function createItem(\n\trenderer: IRenderer,\n\tmountOptions: MountOptions,\n\tsource: TreeNode | null,\n): MountedNode {\n\tif (!source) { return drawPlaceholder(renderer); }\n\tconst { proxy } = source;\n\tproxy.mount(mountOptions);\n\treturn createMountedNode({\n\t\t...source,\n\t\tnode: undefined,\n\t\tproxy,\n\t});\n}\n","import {\n\tIRenderer,\n\tTreeNode,\n\tMountedNode,\n\n\tMountOptions,\n} from '../../../types';\nimport createItem from './createItem';\nimport drawPlaceholder from './drawPlaceholder';\n\n\nexport default function createList(\n\trenderer: IRenderer,\n\tmountOptions: MountOptions,\n\tsource: TreeNode[],\n): MountedNode[] {\n\tif (source.length) {\n\t\treturn source.map(it => createItem(renderer, mountOptions, it));\n\t}\n\treturn [drawPlaceholder(renderer)];\n}\n","import {\n\tIRenderer,\n\tMountedNode,\n\tTreeNodeList,\n\tMountOptions,\n} from '../../../types';\nimport createItem from './createItem';\nimport createList from './createList';\nimport drawPlaceholder from './drawPlaceholder';\n\n\nexport default function createAll(\n\trenderer: IRenderer,\n\tmountOptions: MountOptions,\n\tsource: TreeNodeList,\n): (MountedNode | MountedNode[])[] {\n\tif (!source.length) {\n\t\treturn [drawPlaceholder(renderer)];\n\t}\n\n\treturn source.map(item =>\n\t\tArray.isArray(item)\n\t\t\t? createList(renderer, mountOptions, item)\n\t\t\t: createItem(renderer, mountOptions, item));\n}\n","import { IRenderer, MountedNode } from '../../types';\nimport { recoveryMountedNode } from '../id';\n\n\nexport type MountedNodes = MountedNode | MountedNode[]\n| (MountedNode | MountedNode[])[];\n\nexport default function unmount(renderer: IRenderer, tree?: MountedNodes): void {\n\tif (!tree) { return; }\n\tif (Array.isArray(tree)) {\n\t\ttree.forEach(e => unmount(renderer, e));\n\t\treturn;\n\t}\n\trecoveryMountedNode(tree);\n\tif (tree.proxy) {\n\t\tconst { proxy } = tree;\n\t\tproxy.unmount();\n\t\treturn;\n\t}\n\tif (tree.node) {\n\t\tconst { node } = tree;\n\t\trenderer.removeNode(node);\n\t}\n\tunmount(renderer, tree.children);\n}\n","import { NativeNode, MountNode } from '../../../types';\n\n\nexport type MountNodes = MountNode | MountNode[]\n| (MountNode | MountNode[])[];\n\n\nexport default function *getNodes(tree: MountNodes): Iterable<NativeNode> {\n\tif (Array.isArray(tree)) {\n\t\tfor (const it of tree) {\n\t\t\tyield *getNodes(it);\n\t\t}\n\t\treturn;\n\t}\n\tconst { node, proxy } = tree;\n\tif (node) {\n\t\tyield node;\n\t\treturn;\n\t}\n\tif (proxy) {\n\t\tyield *getNodes(proxy.tree);\n\t}\n}\n","import { NativeNode } from '../../../types';\nimport { MountNodes } from './getNodes';\n\n\nexport default function getFirstNode(tree: MountNodes): NativeNode {\n\tif (Array.isArray(tree)) { return getFirstNode(tree[0]); }\n\tif (tree.node) { return tree.node; }\n\treturn getFirstNode(tree.proxy.tree);\n}\n","import { IRenderer } from '../../../types';\nimport unmount, { MountedNodes } from '../unmount';\nimport getNodes, { MountNodes } from './getNodes';\nimport getFirstNode from './getFirstNode';\n\n\nexport default function drawReplace<T extends MountNodes>(\n\trenderer: IRenderer,\n\tnewTree: T,\n\toldTree: MountedNodes,\n): T {\n\tconst next = getFirstNode(oldTree);\n\tif (!next) { return newTree; }\n\tconst parentNode = renderer.getParent(next);\n\tif (!parentNode) { return newTree; }\n\tfor (const it of getNodes(newTree)) {\n\t\trenderer.insertNode(parentNode, it, next);\n\t}\n\tunmount(renderer, oldTree);\n\treturn newTree;\n}\n","import { NativeNode } from '../../../types';\nimport { MountNodes } from './getNodes';\n\nexport default function getLastNode(tree: MountNodes): NativeNode {\n\tif (Array.isArray(tree)) {\n\t\treturn getLastNode(tree[tree.length - 1]);\n\t}\n\tif (tree.node) { return tree.node; }\n\treturn getLastNode(tree.proxy.tree);\n}\n","import {\n\tIRenderer,\n\n\tTreeNode,\n\tMountedNode,\n\n\tMountOptions,\n} from '../../../types';\nimport { createMountedNode } from '../../id';\nimport createItem from '../create/createItem';\nimport unmount from '../unmount';\nimport drawReplace from './drawReplace';\nimport drawPlaceholder from '../create/drawPlaceholder';\n\n/**\n * 更新树节点\n * @param renderer Neep 对象\n * @param tree 已有树\n * @param source 用于替换的源\n */\nexport default function updateItem(\n\trenderer: IRenderer,\n\tmountOptions: MountOptions,\n\tsource: TreeNode | null,\n\ttree: MountedNode | MountedNode[],\n): MountedNode {\n\tif (!source) {\n\t\tif (Array.isArray(tree)) {\n\t\t\tif (tree.length === 1 && tree[0].tag === null) {\n\t\t\t\treturn tree[0];\n\t\t\t}\n\t\t} else if (tree.tag === null) {\n\t\t\treturn tree;\n\t\t}\n\t\treturn drawReplace(renderer, drawPlaceholder(renderer), tree);\n\t}\n\tif (Array.isArray(tree)) {\n\t\tconst index = tree.findIndex(it => it.tag === source.tag && it.proxy === source.proxy);\n\t\tif (index < 0) {\n\t\t\treturn drawReplace(renderer, createItem(renderer, mountOptions, source), tree);\n\t\t}\n\t\tconst all = tree;\n\t\t[tree] = tree.splice(index, 1);\n\t\tunmount(renderer, all);\n\t}\n\n\tif (source.proxy) {\n\t\tconst { proxy } = source;\n\t\tif (proxy !== tree.proxy) {\n\t\t\treturn drawReplace(renderer, createItem(renderer, mountOptions, source), tree);\n\t\t}\n\t\treturn createMountedNode({\n\t\t\t...source,\n\t\t\tnode: undefined,\n\t\t\tproxy,\n\t\t}, tree.id);\n\t}\n\tif (tree.proxy || source.tag !== tree.tag) {\n\t\treturn drawReplace(renderer, createItem(renderer, mountOptions, source), tree);\n\t}\n\tif (source.tag === undefined) { return tree; }\n\treturn drawReplace(renderer, createItem(renderer, mountOptions, source), tree);\n}\n","import {\n\tIRenderer,\n\tMountNode,\n\tTreeNode,\n\tMountedNode,\n\n\tMountOptions,\n} from '../../../types';\nimport createItem from '../create/createItem';\nimport unmount from '../unmount';\nimport getNodes from './getNodes';\nimport drawReplace from './drawReplace';\nimport drawPlaceholder from '../create/drawPlaceholder';\nimport getLastNode from './getLastNode';\nimport getFirstNode from './getFirstNode';\nimport updateItem from './updateItem';\n\nexport default function updateList(\n\trenderer: IRenderer,\n\tmountOptions: MountOptions,\n\tsource: TreeNode[],\n\ttree: MountedNode | MountedNode[],\n): MountedNode[] {\n\tif (!source.length) {\n\t\tconst node = drawPlaceholder(renderer);\n\t\treturn [drawReplace(renderer, node, tree)];\n\t}\n\tif (!Array.isArray(tree)) { tree = [tree]; }\n\tconst newList: MountedNode[] = [];\n\tconst list = [...tree];\n\tconst mountedMap = new Map<MountNode, MountNode>();\n\tfor (const src of source) {\n\t\tconst index = list.findIndex(it => it.tag === src.tag && it.key === src.key && it.proxy === src.proxy);\n\t\tif (index >= 0) {\n\t\t\tconst old = list[index];\n\t\t\tconst item = updateItem(renderer, mountOptions, src, old);\n\t\t\tmountedMap.set(old, item);\n\t\t\tnewList.push(item);\n\t\t\tlist.splice(index, 1);\n\t\t} else {\n\t\t\tconst item = createItem(renderer, mountOptions, src);\n\t\t\tnewList.push(item);\n\t\t}\n\t}\n\tif (!mountedMap.size) {\n\t\treturn drawReplace(renderer, newList, list);\n\t}\n\tunmount(renderer, list);\n\ttree = tree.filter(t => mountedMap.has(t));\n\tconst last = getLastNode(tree.map(t => mountedMap.get(t)).filter(Boolean) as MountNode[]);\n\tconst parentNode = renderer.getParent(last);\n\tif (!parentNode) { return newList; }\n\tlet next = renderer.nextNode(last);\n\t// 调整次序\n\tfor (let i = newList.length - 1; i >= 0; i--) {\n\t\tconst item = newList[i];\n\t\tconst index = tree.findIndex(o => mountedMap.get(o) === item);\n\t\tif (index >= 0) {\n\t\t\tfor (const it of tree.splice(index)) {\n\t\t\t\tmountedMap.delete(it);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (const it of getNodes(item)) {\n\t\t\t\trenderer.insertNode(parentNode, it, next);\n\t\t\t}\n\t\t}\n\t\tnext = getFirstNode(item) || next;\n\t}\n\treturn newList;\n}\n","import {\n\tIRenderer,\n\tMountedNode,\n\tTreeNodeList,\n\tMountOptions,\n} from '../../../types';\nimport createAll from '../create/createAll';\nimport createList from '../create/createList';\nimport createItem from '../create/createItem';\nimport unmount from '../unmount';\nimport getNodes from './getNodes';\nimport drawReplace from './drawReplace';\nimport getLastNode from './getLastNode';\nimport updateItem from './updateItem';\nimport updateList from './updateList';\n\n/**\n * 更新树\n * @param tree 已有树\n * @param source 用于替换的源\n * @param renderer Neep 对象\n */\n\n\nexport default function updateAll(\n\trenderer: IRenderer,\n\tmountOptions: MountOptions,\n\tsource: TreeNodeList,\n\ttree: (MountedNode | MountedNode[])[],\n): (MountedNode | MountedNode[])[] {\n\tif (source.length === 0) {\n\t\treturn drawReplace(renderer, createAll(renderer, mountOptions, []), tree);\n\t}\n\tlet index = 0;\n\tlet length = Math.min(source.length, tree.length);\n\tconst list: (MountedNode | MountedNode[])[] = [];\n\tfor (; index < length; index++) {\n\t\tconst src = source[index];\n\t\tif (Array.isArray(src)) {\n\t\t\tlist.push(updateList(renderer, mountOptions, src, tree[index]));\n\t\t} else {\n\t\t\tlist.push(updateItem(renderer, mountOptions, src, tree[index]));\n\t\t}\n\t}\n\tlength = Math.max(source.length, tree.length);\n\tif (tree.length > index) {\n\t\t// 销毁多余项\n\t\tfor (; index < length; index++) {\n\t\t\tunmount(renderer, tree[index]);\n\t\t}\n\t}\n\tif (source.length > index) {\n\t\t// 创建多余项\n\t\tconst last = getLastNode(list[list.length - 1]);\n\t\tconst parentNode = renderer.getParent(last);\n\t\tconst next = renderer.nextNode(last);\n\t\tfor (; index < length; index++) {\n\t\t\tconst src = source[index];\n\t\t\tconst item = Array.isArray(src)\n\t\t\t\t? createList(renderer, mountOptions, src)\n\t\t\t\t: createItem(renderer, mountOptions, src);\n\t\t\tlist.push(item);\n\t\t\tif (!parentNode) { continue; }\n\t\t\tfor (const it of getNodes(item)) {\n\t\t\t\trenderer.insertNode(parentNode, it, next);\n\t\t\t}\n\t\t}\n\t}\n\treturn list;\n}\n","import { IRenderer, TreeNodeList, MountOptions, MountedNode } from '../../types';\nimport updateAll from './update/updateAll';\nimport createAll from './create/createAll';\nexport { default as  unmount } from './unmount';\nexport { default as getNodes } from './update/getNodes';\nexport { default as drawReplace } from './update/drawReplace';\nexport { default as drawPlaceholder } from './create/drawPlaceholder';\n\nexport default function draw(\n\trenderer: IRenderer,\n\tmountOptions: MountOptions,\n\tsource: TreeNodeList,\n\ttree?: (MountedNode | MountedNode[])[],\n): (MountedNode | MountedNode[])[] {\n\tif (!tree) {\n\t\treturn createAll(renderer, mountOptions, source);\n\t}\n\treturn updateAll(renderer, mountOptions, source, tree);\n}\n","import {\n\tIRenderer,\n\tMountedNode,\n\tHookName,\n\tLabel,\n\tMountOptions,\n} from '../../types';\nimport { isProduction } from '../../constant/info';\nimport ContainerProxy from './ContainerProxy';\nimport { exec, defineProperty } from '../../install/monitorable';\nimport ComponentProxy from './ComponentProxy';\n\nlet completeList: (() => void)[] | undefined;\nexport function setCompleteList(list?: (() => void)[]): void {\n\tcompleteList = list;\n}\nexport function complete(it: () => void): void {\n\tif (!completeList) {\n\t\tit();\n\t} else {\n\t\tcompleteList.push(it);\n\t}\n}\n\n\nexport default abstract class BaseProxy<TTag> {\n\treadonly tag: TTag;\n\tattrs: Record<string, any>;\n\treadonly renderer: IRenderer;\n\n\tlabels?: Label[];\n\t/** 父组件 */\n\treadonly parentProxy?: BaseProxy<any>;\n\t/** 呈递值 */\n\treadonly delivered: Record<any, any>;\n\t/** 状态 */\n\tcreated: boolean = false;\n\tdestroyed: boolean = false;\n\tmounted: boolean = false;\n\tunmounted: boolean = false;\n\t/** The subtree mounted on the parent node */\n\ttree: (MountedNode | MountedNode[])[] = [];\n\t/** 所属容器 */\n\tabstract readonly container: ContainerProxy<any>;\n\t/** 渲染组件根部，如果自身是 ComponentProxy 则为自身 */\n\tabstract readonly componentRoot?: ComponentProxy<any, any, any, any>;\n\n\tabstract get content():  (MountedNode | MountedNode[])[];\n\treadonly originalTag: any;\n\n\n\tconstructor(\n\t\trenderer: IRenderer,\n\t\toriginalTag: any,\n\t\ttag: any,\n\t\tattrs: any,\n\t\tparent?: BaseProxy<any>,\n\t\tdelivered?: Record<any, any>,\n\t) {\n\t\tthis.originalTag = originalTag;\n\t\tthis.tag = tag;\n\t\tthis.renderer = renderer;\n\t\tthis.attrs = attrs;\n\n\t\tthis.parentProxy = parent;\n\t\tthis.delivered = delivered || parent?.delivered || Object.create(null);\n\t\tif (!isProduction) { defineProperty(this, 'tree', []); }\n\t}\n\n\n\t/** 请求绘制 */\n\tprotected abstract requestDraw(): void;\n\n\tabstract callHook<H extends HookName>(id: H): void;\n\tabstract callHook(id: string): void;\n\n\t/** 更新属性及子代 */\n\tabstract _update(props: object, children: any[]): void;\n\t/** 更新属性及子代 */\n\tupdate(attrs: Record<string, any>, children: any[]): void {\n\t\tthis.attrs = attrs;\n\t\tthis._update(attrs, children);\n\t}\n\n\n\tprivate __executed_destroy = false;\n\tprotected abstract _destroy(): void;\n\tdestroy(): boolean {\n\t\tif (this.__executed_destroy) { return false; }\n\t\tthis.__executed_destroy = true;\n\t\tthis.callHook('beforeDestroy');\n\t\tthis._destroy();\n\t\tthis.callHook('destroyed');\n\t\tthis.destroyed = true;\n\t\treturn true;\n\t}\n\n\n\tprivate __mountOptions: MountOptions | null = null;\n\tprotected abstract _mount(mountOptions: MountOptions): MountOptions | void;\n\tprivate __cancelDrawMonitor?: () => void;\n\tmount(mountOptions: MountOptions): boolean {\n\t\tif (this.__executed_destroy) { return false; }\n\t\tif (!mountOptions) { return false; }\n\t\tif (this.__mountOptions) { return false; }\n\t\tthis.__mountOptions = mountOptions;\n\t\tthis.callHook('beforeMount');\n\t\tconst result = exec(\n\t\t\tc => c && this.requestDraw(),\n\t\t\t() => {\n\t\t\t\tconst newMountOptions = this._mount(mountOptions);\n\t\t\t\tthis.__mountOptions = newMountOptions || mountOptions;\n\t\t\t\tthis.mounted = true;\n\t\t\t},\n\t\t);\n\t\tthis.__cancelDrawMonitor = result.stop;\n\t\tcomplete(() => this.callHook('mounted'));\n\t\treturn true;\n\t}\n\n\tprivate __executed_unmounted = false;\n\tprotected abstract _unmount(): void;\n\tunmount(): boolean {\n\t\tif (!this.mounted) { return false; }\n\t\tif (this.__executed_unmounted) { return false; }\n\t\tthis.__executed_unmounted = true;\n\t\tthis.callHook('beforeUnmount');\n\t\tthis._unmount();\n\t\tthis.callHook('unmounted');\n\t\tthis.unmounted = true;\n\t\treturn true;\n\t}\n\n\tprotected abstract _redraw(mountOptions: MountOptions): void;\n\tredraw(): void {\n\t\tif (this.__executed_destroy) { return; }\n\t\tif (!this.mounted) { return; }\n\t\tconst mountOptions = this.__mountOptions;\n\t\tif (!mountOptions) { return; }\n\t\tif (this.__cancelDrawMonitor) {\n\t\t\tthis.__cancelDrawMonitor();\n\t\t}\n\t\tthis.callHook('beforeDraw');\n\t\tconst result = exec(\n\t\t\tc => c && this.requestDraw(),\n\t\t\t() => this._redraw(mountOptions),\n\t\t);\n\t\tthis.__cancelDrawMonitor = result.stop;\n\n\t\tcomplete(() => this.callHook('drawn'));\n\t}\n}\n","import BaseProxy from './BaseProxy';\nimport { ContainerProxy } from '../../exports';\nimport ComponentProxy from './ComponentProxy';\n\nexport default abstract class NodeProxy<\n\tTTag,\n> extends BaseProxy<TTag> {\n\t/** 所属容器 */\n\treadonly container: ContainerProxy<any>;\n\t/** 渲染组件根部，如果自身是 ComponentProxy 则为自身 */\n\treadonly componentRoot?: ComponentProxy<any, any, any, any>;\n\n\tconstructor(\n\t\toriginalTag: any,\n\t\ttag: TTag,\n\t\tattrs: Record<string, any>,\n\t\tchildren: any[],\n\t\tparent: BaseProxy<any>,\n\t\tdelivered?: Record<any, any>,\n\t) {\n\t\tsuper(\n\t\t\tparent.renderer,\n\t\t\toriginalTag,\n\t\t\ttag,\n\t\t\tattrs,\n\t\t\tparent,\n\t\t\tdelivered,\n\t\t);\n\t\tthis.container = parent.container;\n\t\tthis.componentRoot = parent.componentRoot;\n\t}\n\n\trequestDraw(): void {\n\t\tif (!this.mounted) { return; }\n\t\tif (this.destroyed) { return; }\n\t\tthis.container.markDraw(this);\n\t}\n\tcallHook(id: string): void {\n\t}\n}\n","let delayedRefresh = 0;\nconst objectSet = new Set<{refresh(): void}>();\nexport function wait(obj: {refresh(): void}): boolean {\n\tif (delayedRefresh <= 0) { return false; }\n\tobjectSet.add(obj);\n\treturn true;\n}\nfunction run(): void {\n\tif (delayedRefresh > 0) { return; }\n\tconst list = [...objectSet];\n\tobjectSet.clear();\n\tlist.forEach(o => o.refresh());\n}\nasync function asyncRefresh<T>(f: () => PromiseLike<T> | T): Promise<T> {\n\ttry {\n\t\tdelayedRefresh++;\n\t\treturn await f();\n\t} finally {\n\t\tdelayedRefresh--;\n\t\trun();\n\t}\n}\nfunction delayRefresh<T>(f: () => T, async?: false): T;\nfunction delayRefresh<T>(\n\tf: () => PromiseLike<T> | T,\n\tasync: true,\n): Promise<T>;\nfunction delayRefresh<T>(\n\tf: () => PromiseLike<T> | T,\n\tasync?: boolean,\n): PromiseLike<T> | T;\nfunction delayRefresh<T>(\n\tf: () => PromiseLike<T> | T,\n\tasync?: boolean,\n): PromiseLike<T> | T {\n\tif (async) { return asyncRefresh(f); }\n\ttry {\n\t\tdelayedRefresh++;\n\t\treturn f();\n\t} finally {\n\t\tdelayedRefresh--;\n\t\trun();\n\t}\n}\nexport default  delayRefresh;\n","import { ContextData, WithData } from '../types';\nimport { runCurrent, checkCurrent } from './current';\nconst destroyFns: Record<string, (c: any) => void> = Object.create(null);\nlet nextId = 0;\n\ninterface WithState {\n\tdestroyed: boolean;\n\tisSimple: boolean;\n\tisShell: boolean;\n}\nexport function createWith<T>(p: {\n\tname: string,\n\tcreate?: (withState: WithState) => T,\n\texec?: undefined,\n\tdestroy?: ((c: T) => void),\n}): () => T;\nexport function createWith<T, P extends any[], R>(p: {\n\tname: string,\n\tcreate?: (withState: WithState) => T,\n\texec: (c: T, withState: WithState, ...p: P) => R\n\tdestroy?: (c: T) => void,\n}): (...p: P) => R;\nexport function createWith<T, P extends any[], R>(p: {\n\tname: string,\n\tcreate?: (withState: WithState) => T,\n\texec?: ((c: T, ...p: P) => R),\n\tdestroy?: ((c: T) => void),\n}): ((...p: P) => R) | (() => T);\nexport function createWith<T, P extends any[], R>({\n\tname,\n\tcreate = () => ({}) as T,\n\tdestroy,\n\texec,\n}: {\n\tname: string,\n\tcreate?: (withState: WithState) => T,\n\texec?: ((c: T, withState: WithState, ...p: P) => R),\n\tdestroy?: ((c: T) => void),\n}): ((...p: P) => R) | (() => T) {\n\tconst id = nextId++;\n\tif (typeof destroy === 'function') {\n\t\tdestroyFns[id] = destroy;\n\t}\n\tif (typeof exec === 'function') {\n\t\treturn (...p: P) => {\n\t\t\tconst current = checkCurrent(name);\n\t\t\tconst {withData, destroyed, isSimple, isShell} = current;\n\t\t\tif (!(id in withData)) {\n\t\t\t\twithData[id] = create({destroyed, isSimple, isShell});\n\t\t\t}\n\t\t\treturn exec(withData[id], {destroyed, isSimple, isShell}, ...p);\n\t\t};\n\t}\n\treturn () => {\n\t\tconst current = checkCurrent(name);\n\t\tconst {withData} = current;\n\t\tif (!(id in withData)) {\n\t\t\tconst {destroyed, isSimple, isShell} = current;\n\t\t\twithData[id] = create({destroyed, isSimple, isShell});\n\t\t}\n\t\treturn withData[id];\n\t};\n}\n\nexport function destroyContextData(contextData: WithData): void {\n\tconst keys = Object.keys(contextData);\n\tfor (const id of keys) {\n\t\tif (!(id in destroyFns)) { continue; }\n\t\tconst destroy = destroyFns[id];\n\t\tdestroy(contextData[id]);\n\t}\n}\n\nexport function createBy(contextData: ContextData): <P extends any[], R>(fn: (...p: P) => R, ...p: P) => R {\n\treturn function by(fn, ...p) {\n\t\treturn runCurrent(contextData, undefined, fn, ...p);\n\t};\n}\n","import {\n\tSlots,\n\tIRenderer,\n\tSlotApi,\n\tElement,\n} from '../types';\nimport {\n\tisElement,\n\tequal,\n\tisValue,\n} from '../auxiliary';\nimport {\n\tRender,\n\tTemplate,\n\tScopeSlot,\n} from '../constant/tags';\nimport { isSimpleComponent } from '../is';\nimport { markRead, markChange } from '../install/monitorable';\nimport { objectTypeSymbol, objectTypeSymbolElement } from '../constant/symbols';\n\n/**\n * 获取槽元素\n * @param renderer 渲染函数\n * @param children 子代\n * @param slots 槽列表\n * @param native 是否为原生组件\n * @returns 原生节点\n */\nexport function getSlots(\n\trenderer: IRenderer,\n\tchildren: any[],\n\tslots: Record<string | symbol, any[]>,\n\tnative = false,\n): any[] {\n\t/** 原始对象 */\n\tconst nativeList: any[] = [];\n\tfor (const it of children) {\n\t\tif (Array.isArray(it)) {\n\t\t\tconst list: Record<string | symbol, any[]>\n\t\t\t\t= Object.create(null);\n\t\t\tnativeList.push(getSlots(renderer, it, list, native));\n\t\t\tfor (const k of Reflect.ownKeys(list) as string[]) {\n\t\t\t\tif (k in slots) {\n\t\t\t\t\tslots[k].push(list[k]);\n\t\t\t\t} else {\n\t\t\t\t\tslots[k] = [list[k]];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\t\tif (isElement(it) && it.slot === undefined) {\n\t\t\tif (isSimpleComponent(it.tag) && it.execed || it.tag === Template) {\n\t\t\t\tconst list: Record<string | symbol, any[]>\n\t\t\t\t= Object.create(null);\n\t\t\t\tnativeList.push(getSlots(renderer, it.children, list, native));\n\t\t\t\tfor (const k of Reflect.ownKeys(list) as string[]) {\n\t\t\t\t\tconst node = { ...it, children: list[k] };\n\t\t\t\t\tif (k in slots) {\n\t\t\t\t\t\tslots[k].push(node);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tslots[k] = [node];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tif (native) {\n\t\t\tif (renderer.isNode(it)) {\n\t\t\t\tnativeList.push(it);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (!isElement(it)) {\n\t\t\t\tnativeList.push(it);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (it.tag !== Render && it.tag !== Template) {\n\t\t\t\tnativeList.push(it);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tconst slot = isElement(it) && it.slot || 'default';\n\t\tconst el = isElement(it) ? {\n\t\t\t...it, slot: undefined,\n\t\t\tprops: {...it.props, 'n:slot': undefined },\n\t\t} : it;\n\t\tif (slot in slots) {\n\t\t\tslots[slot].push(el);\n\t\t} else {\n\t\t\tslots[slot] = [el];\n\t\t}\n\t}\n\treturn nativeList;\n}\n\nexport function setSlot(\n\tslots: Slots,\n\tname: string,\n\tlist?: any[],\n): any[] | undefined {\n\tReflect.defineProperty(slots, name, {\n\t\tget() {\n\t\t\tmarkRead(slots, name);\n\t\t\treturn list;\n\t\t},\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n\tmarkChange(slots, name);\n\treturn list;\n}\n/**\n * 将槽子代设置到槽列表上\n * @param children 槽子代\n * @param slots 槽对象\n */\nexport function setSlots(\n\tchildren: {[key: string]: any[]},\n\tslots?: Slots,\n\toldChildren?: {[key: string]: any[]},\n): Slots {\n\tif (!slots) {\n\t\tconst slots = Object.create(null);\n\t\tfor (const k of Reflect.ownKeys(children) as string[]) {\n\t\t\tslots[k] = children[k];\n\t\t}\n\t\treturn slots;\n\t}\n\tfor (const name of Reflect.ownKeys(slots)) {\n\t\tif (name in children) { continue; }\n\t\tsetSlot(slots, name as string);\n\t}\n\tif (!oldChildren) {\n\t\tfor (const name of Reflect.ownKeys(children) as string[]) {\n\t\t\tconst list = children[name];\n\t\t\tsetSlot(slots, name, list);\n\t\t}\n\t\treturn slots;\n\t}\n\tfor (const name of Reflect.ownKeys(children) as string[]) {\n\t\tconst list = children[name];\n\t\tif (equal(list, oldChildren[name])) { continue; }\n\t\tsetSlot(slots, name, list);\n\t}\n\treturn slots;\n}\n\nexport function renderSlot(list: any[], argv: any): any[] {\n\treturn list.map(it => {\n\t\tif (Array.isArray(it)) {\n\t\t\treturn renderSlot(it, argv);\n\t\t}\n\t\tif (!isElement(it)) { return it; }\n\t\tif (it.tag !== Render) {\n\t\t\treturn {\n\t\t\t\t...it,\n\t\t\t\tslot: undefined,\n\t\t\t} as Element;\n\t\t}\n\t\tconst { children } = it;\n\t\tif (children?.length !== 1) { return children; }\n\t\tconst [ render ] = children;\n\t\tif (isValue(render) || typeof render !== 'function') { return children; }\n\t\treturn render(argv);\n\t});\n}\n\nfunction getSlot(slots: Slots, name: string, isSimple: boolean):  any[] | undefined {\n\treturn isSimple || name in slots\n\t\t? slots[name]\n\t\t: setSlot(slots, name);\n}\n\nexport function createSlotApi(\n\tslots: Slots,\n\tisSimple = false,\n): SlotApi {\n\tfunction slotApi(name: string = 'default', argv = {}): Element {\n\t\tconst list = getSlot(slots, name, isSimple);\n\t\treturn {\n\t\t\t[objectTypeSymbol]: objectTypeSymbolElement,\n\t\t\ttag: ScopeSlot,\n\t\t\tchildren: list ? renderSlot(list, argv) : [],\n\t\t\tinserted: true,\n\t\t\tslot: name,\n\t\t\tisDefault: !list,\n\t\t};\n\t}\n\tslotApi.has = (name: string = 'default') => Boolean(getSlot(slots, name, isSimple));\n\treturn slotApi;\n}\n","import { markRead, markChange, printError } from './install/monitorable';\nimport { Emit, On, Listener, EventInfo } from './types';\nimport delayRefresh from './extends/delayRefresh';\n\nfunction createEmit<T, E extends Record<string, any>>(\n\temitter: EventEmitter<T, E>,\n\tomitNames: (string | number | symbol)[] = [],\n): Emit<E> {\n\tconst emit = <N extends keyof E & string>(\n\t\tname: N,\n\t\tp: E[N],\n\t\toptions?: any,\n\t): boolean => delayRefresh(() => {\n\t\tconst cancelable = Boolean(options?.cancelable);\n\t\tconst {target} = emitter;\n\t\tlet defaultPrevented = true;\n\t\tconst eventInfo: EventInfo<any> = {\n\t\t\tget target() { return target; },\n\t\t\tget cancelable() { return cancelable; },\n\t\t\tget defaultPrevented() { return defaultPrevented; },\n\t\t\tget prevented() { return defaultPrevented; },\n\t\t\tpreventDefault() { defaultPrevented = false; },\n\t\t\tprevent() { defaultPrevented = false; },\n\t\t};\n\t\tconst events = emitter.events[name];\n\t\tif (!events) { return defaultPrevented; }\n\t\tfor (const event of events) {\n\t\t\tevent(p, eventInfo);\n\t\t}\n\t\treturn defaultPrevented;\n\t});\n\temit.omit = (...names: string[]) => createEmit(emitter, [...omitNames, ...names]);\n\tReflect.defineProperty(emit, 'names', {\n\t\tget:() => {\n\t\t\tmarkRead(createEmit, 'names');\n\t\t\treturn [...emitter.names]\n\t\t\t\t.filter(t => !omitNames.includes(t));\n\t\t},\n\t\tconfigurable: true,\n\t});\n\treturn emit as any as Emit<E>;\n}\n\nexport default class EventEmitter<T, E extends Record<string, any> = Record<string, any>> {\n\n\tprivate readonly _names = new Set<keyof E>();\n\tget names(): (keyof E)[] { markRead(this, 'names'); return [...this._names]; }\n\treadonly events: Record<string, Set<Listener<T, any>> | undefined> = Object.create(null);\n\treadonly emit: Emit<E> = createEmit(this);\n\treadonly on: On<T, E>;\n\ttarget?: T;\n\tconstructor() {\n\t\tconst names = this._names;\n\t\tconst eventSet = this.events;\n\n\t\tconst on = (name: string, listener: Listener<T, any>): (() => void) => {\n\t\t\tfunction fn(p: any, event: EventInfo<T>): void {\n\t\t\t\ttry {\n\t\t\t\t\tlistener(p, event);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tprintError(e);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet event = eventSet[name];\n\t\t\tif (!event?.size) {\n\t\t\t\tevent = new Set();\n\t\t\t\tevent.add(fn);\n\t\t\t\teventSet[name] = event;\n\t\t\t\tnames.add(name);\n\t\t\t\tmarkChange(this, 'names');\n\t\t\t} else {\n\t\t\t\tevent.add(fn);\n\t\t\t}\n\t\t\tlet removed = false;\n\t\t\treturn () => {\n\t\t\t\tif (removed) { return; }\n\t\t\t\tremoved = true;\n\t\t\t\tif (!event) { return; }\n\t\t\t\tevent.delete(fn);\n\t\t\t\tif (event.size) { return; }\n\t\t\t\tnames.delete(name);\n\t\t\t\tmarkChange(this, 'names');\n\t\t\t};\n\t\t};\n\t\tthis.on = on;\n\t}\n\tprivate readonly __propsEvents:\n\tRecord<string, [Listener<T, any>, () => void]>\n\t= Object.create(null);\n\tprivate readonly __eventMap:\n\tRecord<string, [Listener<T, any>, () => void]>\n\t= Object.create(null);\n\tprivate readonly __propsEmitEvents:\n\tRecord<string, () => void>\n\t= Object.create(null);\n\tprivate __propsEmitEvent?: Emit;\n\n\tupdateInProps(props: any): void {\n\n\t\tconst oldPropsEvents = this.__propsEvents;\n\t\tconst oldEventNames = new Set(Object.keys(oldPropsEvents));\n\t\tfor (const [entName, fn] of getEvents(props)) {\n\t\t\tif (oldEventNames.has(entName)) {\n\t\t\t\toldEventNames.delete(entName);\n\t\t\t\tconst [olfFn, cl] = oldPropsEvents[entName] || [];\n\t\t\t\tif (olfFn === fn) { continue; }\n\t\t\t\tif (cl) { cl(); }\n\t\t\t}\n\t\t\toldPropsEvents[entName] = [fn, this.on(entName, fn)];\n\t\t}\n\t\tfor (const entName of oldEventNames) {\n\t\t\tconst e = oldPropsEvents[entName];\n\t\t\tif (!e) { continue; }\n\t\t\te[1]();\n\t\t\tdelete oldPropsEvents[entName];\n\t\t}\n\n\t\tconst eventMap = this.__eventMap;\n\t\tconst oldEventMapNames = new Set(Object.keys(eventMap));\n\t\tfor (const [entName, fn] of getEventsMap(props)) {\n\t\t\tif (oldEventMapNames.has(entName)) {\n\t\t\t\toldEventMapNames.delete(entName);\n\t\t\t\tconst [olfFn, cl] = eventMap[entName] || [];\n\t\t\t\tif (olfFn === fn) { continue; }\n\t\t\t\tif (cl) { cl(); }\n\t\t\t}\n\t\t\teventMap[entName] = [fn, this.on(entName, fn)];\n\t\t}\n\t\tfor (const entName of oldEventMapNames) {\n\t\t\tconst e = eventMap[entName];\n\t\t\tif (!e) { continue; }\n\t\t\te[1]();\n\t\t\tdelete eventMap[entName];\n\t\t}\n\n\n\t\tconst oldEmitEvents = this.__propsEmitEvents;\n\t\tconst eventsFn = getEmitFn(props);\n\t\tif (eventsFn !== this.__propsEmitEvent) {\n\t\t\tthis.__propsEmitEvent = eventsFn;\n\t\t\tfor (const entName of [...Object.keys(oldEmitEvents)]) {\n\t\t\t\tconst e = oldEmitEvents[entName];\n\t\t\t\tif (!e) { continue; }\n\t\t\t\te();\n\t\t\t\tdelete oldEmitEvents[entName];\n\t\t\t}\n\t\t\tif (!eventsFn) { return; }\n\t\t\tconst {names} = eventsFn;\n\t\t\tif (!Array.isArray(names)) { return; }\n\t\t\tfor (const n of names) {\n\t\t\t\toldEmitEvents[n] = this.on(n, p => eventsFn(n, p));\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (!eventsFn) { return; }\n\t\tconst oldNames = new Set(Object.keys(oldEmitEvents));\n\t\tconst names = eventsFn.names || [];\n\t\tfor (const n of names) {\n\t\t\tif (!n) { continue; }\n\t\t\toldNames.delete(n);\n\t\t\tif (oldNames.has(n)) { continue; }\n\t\t\toldEmitEvents[n] = this.on(n, p => eventsFn(n, p));\n\t\t}\n\t\tfor (const entName of oldNames) {\n\t\t\tconst e = oldEmitEvents[entName];\n\t\t\tif (!e) { continue; }\n\t\t\te();\n\t\t\tdelete oldEmitEvents[entName];\n\t\t}\n\t}\n}\nfunction *getEvents(p: any): IterableIterator<[string, Listener<any, any>]> {\n\tif (!p) { return; }\n\n\tfor (const k of Object.keys(p)) {\n\t\tconst fn = p[k];\n\t\tif (typeof fn !== 'function') { continue; }\n\t\tif (k.substr(0, 3) !== 'on:') { continue; }\n\t\tconst entName =  k.substr(3);\n\t\tif (!entName) { continue; }\n\t\tyield [entName, fn];\n\t}\n}\n\nfunction *getEventsMap(p: any): IterableIterator<[string, Listener<any, any>]> {\n\tif (!p) { return; }\n\tconst events = p['n:on'];\n\tif (!events) { return; }\n\tif (typeof events === 'object') { return; }\n\tfor (const k of Object.keys(p)) {\n\t\tconst fn = p[k];\n\t\tif (typeof fn !== 'function') { continue; }\n\t\tyield [k, fn];\n\t}\n}\n\nfunction getEmitFn(p: any): Emit | undefined {\n\tif (!p) { return; }\n\tlet eventsFn = p?.['n:on'] as Emit | undefined;\n\tif (typeof eventsFn !== 'function') { return; }\n\treturn eventsFn;\n}\n","\nimport { Emit } from '../../types';\nimport EventEmitter from '../../EventEmitter';\n\nexport default function createSimpleEmit(props?: Record<string, any>): Emit<Record<string, any>> {\n\tconst event = new EventEmitter();\n\tevent.updateInProps(props);\n\treturn event.emit;\n}\n","\nimport { Component } from '../../types';\n\n\nexport default function getComponents(\n\t...components: (Record<string, Component<any>> | undefined | null)[]\n): Record<string, Component<any>>[] {\n\treturn components.filter(Boolean) as Record<string, Component<any>>[];\n}\n","import { isElement } from '../../auxiliary';\nimport { Fragment } from '../../constant/tags';\n\nexport function getNodeArray(result: any): any[] {\n\tif (Array.isArray(result)) { return result; }\n\tif (!isElement(result)) { return [result]; }\n\tif (result.tag !== Fragment) { return [result]; }\n\treturn result.children;\n}\n","import { Component } from './types';\n\nexport const components: Record<string, Component<any>> = Object.create(null);\n\nexport default function register(\n\tname: string,\n\tcomponent: Component<any>,\n): void {\n\tcomponents[name] = component;\n}\n","import { Component } from '../../types';\nimport {\n\tFragment,\n\tRender,\n\tSlot,\n\tScopeSlot,\n\tContainer,\n} from '../../constant/tags';\nimport { components as globalComponents } from '../../register';\n\n\nexport function findComponent(\n\ttag: any,\n\tcomponents: Record<string, Component<any>>[],\n\tnative?: boolean,\n): Component<any> | string | null {\n\tif (!tag) { return null; }\n\tif (typeof tag !== 'string') { return tag; }\n\tif (/^core:/i.test(tag)) {\n\t\tlet ltag = tag.toLowerCase();\n\t\tif (ltag === Container) { return ltag; }\n\t\tif (ltag === ScopeSlot) { return ltag; }\n\t\tif (ltag === Render) { return ltag; }\n\t\tif (ltag === Slot) { return native ? 'slot' : ScopeSlot; }\n\t\treturn Fragment;\n\t}\n\tif (tag === Fragment) { return tag; }\n\tif (tag === 'slot') { return tag; }\n\tfor (const list of components) {\n\t\tconst component = list[tag];\n\t\tif (component) { return component; }\n\t}\n\treturn globalComponents[tag] || tag;\n}\n","import { getNodeArray } from './getNodeArray';\n\nexport function getChildren(children: any[], args: any): any[] {\n\tif (children.length !== 1) { return children; }\n\tconst [fn] = children;\n\tif (typeof fn !== 'function') { return children; }\n\treturn getNodeArray(fn(args));\n}\n","import { Slots } from '../../types';\nimport {\n\tgetSlots,\n\tsetSlots,\n} from '../slot';\nimport { NormalizeAuxiliaryObject } from './index';\n\nexport function createSimpleSlots(\n\tnormalizeAuxiliaryObject: NormalizeAuxiliaryObject,\n\tchildren: any[],\n): Slots {\n\tconst slotMap = Object.create(null);\n\tgetSlots(normalizeAuxiliaryObject.renderer, children, slotMap);\n\treturn setSlots(slotMap);\n}\n","\nimport {\n\tElement,\n\tSlots,\n\tSimpleComponent,\n\tComponent,\n\tContextData,\n\tComponentEntity,\n\tIRenderer,\n} from '../../types';\nimport {\n\tcomponentsSymbol,\n\tobjectTypeSymbol,\n\tobjectTypeSymbolElement,\n} from '../../constant/symbols';\nimport { Render, ScopeSlot } from '../../constant/tags';\nimport { isValue, postpone } from '../../install/monitorable';\n\nimport { isSimpleComponent } from '../../is';\n\nimport { isElement } from '../../auxiliary';\nimport delayRefresh from '../../extends/delayRefresh';\nimport { createBy } from '../../extends/with';\nimport { runCurrent } from '../../extends/current';\n\nimport ComponentProxy from '../proxy/ComponentProxy';\nimport {\n\tcreateSlotApi,\n\tsetSlot,\n\trenderSlot,\n} from '../slot';\n\nimport createSimpleEmit from './createSimpleEmit';\nimport getComponents from './getComponents';\nimport { getNodeArray } from './getNodeArray';\nimport { findComponent } from './findComponent';\nimport { getChildren } from './getChildren';\nimport { createSimpleSlots } from './createSimpleSlots';\n\nexport interface NormalizeAuxiliaryObject {\n\trefresh: (f?: () => void) => void;\n\tslotRenderFnList: WeakMap<Function, Function>;\n\tdelivered: Record<any, any>;\n\tsimpleParent: ComponentEntity<any, any> | undefined;\n\trenderer: IRenderer;\n}\n\nfunction createSimpleContextData(\n\tnormalizeAuxiliaryObject: NormalizeAuxiliaryObject,\n): ContextData {\n\treturn {\n\t\tisShell: false,\n\t\tisSimple: true,\n\t\tcreated: false,\n\t\tdestroyed: true,\n\t\tdelivered: normalizeAuxiliaryObject.delivered,\n\t\twithData: {},\n\t\trefresh: normalizeAuxiliaryObject.refresh,\n\t\tparent: normalizeAuxiliaryObject.simpleParent,\n\t\tgetChildren: () => [],\n\t};\n}\n\nfunction execSimple(\n\tnormalizeAuxiliaryObject: NormalizeAuxiliaryObject,\n\tnode: Element,\n\ttag: SimpleComponent<any, any>,\n\tcomponents: Record<string, Component<any>>[],\n\tchildren: any[],\n): Element {\n\tconst slots = createSimpleSlots(normalizeAuxiliaryObject, children);\n\tconst contextData = createSimpleContextData(normalizeAuxiliaryObject);\n\n\tconst result = runCurrent(contextData, undefined, tag, {...node.props}, {\n\t\tby: createBy(contextData),\n\t\tslot: createSlotApi(slots, true),\n\t\tchildNodes: () => children,\n\t\temit: createSimpleEmit(node.props),\n\t});\n\tconst nodes = init(\n\t\tnormalizeAuxiliaryObject,\n\t\tgetNodeArray(result),\n\t\tslots,\n\t\tgetComponents(...components, tag[componentsSymbol]),\n\t\tfalse,\n\t\ttrue,\n\t);\n\n\treturn {\n\t\t...node,\n\t\ttag,\n\t\texeced: true,\n\t\tchildren: Array.isArray(nodes) ? nodes : [nodes],\n\t};\n}\n\nfunction getSlotRenderFn(\n\tnormalizeAuxiliaryObject: NormalizeAuxiliaryObject,\n\tchildren: any[],\n\tslots: Slots,\n\tcomponents: Record<string, Component<any>>[],\n\tnative: boolean,\n): null | Function {\n\tif (children.length !== 1) { return null; }\n\tconst [renderFn] = children;\n\tif (isValue(renderFn) || typeof renderFn !== 'function') { return null; }\n\tconst { slotRenderFnList } = normalizeAuxiliaryObject;\n\tconst fn = slotRenderFnList.get(renderFn);\n\tif (fn) { return fn; }\n\tconst newFn = function(this: any, ...p: any[]): any[] {\n\t\treturn init(\n\t\t\tnormalizeAuxiliaryObject,\n\t\t\trenderFn.call(this, ...p),\n\t\t\tslots,\n\t\t\tcomponents,\n\t\t\tnative,\n\t\t\tfalse,\n\t\t);\n\t};\n\tslotRenderFnList.set(renderFn, newFn);\n\treturn newFn;\n}\n\n\nfunction exec<T>(\n\tnode: T[],\n\tnormalizeAuxiliaryObject: NormalizeAuxiliaryObject,\n\tslots: Slots,\n\tcomponents: Record<string, Component<any>>[],\n\tnative: boolean,\n\tsimpleSlot: boolean,\n): (T | Element)[];\nfunction exec<T>(\n\tnode: T,\n\tnormalizeAuxiliaryObject: NormalizeAuxiliaryObject,\n\tslots: Slots,\n\tcomponents: Record<string, Component<any>>[],\n\tnative: boolean,\n\tsimpleSlot: boolean,\n): T | Element;\n\nfunction exec<T>(\n\tnode: T | T[],\n\tnormalizeAuxiliaryObject: NormalizeAuxiliaryObject,\n\tslots: Slots,\n\tcomponents: Record<string, Component<any>>[],\n\tnative: boolean,\n\tsimpleSlot: boolean,\n): (T | Element) | (T | Element)[] {\n\tif (Array.isArray(node)) {\n\t\treturn node.map(n => exec(\n\t\t\tn,\n\t\t\tnormalizeAuxiliaryObject,\n\t\t\tslots,\n\t\t\tcomponents,\n\t\t\tnative,\n\t\t\tsimpleSlot,\n\t\t));\n\t}\n\tif (!isElement(node)) { return node; }\n\tif (node.tag === ScopeSlot && node.inserted) { return node; }\n\tconst { children } = node;\n\tconst tag = findComponent(node.tag, components, native);\n\tif (isSimpleComponent(tag)) {\n\t\tif (node.execed) { return node; }\n\t\treturn execSimple(\n\t\t\tnormalizeAuxiliaryObject,\n\t\t\tnode,\n\t\t\ttag,\n\t\t\tcomponents,\n\t\t\tchildren.map(n => exec(\n\t\t\t\tn,\n\t\t\t\tnormalizeAuxiliaryObject,\n\t\t\t\tslots,\n\t\t\t\tcomponents,\n\t\t\t\tnative,\n\t\t\t\tsimpleSlot,\n\t\t\t)),\n\t\t);\n\t}\n\tif (tag === Render) {\n\t\tconst slotRenderFn = getSlotRenderFn(\n\t\t\tnormalizeAuxiliaryObject,\n\t\t\tchildren,\n\t\t\tslots,\n\t\t\tcomponents,\n\t\t\tnative,\n\t\t);\n\t\tif (slotRenderFn) {\n\t\t\treturn { ...node, children: [slotRenderFn] } as Element;\n\t\t}\n\t}\n\tif (tag !== ScopeSlot) {\n\t\treturn {\n\t\t\t...node,\n\t\t\ttag,\n\t\t\tchildren: children.map(n => exec(\n\t\t\t\tn,\n\t\t\t\tnormalizeAuxiliaryObject,\n\t\t\t\tslots,\n\t\t\t\tcomponents,\n\t\t\t\tnative,\n\t\t\t\tsimpleSlot,\n\t\t\t)),\n\t\t} as Element;\n\t}\n\n\tconst { props } = node;\n\tconst args = props?.argv || {};\n\tconst slotName = node.props?.name || 'default';\n\tconst slot = simpleSlot || slotName in slots\n\t\t? slots[slotName]\n\t\t: setSlot(slots, slotName);\n\tconst el: Element = {\n\t\t[objectTypeSymbol]: objectTypeSymbolElement,\n\t\tprops,\n\t\tkey: node.key,\n\t\ttag: ScopeSlot,\n\t\tinserted: true,\n\t\tslot: slotName,\n\t\tisDefault: !slot,\n\t\tchildren: slot\n\t\t\t? renderSlot(slot, args)\n\t\t\t: getChildren(children, args).map(n => exec(\n\t\t\t\tn,\n\t\t\t\tnormalizeAuxiliaryObject,\n\t\t\t\tslots,\n\t\t\t\tcomponents,\n\t\t\t\tnative,\n\t\t\t\tsimpleSlot,\n\t\t\t)),\n\t};\n\treturn el;\n}\nexport function init(\n\tnormalizeAuxiliaryObject: NormalizeAuxiliaryObject,\n\tnode: any[],\n\tslots: Slots,\n\tcomponents: Record<string, Component<any>>[],\n\tnative: boolean,\n\tsimpleSlot: boolean,\n): any[] {\n\treturn delayRefresh(() => postpone(() => exec(\n\t\tnode,\n\t\tnormalizeAuxiliaryObject,\n\t\tslots,\n\t\tcomponents,\n\t\tnative,\n\t\tsimpleSlot,\n\t)));\n}\n\n\nexport default function normalize(\n\tproxy: ComponentProxy<any, any, any, any>,\n\tslotRenderFnList: WeakMap<Function, Function>,\n\trefresh: (f?: () => void) => void,\n\tresult: any,\n\tcomponents = proxy.tag[componentsSymbol] || null,\n): any[] {\n\treturn init(\n\t\t{\n\t\t\trenderer: proxy.renderer,\n\t\t\trefresh,\n\t\t\tslotRenderFnList,\n\t\t\tdelivered: proxy.delivered,\n\t\t\tsimpleParent: proxy.entity,\n\t\t},\n\t\tgetNodeArray(result),\n\t\tproxy.slots,\n\t\tgetComponents(components),\n\t\tBoolean(proxy.isNative),\n\t\tfalse,\n\t);\n}\n","import {\n\tTreeNodeList,\n\tMountOptions,\n\tMountedNode,\n\tMonitored,\n} from '../../types';\nimport BaseProxy from './BaseProxy';\nimport draw, { unmount, drawPlaceholder, drawReplace } from '../draw';\nimport { createMountedNode } from '../id';\nimport { isValue } from '../../install/monitorable';\nimport NodeProxy from './NodeProxy';\nimport { markRead, markChange } from '../../install/monitorable';\nimport { isElement } from '../../auxiliary';\nimport { Fragment } from '../../constant/tags';\nimport convert, { destroy } from '../convert';\nimport { monitor } from '../../install/monitorable';\nimport { wait } from '../../extends/delayRefresh';\nimport { init } from '../normalize';\nimport { NormalizeAuxiliaryObject } from '../normalize';\nimport { isProduction } from '../../constant/info';\nimport { defineProperty } from '../../install/monitorable';\n\n\nfunction getText(\n\tvalue: any,\n): string | null {\n\tif (value === undefined || value === null) { return null; }\n\tif (value instanceof Date) { return value.toISOString(); }\n\tif (value instanceof RegExp) { return String(value); }\n\treturn String(value);\n}\n\n\nfunction getNodeArray(result: any): any[] {\n\tif (!isElement(result)) { return [result]; }\n\tif (result.tag !== Fragment) { return [result]; }\n\treturn result.children;\n}\nexport default class ValueProxy extends NodeProxy<null> {\n\n\tget content(): (MountedNode | MountedNode[])[] { return this.tree; }\n\t__value: any;\n\ttext?: string | null;\n\tisValue?: boolean;\n\tset value(v) {\n\t\tconst k = v !== this.__value;\n\t\tthis.__value = v;\n\t\tif (k) {\n\t\t\tmarkChange(this, 'value');\n\t\t}\n\t}\n\tget value(): any {\n\t\tmarkRead(this, 'value');\n\t\tlet v = this.__value;\n\t\twhile (isValue(v)) { v = v(); }\n\t\treturn v;\n\t}\n\t__nodes?: TreeNodeList;\n\tsrc?: any;\n\t/** 结果渲染函数 */\n\tprivate __render: Monitored<boolean, []>;\n\tconstructor(\n\t\tattrs: any,\n\t\tparent: BaseProxy<any>,\n\t) {\n\t\tsuper(null, null, attrs, [], parent);\n\t\tconst {value} = attrs;\n\t\tthis.__value = value;\n\t\tif (!isProduction) {\n\t\t\tdefineProperty(this, 'text', undefined);\n\t\t\tdefineProperty(this, 'isValue', isValue(value));\n\t\t}\n\t\tconst slots = Object.create(null);\n\t\tconst normalizeAuxiliaryObject: NormalizeAuxiliaryObject = {\n\t\t\trenderer: this.renderer,\n\t\t\trefresh: () => this.refresh(),\n\t\t\tslotRenderFnList: new WeakMap(),\n\t\t\tdelivered: this.delivered,\n\t\t\t// TODO\n\t\t\tsimpleParent: undefined,\n\t\t};\n\t\tthis.__render = monitor(\n\t\t\tchanged => changed && this.refresh(),\n\t\t\t() => {\n\t\t\t\tlet {value} = this;\n\t\t\t\tif (isElement(value) || Array.isArray(value)) {\n\t\t\t\t\tthis.__nodes = convert(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\tinit(\n\t\t\t\t\t\t\tnormalizeAuxiliaryObject,\n\t\t\t\t\t\t\tgetNodeArray(value),\n\t\t\t\t\t\t\tslots,\n\t\t\t\t\t\t\t[],\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t),\n\t\t\t\t\t\tthis.__nodes,\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (this.__nodes) {\n\t\t\t\t\tdestroy(this.__nodes);\n\t\t\t\t\tthis.__nodes = undefined;\n\t\t\t\t} else if (this.src === value) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.src = value;\n\t\t\t\treturn true;\n\t\t\t},\n\t\t);\n\t\tthis.created = true;\n\t\tthis.refresh();\n\t}\n\n\t/** 是否为刷新中 */\n\tprivate __refreshing = false;\n\t/** 是否需要继续刷新 */\n\tprivate __needRefresh = false;\n\n\n\trefresh(): void {\n\t\tif (this.destroyed) { return; }\n\t\tthis.__needRefresh = true;\n\t\tif (!this.created) { return; }\n\n\t\tif (this.__refreshing) { return; }\n\t\tthis.__refreshing = true;\n\n\t\tlet needDraw = false;\n\t\twhile (this.__needRefresh && !wait(this)) {\n\t\t\tthis.__needRefresh = false;\n\t\t\tneedDraw = this.__render() || needDraw;\n\t\t\tif (this.destroyed) { return; }\n\t\t}\n\t\tthis.__refreshing = false;\n\t\tif (!needDraw) { return; }\n\t\tif (wait(this)) { return; }\n\t\tif (!this.mounted) { return; }\n\t\tif (this.destroyed) { return; }\n\t\tif (this.unmounted) { return; }\n\t\tthis.requestDraw();\n\t}\n\n\t_update({value}: any): void {\n\t\tthis.value = value;\n\t\tif (!isProduction) {\n\t\t\tthis.isValue = isValue(value);\n\t\t}\n\t}\n\t_destroy(): void {\n\t\tthis.__render.stop();\n\t\tconst { __nodes } = this;\n\t\tif (!__nodes) {\n\t\t\treturn;\n\t\t}\n\t\tdestroy(__nodes);\n\t}\n\t_mount(mountOptions: MountOptions): void {\n\t\tconst { renderer, __nodes, src } = this;\n\t\tif (__nodes) {\n\t\t\tthis.tree = draw(renderer, mountOptions, __nodes);\n\t\t\treturn;\n\t\t}\n\t\tif (renderer.isNode(src)) {\n\t\t\tthis.tree = [createMountedNode({ node: src })];\n\t\t\treturn;\n\t\t}\n\t\tconst text = getText(src);\n\t\tif (!isProduction) { this.text = text; }\n\t\tconst node = typeof text === 'string'\n\t\t\t? createMountedNode({ node: renderer.createText(text) })\n\t\t\t: drawPlaceholder(renderer);\n\t\tthis.tree = [node];\n\t}\n\t_redraw(mountOptions: MountOptions): void {\n\t\tconst { renderer, __nodes, src } = this;\n\t\tif (__nodes) {\n\t\t\tthis.tree = draw(renderer, mountOptions, __nodes, this.tree);\n\t\t\treturn;\n\t\t}\n\t\tif (renderer.isNode(src)) {\n\t\t\tthis.tree = [createMountedNode({ node: src })];\n\t\t\tif (!isProduction) {\n\t\t\t\tthis.text = undefined;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tconst text = getText(src);\n\t\tif (!isProduction) { this.text = text; }\n\t\tconst node = typeof text === 'string'\n\t\t\t? createMountedNode({ node: renderer.createText(text) })\n\t\t\t: drawPlaceholder(renderer);\n\t\tthis.tree =\tdrawReplace(renderer, [node], this.tree);\n\t}\n\t_unmount(): void {\n\t\tconst { renderer, tree } = this;\n\t\tunmount(renderer, tree);\n\t}\n}\n","import {\n\tTreeNodeList,\n\tDeliverComponent,\n\tMountOptions,\n\tMountedNode,\n} from '../../types';\nimport BaseProxy from './BaseProxy';\nimport convert, { destroy } from '../convert';\nimport NodeProxy from './NodeProxy';\nimport { deliverKeySymbol } from '../../constant/symbols';\nimport { markRead, markChange } from '../../install/monitorable';\nimport draw, { unmount } from '../draw';\n\nexport default class DeliverProxy<T> extends NodeProxy<DeliverComponent<T>> {\n\tprivate __valueObject: T | undefined;\n\tprivate __nodes: TreeNodeList;\n\tget content(): (MountedNode | MountedNode[])[] { return this.tree; }\n\n\n\tconstructor(\n\t\toriginalTag: any,\n\t\ttag: DeliverComponent<T>,\n\t\tprops: { value?: T;},\n\t\tchildren: any[],\n\t\tparent: BaseProxy<any>,\n\t) {\n\t\tsuper(originalTag, tag, props, children, parent, Object.create(parent.delivered));\n\t\tconst {value} = props;\n\t\tthis.__valueObject = value;\n\t\tReflect.defineProperty(this.delivered, tag[deliverKeySymbol], {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tget:() => {\n\t\t\t\tmarkRead(this, 'value');\n\t\t\t\treturn this.__valueObject;\n\t\t\t},\n\t\t});\n\t\tthis.__nodes = convert(this, children);\n\t\tthis.created = true;\n\t}\n\t/** 更新属性及子代 */\n\t_update({value}: { value?: T;}, children: any[]): void {\n\t\tif (this.__valueObject !== value) {\n\t\t\tthis.__valueObject = value;\n\t\t\tmarkChange(this, 'value');\n\t\t}\n\t\tthis.__nodes = convert(this, children, this.__nodes);\n\t\tthis.requestDraw();\n\t}\n\n\t_destroy(): void {\n\t\tdestroy(this.__nodes);\n\t}\n\t_mount(mountOptions: MountOptions): void {\n\t\tthis.tree = draw(this.renderer, mountOptions, this.__nodes);\n\t}\n\t_redraw(mountOptions: MountOptions): void {\n\t\tconst { renderer, __nodes, tree } = this;\n\t\tthis.tree = draw(renderer, mountOptions, __nodes, tree);\n\t}\n\t_unmount(): void {\n\t\tunmount(this.renderer, this.tree);\n\t}\n}\n","import {\n\tMountOptions,\n\tTreeNodeList,\n\tMountedNode,\n} from '../../types';\nimport BaseProxy from './BaseProxy';\nimport convert, { destroy } from '../convert';\nimport draw, { unmount } from '../draw';\nimport NodeProxy from './NodeProxy';\n\nexport default class GroupProxy<T> extends NodeProxy<T> {\n\tprivate __nodes: TreeNodeList;\n\n\tget content(): (MountedNode | MountedNode[])[] { return this.tree; }\n\tconstructor(\n\t\ttag: T,\n\t\tchildren: any[],\n\t\tparent: BaseProxy<any>,\n\t) {\n\t\tsuper(tag, tag, {}, children, parent);\n\t\tthis.__nodes = convert(this, children);\n\t}\n\t/** 更新属性及子代 */\n\t_update(props: object, children: any[]): void {\n\t\tthis.__nodes = convert(this, children, this.__nodes);\n\t\tthis.requestDraw();\n\t}\n\n\t_destroy(): void {\n\t\tdestroy(this.__nodes);\n\t}\n\t_mount(mountOptions: MountOptions): void {\n\t\tthis.tree = draw(this.renderer, mountOptions, this.__nodes);\n\t}\n\t_redraw(mountOptions: MountOptions): void {\n\t\tthis.tree = draw(this.renderer, mountOptions, this.__nodes, this.tree);\n\t}\n\t_unmount(): void {\n\t\tunmount(this.renderer, this.tree);\n\t}\n}\n","import {\n\tIRenderer,\n\tRef,\n\tEntity,\n} from '../../types';\nimport EventEmitter from '../../EventEmitter';\nimport BaseProxy from './BaseProxy';\n\nfunction updateData(\n\tprops: any,\n\tdata: Record<string, any>,\n): void {\n\tconst oldKeys = new Set(Object.keys(data));\n\tfor (const k in props) {\n\t\tif (k.substr(0, 5) !== 'data:') { continue; }\n\t\tconst key = k.substr(5);\n\t\tif (!key) { continue; }\n\t\toldKeys.delete(key);\n\t\tdata[key] = props[key];\n\t}\n\tconst dataset = props['n:data'];\n\tif (dataset && typeof dataset === 'object') {\n\t\tfor (const key in dataset) {\n\t\t\tif (!key) { continue; }\n\t\t\toldKeys.delete(key);\n\t\t\tdata[key] = dataset[key];\n\t\t}\n\t}\n\tfor (const key of oldKeys) {\n\t\tdelete data[key];\n\t}\n}\n\n\nexport default abstract class RefProxy<\n\tTExposed extends object | Function,\n\tTTag,\n\tTEntity extends Entity<any, any>,\n> extends BaseProxy<TTag> {\n\t/** 组件暴露值 */\n\tprivate __exposed?: TExposed;\n\t/** 组件暴露值 */\n\tprivate __ref?: Ref<TExposed, TEntity>;\n\tget exposed(): TExposed | undefined { return this.__exposed; }\n\tsetExposed(t?: TExposed): void {\n\t\tif (this.destroyed) { return; }\n\t\tconst ref = this.__ref;\n\t\tif (typeof ref !== 'function') {\n\t\t\tthis.__exposed = t;\n\t\t\treturn;\n\t\t}\n\t\tconst old = this.__exposed;\n\t\tthis.__exposed = t;\n\t\tref(t, old, this.entity);\n\t}\n\treadonly events: EventEmitter<TEntity>;\n\t/** 组件实体 */\n\treadonly entity: TEntity;\n\n\treadonly data: Record<string, any> = Object.create(null);\n\n\tconstructor(\n\t\trenderer: IRenderer,\n\t\toriginalTag: any,\n\t\ttag: any,\n\t\tattrs: any,\n\t\tparent?: BaseProxy<any>,\n\t\tdelivered?: Record<any, any>,\n\t) {\n\t\tsuper(renderer, originalTag, tag, attrs, parent, delivered);\n\n\t\tupdateData(attrs, this.data);\n\t\tconst events = new EventEmitter<TEntity>();\n\t\tconst entity = this.createEntity(events);\n\t\tevents.target = entity;\n\t\tthis.entity = entity;\n\t\tthis.events = events;\n\t\tconst ref = attrs['n:ref'];\n\t\tif (typeof ref === 'function') {\n\t\t\tthis.__ref = ref;\n\t\t\tref(undefined, undefined, entity, true);\n\t\t}\n\t}\n\n\t/** 创建 */\n\tprotected abstract createEntity(events: EventEmitter<any>): TEntity;\n\n\n\t/** 更新属性及子代 */\n\tupdate(attrs: Record<string, any>, children: any[]): void {\n\t\tupdateData(attrs, this.data);\n\t\tconst ref = attrs['n:ref'];\n\t\tconst oldRef = this.__ref;\n\t\tif (ref !== oldRef) {\n\t\t\tif (typeof ref === 'function') {\n\t\t\t\tref(this.__exposed);\n\t\t\t} else if (oldRef) {\n\t\t\t\tthis.__ref = undefined;\n\t\t\t}\n\t\t}\n\t\tsuper.update(attrs, children);\n\t}\n\tdestroy(): boolean {\n\t\tif (!super.destroy()) { return false; }\n\t\tconst ref = this.__ref;\n\t\tif (typeof ref !== 'function') { return true; }\n\t\tref(undefined, this.__exposed, this.entity, false);\n\t\treturn true;\n\t}\n}\n","import {\n\tTreeNodeList,\n\tNativeElementNode,\n\tMountedNode,\n\tElementComponent,\n\tMountOptions,\n\tElementEntity,\n} from '../../types';\nimport BaseProxy from './BaseProxy';\nimport convert, { destroy } from '../convert';\nimport draw, { getNodes, unmount } from '../draw';\nimport RefProxy from './RefProxy';\nimport { createMountedNode } from '../id';\nimport { componentValueSymbol } from '../../constant/symbols';\nimport { defineProperty } from '../../install/monitorable';\nimport { isProduction } from '../../constant/info';\nimport EventEmitter from '../../EventEmitter';\nimport ContainerProxy from './ContainerProxy';\nimport ComponentProxy from './ComponentProxy';\n\nexport default class ElementProxy<\n\tT extends string | ElementComponent<any, any>\n> extends RefProxy<NativeElementNode, T, ElementEntity<NativeElementNode>> {\n\t/** 所属容器 */\n\treadonly container: ContainerProxy<any>;\n\t/** 渲染组件根部，如果自身是 ComponentProxy 则为自身 */\n\treadonly componentRoot?: ComponentProxy<any, any, any, any>;\n\n\tprops: object;\n\tprivate __nodes: TreeNodeList;\n\tnode?: NativeElementNode;\n\tcontent: (MountedNode | MountedNode[])[] = [];\n\tprivate __elementTagData: string | any;\n\tconstructor(\n\t\toriginalTag: any,\n\t\ttag: T,\n\t\tprops: object,\n\t\tchildren: any[],\n\t\tparent: BaseProxy<any>,\n\t) {\n\t\tsuper(parent.renderer, originalTag, tag, props, parent);\n\t\tthis.container = parent.container;\n\t\tthis.componentRoot = parent.componentRoot;\n\t\tif (!isProduction) { defineProperty(this, 'content', []); }\n\n\t\tthis.props = props;\n\t\t// 事件处理\n\t\tthis.events.updateInProps(props);\n\t\tthis.__nodes = convert(this, children);\n\t\tif (typeof tag === 'string') {\n\t\t\tthis.__elementTagData = tag;\n\t\t} else {\n\t\t\tthis.__elementTagData = (tag as any)[componentValueSymbol];\n\t\t}\n\t}\n\trequestDraw(): void {\n\t\tif (!this.mounted) { return; }\n\t\tif (this.destroyed) { return; }\n\t\tthis.container.markDraw(this);\n\t}\n\tcallHook(id: string): void {\n\t}\n\tcreateEntity(events: EventEmitter<any>): ElementEntity<NativeElementNode> {\n\t\tconst cfg: { [K in keyof ElementEntity<any>]-?:\n\t\t\t{ configurable: true, value: ElementEntity<any>[K], writable?: boolean }\n\t\t\t| { configurable: true, get(): ElementEntity<any>[K] }\n\t\t} = {\n\t\t\tdata: { configurable: true, value: this.data },\n\t\t\texposed: { configurable: true, get: () => this.exposed },\n\t\t\ton: { configurable: true, value: events.on },\n\t\t\temit: { configurable: true, value: events.emit },\n\t\t};\n\t\tconst entity: ElementEntity<any> = Object.create(null, cfg);\n\t\treturn entity;\n\t}\n\t/** 更新属性及子代 */\n\t_update(props: object, children: any[]): void {\n\t\tthis.props = props;\n\t\t// 事件处理\n\t\tthis.events.updateInProps(props);\n\t\tthis.__nodes = convert(this, children, this.__nodes);\n\t\tthis.requestDraw();\n\t}\n\n\t_destroy(): void {\n\t\tif (this.destroyed) { return; }\n\t\tthis.destroyed = true;\n\t\tdestroy(this.__nodes);\n\t}\n\t_mount(mountOptions: MountOptions): MountOptions | void {\n\t\tif (this.node) { return; }\n\t\tconst { renderer, __elementTagData: tag, props, __nodes } = this;\n\t\tconst node = renderer.createElement(tag, props, mountOptions);\n\t\tif (!node) { return; }\n\t\tthis.node = node;\n\t\tthis.setExposed(node);\n\t\tconst subMountOptions = renderer.getMountOptions(\n\t\t\tnode,\n\t\t\tmountOptions,\n\t\t) || mountOptions;\n\t\tif (__nodes) {\n\t\t\tconst content = draw(renderer, subMountOptions, __nodes);\n\t\t\tthis.content = content;\n\t\t\tfor (const it of getNodes(content)) {\n\t\t\t\trenderer.insertNode(node, it);\n\t\t\t}\n\t\t}\n\t\tthis.tree = [createMountedNode({ node })];\n\t\trenderer.updateProps(\n\t\t\tnode,\n\t\t\ttag,\n\t\t\tprops,\n\t\t\tthis.events.emit,\n\t\t\tsubMountOptions,\n\t\t);\n\t\treturn subMountOptions;\n\t}\n\t_redrawChildren(mountOptions: MountOptions): void {\n\t\tconst { renderer, __nodes, content, node } = this;\n\t\tif (!node) { return; }\n\t\tif (!__nodes.length && content.length) {\n\t\t\tunmount(renderer, content);\n\t\t\tthis.content = [];\n\t\t} else if (__nodes.length && content.length) {\n\t\t\tthis.content = draw(renderer, mountOptions, __nodes, content);\n\t\t} else if (__nodes.length && !content.length) {\n\t\t\tconst newTree = draw(renderer, mountOptions, __nodes);\n\t\t\tthis.content = newTree;\n\t\t\tfor (const it of getNodes(newTree)) {\n\t\t\t\trenderer.insertNode(node, it);\n\t\t\t}\n\t\t}\n\t}\n\t_redraw(mountOptions: MountOptions): void {\n\t\tthis._redrawChildren(mountOptions);\n\t\tconst { renderer, __elementTagData: tag, node, props } = this;\n\t\tif (!node) { return; }\n\t\trenderer.updateProps(\n\t\t\tnode,\n\t\t\ttag,\n\t\t\tprops || {},\n\t\t\tthis.events.emit,\n\t\t\tmountOptions,\n\t\t);\n\t}\n\t_unmount(): void {\n\t\tconst { renderer, tree, node } = this;\n\t\tif (!node) { return; }\n\t\trenderer.removeNode(node);\n\t\tunmount(renderer, tree);\n\t}\n}\n","import { TreeNodeList, Entity, ContextInfo, ContextData } from '../../types';\nimport { wait } from '../../extends/delayRefresh';\nimport { destroyUseData } from '../../extends/use';\nimport { destroyContextData } from '../../extends/with';\nimport convert, { destroy } from '../convert';\nimport BaseProxy from './BaseProxy';\nimport RefProxy from './RefProxy';\nimport ComponentProxy from './ComponentProxy';\n\n\nfunction createInfo(\n\tobj: CustomComponentProxy<any, any, any>,\n): ContextInfo {\n\tconst cfg: { [K in keyof ContextInfo]:\n\t\t{ configurable: true, value: ContextInfo[K], writable?: boolean }\n\t\t| { configurable: true, get(): ContextInfo[K] }\n\t} = {\n\t\tcreated: { configurable: true, get: () => obj.created },\n\t\tdestroyed: { configurable: true, get: () => obj.destroyed },\n\t\tmounted: { configurable: true, get: () => obj.mounted },\n\t\tunmounted: { configurable: true, get: () => obj.unmounted },\n\t};\n\treturn Object.create(null, cfg);\n}\nexport default abstract class CustomComponentProxy<\n\tTExposed extends object | Function,\n\tTTag,\n\tTEntity extends Entity<any, any>,\n> extends RefProxy<TExposed, TTag, TEntity> {\n\treadonly contextData: ContextData;\n\t/** 父组件代理 */\n\treadonly parentComponentProxy?: ComponentProxy<any, any, any, any>;\n\n\t/** 子组件 */\n\treadonly children: Set<ComponentProxy<any, any, any, any>> = new Set();\n\n\tconstructor(\n\t\toriginalTag: any,\n\t\ttag: any,\n\t\tattrs: any,\n\t\tparent: BaseProxy<any>,\n\t\tisShell: boolean,\n\t) {\n\t\tsuper(parent.renderer, originalTag, tag, attrs, parent);\n\t\t// eslint-disable-next-line @typescript-eslint/no-this-alias\n\t\tconst _this = this;\n\t\tthis.parentComponentProxy = parent.componentRoot;\n\t\tconst parentEntity = parent.componentRoot?.entity;\n\t\tthis.contextData = {\n\t\t\tisShell,\n\t\t\tisSimple: false,\n\t\t\tget created() { return _this.created; },\n\t\t\tget destroyed() { return _this.destroyed; },\n\t\t\tdelivered: this.delivered,\n\t\t\twithData: {},\n\t\t\tinfo: isShell ? undefined : createInfo(this),\n\t\t\thooks: isShell ? undefined : {},\n\t\t\tuseData: isShell ? undefined : [],\n\t\t\trefresh: this.refresh.bind(this),\n\t\t\tparent: parentEntity,\n\t\t\tgetChildren: () => [...this.children].map(t => t.exposed),\n\t\t};\n\t}\n\t/** 结果渲染函数 */\n\tprotected abstract get _render(): () => any[];\n\t/** 结果渲染函数 */\n\tprotected abstract get _stopRender(): () => void;\n\n\t/** 是否为刷新中 */\n\tprivate __refreshing = false;\n\t/** 是否需要继续刷新 */\n\tprivate __needRefresh = false;\n\tget needRefresh(): boolean { return this.__needRefresh; }\n\n\t/** 延时刷新计数 */\n\tprivate __delayedRefresh = 0;\n\t/** 渲染结果 */\n\tprotected _nodes: TreeNodeList = [];\n\n\trefresh(): void;\n\trefresh<T>(f: () => T): T;\n\trefresh<T>(f?: () =>  T): T | void;\n\trefresh<T>(f?: () =>  T): T | void {\n\t\tif (typeof f === 'function') {\n\t\t\ttry {\n\t\t\t\tthis.__delayedRefresh++;\n\t\t\t\treturn f();\n\t\t\t} finally {\n\t\t\t\tthis.__delayedRefresh--;\n\t\t\t\tif (this.__delayedRefresh <= 0) {\n\t\t\t\t\tthis.refresh();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (this.destroyed) { return; }\n\t\tthis.__needRefresh = true;\n\t\tif (!this.created) { return; }\n\n\t\tif (this.__refreshing) { return; }\n\t\tthis.__refreshing = true;\n\n\t\tlet nodes: any[] | undefined;\n\t\tfor (;;) {\n\t\t\tif (wait(this)) { break; }\n\t\t\tif (this.__delayedRefresh) { break; }\n\t\t\tif (!this.__needRefresh) { break; }\n\t\t\tthis.__needRefresh = false;\n\t\t\tnodes = this._render();\n\t\t\tif (this.destroyed) { return; }\n\t\t}\n\t\tthis.__refreshing = false;\n\t\tif (this.destroyed) { return; }\n\t\tif (this.__delayedRefresh) { return; }\n\t\tif (!nodes) { return; }\n\t\tif (wait(this)) { return; }\n\n\t\tthis._nodes = convert(this, nodes, this._nodes);\n\t\tif (!this.mounted) { return; }\n\t\tif (this.unmounted) { return; }\n\t\tthis.requestDraw();\n\t}\n\t_destroy(): void {\n\t\tthis._stopRender();\n\t\tconst { contextData } = this;\n\t\tdestroyContextData(contextData.withData);\n\t\tdestroyUseData(contextData.useData);\n\t\tdestroy(this._nodes);\n\t}\n\n\n}\n","import {\n\tMountOptions,\n\tShellComponent,\n\tShellContext,\n\tSlots,\n\tMountedNode,\n\tMonitored,\n\tShellEntity,\n} from '../../types';\nimport BaseProxy from './BaseProxy';\nimport draw, { unmount } from '../draw';\nimport CustomComponentProxy from './CustomComponentProxy';\nimport { isElement } from '../../auxiliary';\nimport { Fragment } from '../../constant/tags';\nimport convert from '../convert';\nimport { monitor } from '../../install/monitorable';\nimport { init } from '../normalize';\nimport { NormalizeAuxiliaryObject } from '../normalize';\nimport { isProduction } from '../../constant/info';\nimport { runCurrent, runCurrentWithLabel } from '../../extends/current';\nimport EventEmitter from '../../EventEmitter';\nimport { createSlotApi, getSlots, setSlots } from '../slot';\nimport ContainerProxy from './ContainerProxy';\nimport ComponentProxy from './ComponentProxy';\nimport { createBy } from '../../extends/with';\n\n\nfunction getNodeArray(result: any): any[] {\n\tif (Array.isArray(result)) { return result; }\n\tif (!isElement(result)) { return [result]; }\n\tif (result.tag !== Fragment) { return [result]; }\n\treturn result.children;\n}\n\n// TODO\nexport default class ShellProxy<\n\tT extends ShellComponent<any, any>\n> extends CustomComponentProxy<any, T, ShellEntity> {\n\tget content(): (MountedNode | MountedNode[])[] { return this.tree; }\n\n\tprops: any;\n\tchildNodes: any[];\n\tsrc?: any;\n\n\t/** 组件槽 */\n\treadonly slots: Slots = Object.create(null);\n\tlastSlots: Record<string | symbol, any[]> | undefined;\n\t/** 结果渲染函数 */\n\tprotected _render: Monitored<any[], []>;\n\n\t/** 所属容器 */\n\treadonly container: ContainerProxy<any>;\n\t/** 渲染组件根部，如果自身是 ComponentProxy 则为自身 */\n\treadonly componentRoot?: ComponentProxy<any, any, any, any>;\n\n\t/** 结果渲染函数 */\n\tprotected readonly _stopRender: () => void;\n\n\trequestDraw(): void {\n\t\tif (!this.mounted) { return; }\n\t\tif (this.destroyed) { return; }\n\t\tthis.container.markDraw(this);\n\t}\n\tcallHook(id: string): void {\n\t}\n\n\tcreateEntity(events: EventEmitter<any>): ShellEntity {\n\t\tconst cfg: { [K in keyof ShellEntity]-?:\n\t\t\t{ configurable: true, value: ShellEntity[K], writable?: boolean }\n\t\t\t| { configurable: true, get(): ShellEntity[K] }\n\t\t} = {\n\t\t\tdata: { configurable: true, value: this.data },\n\t\t\texposed: { configurable: true, value: undefined },\n\t\t\ton: { configurable: true, value: events.on },\n\t\t\temit: { configurable: true, value: events.emit },\n\t\t};\n\t\tconst entity: ShellEntity = Object.create(null, cfg);\n\t\treturn entity;\n\t}\n\tconstructor(\n\t\toriginalTag: any,\n\t\ttag: T,\n\t\tprops: object,\n\t\tchildren: any[],\n\t\tparent: BaseProxy<any>,\n\t) {\n\t\tsuper(originalTag, tag, props, parent, true);\n\t\tthis.container = parent.container;\n\t\tthis.componentRoot = parent.componentRoot;\n\t\tthis.props = props;\n\t\tthis.childNodes = children;\n\t\tconst {slots} = this;\n\t\tconst {delivered} = this;\n\n\t\tconst refresh = (f?: () => void): void => { this.refresh(f); };\n\n\t\tconst event = this.events;\n\t\tconst {contextData} = this;\n\n\t\tconst context: ShellContext<any> = {\n\t\t\tby: createBy(this.contextData),\n\t\t\tslot: createSlotApi(slots),\n\t\t\tchildNodes: () => this.childNodes,\n\t\t\temit: event.emit,\n\t\t};\n\t\tconst normalizeAuxiliaryObject: NormalizeAuxiliaryObject = {\n\t\t\trenderer: this.renderer,\n\t\t\trefresh,\n\t\t\tslotRenderFnList: new WeakMap(),\n\t\t\tdelivered,\n\t\t\t// TODO\n\t\t\tsimpleParent: undefined,\n\t\t};\n\t\tconst render = monitor(\n\t\t\tchanged => changed && this.refresh(),\n\t\t\t() => {\n\t\t\t\tconst props = {...this.props};\n\t\t\t\tevent.updateInProps(props);\n\t\t\t\tconst result = isProduction\n\t\t\t\t\t? tag(props, context)\n\t\t\t\t\t: isProduction\n\t\t\t\t\t\t? runCurrent(\n\t\t\t\t\t\t\tcontextData,\n\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\ttag,\n\t\t\t\t\t\t\tprops,\n\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t)\n\t\t\t\t\t\t:  runCurrentWithLabel(\n\t\t\t\t\t\t\tcontextData,\n\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\tl => this.labels = l,\n\t\t\t\t\t\t\ttag,\n\t\t\t\t\t\t\tprops,\n\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t);\n\t\t\t\treturn init(\n\t\t\t\t\tnormalizeAuxiliaryObject,\n\t\t\t\t\tgetNodeArray(result),\n\t\t\t\t\tslots,\n\t\t\t\t\t[],\n\t\t\t\t\tfalse,\n\t\t\t\t\tfalse,\n\t\t\t\t);\n\t\t\t},\n\t\t);\n\t\tthis._stopRender = render.stop;\n\t\tthis._render = render;\n\t\tthis.created = true;\n\t\tthis.refresh();\n\t\tthis._nodes = convert(this, this._render());\n\t}\n\n\n\t_update(props: object, children: any[]): void {\n\t\tthis.props = props;\n\n\t\tconst slots = Object.create(null);\n\t\tgetSlots(this.renderer, children, slots);\n\t\tsetSlots(slots, this.slots, this.lastSlots);\n\t\tthis.lastSlots = slots;\n\t\tthis.childNodes = children;\n\t\tthis.refresh();\n\t}\n\t_mount(mountOptions: MountOptions): void {\n\t\tthis.tree = draw(\n\t\t\tthis.renderer,\n\t\t\tmountOptions,\n\t\t\tthis._nodes,\n\t\t);\n\t}\n\t_redraw(mountOptions: MountOptions): void {\n\t\tthis.tree = draw(\n\t\t\tthis.renderer,\n\t\t\tmountOptions,\n\t\t\tthis._nodes,\n\t\t\tthis.tree,\n\t\t);\n\t}\n\t_unmount(): void {\n\t\tunmount(this.renderer, this.tree);\n\t}\n}\n","import {\n\tMountOptions,\n\tTreeNodeList,\n\tMountedNode,\n} from '../../types';\nimport BaseProxy from './BaseProxy';\nimport convert, { destroy } from '../convert';\nimport draw, { unmount } from '../draw';\nimport NodeProxy from './NodeProxy';\nimport { ScopeSlot } from '../../constant/tags';\n\nexport default class SlotProxy extends NodeProxy<typeof ScopeSlot> {\n\t__nodes: TreeNodeList;\n\tget content(): (MountedNode | MountedNode[])[] { return this.tree; }\n\n\tconstructor(\n\t\tchildren: any[],\n\t\tparent: BaseProxy<any>,\n\t\tisDefault?: boolean,\n\t) {\n\t\tsuper(\n\t\t\tScopeSlot,\n\t\t\tScopeSlot,\n\t\t\t{},\n\t\t\t[],\n\t\t\tparent,\n\t\t);\n\t\tthis.__nodes = convert(this, children);\n\t}\n\t/** 更新属性及子代 */\n\t_update(props: object, children: any[]): void {\n\t\tif (!this.mounted) { return; }\n\t\tif (this.destroyed) { return; }\n\t\tthis.__nodes = convert(this, children, this.__nodes);\n\t\tthis.requestDraw();\n\t}\n\n\t_destroy(): void {\n\t\tdestroy(this.__nodes);\n\t}\n\t_mount(mountOptions: MountOptions): void {\n\t\tthis.tree = draw(this.renderer, mountOptions, this.__nodes);\n\t}\n\t_redraw(mountOptions: MountOptions): void {\n\t\tthis.tree = draw(this.renderer, mountOptions, this.__nodes, this.tree);\n\t}\n\t_unmount(): void {\n\t\tunmount(this.renderer, this.tree);\n\t}\n}\n","import {\n\tStandardComponent,\n\tSlots,\n\tTreeNodeList,\n\tComponentEntity,\n\tHook,\n\tEmit,\n\tOn,\n\tRenderComponent,\n\tComponentContext,\n} from '../../types';\nimport {\n\tcomponentsSymbol,\n\tpropsSymbol,\n} from '../../constant/symbols';\nimport { postpone, createObject } from '../../install/monitorable';\nimport delayRefresh from '../../extends/delayRefresh';\nimport convert from '../convert';\nimport { createSlotApi, getSlots, setSlots } from '../slot';\n\nimport BaseProxy from './BaseProxy';\nimport { callHook, setHook } from '../../extends/hook';\nimport EventEmitter from '../../EventEmitter';\nimport ContainerProxy from './ContainerProxy';\nimport CustomComponentProxy from './CustomComponentProxy';\nimport { createBy } from '../../extends/with';\n\nexport interface IRender {\n\trender(): any[];\n\tnodes: any[];\n\tstopRender(): void;\n}\n\nfunction createEntity(\n\tobj: ComponentProxy<any, any, any, any>,\n\tevents: EventEmitter<any>,\n): ComponentEntity<any> {\n\tconst cfg: { [K in Exclude<keyof ComponentEntity<any>, '$_label'>]-?:\n\t\t{ configurable: true, value: ComponentEntity<any>[K], writable?: boolean }\n\t\t| { configurable: true, get(): ComponentEntity<any>[K] }\n\t} = {\n\t\tdata: { configurable: true, value: obj.data },\n\t\texposed: { configurable: true, get: () => obj.exposed },\n\t\tparent: { configurable: true, value: obj.parentComponentProxy?.entity },\n\t\tcomponent: { configurable: true, value: obj.tag },\n\t\tcreated: { configurable: true, get: () => obj.created },\n\t\tdestroyed: { configurable: true, get: () => obj.destroyed },\n\t\tmounted: { configurable: true, get: () => obj.mounted },\n\t\tunmounted: { configurable: true, get: () => obj.unmounted },\n\t\tcallHook: {\n\t\t\tconfigurable: true,\n\t\t\tvalue(h: string) { callHook(h, obj.contextData); },\n\t\t},\n\t\tsetHook: {\n\t\t\tconfigurable: true,\n\t\t\tvalue(id: string, hook: Hook) { return setHook(id, hook, obj.contextData); },\n\t\t},\n\t\ton: { configurable: true, value: events.on },\n\t\temit: { configurable: true, value: events.emit },\n\t};\n\tconst entity: ComponentEntity<any> = Object.create(null, cfg);\n\treturn entity;\n}\n\nconst disabledKey = new Set([\n\t':', '@', '#', '*',\n\t'!', '%', '^', '~',\n\t'&', '?', '+', '.',\n\t'(', ')', '[', ']', '{', '}', '<', '>',\n]);\nfunction filter(k: string | number | symbol): boolean {\n\tif (typeof k !== 'string') { return true; }\n\tif (disabledKey.has(k[0])) { return false; }\n\tif (k.substr(0, 2) === 'n:') { return false; }\n\tif (k.substr(0, 3) === 'on:') { return false; }\n\treturn true;\n}\n\nfunction update<TProps extends object>(\n\tproxy: ComponentProxy<TProps, any, any, any>,\n\tprops: any,\n\tchildren: any[],\n): void {\n\tconst {props: propsObj, isNative} = proxy;\n\tconst newKeys = new Set(Object.keys(props).filter(filter));\n\tif (proxy.propsDefined) {\n\t\tproxy.propsDefined.forEach(k => newKeys.add(k));\n\t\tfor (const k of Object.keys(propsObj)) {\n\t\t\tif (filter(k) && !newKeys.has(k)) {\n\t\t\t\tdelete propsObj[k as keyof TProps];\n\t\t\t}\n\t\t}\n\t\tfor (const k of newKeys) { propsObj[k as keyof TProps] = props[k]; }\n\t} else {\n\t\tlet needRefresh = false;\n\t\tfor (const k of Object.keys(propsObj)) {\n\t\t\tif (filter(k) && !newKeys.has(k)) {\n\t\t\t\tneedRefresh = true;\n\t\t\t\tdelete propsObj[k as keyof TProps];\n\t\t\t}\n\t\t}\n\t\tfor (const k of newKeys) {\n\t\t\tif (k in propsObj && [k as keyof TProps] === props[k]) { continue; }\n\t\t\tpropsObj[k as keyof TProps] = props[k];\n\t\t\tneedRefresh = true;\n\t\t}\n\t\tif (needRefresh) {\n\t\t\tproxy.refresh();\n\t\t}\n\t}\n\n\tproxy.events.updateInProps(props);\n\tconst slots = Object.create(null);\n\tconst childNodes = getSlots(proxy.renderer, children, slots, isNative);\n\tsetSlots(slots, proxy.slots, proxy.lastSlots);\n\tproxy.lastSlots = slots;\n\tif (!isNative) { return; }\n\tproxy.nativeNodes = convert(proxy, childNodes, proxy.nativeNodes);\n\tif (!proxy.mounted) { return; }\n\tproxy.requestDraw();\n}\n\n\nexport default abstract class ComponentProxy<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tC extends StandardComponent<TProps, TExpose, TEmit>\n\t| RenderComponent<TProps, TExpose, TEmit>,\n> extends CustomComponentProxy<TExpose, C, ComponentEntity<C>> {\n\n\n\tisNative: boolean = false;\n\t/** 所属容器 */\n\treadonly container: ContainerProxy<any>;\n\t/** 渲染组件根部，如果自身是 ComponentProxy 则为自身 */\n\treadonly componentRoot?: ComponentProxy<any, any, any, any>;\n\n\treadonly emit: Emit<Record<string, any>>;\n\treadonly on: On<TExpose | undefined, Record<string, any>>;\n\n\treadonly components: Record<string, StandardComponent<any, any, any>>\n\t= Object.create(null);\n\n\t/** 组件属性 */\n\treadonly props: TProps;\n\t/** 组件属性定义 */\n\treadonly propsDefined?: (keyof TProps & string)[];\n\t/** 组件槽 */\n\treadonly slots: Slots = Object.create(null);\n\tlastSlots: Record<string | symbol, any[]> | undefined;\n\n\t/** 原生子代 */\n\tnativeNodes: TreeNodeList | undefined;\n\n\n\tcallHook(id: string): void { callHook(id, this.contextData); }\n\n\n\t/** 结果渲染函数 */\n\tprotected _render: () => any[];\n\t/** 结果渲染函数 */\n\tprotected readonly _stopRender: () => void;\n\n\tprotected abstract _init(): void;\n\tprotected abstract _initRender(context: ComponentContext<any, any>): IRender;\n\n\t/** 结果渲染函数 */\n\tconstructor(\n\t\toriginalTag: any,\n\t\tcomponent: C,\n\t\tprops: object,\n\t\tchildren: any[],\n\t\tparent: BaseProxy<any>,\n\t) {\n\t\tsuper(originalTag, component, props, parent, false);\n\t\tthis.container = parent.container;\n\t\tthis.componentRoot = this;\n\t\tconst {events} = this;\n\t\tthis.emit = events.emit;\n\t\tthis.on = events.on;\n\n\t\tObject.assign(this.components, component[componentsSymbol]);\n\t\t// 属性定义及属性\n\t\tconst propsDefined = component[propsSymbol];\n\t\tif (Array.isArray(propsDefined)) {\n\t\t\tthis.propsDefined = propsDefined as (keyof TProps & string)[];\n\t\t\tthis.props = createObject(propsDefined, null);\n\t\t} else {\n\t\t\tthis.props = Object.create(null);\n\t\t}\n\t\tthis._init();\n\t\t// 初始化钩子\n\t\tthis.callHook('beforeCreate');\n\t\t// 更新属性\n\t\tthis._update(props, children);\n\n\t\tconst context: ComponentContext<any, any> = {\n\t\t\tby: createBy(this.contextData),\n\t\t\tslot: createSlotApi(this.slots),\n\t\t\texpose: t => this.setExposed(t),\n\t\t\tchildNodes: () => this.childNodes,\n\t\t\temit: this.emit,\n\t\t};\n\t\t// 获取渲染函数及初始渲染\n\t\tconst { render, nodes, stopRender } = this._initRender(context);\n\t\tthis._render = render;\n\t\tthis._stopRender = stopRender;\n\t\tthis._nodes = convert(this, nodes);\n\t\t// 初始化钩子\n\t\tthis.callHook('created');\n\t\tthis.created = true;\n\t\tif (this.needRefresh) { this.refresh(); }\n\t}\n\tcreateEntity(events: EventEmitter<any>): ComponentEntity<C> {\n\t\treturn createEntity(this, events);\n\t}\n\t/** 更新属性及子代 */\n\t_update(props: object, children: any[]): void {\n\t\tif (this.destroyed) { return; }\n\t\tthis.childNodes = children;\n\t\tdelayRefresh(() => postpone(() => update(this, props, children)));\n\t}\n\n\tchildNodes: any[] = [];\n\t/** 刷新 */\n\trequestDraw(): void {\n\t\tthis.container.markDraw(this);\n\t}\n}\n","import {\n\tRenderComponent,\n\tTreeNodeList,\n\tMountOptions,\n\tMountedNode,\n\tComponentContext,\n} from '../../types';\nimport {\n\tcomponentsSymbol,\n\tcomponentValueSymbol,\n} from '../../constant/symbols';\nimport { isProduction } from '../../constant/info';\nimport { monitor } from '../../install/monitorable';\nimport { isElement, createTemplateElement } from '../../auxiliary';\nimport { Fragment } from '../../constant/tags';\nimport { runCurrent, runCurrentWithLabel } from '../../extends/current';\n\nimport draw, { unmount } from '../draw';\n\nimport ComponentProxy, { IRender } from './ComponentProxy';\nimport { init } from '../normalize';\nimport { NormalizeAuxiliaryObject } from '../normalize';\n\nfunction getNodeArray(result: any): any[] {\n\tif (Array.isArray(result)) { return result; }\n\tif (!isElement(result)) { return [result]; }\n\tif (result.tag !== Fragment) { return [result]; }\n\treturn result.children;\n}\nfunction initRender(\n\tproxy: RenderComponentProxy<any, any, any, any>,\n\tcontext: ComponentContext<any, any>,\n): IRender {\n\tconst { tag, props, entity, contextData } = proxy;\n\tconst renderFn = tag[componentValueSymbol];\n\n\tconst renderNode = typeof renderFn !== 'function'\n\t\t? () => createTemplateElement(...proxy.childNodes)\n\t\t: isProduction\n\t\t\t? () => runCurrent(\n\t\t\t\tcontextData,\n\t\t\t\tentity,\n\t\t\t\trenderFn,\n\t\t\t\tprops || {},\n\t\t\t\tcontext,\n\t\t\t)\n\t\t\t: () => runCurrentWithLabel(\n\t\t\t\tcontextData,\n\t\t\t\tentity,\n\t\t\t\tl => proxy.labels = l,\n\t\t\t\trenderFn,\n\t\t\t\tprops || {},\n\t\t\t\tcontext,\n\t\t\t);\n\n\tconst normalizeAuxiliaryObject: NormalizeAuxiliaryObject = {\n\t\trenderer: proxy.renderer,\n\t\trefresh: f => proxy.refresh(f),\n\t\tslotRenderFnList: new WeakMap<Function, Function>(),\n\t\tdelivered: proxy.delivered,\n\t\tsimpleParent: proxy.entity,\n\t};\n\tconst components = proxy.tag[componentsSymbol];\n\tconst componentsList = components ? [components] : [];\n\tconst render = monitor(\n\t\tc => c && proxy.refresh(),\n\t\t() => init(\n\t\t\tnormalizeAuxiliaryObject,\n\t\t\tgetNodeArray(renderNode()),\n\t\t\tproxy.slots,\n\t\t\tcomponentsList,\n\t\t\tfalse,\n\t\t\tfalse,\n\t\t),\n\t);\n\treturn {\n\t\tnodes: render(),\n\t\trender,\n\t\tstopRender: () => render.stop(),\n\t};\n\n}\nexport default class RenderComponentProxy<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tC extends RenderComponent<TProps, TExpose, TEmit>,\n> extends ComponentProxy<TProps, TExpose, TEmit, C> {\n\tget content(): (MountedNode | MountedNode[])[] { return this.tree; }\n\n\t/** 原生子代 */\n\tnativeNodes: TreeNodeList | undefined;\n\n\tprotected _init(): void {}\n\tprotected _initRender(context: ComponentContext<any, any>): IRender {\n\t\treturn initRender(this, context);\n\t}\n\n\tchildNodes: any[] = [];\n\n\t/** 刷新 */\n\trequestDraw(): void {\n\t\tthis.container.markDraw(this);\n\t}\n\t_redraw(mountOptions: MountOptions): void {\n\t\tconst {renderer, _nodes} = this;\n\t\tthis.tree = draw(renderer, mountOptions, _nodes, this.tree);\n\t}\n\t_mount(mountOptions: MountOptions): void {\n\t\tconst { renderer, _nodes } = this;\n\t\tthis.tree = draw(renderer, mountOptions, _nodes);\n\t}\n\t_unmount(): void {\n\t\tconst {renderer} = this;\n\t\tunmount(renderer, this.tree);\n\t}\n}\n","import {\n\tStandardComponent,\n\tNode,\n\tNativeShadowNode,\n\tMountedNode,\n\tMountOptions,\n\tComponent,\n\tNativeComponentNode,\n\tComponentContext,\n} from '../../types';\nimport {\n\tcomponentsSymbol,\n\tcomponentValueSymbol,\n} from '../../constant/symbols';\nimport { isProduction } from '../../constant/info';\nimport { exec, monitor, defineProperty } from '../../install/monitorable';\nimport { isElement, isRenderElement } from '../../auxiliary';\nimport { runCurrent, runCurrentWithLabel } from '../../extends/current';\nimport { isNativeComponent, isRenderComponent } from '../../is';\n\nimport draw, { unmount, getNodes } from '../draw';\nimport normalize from '../normalize';\nimport { createMountedNode } from '../id';\n\nimport ComponentProxy, { IRender } from './ComponentProxy';\n\n\nfunction createResponsiveRender(\n\tproxy: ComponentProxy<any, any, any, any>,\n\tfunc: Function,\n\tcomponents?: Record<string, Component<any>> | null,\n): IRender {\n\t// 响应式\n\tconst slotRenderFns = new WeakMap<Function, Function>();\n\tconst render = monitor(\n\t\tc => c && proxy.refresh(),\n\t\t() => normalize(\n\t\t\tproxy,\n\t\t\tslotRenderFns,\n\t\t\tf => proxy.refresh(f),\n\t\t\t(func as () => Node)(),\n\t\t\tcomponents,\n\t\t),\n\t);\n\treturn {\n\t\tnodes: render(),\n\t\trender,\n\t\tstopRender: () => render.stop(),\n\t};\n}\n\nfunction initRender(\n\tproxy: StandardComponentProxy< any, any, any, any>,\n\tcontext: ComponentContext<any, any>,\n): IRender {\n\tconst { tag, props, entity, contextData } = proxy;\n\tconst run = isProduction\n\t\t? () => runCurrent(\n\t\t\tcontextData,\n\t\t\tentity,\n\t\t\ttag,\n\t\t\tprops,\n\t\t\tcontext,\n\t\t)\n\t\t: () => runCurrentWithLabel(\n\t\t\tcontextData,\n\t\t\tentity,\n\t\t\tl => proxy.labels = l,\n\t\t\ttag,\n\t\t\tprops,\n\t\t\tcontext,\n\t\t);\n\tconst refresh = (changed: boolean): void => {\n\t\tif (!changed) { return; }\n\t\tproxy.refresh();\n\t};\n\t// 初始化执行\n\tconst result = exec(refresh, { resultOnly: true }, run);\n\tif (typeof result === 'function') {\n\t\treturn createResponsiveRender(proxy, result);\n\t}\n\tif (isRenderElement(result)) {\n\t\tconst { children } = result;\n\t\tif (children?.length === 1 && typeof children[0] === 'function') {\n\t\t\treturn createResponsiveRender(proxy, children[0]);\n\t\t}\n\t}\n\n\tif (isElement(result) && isRenderComponent(result.tag)) {\n\t\tconst {tag} = result;\n\t\tconst render = tag[componentValueSymbol];\n\t\tif (typeof render === 'function') {\n\t\t\treturn createResponsiveRender(\n\t\t\t\tproxy,\n\t\t\t\t(): Node => render(result.props || {}, context),\n\t\t\t\tresult.tag[componentsSymbol] || null,\n\t\t\t);\n\t\t}\n\t}\n\n\n\tconst normalizeRefresh = (f?: () => void): void => { proxy.refresh(f); };\n\tconst slotRenderFns = new WeakMap<Function, Function>();\n\n\tconst render = monitor(\n\t\trefresh,\n\t\t() => normalize(proxy, slotRenderFns, normalizeRefresh, run()),\n\t);\n\treturn {\n\t\tnodes: exec(\n\t\t\trefresh,\n\t\t\t() => normalize(proxy, slotRenderFns, normalizeRefresh, result),\n\t\t\t{ resultOnly: true },\n\t\t),\n\t\trender,\n\t\tstopRender: () => render.stop(),\n\t};\n}\nexport default class StandardComponentProxy<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tC extends StandardComponent<TProps, TExpose, TEmit>,\n> extends ComponentProxy<TProps, TExpose, TEmit, C> {\n\tcontent: (MountedNode | MountedNode[])[] = [];\n\t/** 原生组件 */\n\tnative: NativeComponentNode | undefined;\n\n\tshadowTree: (MountedNode | MountedNode[])[] = [];\n\tnativeTree: (MountedNode | MountedNode[])[] = [];\n\tprivate _shadow: NativeShadowNode | undefined;\n\n\tprotected _init(): void {\n\t\tif (!isProduction) { defineProperty(this, 'content', []); }\n\n\t\tif (!isNativeComponent(this.tag)) { return; }\n\t\tconst value = this.renderer.createComponent?.();\n\t\tif (!value) { return; }\n\t\t[this.native, this._shadow] = value;\n\t}\n\tprotected _initRender(context: ComponentContext<any, any>): IRender {\n\t\treturn initRender(this, context);\n\t}\n\n\tchildNodes: any[] = [];\n\n\n\t/** 刷新 */\n\trequestDraw(): void {\n\t\tthis.container.markDraw(this);\n\t}\n\tprivate __nativeTreeNountOptions: MountOptions | undefined;\n\t_mount(mountOptions: MountOptions): MountOptions | void {\n\t\tconst { nativeNodes, renderer, _shadow, native, _nodes } = this;\n\t\tif (!native || !nativeNodes || !_shadow) {\n\t\t\tthis.tree = this.content = draw(renderer, mountOptions, _nodes);\n\t\t\treturn;\n\t\t}\n\t\tthis.tree = [createMountedNode({node:native })];\n\t\tconst subMountOptions = renderer.getMountOptions(\n\t\t\t_shadow,\n\t\t\tmountOptions,\n\t\t) || mountOptions;\n\t\tthis.content = draw(renderer, subMountOptions, _nodes);\n\t\tfor (const it of getNodes(this.content)) {\n\t\t\trenderer.insertNode(_shadow, it);\n\t\t}\n\n\t\tconst nativeTreeNountOptions = renderer.getMountOptions(\n\t\t\tnative,\n\t\t\tmountOptions,\n\t\t) || mountOptions;\n\t\tthis.nativeTree = draw(renderer, nativeTreeNountOptions, nativeNodes);\n\t\tfor (const it of getNodes(this.nativeTree)) {\n\t\t\trenderer.insertNode(native, it);\n\t\t}\n\t\tthis.__nativeTreeNountOptions = nativeTreeNountOptions;\n\t\treturn subMountOptions;\n\t}\n\t_redraw(mountOptions: MountOptions): void {\n\t\tconst {nativeNodes, renderer, __nativeTreeNountOptions, _nodes} = this;\n\t\tthis.content = draw(renderer, mountOptions, _nodes, this.content);\n\t\tif (!nativeNodes || !__nativeTreeNountOptions) {\n\t\t\tthis.tree = this.content;\n\t\t\treturn;\n\t\t}\n\t\tthis.nativeTree = draw(\n\t\t\trenderer,\n\t\t\t__nativeTreeNountOptions,\n\t\t\tnativeNodes,\n\t\t\tthis.nativeTree,\n\t\t);\n\t}\n\t_unmount(): void {\n\t\tconst {renderer, nativeTree} = this;\n\t\tunmount(renderer, this.tree);\n\t\tif (!nativeTree) { return; }\n\t\tunmount(renderer, nativeTree);\n\t}\n}\n","import { Recognizer, Component } from '../types';\n\nconst recognizers: Recognizer[] = [];\nexport function recognize(any: any): Component<any> | null {\n\tfor (const recognizer of recognizers) {\n\t\tconst res = recognizer(any);\n\t\tif (typeof res === 'function') { return res; }\n\t}\n\treturn typeof any === 'function' ? any : null;\n}\nexport default function addRecognizer(recognizer: Recognizer): void {\n\trecognizers.push(recognizer);\n}\n","import { Element } from '../../../types';\nimport ContainerProxy from '../../proxy/ContainerProxy';\nimport BaseProxy from '../../proxy/BaseProxy';\nimport DeliverProxy from '../../proxy/DeliverProxy';\nimport GroupProxy from '../../proxy/GroupProxy';\nimport ElementProxy from '../../proxy/ElementProxy';\nimport ShellProxy from '../../proxy/ShellProxy';\nimport { Container, Fragment, ScopeSlot } from '../../../constant/tags';\nimport {\n\tisDeliverComponent,\n\tisSimpleComponent,\n\tisContainerComponent,\n\tisShellComponent,\n\tisRenderComponent,\n\tisElementComponent,\n} from '../../../is';\nimport SlotProxy from '../../proxy/SlotProxy';\nimport RenderComponentProxy from '../../proxy/RenderComponentProxy';\nimport StandardComponentProxy from '../../proxy/StandardComponentProxy';\nimport { recognize } from '../../../extends/recognizer';\n\nexport default function createProxy(\n\tproxy: BaseProxy<any>,\n\t{ tag, props, children, isDefault }: Element,\n): BaseProxy<any> {\n\tif (tag === Container) {\n\t\treturn new ContainerProxy(tag, null, props, children, proxy);\n\t}\n\tif (tag === ScopeSlot) {\n\t\treturn new SlotProxy(children, proxy, isDefault);\n\t}\n\tif (tag === Fragment) {\n\t\treturn new GroupProxy(tag, children, proxy);\n\t}\n\tif (typeof tag === 'string') {\n\t\tif (tag.substr(0, 5) === 'core:') {\n\t\t\treturn new GroupProxy(tag, children, proxy);\n\t\t}\n\t\treturn new ElementProxy(tag, tag, props || {}, children, proxy);\n\t}\n\tconst componentTag = recognize(tag);\n\tif (typeof componentTag !== 'function') {\n\t\treturn new GroupProxy(tag, children, proxy);\n\t}\n\tif (isShellComponent(componentTag)) {\n\t\treturn new ShellProxy(tag, componentTag, props || {}, children, proxy);\n\t}\n\tif (isDeliverComponent(componentTag)) {\n\t\treturn new DeliverProxy(tag, componentTag, props || {}, children, proxy);\n\t}\n\tif (isContainerComponent(componentTag)) {\n\t\treturn new ContainerProxy(tag, componentTag, props, children, proxy);\n\t}\n\tif (isElementComponent(componentTag)) {\n\t\treturn new ElementProxy(tag, componentTag, props || {}, children, proxy);\n\t}\n\tif (isSimpleComponent(componentTag)) {\n\t\t// TODO: label\n\t\treturn new GroupProxy(tag, children, proxy);\n\t}\n\tif (isRenderComponent(componentTag)) {\n\t\t// TODO\n\t\treturn new RenderComponentProxy(tag, componentTag, props || {}, children, proxy);\n\t}\n\treturn new StandardComponentProxy(tag, componentTag, props || {}, children, proxy);\n}\n","import {\n\tNode,\n\tTreeNode,\n\tValueElement,\n} from '../../../types';\nimport BaseProxy from '../../proxy/BaseProxy';\nimport ValueProxy from '../../proxy/ValueProxy';\nimport createProxy from './createProxy';\n\n\nexport default function createItem(\n\tproxy: BaseProxy<any>,\n\tsource: Node | ValueElement,\n): TreeNode | null {\n\tif (!source) { return null; }\n\tif (!source.tag) {\n\t\tconst { key, props } = source;\n\t\treturn {\n\t\t\tkey, props, proxy: new ValueProxy(\n\t\t\t\tsource.props || {},\n\t\t\t\tproxy,\n\t\t\t),\n\t\t};\n\t}\n\tconst { tag, key, props } = source;\n\treturn { tag, key, props, proxy: createProxy(proxy, source) };\n}\n","import {\n\tTreeNode,\n\tTreeNodeList,\n} from '../../../types';\nimport BaseProxy from '../../proxy/BaseProxy';\nimport toElement from '../toElement';\nimport createItem from './createItem';\n\n\nexport default function createAll(\n\tproxy: BaseProxy<any>,\n\tsource: any,\n): TreeNodeList {\n\tif (!Array.isArray(source)) { source = [source]; }\n\tif (!source.length) { return []; }\n\treturn (source as any[]).map(item => {\n\t\tif (!Array.isArray(item)) {\n\t\t\treturn createItem(proxy, toElement(item));\n\t\t}\n\n\t\treturn item.flat(Infinity)\n\t\t\t.map(it => createItem(proxy, toElement(it)))\n\t\t\t.filter(Boolean) as TreeNode[];\n\t});\n}\n","import { TreeNode, TreeNodeList } from '../../types';\n\n\nexport default function destroy(\n\ttree: TreeNode | TreeNode[] | null | TreeNodeList,\n): void {\n\tif (!tree) { return; }\n\tif (Array.isArray(tree)) {\n\t\ttree.forEach(t => destroy(t));\n\t\treturn;\n\t}\n\tconst { proxy } = tree;\n\tif (proxy) {\n\t\tproxy.destroy();\n\t}\n}\n","import { Node, TreeNode, ValueElement } from '../../../types';\nimport BaseProxy from '../../proxy/BaseProxy';\nimport destroy from '../destroy';\nimport createItem from '../create/createItem';\n\n/**\n * 更新树节点\n * @param tree 已有树\n * @param source 用于替换的源\n * @param proxy Neep 对象\n */\nexport default function updateItem(\n\tproxy: BaseProxy<any>,\n\tsource: Node | ValueElement,\n\ttree?: TreeNode | null | TreeNode[],\n): TreeNode | null {\n\tif (!tree) {\n\t\treturn createItem(proxy, source);\n\t}\n\tif (!source) {\n\t\tdestroy(tree);\n\t\treturn null;\n\t}\n\tif (Array.isArray(tree)) {\n\t\tif (!tree.length) {\n\t\t\treturn createItem(proxy, source);\n\t\t}\n\t\tconst index = tree.findIndex(it => it.tag === source.tag);\n\t\tif (index < 0) {\n\t\t\tdestroy(tree);\n\t\t\treturn createItem(proxy, source);\n\t\t}\n\t\tconst all = tree;\n\t\t[tree] = tree.splice(index, 1);\n\t\tdestroy(all);\n\t}\n\tif (source.tag !== tree.tag) {\n\t\tdestroy(tree);\n\t\treturn createItem(proxy, source);\n\t}\n\tif (tree.proxy) {\n\t\tconst { proxy } = tree;\n\t\tconst { props = {}, key } = source;\n\t\tproxy.update(source.props || {}, source.children || []);\n\t\treturn { tag: tree.tag, props, key, proxy };\n\t}\n\tdestroy(tree);\n\treturn createItem(proxy, source);\n}\n","type RecursiveItem<T> = T | RecursiveItem<T>[];\nexport default function *recursive2iterable<T>(\n\tlist: RecursiveItem<T>,\n): Iterable<T> {\n\tif (!Array.isArray(list)) {\n\t\tyield list;\n\t\treturn;\n\t}\n\tfor (const it of list) {\n\t\tyield *recursive2iterable(it);\n\t}\n}\n","import { TreeNode } from '../../../types';\nimport BaseProxy from '../../proxy/BaseProxy';\nimport destroy from '../destroy';\nimport toElement from '../toElement';\nimport createItem from '../create/createItem';\nimport updateItem from './updateItem';\nimport recursive2iterable from './recursive2iterable';\n\n/**\n * 更新树节点\n * @param proxy Neep 对象\n * @param source 用于替换的源\n * @param tree 已有树\n */\nexport default function updateList(\n\tproxy: BaseProxy<any>,\n\tsource: any[],\n\ttree: TreeNode | null | TreeNode[],\n): TreeNode[] {\n\tif (!tree) { tree = []; }\n\tif (!Array.isArray(tree)) { tree = [tree]; }\n\tconst newList: TreeNode[] = [];\n\tfor (const src of recursive2iterable(source)) {\n\t\tconst node = toElement(src);\n\t\tif (!node) { continue; }\n\t\tconst index = tree.findIndex(it => it.tag === node.tag && it.key === node.key);\n\t\tif (index >= 0) {\n\t\t\tconst newNode = updateItem(\n\t\t\t\tproxy,\n\t\t\t\tnode,\n\t\t\t\ttree[index],\n\t\t\t);\n\t\t\tif (newNode) {\n\t\t\t\tnewList.push(newNode);\n\t\t\t}\n\t\t\ttree.splice(index, 1);\n\t\t} else {\n\t\t\tconst newNode = createItem(proxy, node);\n\t\t\tif (newNode) {\n\t\t\t\tnewList.push(newNode);\n\t\t\t}\n\t\t}\n\t}\n\tdestroy(tree);\n\treturn newList;\n}\n","import { TreeNode, TreeNodeList } from '../../../types';\nimport BaseProxy from '../../proxy/BaseProxy';\nimport destroy from '../destroy';\nimport toElement from '../toElement';\nimport createItem from '../create/createItem';\nimport updateItem from './updateItem';\nimport updateList from './updateList';\n\n\nexport default function *updateAll(\n\tproxy: BaseProxy<any>,\n\tsource: any,\n\ttree: TreeNodeList,\n): Iterable<TreeNode | null | TreeNode[]> {\n\tif (!Array.isArray(source)) { source = [source]; }\n\tlet index = 0;\n\tlet length = Math.min(source.length || 1, tree.length);\n\tfor (; index < length; index++) {\n\t\tconst src = source[index];\n\t\tif (Array.isArray(src)) {\n\t\t\tyield updateList(proxy, src, tree[index]);\n\t\t} else {\n\t\t\tyield updateItem(proxy, toElement(src), tree[index]);\n\t\t}\n\t}\n\tlength = Math.max(source.length, source.length);\n\tif (tree.length > index) {\n\t\t// 销毁多余项\n\t\tfor (; index < length; index++) {\n\t\t\tdestroy(tree[index]);\n\t\t}\n\t}\n\tif (source.length > index) {\n\t\t// 创建多余项\n\t\tfor (; index < length; index++) {\n\t\t\tconst src = toElement(source[index]);\n\t\t\tif (Array.isArray(src)) {\n\t\t\t\tyield src.flat(Infinity)\n\t\t\t\t\t.map(it => createItem(proxy, it))\n\t\t\t\t\t.filter(Boolean) as TreeNode[];\n\t\t\t} else {\n\t\t\t\tyield createItem(proxy, src);\n\t\t\t}\n\t\t}\n\t}\n}\n","import { TreeNodeList } from '../../types';\nimport { postpone } from '../../install/monitorable';\nimport BaseProxy from '../proxy/BaseProxy';\nimport createAll from './create/createAll';\nimport updateAll from './update/updateAll';\nimport delayRefresh from '../../extends/delayRefresh';\n\nexport { default as destroy } from './destroy';\n\n/**\n * 更新树\n * @param source 用于替换的源\n * @param proxy Neep 对象\n * @param tree 已有树\n */\nexport default function convert(\n\tproxy: BaseProxy<any>,\n\tsource: any[],\n\ttree?: TreeNodeList,\n): TreeNodeList {\n\tif (!tree) {\n\t\treturn delayRefresh(() => postpone(() => createAll(proxy, source)));\n\t}\n\treturn delayRefresh(() => postpone(() => [...updateAll(proxy, source, tree)]));\n}\n","import { ContainerProxy } from '../types';\nimport {printError } from '../install/monitorable';\nimport { nextFrame } from '../install/renderer';\n\nlet awaitDraw = new Set<ContainerProxy<any>>();\n\nconst rendererDraw = new Set<(() => void)>();\nconst baseTick: [number, () => void][] = [];\nconst middleTick: [number, () => void][] = [];\nconst endTick: [number, () => void][] = [];\n\nfunction execTickList(list: [number, () => void][]): void {\n\tconst execList = [...list].sort(([a], [b]) => b - a);\n\tlist.length = 0;\n\ttry {\n\t\texecList.forEach(([, f]) => f());\n\t} catch (e) {\n\t\tprintError(e);\n\t}\n}\nfunction execContainerList(): void {\n\tconst list = [...awaitDraw];\n\tawaitDraw.clear();\n\tlist.map(c => c.drawAll());\n}\nfunction execRendererDrawList(): void {\n\tconst rendererDrawList = [...rendererDraw];\n\trendererDraw.clear();\n\tfor (const f of rendererDrawList) {\n\t\ttry {\n\t\t\tf();\n\t\t} catch (e) {\n\t\t\tprintError(e);\n\t\t}\n\t}\n}\n\nlet requested = false;\nfunction request(): void {\n\tif (requested) { return; }\n\trequested = true;\n\tnextFrame(() => {\n\t\trequested = false;\n\t\texecTickList(baseTick);\n\t\texecContainerList();\n\t\texecTickList(middleTick);\n\t\texecRendererDrawList();\n\t\texecTickList(endTick);\n\t});\n}\n\nexport default function nextTick(\n\tfn: () => void,\n\tlevel: number = 0,\n\ttype?: 'middle' | 'end',\n): void {\n\tconst list = type === 'middle' ? middleTick\n\t\t: type === 'end' ? endTick : baseTick;\n\tlist.push([level, fn]);\n\trequest();\n}\n\nexport function markDraw(c: ContainerProxy<any>): void {\n\tawaitDraw.add(c);\n\trequest();\n}\n\nexport function addRendererDraw(fn: () => void): void {\n\trendererDraw.add(fn);\n\trequest();\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport {\n\tNativeNode,\n\tNativeContainerNode,\n\tMountedNode,\n\tContainerComponent,\n\tMountOptions,\n\tContainerEntity,\n\tHook,\n\tHookData,\n} from '../../types';\nimport {\n\trendererSymbol,\n\tcomponentValueSymbol,\n} from '../../constant/symbols';\nimport { getRender } from '../../install';\nimport { defineProperty } from '../../install/monitorable';\nimport { createMountedNode } from '../id';\nimport convert, { destroy } from '../convert';\nimport draw, { drawPlaceholder, unmount, getNodes } from '../draw';\nimport BaseProxy, { setCompleteList } from './BaseProxy';\nimport ComponentProxy from './ComponentProxy';\nimport { isProduction } from '../../constant/info';\nimport EventEmitter from '../../EventEmitter';\nimport { markDraw } from '../../extends/nextTick';\nimport { callHook, setHook } from '../../extends/hook';\nimport RefProxy from './RefProxy';\n\nfunction createEntity<P extends object>(\n\tobj: ContainerProxy<P>,\n\tevents: EventEmitter<ContainerEntity<any>>,\n): ContainerEntity<any> {\n\tconst cfg: { [K in keyof ContainerEntity<any>]-?:\n\t\t{ configurable: true, value: ContainerEntity<any>[K], writable?: boolean }\n\t\t| { configurable: true, get(): ContainerEntity<any>[K] }\n\t} = {\n\t\tdata: { configurable: true, value: obj.data },\n\t\texposed: { configurable: true, get: () => obj.exposed },\n\t\tcreated: { configurable: true, get: () => obj.created },\n\t\tdestroyed: { configurable: true, get: () => obj.destroyed },\n\t\tmounted: { configurable: true, get: () => obj.mounted },\n\t\tunmounted: { configurable: true, get: () => obj.unmounted },\n\t\tcallHook: { configurable: true, value(h: string) { callHook(h, obj.contextData); } },\n\t\tsetHook: {\n\t\t\tconfigurable: true,\n\t\t\tvalue(id: string, hook: Hook) { return setHook(id, hook, obj.contextData); },\n\t\t},\n\t\ton: { configurable: true, value: events.on },\n\t\temit: { configurable: true, value: events.emit },\n\t};\n\tconst entity: ContainerEntity<any> = Object.create(null, cfg);\n\treturn entity;\n}\n\nexport default class ContainerProxy<\n\tP extends object\n> extends RefProxy<any, ContainerComponent<P> | null, ContainerEntity<any>> {\n\t/** 所属容器 */\n\treadonly container: ContainerProxy<any>;\n\t/** 渲染组件根部，如果自身是 ComponentProxy 则为自身 */\n\treadonly componentRoot?: ComponentProxy<any, any, any, any>;\n\n\tsetmountedRoot(target?: any, next?: any): void {\n\t\tif (this.parentProxy) { return; }\n\t\tconst container = this.__container;\n\t\tif (!container) { return; }\n\t\tconst {renderer} = this;\n\t\tconst [r, n] = renderer.getContainer(container, target, next);\n\t\tif (!r) { return; }\n\t\tfor (const it of getNodes(this.tree)) {\n\t\t\trenderer.insertNode(r, it, n);\n\t\t}\n\t}\n\n\tprivate readonly __containerData: any;\n\t/** 组件树结构 */\n\tcontent: (MountedNode | MountedNode[])[] = [];\n\n\treadonly rootContainer: ContainerProxy<any> = this;\n\treadonly contextData: HookData;\n\tconstructor(\n\t\toriginalTag: any,\n\t\tcomponent: ContainerComponent<P> | null = null,\n\t\tprops: Record<string, any> = {},\n\t\tchildren: any[],\n\t\tparent?: BaseProxy<any>,\n\t) {\n\t\tsuper(\n\t\t\tcomponent\n\t\t\t\t? getRender(component[rendererSymbol], parent?.renderer)\n\t\t\t\t: getRender(parent?.renderer),\n\t\t\toriginalTag,\n\t\t\tcomponent,\n\t\t\tprops,\n\t\t\tparent,\n\t\t);\n\t\tthis.container = this;\n\t\tthis.componentRoot = parent?.componentRoot;\n\t\tthis.contextData = { hooks: {} };\n\n\t\tif (component) {\n\t\t\tthis.__containerData = component[componentValueSymbol];\n\t\t}\n\t\tif (!isProduction) { defineProperty(this, 'content', []); }\n\t\t// 事件处理\n\t\tthis.events.updateInProps(props);\n\t\tif (parent) { this.rootContainer = parent.container.rootContainer; }\n\t\tthis.__nodes = convert(this, children);\n\t\tthis.created = true;\n\t}\n\n\tcreateEntity(events: EventEmitter<any>): ContainerEntity<any> {\n\t\treturn createEntity(this, events);\n\t}\n\tprivate __nodes: any[] = [];\n\tsetChildren(children: any[]): void {\n\t\tif (this.destroyed) { return; }\n\t\tthis.__nodes = convert(this, children, this.__nodes);\n\t\tthis.requestDraw();\n\t}\n\t/** 更新属性及子代 */\n\t_update(props: Record<string, any>, children: any[]): void {\n\t\tif (this.destroyed) { return; }\n\t\tthis.__nodes = convert(this, children, this.__nodes);\n\t\t// 事件处理\n\t\tthis.events.updateInProps(props);\n\t\tthis.requestDraw();\n\t}\n\t_destroy(): void { destroy(this.__nodes); }\n\tcallHook(id: string): void { callHook(id, this.contextData); }\n\n\trequestDraw(): void { this.markDraw(this); }\n\tprivate __container: NativeContainerNode | null = null;\n\tprivate __placeholder: MountedNode | undefined;\n\tprivate __placeholderNode: NativeNode | undefined;\n\tprivate __targetNode: NativeContainerNode | null = null;\n\tprivate __insertNode: NativeNode | null = null;\n\tprivate __nextNode: NativeNode | null = null;\n\t_mount(opt: MountOptions): MountOptions | undefined {\n\t\tconst { parentProxy, renderer } = this;\n\t\tconst parentRenderer = parentProxy?.renderer || renderer;\n\n\t\tconst {\n\t\t\tcontainer,\n\t\t\ttarget: targetNode,\n\t\t\tinsert,\n\t\t\tnext,\n\t\t\texposed,\n\t\t} = renderer.mountContainer(\n\t\t\tthis.__containerData,\n\t\t\tthis.attrs,\n\t\t\tthis.events.emit,\n\t\t\tparentProxy?.renderer,\n\t\t);\n\t\tthis.setExposed(exposed);\n\t\tconst subOpt = renderer.getMountOptions(container, opt) || opt;\n\n\t\tconst placeholder = drawPlaceholder(parentRenderer);\n\t\tthis.__placeholder = placeholder;\n\t\tconst placeholderNode = placeholder.node!;\n\t\tthis.__placeholderNode = placeholderNode;\n\t\tthis.__container = container;\n\t\tconst content = draw(renderer, subOpt, this.__nodes);\n\t\tthis.content = content;\n\t\tthis.__insertNode = insert;\n\t\tthis.__nextNode = next;\n\t\tif (!targetNode && parentRenderer === renderer) {\n\t\t\tthis.tree = insert\n\t\t\t\t? [...content, createMountedNode({ node: insert }), placeholder]\n\t\t\t\t: [...content, placeholder];\n\t\t\treturn subOpt;\n\t\t}\n\t\tconst target = targetNode || container;\n\t\tthis.__targetNode = target;\n\t\tfor (const it of getNodes(content)) {\n\t\t\trenderer.insertNode(target, it, next);\n\t\t}\n\t\tthis.tree = insert\n\t\t\t? [createMountedNode({ node: insert }), placeholder]\n\t\t\t: [placeholder];\n\t\treturn subOpt;\n\t}\n\t_redrawSelf(): void {\n\t\tconst { __targetNode, __insertNode, __nextNode } = this;\n\t\tconst { attrs, parentProxy, renderer } = this;\n\t\tconst placeholder = this.__placeholder!;\n\t\tconst placeholderNode = this.__placeholderNode!;\n\t\tconst container = this.__container!;\n\t\tconst parentRenderer = parentProxy?.renderer || renderer;\n\n\t\tconst {target: targetNode, insert, next} = renderer.updateContainer(\n\t\t\tcontainer,\n\t\t\t__targetNode,\n\t\t\t__insertNode,\n\t\t\t__nextNode,\n\t\t\tthis.__containerData,\n\t\t\tattrs,\n\t\t\tthis.events.emit,\n\t\t\tparentProxy?.renderer,\n\t\t);\n\t\tthis.__insertNode = insert;\n\t\tthis.__nextNode = next;\n\t\tconst parentNode = parentRenderer.getParent(placeholderNode);\n\t\tif (insert !== __insertNode) {\n\t\t\tif (__insertNode) { renderer.removeNode(__insertNode); }\n\t\t\tif (insert && parentNode) {\n\t\t\t\trenderer.insertNode(parentNode, insert, placeholderNode);\n\t\t\t}\n\t\t}\n\t\tif (!targetNode && parentRenderer === renderer) {\n\t\t\tconst { content } = this;\n\t\t\tif (__targetNode && parentNode) {\n\t\t\t\tconst nextNode = insert || placeholderNode;\n\t\t\t\tfor (const it of getNodes(content)) {\n\t\t\t\t\tparentRenderer.insertNode(parentNode, it, nextNode);\n\t\t\t\t}\n\t\t\t\tthis.__targetNode = null;\n\t\t\t}\n\t\t\tthis.tree = insert\n\t\t\t\t? [...content, createMountedNode({ node: insert }), placeholder]\n\t\t\t\t: [...content, placeholder];\n\t\t} else {\n\t\t\tconst target = targetNode || container;\n\t\t\tthis.__targetNode = target;\n\t\t\tif (target !== __targetNode || next !== __nextNode) {\n\t\t\t\tfor (const it of getNodes(this.content)) {\n\t\t\t\t\trenderer.insertNode(target, it, next);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.tree = insert\n\t\t\t\t? [createMountedNode({ node: insert }), placeholder]\n\t\t\t\t: [placeholder];\n\t\t}\n\t\trenderer.recoveryContainer(\n\t\t\tcontainer,\n\t\t\t__targetNode,\n\t\t\t__insertNode,\n\t\t\t__nextNode,\n\t\t\ttargetNode,\n\t\t\tinsert,\n\t\t\tnext,\n\t\t\tthis.__containerData,\n\t\t\tattrs,\n\t\t\tparentProxy?.renderer,\n\t\t);\n\t}\n\t_redrawChildren(opts: MountOptions): void {\n\t\tconst content = draw(this.renderer, opts, this.__nodes, this.content);\n\t\tthis.content = content;\n\t\tif (!this.__targetNode) { return; }\n\t\tconst placeholder = this.__placeholder!;\n\t\tconst insertNode = this.__insertNode;\n\t\tthis.tree = insertNode\n\t\t\t? [...content, createMountedNode({ node: insertNode }), placeholder]\n\t\t\t: [...content, placeholder];\n\t}\n\t_redraw(opt: MountOptions): void {\n\t\tthis._redrawChildren(opt);\n\t\tthis._redrawSelf();\n\t}\n\t_unmount(): void {\n\t\tconst { parentProxy, renderer, __insertNode } = this;\n\t\tconst parentRenderer = parentProxy?.renderer || renderer;\n\t\tunmount(this.renderer, this.content);\n\t\tif (__insertNode) { parentRenderer.removeNode(__insertNode); }\n\t\tparentRenderer.removeNode(this.__placeholderNode!);\n\t\trenderer.unmountContainer(\n\t\t\tthis.__container!,\n\t\t\tthis.__targetNode,\n\t\t\t__insertNode,\n\t\t\tthis.__nextNode,\n\t\t\tthis.__containerData,\n\t\t\tthis.attrs,\n\t\t\tparentProxy?.renderer,\n\t\t);\n\t}\n\n\t/** 等待重画的项目 */\n\tprivate __awaitDraw = new Set<BaseProxy<any>>();\n\t/** 标记需要绘制的元素 */\n\tmarkDraw(proxy: BaseProxy<any>): void {\n\t\tif (this.parentProxy?.renderer === this.renderer) {\n\t\t\tthis.parentProxy.container.markDraw(proxy);\n\t\t\treturn;\n\t\t}\n\t\tif (proxy === this && this.parentProxy) {\n\t\t\tthis.parentProxy.container.markDraw(this);\n\t\t} else {\n\t\t\tthis.__awaitDraw.add(proxy);\n\t\t}\n\t\tthis.rootContainer.markDrawContainer(this);\n\t}\n\tdrawContainer(): void {\n\t\tif (this.destroyed || !this.__container) { return; }\n\t\tconst { __awaitDraw } = this;\n\t\tconst list = [...__awaitDraw];\n\t\t__awaitDraw.clear();\n\t\tlist.map(c => c.redraw());\n\t}\n\tprivate __containers = new Set<ContainerProxy<any>>();\n\tmarkDrawContainer(container: ContainerProxy<any>): void {\n\t\tthis.__containers.add(container);\n\t\tmarkDraw(this);\n\t}\n\tdrawAll(): void {\n\t\tconst containers = this.__containers;\n\t\tif (!containers.size) { return; }\n\t\tconst list = [...containers];\n\t\tcontainers.clear();\n\t\tconst completeList: (() => void)[] = [];\n\t\tsetCompleteList(completeList);\n\t\tlist.forEach(c => c.drawContainer());\n\t\tcompleteList.forEach(r => r());\n\t}\n}\n","import {\n\tElement,\n\tStandardComponent,\n\tRootEntity,\n\tContainerComponent,\n\tComponent,\n\tValue,\n} from './types';\nimport { isElement, createElementBase } from './auxiliary';\nimport { isProduction } from './constant/info';\nimport { devtools, getRender } from './install';\nimport ContainerProxy from './entity/proxy/ContainerProxy';\nimport { isContainerComponent } from './is';\nimport { monitor, value } from './install/monitorable';\nimport { init } from './entity/normalize';\nimport { NormalizeAuxiliaryObject } from './entity/normalize';\nimport { wait } from './extends/delayRefresh';\nimport { rendererSymbol } from './constant/symbols';\n\nfunction createContainerEntity(\n\te: Element | Component<any> | undefined,\n\tp: Record<string, any>,\n): [ContainerProxy<any>, Value<any[]>] {\n\tif (e === undefined) {\n\t\treturn createRender(null, p);\n\t}\n\tif (isContainerComponent(e)) {\n\t\treturn createRender(e, p);\n\t}\n\tif (!isElement(e)) {\n\t\treturn createRender(null, p, [createElementBase(e)]);\n\t}\n\tif (isContainerComponent(e.tag)) {\n\t\tconst params = {...e.props, ...p};\n\t\treturn createRender(e.tag, params);\n\t}\n\treturn createRender(null, p, [e]);\n}\n\nfunction createRender(\n\ttag: ContainerComponent<any, any> | null,\n\tprops: Record<string, any>,\n\tchildNodes: any[] = [],\n): [ContainerProxy<any>, Value<any[]>] {\n\tconst children = value(childNodes);\n\n\tconst normalizeAuxiliaryObject: NormalizeAuxiliaryObject = {\n\t\trenderer: tag ? getRender(tag[rendererSymbol]) :  getRender(),\n\t\trefresh,\n\t\tslotRenderFnList: new WeakMap(),\n\t\tdelivered: Object.create(null),\n\t\t// TODO\n\t\tsimpleParent: undefined,\n\t};\n\n\tlet __needRefresh = false;\n\tlet __refreshing = false;\n\n\tlet container: ContainerProxy<any> | undefined;\n\tfunction refresh(): void {\n\t\tif (!container) {\n\t\t\t__needRefresh = true;\n\t\t\treturn;\n\t\t}\n\t\tif (container.destroyed) { return; }\n\t\t__needRefresh = true;\n\t\tif (!container.created) { return; }\n\n\t\tif (__refreshing) { return; }\n\t\t__refreshing = true;\n\n\t\tlet nodes: any[] | undefined;\n\t\tfor (;;) {\n\t\t\tif (wait(refreshObj)) { break; }\n\t\t\tif (!__needRefresh) { break; }\n\t\t\t__needRefresh = false;\n\t\t\tnodes = _render();\n\t\t\tif (container.destroyed) { return; }\n\t\t}\n\t\t__refreshing = false;\n\t\tif (wait(refreshObj)) { return; }\n\t\tif (!nodes) { return; }\n\n\t\tif (!container.mounted) { return; }\n\t\tif (container.destroyed) { return; }\n\t\tif (container.unmounted) { return; }\n\t\tcontainer.setChildren(nodes);\n\t}\n\tconst refreshObj = { refresh };\n\tconst slots = Object.create(null);\n\tconst _render = monitor(\n\t\tc => c && refresh(),\n\t\t() => init(\n\t\t\tnormalizeAuxiliaryObject,\n\t\t\tchildren.value,\n\t\t\tslots,\n\t\t\t[],\n\t\t\tfalse,\n\t\t\tfalse,\n\t\t),\n\t);\n\tcontainer = new ContainerProxy(tag, tag, props, _render());\n\tif (__needRefresh) { refresh(); }\n\treturn [container, children];\n}\n\nfunction render(\n\te?: Element | Component<any>,\n\tp: Record<string, any> = {},\n): RootEntity<any> {\n\tconst [container, children] =  createContainerEntity(e, p);\n\tconst entity: RootEntity<any> = Object.create(container.entity, {\n\t\tupdate: {\n\t\t\tconfigurable: true,\n\t\t\tvalue(c?: Element | StandardComponent<any, any, any>) {\n\t\t\t\tif (container.destroyed) { return entity; }\n\t\t\t\tchildren(c === undefined ? []\n\t\t\t\t\t: isElement(c) ? [c] : [createElementBase(c)]);\n\t\t\t\treturn entity;\n\t\t\t},\n\t\t},\n\t\tmount: {\n\t\t\tconfigurable: true,\n\t\t\tvalue(target?: any, next?: any) {\n\t\t\t\tif (container.destroyed) { return entity; }\n\t\t\t\tif (container.mounted) { return entity; }\n\t\t\t\tcontainer.mount({});\n\t\t\t\tcontainer.setmountedRoot(target, next);\n\t\t\t\treturn entity;\n\t\t\t},\n\t\t},\n\t\tunmount: {\n\t\t\tconfigurable: true,\n\t\t\tvalue() {\n\t\t\t\tif (!container.mounted) { return; }\n\t\t\t\tif (container.unmounted) { return; }\n\t\t\t\tif (!container.destroyed) { container.destroy(); }\n\t\t\t\tcontainer.unmount();\n\t\t\t\treturn entity;\n\t\t\t},\n\t\t},\n\t});\n\tif (!isProduction) {\n\t\tdevtools.renderHook(entity, container);\n\t}\n\treturn entity;\n}\n\nexport default render;\n","import {\n\tComponentFunc,\n\tStandardComponent,\n\tRenderComponent,\n\tSimpleComponent,\n\tContainerComponent,\n\tDeliverComponent,\n\tIRenderer,\n\tNode,\n\tComponentContext,\n\tNativeComponent,\n\tComponent,\n\tSimpleComponentFunc,\n\tShellComponentFunc,\n\tShellComponent,\n\tElement,\n\tElementComponent,\n\tSelfComponent,\n} from './types';\nimport {\n\tnameSymbol,\n\tcomponentsSymbol,\n\tobjectTypeSymbol,\n\tobjectTypeSymbolSimpleComponent,\n\tobjectTypeSymbolNativeComponent,\n\tobjectTypeSymbolRenderComponent,\n\tobjectTypeSymbolDeliverComponent,\n\tobjectTypeSymbolContainerComponent,\n\trendererSymbol,\n\tdeliverKeySymbol,\n\tdeliverDefaultSymbol,\n\tobjectTypeSymbolShellComponent,\n\tpropsSymbol,\n\tcomponentValueSymbol,\n\tobjectTypeSymbolElementComponent,\n} from './constant/symbols';\nimport { createElementBase } from './auxiliary';\nimport { isRenderComponent } from './is';\n\n\ntype Render<\n\tTObject extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n> =\n\t((params: TObject, context: ComponentContext<TExpose, TEmit>) => Node)\n\t| RenderComponent<TObject, TExpose, TEmit>;\n\ninterface Options<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tTObject extends object,\n> {\n\tname?: string;\n\tcomponents?: Record<string, Component<any>>;\n\trender?: Render<TObject, TExpose, TEmit>;\n\tprops?: (keyof TProps)[];\n}\n\nfunction setObjectType<\n\tT extends Function & { [objectTypeSymbol]: any; }\n>(\n\tcomponent: T,\n\ttype: T extends Function & { [objectTypeSymbol]: infer S; } ? S : never,\n): T {\n\tReflect.defineProperty(component, objectTypeSymbol, { value: type });\n\treturn component;\n}\n\nfunction setName<\n\tT extends Function & { [nameSymbol]?: string; }\n>(component: T, name?: string): T {\n\tif (!name || typeof name !== 'string') { return component; }\n\tReflect.defineProperty(component, nameSymbol, { value: name });\n\treturn component;\n}\nfunction setValue<\n\tV, T extends Function & { [componentValueSymbol]: V; }\n>(component: T, value: V): T {\n\tReflect.defineProperty(component, componentValueSymbol, { value });\n\treturn component;\n}\nfunction setComponents<\n\tV, T extends Function & { [componentsSymbol]?: V; }\n>(component: T, components: V): T {\n\tif (!components || typeof components !== 'object') { return component; }\n\tReflect.defineProperty(component, componentsSymbol, { value: components });\n\treturn component;\n}\n\nfunction createSelfComponent<C extends SelfComponent<any>>(): C {\n\tconst component = function component(params: any): Element<C> {\n\t\treturn createElementBase(component, params) as Element<C>;\n\t} as  C;\n\treturn component;\n}\n\nexport function createDeliverComponent<T>(def: T): DeliverComponent<T>;\nexport function createDeliverComponent<T>(def?: T): DeliverComponent<T | undefined>;\nexport function createDeliverComponent<T, D>(def: D): DeliverComponent<T | D>;\nexport function createDeliverComponent<T>(def: T): DeliverComponent<T> {\n\tconst component = createSelfComponent<DeliverComponent<T>>();\n\tsetObjectType(component, objectTypeSymbolDeliverComponent);\n\tReflect.defineProperty(component, deliverKeySymbol, { value: Symbol() });\n\tReflect.defineProperty(component, deliverDefaultSymbol, { value: def });\n\treturn component;\n}\n\nexport function createRenderComponent<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>\n>(\n\tf: ComponentFunc<TProps, TExpose, TEmit>,\n\t{name, components}: {\n\t\tname?: string;\n\t\tcomponents?: Record<string, Component<any>>;\n\t} = {},\n): RenderComponent<TProps, TExpose, TEmit> {\n\tconst component = createSelfComponent<RenderComponent<TProps, TExpose, TEmit>>();\n\tsetObjectType(component, objectTypeSymbolRenderComponent);\n\tsetName(component, name);\n\tsetValue(component, f);\n\tsetComponents(component, components);\n\treturn component;\n}\nexport function createContainerComponent<P extends object, T = any>(\n\tvalue: T,\n\t{name, renderer}: { name?: string, renderer?: string | IRenderer} = {},\n): ContainerComponent<P, T> {\n\tconst component = createSelfComponent<ContainerComponent<P, T>>();\n\tsetObjectType(component, objectTypeSymbolContainerComponent);\n\tsetName(component, name);\n\tsetValue(component, value);\n\tif (typeof renderer === 'string' || typeof renderer === 'object') {\n\t\tReflect.defineProperty(component, rendererSymbol, { value: renderer });\n\t}\n\treturn component;\n}\nexport function createElementComponent<P extends object, T>(\n\tvalue: T,\n\t{ name }: { name?: string } = {},\n): ElementComponent<P, T> {\n\tconst component = createSelfComponent<ElementComponent<P, T>>();\n\tsetObjectType(component, objectTypeSymbolElementComponent);\n\tsetName(component, name);\n\tsetValue(component, value);\n\treturn component;\n}\n\nexport function createStandardComponent<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>\n>(\n\tf: ComponentFunc<TProps, TExpose, TEmit>,\n\toptions?: Options<TProps, TExpose, TEmit, never> & { render?: undefined },\n): StandardComponent<TProps, TExpose, TEmit>;\n\nexport function createStandardComponent<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tTObject extends object,\n>(\n\tf: (props: TProps, context: ComponentContext<TExpose, TEmit>) => TObject,\n\toptions: Options<TProps, TExpose, TEmit, TObject> & { render: Render<TObject, TExpose, TEmit>; },\n): StandardComponent<TProps, TExpose, TEmit>;\n\nexport function createStandardComponent<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tTObject extends object,\n>(\n\tf: (props: TProps, context: ComponentContext<TExpose, TEmit>) => TObject | Node,\n\t{name, components, render, props}: Options<TProps, TExpose, TEmit, TObject> = {},\n): StandardComponent<TProps, TExpose, TEmit> {\n\tconst component = createComponentFunc(f, render);\n\tsetName(component, name);\n\tsetComponents(component, components);\n\tif (Array.isArray(props)) {\n\t\tReflect.defineProperty(component, propsSymbol, { value: [...props] });\n\t}\n\treturn component;\n}\n\nfunction createComponentFunc<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tTObject extends object,\n>(\n\tf: (props: TProps, context: ComponentContext<TExpose, TEmit>) => TObject | Node,\n\trender?: Render<TObject, TExpose, TEmit>,\n): StandardComponent<TProps, TExpose, TEmit> {\n\tif (typeof render !== 'function') {\n\t\treturn f as StandardComponent<TProps, TExpose, TEmit>;\n\t}\n\tconst renderComponent = isRenderComponent(render)\n\t\t? render\n\t\t: createRenderComponent(render);\n\treturn function StandardComponent(props, context): Node {\n\t\treturn createElementBase(renderComponent, f(props, context) as TObject);\n\t};\n}\n\n\nexport function createNativeComponent<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>\n>(\n\tf: ComponentFunc<TProps, TExpose, TEmit>,\n\toptions: Options<TProps, TExpose, TEmit, never> & { render?: undefined },\n): NativeComponent<TProps, TExpose, TEmit>;\nexport function createNativeComponent<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tTObject extends object,\n>(\n\tf: (props: TProps, context: ComponentContext<TExpose, TEmit>) => TObject,\n\toptions: Options<TProps, TExpose, TEmit, TObject> & { render: Render<TObject, TExpose, TEmit>; },\n): NativeComponent<TProps, TExpose, TEmit>;\n\nexport function createNativeComponent<\n\tTProps extends object,\n\tTExpose extends object,\n\tTEmit extends Record<string, any>,\n\tTObject extends object,\n>(\n\tf: (props: TProps, context: ComponentContext<TExpose, TEmit>) => TObject | Node,\n\t{name, components, render, props}: Options<TProps, TExpose, TEmit, TObject> = {},\n): NativeComponent<TProps, TExpose, TEmit> {\n\tconst component = createComponentFunc(f, render) as NativeComponent<TProps, TExpose, TEmit>;\n\tsetObjectType(component, objectTypeSymbolNativeComponent);\n\tsetName(component, name);\n\tsetComponents(component, components);\n\tif (Array.isArray(props)) {\n\t\tReflect.defineProperty(component, propsSymbol, { value: [...props] });\n\t}\n\treturn component;\n}\n\n\nexport function createSimpleComponent<\n\tTProps extends object,\n\tTEmit extends Record<string, any>\n>(\n\tf: SimpleComponentFunc<TProps, TEmit>,\n\t{name, components}: {\n\t\tname?: string;\n\t\tcomponents?: Record<string, Component<any>>;\n\t} = {},\n): SimpleComponent<TProps, TEmit> {\n\tconst component = f as SimpleComponent<TProps, TEmit>;\n\tsetObjectType(component, objectTypeSymbolSimpleComponent);\n\tsetName(component, name);\n\tsetComponents(component, components);\n\treturn component;\n}\nexport function createShellComponent<\n\tTProps extends object,\n\tTEmit extends Record<string, any>\n>(\n\tf: ShellComponentFunc<TProps, TEmit>,\n\t{name}: { name?: string; } = {},\n): ShellComponent<TProps, TEmit> {\n\tconst component = f as ShellComponent<TProps, TEmit>;\n\tsetObjectType(component, objectTypeSymbolShellComponent);\n\tsetName(component, name);\n\treturn component;\n}\n\nexport {\n\tcreateStandardComponent as createComponent,\n};\n","import DeliverProxy from '../entity/proxy/DeliverProxy';\nimport ElementProxy from '../entity/proxy/ElementProxy';\nimport GroupProxy from '../entity/proxy/GroupProxy';\nimport ShellProxy from '../entity/proxy/ShellProxy';\nimport SlotProxy from '../entity/proxy/SlotProxy';\nimport ValueProxy from '../entity/proxy/ValueProxy';\n\nimport NodeProxy from '../entity/proxy/NodeProxy';\n\nimport ContainerProxy from '../entity/proxy/ContainerProxy';\n\nimport StandardComponentProxy from '../entity/proxy/StandardComponentProxy';\nimport RenderComponentProxy from '../entity/proxy/RenderComponentProxy';\nimport ComponentProxy from '../entity/proxy/ComponentProxy';\n\nimport RefProxy from '../entity/proxy/RefProxy';\nimport BaseProxy from '../entity/proxy/BaseProxy';\n\nexport function isProxy(v: any, type?: ''): v is RefProxy<any, any, any>;\nexport function isProxy(v: any, type?: ''): v is BaseProxy<any>;\n\nexport function isProxy(v: any, type: 'component'): v is ComponentProxy<any, any, any, any>;\nexport function isProxy(v: any, type: 'standardComponent'): v is StandardComponentProxy<any, any, any, any>;\nexport function isProxy(v: any, type: 'renderComponent'): v is RenderComponentProxy<any, any, any, any>;\nexport function isProxy(v: any, type: 'container'): v is ContainerProxy<any>;\n\nexport function isProxy(v: any, type: 'node'): v is NodeProxy<any>;\nexport function isProxy(v: any, type: 'deliver'): v is DeliverProxy<any>;\nexport function isProxy(v: any, type: 'element'): v is ElementProxy<any>;\nexport function isProxy(v: any, type: 'group'): v is GroupProxy<any>;\nexport function isProxy(v: any, type: 'shell'): v is ShellProxy<any>;\nexport function isProxy(v: any, type: 'value'): v is ValueProxy;\nexport function isProxy(v: any, type: 'slot'): v is SlotProxy;\n\nexport function isProxy(v: any, type?: string): boolean {\n\tswitch (type) {\n\t\tcase 'standardComponent': return v instanceof StandardComponentProxy;\n\t\tcase 'renderComponent': return v instanceof RenderComponentProxy;\n\t\tcase 'component': return v instanceof ComponentProxy;\n\n\t\tcase 'container': return v instanceof ContainerProxy;\n\n\t\tcase 'deliver': return v instanceof DeliverProxy;\n\t\tcase 'element': return v instanceof ElementProxy;\n\t\tcase 'group': return v instanceof GroupProxy;\n\t\tcase 'shell': return v instanceof ShellProxy;\n\t\tcase 'value': return v instanceof ValueProxy;\n\t\tcase 'slot': return v instanceof SlotProxy;\n\t\tcase 'node': return v instanceof NodeProxy;\n\t\tcase 'ref': return v instanceof RefProxy;\n\t}\n\treturn v instanceof BaseProxy;\n}\n","import {\n\tElement,\n\tComponent,\n\tDeliverComponent,\n\tRenderComponent,\n} from '../types';\nimport {createElementBase} from '../auxiliary';\n\nfunction createElement<T extends DeliverComponent<any>>(\n\ttag: T,\n\tattrs?: (T extends DeliverComponent<infer P> ? {value: P} : never),\n\t...children: any[]\n): Element;\nfunction createElement<P extends object, T extends Component<P> | RenderComponent<P, any, any>>(\n\ttag: T,\n\tattrs?: P,\n\t...children: any[]\n): Element;\nfunction createElement<T extends string>(\n\ttag: T,\n\tattrs?: Record<string, any>,\n\t...children: any[]\n): Element;\n\nfunction createElement(\n\ttag: any,\n\tattrs?: Record<string, any> | null,\n\t...children: any[]\n): Element;\nfunction createElement(\n\ttag: any,\n\tattrs?: Record<string, any> | null,\n\t...children: any[]\n): Element {\n\tconst attrProps = attrs ? {...attrs} : {};\n\tconst props: Record<string, any> = {};\n\tfor (const n of Object.keys(attrProps)) {\n\t\tif (n === '@') {\n\t\t\tprops['n:on'] = attrProps[n];\n\t\t\tcontinue;\n\t\t}\n\t\tif (n[0] === '!') {\n\t\t\tprops[`n:${ n.substr(1) }`] = attrProps[n];\n\t\t\tcontinue;\n\t\t}\n\t\tif (n[0] === '@') {\n\t\t\tprops[`on:${ n.substr(1) }`] = attrProps[n];\n\t\t\tcontinue;\n\t\t}\n\t\tif (n.substr(0, 2) === 'n-') {\n\t\t\tprops[`n:${ n.substr(2) }`] = attrProps[n];\n\t\t\tcontinue;\n\t\t}\n\t\tif (n.substr(0, 3) === 'on-') {\n\t\t\tconst fn = attrProps[n];\n\t\t\tif (typeof fn === 'function' || fn === null || fn === undefined) {\n\t\t\t\tprops[`on:${ n.substr(3) }`] = fn;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\t\tif (n.substr(0, 5) === 'hook-') {\n\t\t\tconst fn = attrProps[n];\n\t\t\tif (typeof fn === 'function' || fn === null || fn === undefined) {\n\t\t\t\tprops[`hook:${ n.substr(5) }`] = fn;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\t\tif (n.substr(0, 5) === 'data-') {\n\t\t\tprops[`data:${ n.substr(5) }`] = attrProps[n];\n\t\t}\n\t\tprops[n] = attrProps[n];\n\t}\n\treturn createElementBase(tag, props, ...children);\n}\n\nexport default createElement;\n","import { Value } from '../types';\nimport { value } from '../auxiliary';\nimport { createUse } from '../extends';\n\n\nconst useValue: {\n\t(): Value<any>;\n\t<T>(fn: () => T): T;\n\t<T>(fn?: () => T): T | Value<any>;\n} = createUse<any, [(() => any) | void]>({\n\tname: 'useValue',\n\tcreate: fn => typeof fn === 'function' ? fn() : value(undefined),\n}) as any;\nexport default useValue;\n","import { Ref, Entity } from '../types';\nimport { value } from '../auxiliary';\n\nfunction createEntitySetRef<T extends Entity<any, any>>(set: ref.Set<T>): Ref<any, T> {\n\treturn function refValue(_0, _1, entity, state): void {\n\t\tif (state === true) {\n\t\t\tset.add(entity);\n\t\t\treturn;\n\t\t}\n\t\tif (state === false) {\n\t\t\tset.delete(entity);\n\t\t}\n\t};\n}\nfunction createExposedSetRef<T extends object>(set: ref.Set<T>): Ref<T, any> {\n\treturn function refValue(newNode, oldNode): void {\n\t\tif (newNode === undefined) {\n\t\t\tif (oldNode !== undefined) {\n\t\t\t\tset.delete(oldNode);\n\t\t\t}\n\t\t\treturn;\n\t\t} if (oldNode === undefined) {\n\t\t\tset.add(newNode);\n\t\t\treturn;\n\t\t} if (typeof set.replace === 'function') {\n\t\t\tset.replace(newNode, oldNode);\n\t\t\treturn;\n\t\t}\n\t\tset.delete(oldNode);\n\t\tset.add(newNode);\n\t};\n}\nfunction createEntityRefValue<T extends Entity<any, any>>(watch?: boolean): ref.EntityValue<T> {\n\tconst obj =  watch ? value<T | undefined>(undefined) : { value: undefined };\n\tfunction refValue(_1: any, _2: any, entity: T, state?: boolean): void {\n\t\tobj.value = state === false ? entity : undefined;\n\t}\n\tReflect.defineProperty(refValue, 'value', {\n\t\tget() { return obj.value; },\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n\treturn refValue as unknown as ref.EntityValue<T>;\n}\nfunction createExposedRefValue<T extends object>(watch?: boolean): ref.Value<T> {\n\tconst obj =  watch ? value<T | undefined>(undefined) : { value: undefined };\n\tfunction refValue(newNode: T | undefined): void {\n\t\tobj.value = newNode;\n\t}\n\tReflect.defineProperty(refValue, 'value', {\n\t\tget() { return obj.value; },\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n\treturn refValue as unknown as ref.Value<T>;\n}\n\nfunction ref<T extends object>(watch?: boolean, isEntity?: false): ref.Value<T>;\nfunction ref<T extends Entity<any, any>>(watch: boolean, isEntity: true): ref.EntityValue<T>;\nfunction ref<T extends object>(set: ref.Set<T>, isEntity?: false): Ref<T, any>;\nfunction ref<T extends Entity<any, any>>(set: ref.Set<T>, isEntity: true): Ref<any, T>;\nfunction ref<\n\tT extends object\n>(\n\tset?: boolean | ref.Set<T>,\n\tisEntity?: boolean,\n): Ref<T, any> | ref.Value<T> | ref.EntityValue<T & Entity<any, any>> | Ref<any, T & Entity<any, any>> {\n\tif (set && (typeof set === 'function' || typeof set === 'object')) {\n\t\treturn isEntity ? createEntitySetRef(set as any) : createExposedSetRef(set);\n\t}\n\treturn isEntity ? createEntityRefValue(set) : createExposedRefValue(set);\n}\n\n\ndeclare namespace ref {\n\texport interface Set<T extends object> {\n\t\tadd(value: T): void;\n\t\tdelete(value: T): void;\n\t\treplace?(newNode: T, oldNode: T): void;\n\t}\n\texport interface Value<T extends object> extends Ref<T, any> {\n\t\treadonly value: T | null\n\t}\n\texport interface EntityValue<T extends Entity<any, any>> extends Ref<any, T> {\n\t\treadonly value: T | null\n\t}\n}\nexport default ref;\n","import { Component, SimpleComponent } from '../types';\nimport { value } from '../auxiliary';\nimport { createSimpleComponent } from '../create';\nimport createElement from './createElement';\n\nconst LOADING = 0;\ntype LOADING = typeof LOADING;\nconst FAILING = -1;\ntype FAILING = typeof FAILING;\nconst COMPLETE = 1;\ntype COMPLETE = typeof COMPLETE;\n\nexport default function lazy<\n\tP extends object,\n\tC extends Component<P>\n>(\n\tcomponent: () => Promise<C | { default: C }>,\n\tPlaceholder?: Component<{ loading: boolean }>,\n): SimpleComponent<P, any> {\n\tconst reslut = value<LOADING | FAILING | COMPLETE>(LOADING);\n\tlet isLoad = false;\n\tconst ComponentValue = value<undefined | C>(undefined);\n\tasync function load(): Promise<void> {\n\t\tif (isLoad) { return; }\n\t\tisLoad = true;\n\t\tif (reslut()) { return; }\n\t\treslut(COMPLETE);\n\t\ttry {\n\t\t\tconst c = await component();\n\t\t\tif (typeof c === 'function') {\n\t\t\t\tComponentValue(c);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!c) {\n\t\t\t\treslut(FAILING);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (typeof c.default === 'function') {\n\t\t\t\tComponentValue(c.default);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treslut(FAILING);\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t\treslut(FAILING);\n\t\t}\n\t}\n\treturn createSimpleComponent((props, { childNodes }) => {\n\t\tconst com = ComponentValue();\n\t\tif (com) { return createElement(com, props, ...childNodes()); }\n\t\tload();\n\t\tif (!Placeholder) { return null; }\n\t\treturn createElement(Placeholder, { loading: reslut() === LOADING});\n\t}, {name: 'Lazy'});\n}\n","import { Element, Node } from '../types';\nimport { objectTypeSymbol, objectTypeSymbolElement } from '../constant/symbols';\nimport { Render } from '../constant/tags';\n\n\nexport default function createRenderElement(\n\trender: (_?: any) => Node,\n\t{slot, key}: {slot?: string, key?: string} = {},\n): Element {\n\tconst node: Element = {\n\t\t[objectTypeSymbol]: objectTypeSymbolElement,\n\t\ttag: Render,\n\t\tprops: {\n\t\t\t'n:key': key,\n\t\t\t'n:slot': slot,\n\t\t},\n\t\tchildren: [render],\n\t\tkey, slot,\n\t};\n\treturn node;\n}\n","import { Template } from '../constant/tags';\nimport { isSimpleComponent } from '../is';\nimport {isElement} from '../auxiliary';\nimport { SimpleComponent } from '../types';\n\nfunction elements(\n\tnode: any,\n\topt: elements.Option = {},\n): any[] {\n\tif (Array.isArray(node)) {\n\t\tconst list: any[][] = [];\n\t\tfor (let n of node) {\n\t\t\tlist.push(elements(n, opt));\n\t\t}\n\t\treturn ([] as any[]).concat(...list);\n\t}\n\tif (!isElement(node)) { return [node]; }\n\tlet { tag } = node;\n\tif (!tag) { return [node]; }\n\n\tif (tag === Template) {\n\t\treturn elements(node.children, opt);\n\t}\n\tif (!isSimpleComponent(tag)) { return [node]; }\n\tconst { simple } = opt;\n\tif (Array.isArray(simple)) {\n\t\tif (simple.includes(tag)) { return [node]; }\n\t} else if (typeof simple === 'function') {\n\t\tif (simple(tag)) { return [node]; }\n\t} else if (simple) {\n\t\treturn [node];\n\t}\n\treturn elements(node.children, opt);\n}\ndeclare namespace elements {\n\texport interface Option {\n\t\tsimple?:\n\t\t| boolean\n\t\t| SimpleComponent<any, any>[]\n\t\t| ((c: SimpleComponent<any, any>) => boolean);\n\t}\n}\nexport default elements;\n","import { Element } from '../types';\nimport { isElement } from '../auxiliary';\n\nexport default function isFragmentElement(v: any): v is Element<'template'> {\n\tif (!isElement(v)) { return false; }\n\tconst { tag } = v;\n\tif (typeof tag !== 'string') { return false; }\n\treturn tag.toLowerCase() === 'template';\n}\n","import { isSimpleComponent } from '../is';\nimport { isElement } from '../auxiliary';\n\nexport default function isSimpleElement(v: any): boolean {\n\treturn isElement(v) && isSimpleComponent(v.tag);\n}\n","import { ComponentEntity, RenderComponent, StandardComponent } from '../types';\nimport { withParent } from '../auxiliary';\nimport { createWith } from '../extends';\n\nconst withAncestor: {\n\t<C extends StandardComponent<any, any, any> | RenderComponent<any, any, any>>(\n\t\tcomponent: C,\n\t\tdepth?: number,\n\t): ComponentEntity<C, any> | undefined;\n} = createWith({\n\tname: 'withAncestor',\n\tcreate: () => withParent(),\n\texec(entity, _, component, depth = 0) {\n\t\tfor (let d = depth + 1; entity && d > 0; d--) {\n\t\t\tif (entity.component === component) {\n\t\t\t\treturn entity;\n\t\t\t}\n\t\t\tentity = entity.parent;\n\t\t}\n\t},\n});\nexport default withAncestor;\n","const xmlnsMap: Record<string, string> = {\n\tsvg: 'http://www.w3.org/2000/svg',\n\thtml: 'http://www.w3.org/1999/xhtml',\n\tmathml: 'http://www.w3.org/1998/Math/MathML',\n};\nconst SVGTags = new Set([\n\t'altGlyph',\n\t'altGlyphDef',\n\t'altGlyphItem',\n\t'animate',\n\t'animateColor',\n\t'animateMotion',\n\t'animateTransform',\n\t'circle',\n\t'clipPath',\n\t'color-profile',\n\t'cursor',\n\t'defs',\n\t'desc',\n\t'ellipse',\n\t'feBlend',\n\t'feColorMatrix',\n\t'feComponentTransfer',\n\t'feComposite',\n\t'feConvolveMatrix',\n\t'feDiffuseLighting',\n\t'feDisplacementMap',\n\t'feDistantLight',\n\t'feFlood',\n\t'feFuncA',\n\t'feFuncB',\n\t'feFuncG',\n\t'feFuncR',\n\t'feGaussianBlur',\n\t'feImage',\n\t'feMerge',\n\t'feMergeNode',\n\t'feMorphology',\n\t'feOffset',\n\t'fePointLight',\n\t'feSpecularLighting',\n\t'feSpotLight',\n\t'feTile',\n\t'feTurbulence',\n\t'filter',\n\t'font-face',\n\t'font-face-format',\n\t'font-face-name',\n\t'font-face-src',\n\t'font-face-uri',\n\t'foreignObject',\n\t'g',\n\t'glyph',\n\t'glyphRef',\n\t'hkern',\n\t'image',\n\t'line',\n\t'linearGradient',\n\t'marker',\n\t'mask',\n\t'metadata',\n\t'missing-glyph',\n\t'mpath',\n\t'path',\n\t'pattern',\n\t'polygon',\n\t'polyline',\n\t'radialGradient',\n\t'rect',\n\t'script',\n\t'set',\n\t'stop',\n\t'style',\n\t'svg',\n\t'switch',\n\t'symbol',\n\t'text',\n\t'textPath',\n\t'title',\n\t'tref',\n\t'tspan',\n\t'use',\n\t'view',\n\t'vkern',\n]);\nconst MathMLTags = new Set([\n\t'maction',\n\t'math',\n\t'menclose',\n\t'merror',\n\t'mfenced',\n\t'mfrac',\n\t'mglyph',\n\t'mi',\n\t'mlabeledtr',\n\t'mmultiscripts',\n\t'mn',\n\t'mo',\n\t'mover',\n\t'mpadded',\n\t'mphantom',\n\t'mroot',\n\t'mrow',\n\t'ms',\n\t'mspace',\n\t'msqrt',\n\t'mstyle',\n\t'msub',\n\t'msubsup',\n\t'msup',\n\t'mtable',\n\t'mtd',\n\t'mtext',\n\t'mtr',\n\t'munder',\n\t'munderover',\n\t'semantics',\n]);\n\nexport default function createElement(\n\ttagname: string,\n\tnamespace?: string,\n): Element {\n\tconst res = /^([a-z][a-z0-9-]*):([a-z0-9-]+)$/i.exec(tagname);\n\tconst tag = res ? res[2] : tagname;\n\tconst ns = (namespace || res?.[1]\n\t\t|| SVGTags.has(tag.toLowerCase()) && 'svg'\n\t\t|| MathMLTags.has(tag.toLowerCase()) && 'mathml' || '').toLowerCase();\n\tif (!ns) {\n\t\treturn document.createElement(tag);\n\t}\n\treturn document.createElementNS(\n\t\tns in xmlnsMap && xmlnsMap[ns] || ns,\n\t\ttag,\n\t);\n}\n","import createElement from './createElement';\nimport Neep from '@neep/core';\n\nexport default function createComponent(\n\trenderer: Neep.IRenderer,\n): [Element, ShadowRoot] {\n\tconst node = createElement('neep-component');\n\treturn [node, node.attachShadow({ mode: 'open' })];\n\n}\n","export default function createPlaceholder(): Comment {\n\treturn document.createComment('');\n}\n","export default function createText(text: string): Text {\n\treturn document.createTextNode(text);\n}\n","export default function getParent(node: Node): (Node & ParentNode) | null {\n\treturn node.parentNode;\n}\n","export default function insertNode(\n\tparent: Node & ParentNode,\n\tnode: Node,\n\tnext: Node | null = null,\n): void {\n\tparent.insertBefore(node, next);\n}\n","import { install as NeepInstall } from '@neep/core';\n\nexport {\n\tisValue,\n\tcreateContainerComponent,\n\tcreateElement,\n} from '@neep/core';\n\nexport default function installNeep(\n\trenderer: import('@neep/core').IRenderer,\n): void {\n\tNeepInstall({renderer});\n}\n","import { isValue } from '../../install/neep';\n\nexport type Id = string;\n\nfunction getId(v: any): Id | undefined {\n\tif (typeof v === 'string') { return v; }\n\tif (typeof v === 'number') { return String(v); }\n\treturn undefined;\n}\n\nconst PropsMap = new WeakMap<Element, Id | undefined>();\nexport default function updateId(\n\tprops: {[k: string]: any},\n\tel: Element,\n): void {\n\tconst old = PropsMap.get(el);\n\tconst id = getId(isValue(props.id) ? props.id() : props.id);\n\tPropsMap.set(el, id);\n\tif (id !== old) {\n\t\tif (typeof id === 'string') {\n\t\t\tel.id = id;\n\t\t} else {\n\t\t\tel.removeAttribute('id');\n\t\t}\n\t}\n}\n","import Neep from '@neep/core';\nimport { isValue } from '../../install/neep';\n\nexport type RecursiveItem<T> = T | RecursiveItem<T>[] | Neep.Value<T>;\n\nexport function *recursive2iterable<T>(\n\tlist: RecursiveItem<T>,\n): Iterable<T> {\n\tif (isValue(list)) {\n\t\tyield *recursive2iterable(list());\n\t\treturn;\n\n\t}\n\tif (!Array.isArray(list)) {\n\t\tyield list;\n\t\treturn;\n\t}\n\tfor (const it of list) {\n\t\tyield *recursive2iterable(it);\n\t}\n}\n\nexport type Class = Set<string>;\nfunction getClass(\n\tlist: RecursiveItem<(string | {[k: string]: any})>,\n): Class | undefined {\n\tconst set = new Set<string>();\n\tfor (const v of recursive2iterable(list)) {\n\t\tif (!v) { continue; }\n\t\tif (typeof v === 'string') {\n\t\t\tfor (let k of v.split(' ').filter(Boolean)) {\n\t\t\t\tset.add(k);\n\t\t\t}\n\t\t} else if (typeof v === 'object') {\n\t\t\tfor (const k in v) {\n\t\t\t\tlet add = v[k];\n\t\t\t\tif (isValue(add)) {\n\t\t\t\t\tadd = add.value;\n\t\t\t\t}\n\t\t\t\tfor (let it of k.split(' ').filter(Boolean)) {\n\t\t\t\t\tset[add ? 'add' : 'delete'](it);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif (!set.size) { return undefined; }\n\treturn set;\n}\nfunction update(\n\tel: Element,\n\tclasses?: Class,\n\toClasses?: Class,\n): void {\n\tif (classes && oClasses) {\n\t\tconst list = el.getAttribute('class') || '';\n\t\tconst classList = new Set(list.split(' ').filter(Boolean));\n\t\toClasses.forEach(c => classList.delete(c));\n\t\tclasses.forEach(c => classList.add(c));\n\t\tel.setAttribute('class', [...classList].join(' '));\n\t} else if (classes) {\n\t\tel.setAttribute('class', [...classes].join(' '));\n\t} else if (oClasses) {\n\t\tel.removeAttribute('class');\n\t}\n}\n\nconst PropsMap = new WeakMap<Element, Class | undefined>();\nexport default function updateClass(\n\tprops: {[k: string]: any},\n\tel: Element,\n): void {\n\tconst old = PropsMap.get(el);\n\tconst classes = getClass(isValue(props.class) ? props.class() : props.class);\n\tupdate(el, classes, old);\n\tPropsMap.set(el, classes);\n}\n","import { isValue } from '../../install/neep';\n\nexport type Style = string | Record<string, [string, 'important' | undefined]>;\n\nconst unit: Record<string, string> = {\n\t'width': 'px',\n\t'height': 'px',\n\t'top': 'px',\n\t'right': 'px',\n\t'bottom': 'px',\n\t'left': 'px',\n\t'border': 'px',\n\t'border-top': 'px',\n\t'border-right': 'px',\n\t'border-left': 'px',\n\t'border-bottom': 'px',\n\t'border-width': 'px',\n\t'border-top-width': 'px',\n\t'border-right-width': 'px',\n\t'border-left-width': 'px',\n\t'border-bottom-width': 'px',\n\t'border-radius': 'px',\n\t'border-top-left-radius': 'px',\n\t'border-top-right-radius': 'px',\n\t'border-bottom-left-radius': 'px',\n\t'border-bottom-right-radius': 'px',\n\t'padding': 'px',\n\t'padding-top': 'px',\n\t'padding-right': 'px',\n\t'padding-left': 'px',\n\t'padding-bottom': 'px',\n\t'margin': 'px',\n\t'margin-top': 'px',\n\t'margin-right': 'px',\n\t'margin-left': 'px',\n\t'margin-bottom': 'px',\n};\nfunction getStyle(\n\tstyle: any,\n): Style | undefined {\n\tif (isValue(style)) { style = style(); }\n\tif (typeof style === 'string') { return style; }\n\tif (!style) { return undefined; }\n\tif (typeof style !== 'object') { return undefined; }\n\tconst css: Record<string, [string, 'important' | undefined]> =\n\t\tObject.create(null);\n\tfor (let k in style) {\n\t\tlet value = style[k];\n\t\tif (isValue(value)) { value = value(); }\n\t\tconst key = k.substr(0, 2) === '--' ? k\n\t\t\t: k.replace(/[A-Z]/g, '-$1')\n\t\t\t\t.replace(/-+/g, '-')\n\t\t\t\t.toLowerCase();\n\t\tif (typeof value === 'number') {\n\t\t\tconst str = value && k in unit\n\t\t\t\t? `${ value }${ unit[k] }`\n\t\t\t\t: `${ value }`;\n\t\t\tcss[key] = [str, undefined];\n\t\t} else if (value && typeof value === 'string') {\n\t\t\tconst v = value.replace(/!important\\s*$/, '');\n\t\t\tcss[key] = [v, v === value ? undefined : 'important'];\n\t\t}\n\t}\n\treturn css;\n}\n\nfunction update(\n\tcss: CSSStyleDeclaration,\n\tstyle?: Style,\n\toStyle?: Style,\n): void {\n\tif (!style) {\n\t\tif (!oStyle) { return; }\n\t\tif (typeof oStyle === 'string') {\n\t\t\tcss.cssText = '';\n\t\t\treturn;\n\t\t}\n\t\tfor (const k of Object.keys(oStyle)) {\n\t\t\tcss.removeProperty(k);\n\t\t}\n\t\treturn;\n\t}\n\n\tif (typeof style === 'string') {\n\t\tif (style !== typeof oStyle) {\n\t\t\tcss.cssText = style;\n\t\t}\n\t\treturn;\n\t}\n\tif (!oStyle || typeof oStyle === 'string') {\n\t\tif (typeof oStyle === 'string') {\n\t\t\tcss.cssText = '';\n\t\t}\n\t\tfor (const k of Object.keys(style)) {\n\t\t\tcss.setProperty(k, ...style[k]);\n\t\t}\n\t\treturn;\n\t}\n\n\tfor (const k of Object.keys(style)) {\n\t\tconst v = style[k];\n\t\tif (\n\t\t\t!oStyle[k]\n\t\t\t|| oStyle[k][0] !== v[0]\n\t\t\t|| oStyle[k][1] !== v[1]\n\t\t) {\n\t\t\tcss.setProperty(k, ...v);\n\t\t}\n\t}\n\tfor (const k of Object.keys(oStyle)) {\n\t\tif (!style[k]) {\n\t\t\tcss.removeProperty(k);\n\t\t}\n\t}\n}\nconst PropsMap = new WeakMap<Element, Style | undefined>();\nexport default function updateStyle(\n\tprops: {[k: string]: any},\n\tel: Element,\n\tcss: CSSStyleDeclaration,\n\thasStyle?: boolean,\n): Style | undefined {\n\tif (!hasStyle) { return undefined; }\n\tconst old = PropsMap.get(el);\n\n\tconst style = getStyle(\n\t\tisValue(props.style) ? props.style() : props.style,\n\t);\n\tupdate(css, style, old);\n\tPropsMap.set(el, style);\n\treturn style;\n}\n","/* eslint-disable no-fallthrough */\nimport { isValue } from '../../install/neep';\n\nexport type Attrs = Record<string, string | null>;\n\nexport function setAttrs(\n\tel: Element,\n\tattrs: Record<string, string | null>,\n): void {\n\tif (el instanceof HTMLInputElement && 'checked' in attrs) {\n\t\tswitch (el.type.toLowerCase()) {\n\t\t\tcase 'checkbox':\n\t\t\tcase 'radio':\n\t\t\t\tif ((attrs.checked !== null) !== el.checked) {\n\t\t\t\t\tel.checked = attrs.checked !== null;\n\t\t\t\t}\n\t\t}\n\t}\n\tif ((\n\t\tel instanceof HTMLSelectElement\n\t\t|| el instanceof HTMLInputElement\n\t\t|| el instanceof HTMLTextAreaElement\n\t) && 'value' in attrs) {\n\t\tconst value = attrs.value || '';\n\t\tif (el.value !== value) {\n\t\t\tel.value = value;\n\t\t}\n\t}\n\tif ((el instanceof HTMLDetailsElement) && 'open' in attrs) {\n\t\tconst value = attrs.open !== null;\n\t\tif (el.open !== value) {\n\t\t\tel.open = value;\n\t\t}\n\t}\n\tif (el instanceof HTMLMediaElement) {\n\t\tif ('muted' in attrs) {\n\t\t\tconst value = attrs.muted !== null;\n\t\t\tif (el.muted !== value) {\n\t\t\t\tel.muted = value;\n\t\t\t}\n\t\t}\n\t\tif ('paused' in attrs) {\n\t\t\tconst value = attrs.paused !== null;\n\t\t\tif (el.paused !== value) {\n\t\t\t\tif (value) {\n\t\t\t\t\tel.pause();\n\t\t\t\t} else {\n\t\t\t\t\tel.play();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif ('currentTime' in attrs) {\n\t\t\tconst value = attrs.currentTime;\n\t\t\tif (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n\t\t\t\tconst num = Number(value);\n\t\t\t\tif (el.currentTime !== num) {\n\t\t\t\t\tel.currentTime = num;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif ('playbackRate' in attrs) {\n\t\t\tconst value = attrs.playbackRate;\n\t\t\tif (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n\t\t\t\tconst num = Number(value);\n\t\t\t\tif (el.playbackRate !== num) {\n\t\t\t\t\tel.playbackRate = num;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif ('volume' in attrs) {\n\t\t\tconst value = attrs.volume;\n\t\t\tif (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n\t\t\t\tconst num = Number(value);\n\t\t\t\tif (el.volume !== num) {\n\t\t\t\t\tel.volume = num;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction stringify(\n\tdata: any,\n\tisOn = false,\n): string | null | undefined {\n\tif (data === undefined || data === null) { return data; }\n\tif (isOn && typeof data === 'function') { return undefined; }\n\tif (typeof data === 'boolean') { return data ? '' : null; }\n\tif (typeof data !== 'object') { return String(data); }\n\tif (data instanceof Date) {\n\t\treturn data.toISOString();\n\t}\n\tif (data instanceof RegExp) {\n\t\treturn data.toString();\n\t}\n\treturn JSON.stringify(data);\n}\nfunction getAttrs(\n\tprops: {[k: string]: any},\n\thasStyle: boolean,\n): Attrs {\n\tconst attrs: Attrs = Object.create(null);\n\tfor (const k in props) {\n\t\tif (/^(n|on|bind|slot)[:-]/.test(k)) { continue; }\n\t\tif (!/^[a-zA-Z:_][a-zA-Z0-9:_-]*$/.test(k)) { continue; }\n\t\tconst name = k\n\t\t\t.toLowerCase();\n\t\tswitch (name) {\n\t\t\tcase 'style':\n\t\t\t\tif (!hasStyle) { break; }\n\t\t\tcase 'ref':\n\t\t\tcase 'is':\n\t\t\tcase 'id':\n\t\t\tcase 'class':\n\t\t\t\tcontinue;\n\t\t}\n\t\tlet data = props[k];\n\t\tif (isValue(data)) { data = data(); }\n\t\tconst value = stringify(data, name.substr(0, 2) === 'on');\n\t\tif (value !== undefined) { attrs[name] = value; }\n\t}\n\treturn attrs;\n}\nfunction update(\n\tel: Element,\n\tattrs: Attrs,\n\told: Attrs,\n): void {\n\tfor (const k of Object.keys(attrs)) {\n\t\tconst v = attrs[k];\n\t\tif (!(k in old) || old[k] !== v) {\n\t\t\tif (v === null) {\n\t\t\t\tel.removeAttribute(k);\n\t\t\t} else {\n\t\t\t\tel.setAttribute(k, v);\n\t\t\t}\n\t\t}\n\t}\n\tfor (const k of Object.keys(old)) {\n\t\tif (!(k in attrs)) {\n\t\t\tel.removeAttribute(k);\n\t\t}\n\t}\n}\n\nconst PropsMap = new WeakMap<Element, Attrs>();\nexport default function updateAttrs(\n\tprops: {[k: string]: any},\n\tel: Element,\n\thasStyle: boolean,\n): void {\n\tconst old = PropsMap.get(el) || {};\n\tconst attrs = getAttrs(props, hasStyle);\n\tupdate(el, attrs, old);\n\tsetAttrs(el, attrs);\n\tPropsMap.set(el, attrs);\n}\n","import Neep from '@neep/core';\nimport { isValue } from '../../install/neep';\n\n\nfunction *getElementModel(el: Element): Iterable<[string, string, (e: Event) => any]> {\n\tif (el instanceof HTMLInputElement) {\n\t\tswitch (el.type.toLowerCase()) {\n\t\t\tcase 'checkbox':\n\t\t\t\tyield [\n\t\t\t\t\t'indeterminate', 'change',\n\t\t\t\t\te => (e.currentTarget as HTMLInputElement).indeterminate,\n\t\t\t\t];\n\t\t\t\treturn yield [\n\t\t\t\t\t'checked', 'change',\n\t\t\t\t\te => (e.currentTarget as HTMLInputElement).checked,\n\t\t\t\t];\n\t\t\tcase 'radio':\n\t\t\t\treturn yield [\n\t\t\t\t\t'checked', 'change',\n\t\t\t\t\te => (e.currentTarget as HTMLInputElement).checked,\n\t\t\t\t];\n\t\t}\n\t\treturn yield [\n\t\t\t'value', 'input',\n\t\t\te => (e.currentTarget as HTMLInputElement).value,\n\t\t];\n\t}\n\tif (el instanceof HTMLTextAreaElement) {\n\t\treturn yield [\n\t\t\t'value', 'input',\n\t\t\te => (e.currentTarget as HTMLTextAreaElement).value,\n\t\t];\n\t}\n\tif (el instanceof HTMLSelectElement) {\n\t\treturn yield [\n\t\t\t'value', 'change',\n\t\t\te => (e.currentTarget as HTMLSelectElement).value,\n\t\t];\n\t}\n\tif (el instanceof HTMLDetailsElement) {\n\t\treturn yield [\n\t\t\t'open', 'toggle',\n\t\t\te => (e.currentTarget as HTMLDetailsElement).open,\n\t\t];\n\t}\n\tif (el instanceof HTMLMediaElement) {\n\t\tyield [\n\t\t\t'currentTime', 'timeupdate',\n\t\t\te => (e.currentTarget as HTMLMediaElement).currentTime,\n\t\t];\n\t\tyield [\n\t\t\t'playbackRate', 'ratechange',\n\t\t\te => (e.currentTarget as HTMLMediaElement).playbackRate,\n\t\t];\n\t\tyield [\n\t\t\t'volume', 'volumechange',\n\t\t\te => (e.currentTarget as HTMLMediaElement).volume,\n\t\t];\n\t\tyield [\n\t\t\t'muted', 'volumechange',\n\t\t\te => (e.currentTarget as HTMLMediaElement).muted,\n\t\t];\n\t\tyield [\n\t\t\t'paused', 'playing',\n\t\t\te => (e.currentTarget as HTMLMediaElement).paused,\n\t\t];\n\t\treturn yield [\n\t\t\t'paused', 'pause',\n\t\t\te => (e.currentTarget as HTMLMediaElement).paused,\n\t\t];\n\t}\n\n}\n\ntype ValueEventBindItem = [Neep.Value<any>, () => void];\ntype ValueEventBind = Record<string, ValueEventBindItem>;\nconst ValueEventMap = new WeakMap<Element, ValueEventBind>();\n\nfunction getValueEventBind(el: Element): ValueEventBind {\n\tlet list = ValueEventMap.get(el);\n\tif (list) { return list; }\n\tlist = Object.create(null) as ValueEventBind;\n\tValueEventMap.set(el, list);\n\treturn list;\n}\n\n\nconst bindMap = new WeakMap<Element, Record<string, () => void>>();\nfunction getEventBind(el: Element): Record<string, () => void> {\n\tlet list = bindMap.get(el);\n\tif (list) { return list; }\n\tlist = Object.create(null) as Record<string, () => void>;\n\tbindMap.set(el, list);\n\treturn list;\n}\n\nexport default function updateEvent(\n\tprops: {[k: string]: any},\n\tel: Element,\n\temit: Neep.Emit<Record<string, any>>,\n): void {\n\tconst valueEventMap = getValueEventBind(el);\n\tfor (const [prop, name, t] of getElementModel(el)) {\n\t\tconst value = props[prop];\n\t\tconst item = valueEventMap[prop];\n\t\tif (item && item[0] === value) { continue; }\n\t\tif (item) { item[1](); }\n\t\tif (!isValue(value)) { continue; }\n\t\tconst f = (e: Event): void => { value(t(e)); };\n\t\tel.addEventListener(name, f);\n\t\tvalueEventMap[name] = [value, () => el.removeEventListener(name, f)];\n\t}\n\n\tconst names = new Set(emit.names.map(String));\n\tconst eventBind = getEventBind(el);\n\tfor (const k of Object.keys(eventBind)) {\n\t\tif (names.has(k)) { continue; }\n\t\teventBind[k]();\n\t\tdelete eventBind[k];\n\t}\n\tfor (const k of names) {\n\t\tif (k in eventBind) { continue; }\n\t\tconst f = (p: any): boolean => emit(k, p);\n\t\tel.addEventListener(k, f);\n\t\teventBind[k] = () => {\n\t\t\tel.removeEventListener(k, f);\n\t\t};\n\t}\n}\n","import Neep from '@neep/core';\nimport updateId from './id';\nimport updateClass from './class';\nimport updateStyle from './style';\nimport updateAttrs from './attr';\nimport updateEvent from './event';\n\nexport default function updateProps(\n\trenderer: Neep.IRenderer,\n\tel: Element,\n\tprops: {[k: string]: any},\n\temit: Neep.Emit<Record<string, any>>,\n): Element {\n\tconst css = (el as any).style;\n\tconst hasStyle = css instanceof CSSStyleDeclaration;\n\tupdateId(props, el);\n\tupdateClass(props, el);\n\tupdateAttrs(props, el, hasStyle);\n\tupdateStyle(props, el, css, hasStyle);\n\tupdateEvent(props, el, emit);\n\treturn el;\n}\n","export default function nextFrame(f: () => void): void {\n\twindow.requestAnimationFrame(f);\n}\n","import Neep from '@neep/core';\nimport { isValue } from '../../install/neep';\n\nexport default function getTarget(\n\trenderer: Neep.IRenderer,\n\tcontainer: Element,\n\ttarget: any,\n\tparent?: Neep.IRenderer,\n): Neep.UpdateContainerResult {\n\tif (isValue(target)){ target = target.value; }\n\tif (target === null) {\n\t\treturn {\n\t\t\ttarget: container as any,\n\t\t\tinsert: null,\n\t\t\tnext: null,\n\t\t};\n\t }\n\tif (typeof target === 'string') {\n\t\ttarget = document.querySelector(target);\n\t}\n\tif (target instanceof Element) {\n\t\treturn {\n\t\t\ttarget,\n\t\t\tinsert: null,\n\t\t\tnext: null,\n\t\t} as any;\n\t}\n\treturn {\n\t\ttarget: null,\n\t\tinsert: null,\n\t\tnext: null,\n\t};\n\n}\n","import Neep from '@neep/core';\nimport getTarget from './getTarget';\nimport updateProps from '../updateProps';\nimport createElement from '../createElement';\n\nexport default function mountContainer(\n\trenderer: Neep.IRenderer,\n\telement: Neep.Node,\n\t{target: targetProps, ...props}: Record<string, any>,\n\temit: Neep.Emit<Record<string, any>>,\n\tparent?: Neep.IRenderer,\n): Neep.MountContainerResult {\n\tconst container = createElement('div') as any;\n\tupdateProps(renderer, container, element?.props || props, emit);\n\treturn {\n\t\t...getTarget(renderer, container, targetProps, parent),\n\t\tcontainer,\n\t\texposed: null,\n\t};\n}\n","import Neep from '@neep/core';\n\nexport default function unmountContainer(\n\trenderer: Neep.IRenderer,\n\tcontainer: Element,\n\tnode: Neep.NativeNode | undefined | null,\n): void {\n\tif (node === null) {\n\t\t(container as any as Element).remove();\n\t}\n}\n","import Neep from '@neep/core';\nimport update from '../updateProps';\nimport getTarget from './getTarget';\n\nexport default function updateContainer(\n\trenderer: Neep.IRenderer,\n\tcontainer: Element,\n\telement: Neep.Node,\n\t{target, ...props}: Record<string, any>,\n\temit: Neep.Emit<Record<string, any>>,\n\tparent?: Neep.IRenderer,\n): Neep.UpdateContainerResult {\n\tupdate(renderer, container, element?.props || props, emit);\n\treturn getTarget(renderer, container, target, parent);\n}\n","import Neep from '@neep/core';\n\nexport default function removeNode(\n\trenderer: Neep.IRenderer,\n\tnode: Node,\n): void {\n\tconst p = renderer.getParent(node as any) as any;\n\tif (!p) { return; }\n\tp.removeChild(node);\n}\n","import Neep from '@neep/core';\n\nexport default function getContainer(\n\trenderer: Neep.IRenderer,\n\tcontainer: Element,\n\ttarget: any,\n\tnext: any,\n): [Element | null, Element | null] {\n\tif (typeof target === 'string') {\n\t\ttarget = document.querySelector(target);\n\t}\n\tif (target === null) { return [null, null]; }\n\tif (!(target instanceof Element)) {\n\t\ttarget = document.body;\n\t}\n\tif (typeof next === 'string') {\n\t\tnext = document.querySelector(next);\n\t}\n\tif (!(next instanceof Element) || next.parentElement !== target) {\n\t\tnext = null;\n\t}\n\treturn [target, next];\n}\n","import Neep from '@neep/core';\nimport createComponent from './createComponent';\nimport createElement from './createElement';\nimport createPlaceholder from './createPlaceholder';\nimport createText from './createText';\nimport getParent from './getParent';\nimport insertNode from './insertNode';\nimport updateProps from './updateProps';\nimport nextFrame from './nextFrame';\nimport mountContainer from './container/mountContainer';\nimport unmountContainer from './container/unmountContainer';\nimport updateContainer from './container/updateContainer';\nimport removeNode from './removeNode';\nimport getContainer from './container/getContainer';\n\nconst renderer: Neep.IRenderer = {\n\ttype: 'html',\n\tnextFrame,\n\tisNode(v): v is Neep.NativeNode {\n\t\treturn v instanceof Node;\n\t},\n\tgetContainer(container, target, next) {\n\t\treturn getContainer(this, container as any, target, next) as any;\n\t},\n\tmountContainer(data, props, emit, parent) {\n\t\treturn mountContainer(this, data, props, emit, parent) as any;\n\t},\n\tupdateContainer(container, target, insert, next, data, props, emit, parent) {\n\t\treturn updateContainer(this, container as any, data, props, emit, parent) as any;\n\t},\n\trecoveryContainer() {},\n\tunmountContainer(container, data, props, parent) {\n\t\treturn unmountContainer(this, container as any, data);\n\t},\n\tgetMountOptions(){},\n\n\tcreateElement(data) {\n\t\tif (!data || typeof data !== 'string') { return null;  }\n\t\treturn createElement(data) as any;\n\t},\n\tcreateText(text: string): Neep.NativeTextNode {\n\t\treturn createText(text) as any;\n\t},\n\tcreatePlaceholder(): Neep.NativePlaceholderNode {\n\t\treturn createPlaceholder() as any;\n\t},\n\tcreateComponent(): [Neep.NativeComponentNode, Neep.NativeShadowNode] {\n\t\treturn createComponent(this) as any;\n\t},\n\n\tgetParent(node: Neep.NativeNode): Neep.NativeContainerNode | null {\n\t\treturn getParent(node as any) as Neep.NativeContainerNode | null;\n\t},\n\tnextNode(node: Neep.NativeNode): Neep.NativeNode | null {\n\t\treturn (node as any).nextSibling as Neep.NativeContainerNode | null;\n\t},\n\tupdateProps(node, data, props, emit) {\n\t\tupdateProps(this, node as any, props, emit);\n\t},\n\tinsertNode(\n\t\tparent: Neep.NativeContainerNode,\n\t\tnode: Neep.NativeNode,\n\t\tnext: Neep.NativeNode | null = null,\n\t): void {\n\t\treturn insertNode(parent as any, node as any, next as any);\n\t},\n\tremoveNode(node: Neep.NativeNode): void {\n\t\treturn removeNode(this, node as any);\n\t},\n};\n\nexport default renderer;\n","import Neep from '@neep/core';\nimport {\n\tcreateContainerComponent,\n\tcreateElement,\n} from '../install/neep';\nimport renderer from '../renderer';\n\nexport declare namespace Container {\n\texport interface Props {\n\t\ttarget?: string | HTMLElement,\n\t}\n}\nexport let Container: Neep.ContainerComponent<Container.Props>;\n\nexport default function initContainer(): void {\n\tContainer = createContainerComponent(\n\t\tcreateElement(''),\n\t\t{ renderer, name: '[HTML]' },\n\t);\n}\n","import initContainer from '../init/Container';\n\nexport default function init(): void {\n\tinitContainer();\n}\n","import renderer from '../renderer';\nimport installNeep from './neep';\nimport init from './init';\n\nexport default function install(\n\tNeep: typeof import('@neep/core').default,\n): void {\n}\ninstallNeep(renderer);\ninit();\n","import Neep from '@neep/core';\n\nexport interface Options {\n\tvalue?: boolean;\n\ttag?: boolean;\n\tplaceholder?: boolean;\n\tsimple?: boolean;\n\tcontainer?: boolean;\n\tscopeSlot?: boolean;\n\tslotRender?: boolean;\n\tdeliver?: boolean;\n\tnative?: boolean;\n\tgroup?: boolean;\n\tshell?: boolean;\n}\nexport interface SelectedNode {\n\n}\nexport enum Type {\n\ttag = 'tag',\n\tplaceholder = 'placeholder',\n\tstandard = 'standard',\n\tsimple = 'simple',\n\tnative = 'native',\n\tcontainer = 'container',\n\tspecial = 'special',\n\tdeliver = 'deliver',\n}\nexport interface VTreeNode {\n\ttagId: number;\n\ttype: Type;\n\ttag: string;\n\t/** 子节点 */\n\tchildren: VTreeNode[];\n\tprops?: { [key: string]: any; };\n\t/** 列表对比 key */\n\tkey?: any;\n\t/** 标注 */\n\tlabels: Neep.Label[];\n\tparent: number;\n\tvalue?: string;\n\tisNative?: boolean;\n}\n\ndeclare namespace Container {\n\texport interface Props {\n\t\toptions: Options;\n\t}\n}\ntype Container =\n\t| Neep.ShellComponent<Container.Props, any>\n\t| Neep.StandardComponent<Container.Props, any, any>\n\nexport { Container };\n","import { install as NeepInstall } from '@neep/core';\n\nexport {\n\tnameSymbol,\n\n\trender,\n\tcreateElementBase,\n\tcreateRenderElement,\n\tcreateTemplateElement,\n\tisValue,\n\tencase,\n\tasValue,\n\n\tSlot,\n\tContainer,\n\tFragment,\n\tRender,\n\tScopeSlot,\n\n\tvalue,\n\tcomputed,\n\tgetNode,\n\n\tisDeliverComponent,\n\tisNativeComponent,\n\tisSimpleComponent,\n\tisContainerComponent,\n\n\tisProxy,\n} from '@neep/core';\n\nexport default function install() {\n\treturn NeepInstall;\n}\n","import Neep from '@neep/core';\nimport { value } from './install/neep';\nimport { Options } from './types';\n\nexport const Deliver = Neep.createDeliverComponent<Deliver>({\n\tkeys: {},\n\tselected: value(-1),\n\toptions: {},\n});\n\nexport interface Deliver {\n\tkeys: Record<number, boolean>\n\tselected: Neep.Value<number>\n\toptions: Options\n}\n","import Neep from '@neep/core';\nimport { createElementBase, Slot, createTemplateElement } from '../../install/neep';\nimport { getKey, getChildTree } from './utils';\n\ninterface Props {\n\tkey: any,\n\t// labels: Label[],\n\topened?: boolean,\n\tsetSelected(): void,\n\tselected?: boolean,\n\tproxy: Neep.BaseProxy<any>,\n\tswitchOpen(): void;\n}\n\nexport default function NodeTag({\n\tproxy,\n\tkey, switchOpen, opened, setSelected, selected,\n}: Props): Neep.Node {\n\tconst childNodes = opened ? getChildTree(proxy) : [];\n\tconst hasChildNodes = Boolean(opened && childNodes.length);\n\treturn createElementBase(\n\t\t'div',\n\t\t{\n\t\t\tstyle: `\n\t\t\tposition: relative;\n\t\t\tmin-height: 20px;\n\t\t\tfont-size: 14px;\n\t\t\tline-height: 20px;\n\t\t\tpadding-left: 20px;\n\t\t\tbackground: ${selected ? '#CCC' : ''};\n\t\t`,\n\t\t},\n\t\tcreateElementBase('div', {\n\t\t\tstyle: `\n\t\t\tposition: absolute;\n\t\t\tleft: 0;\n\t\t\ttop: 0;\n\t\t\twidth: 20px;\n\t\t\theight: 20px;\n\t\t\ttext-align: center;\n\t\t\tcursor: pointer;\n\t\t\tbackground: #DDD;\n\t\t\t`,\n\t\t\t'on:click': switchOpen,\n\t\t}, opened ? '-' : '+'),\n\t\tcreateElementBase(\n\t\t\t'div',\n\t\t\t{'on:click': setSelected},\n\t\t\t'<',\n\t\t\tcreateElementBase(Slot),\n\t\t\tgetKey(key),\n\t\t\t'>',\n\t\t\t!hasChildNodes && createTemplateElement(\n\t\t\t\topened ? createElementBase('span') : createElementBase('span', null, '...'),\n\t\t\t\t'</',\n\t\t\t\tcreateElementBase(Slot),\n\t\t\t\t'>'\n\t\t\t\t)\n\t\t\t),\n\t\t\thasChildNodes && createTemplateElement(\n\t\t\t\tcreateElementBase('div', {style: 'padding-left: 20px'}, childNodes),\n\t\t\t\tcreateElementBase('div', {'on-click': setSelected}, '</', createElementBase(Slot), '>')\n\t\t\t)\n\t);\n}\n","import Neep from '@neep/core';\nimport { createElementBase, createTemplateElement } from '../../install/neep';\nimport { getChildTree } from './utils';\n\ninterface Props {\n\t// labels: Label[],\n\topened?: boolean,\n\tsetSelected(): void,\n\tselected?: boolean,\n\tproxy: Neep.ValueProxy,\n\tswitchOpen(): void;\n}\n\nexport default function ValueTag({\n\tproxy, switchOpen, opened, setSelected, selected,\n}: Props): Neep.Node {\n\tconst { text } = proxy;\n\tconst childNodes = opened ? typeof text === 'string' ? [text] : getChildTree(proxy) : [];\n\tconst hasChildNodes = Boolean(opened && childNodes.length);\n\treturn createElementBase(\n\t\t'div',\n\t\t{\n\t\t\tstyle: `\n\t\t\t\tposition: relative;\n\t\t\t\tmin-height: 20px;\n\t\t\t\tfont-size: 14px;\n\t\t\t\tline-height: 20px;\n\t\t\t\tpadding-left: 20px;\n\t\t\t\tbackground: ${selected ? '#CCC' : ''};\n\t\t\t`,\n\t\t},\n\t\tcreateElementBase('div', {\n\t\t\tstyle: 'position: absolute; left: 0; top: 0; width: 20px; height: 20px; text-align: center; cursor: pointer; background: #DDD;',\n\t\t\t'on:click': switchOpen,\n\t\t}, opened ? '-' : '+'),\n\t\tcreateElementBase(\n\t\t\t'div',\n\t\t\t{'on:click': setSelected },\n\t\t\tcreateElementBase('span', { style: 'font-style: italic;font-weight: bold;' }, '[Value]'),\n\t\t\t!hasChildNodes && createTemplateElement(\n\t\t\t\topened ? createElementBase('span') : createElementBase('span', null, '...'),\n\t\t\t\tcreateElementBase('span', { style: 'font-style: italic;font-weight: bold;' }, '[/Value]')\n\t\t\t)\n\t\t),\n\t\thasChildNodes && createTemplateElement(\n\t\t\tcreateElementBase('div', { style: 'padding-left: 20px' }, childNodes),\n\t\t\tcreateElementBase('div', { 'on:click': setSelected, style: 'font-style: italic; font-weight: bold;' }, '[/Value]')\n\t\t)\n\t);\n}\n","import Neep from '@neep/core';\nimport {\n\tcreateElementBase,\n\tcreateTemplateElement,\n\tisContainerComponent,\n\tisProxy,\n\tgetNode,\n\tisSimpleComponent,\n\tRender,\n} from '../../install/neep';\nimport { Deliver } from '../../deliver';\nimport { getKey, getChildTree, getTagName } from './utils';\nimport NodeTag  from './NodeTag';\nimport { Options } from '../../types';\nimport ValueTag from './ValueTag';\n\ninterface Props {\n\ttagId: number;\n}\n\ninterface Item {\n\tkeys: Record<number, boolean>;\n\ttagId: number;\n\tselected: Neep.Value<number>;\n\tsetSelected(): void;\n\tswitchOpen(): void;\n\toptions: Options;\n}\nfunction getType(proxy: Neep.BaseProxy<any>): keyof Options | '' | null {\n\tif (isProxy(proxy, 'component')) { return ''; }\n\tif (isProxy(proxy, 'container')) { return 'container'; }\n\tif (isProxy(proxy, 'deliver')) { return 'deliver'; }\n\tif (isProxy(proxy, 'element')) { return 'native'; }\n\tif (isProxy(proxy, 'shell')) { return 'shell'; }\n\tif (isProxy(proxy, 'slot')) { return 'scopeSlot'; }\n\tif (isSimpleComponent(proxy.tag)) { return 'simple'; }\n\tif (isProxy(proxy, 'group')) { return 'group'; }\n\treturn null;\n}\nconst render = Neep.createRenderComponent<Item, any, any>(({\n\ttagId, keys, selected, setSelected, switchOpen, options,\n}) => {\n\tconst el = getNode(tagId);\n\tif (!el) { return null; }\n\tconst selectedThis = selected.value === tagId;\n\tif (!el.proxy && !el.tag) {\n\t\tif (!options.placeholder) { return null; }\n\t\treturn createElementBase('span', {\n\t\t\t'on:click': setSelected,\n\t\t\tstyle: `font-weight: bold; background: ${selectedThis ? '#CCC' : ''};`,\n\t\t  }, '[', el.tag === null ? 'Placeholder' : 'Native', ']');\n\t}\n\tconst {proxy, tag} = el;\n\tif (tag === Render) {\n\t\tif (!options.slotRender) {\n\t\t\treturn null;\n\t\t}\n\t\treturn createElementBase(\n\t\t\t'div',\n\t\t\t{\n\t\t\t\t'on:click': setSelected,\n\t\t\t\tkey: tagId,\n\t\t\t\tstyle: `\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tmin-height: 20px;\n\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\tline-height: 20px;\n\t\t\t\t\tbackground: ${selectedThis ? '#CCC' : ''};\n\t\t\t\t`,\n\t\t\t},\n\t\t\t'<',\n\t\t\tcreateElementBase('span', { style: 'font-style: italic;' }, 'Render'),\n\t\t\tgetKey(el.key),\n\t\t\t'/>'\n\t\t);\n\t}\n\tif (isProxy(proxy, 'value')) {\n\t\tif (!proxy.isValue) {\n\t\t\tconst { text } = proxy;\n\t\t\tif (typeof text !== 'string') {\n\t\t\t\treturn createTemplateElement(getChildTree(proxy));\n\t\t\t}\n\t\t\tif (!options.value) { return null; }\n\t\t\treturn createTemplateElement(text);\n\t\t}\n\t\tif (!options.value) {\n\t\t\tif (typeof proxy.text === 'string') { return null; }\n\t\t\treturn createTemplateElement(getChildTree(proxy));\n\t\t}\n\t\t// TODO: 值\n\t\treturn createElementBase(ValueTag, {\n\t\t\topened: keys[tagId],\n\t\t\tselected: selectedThis,\n\t\t\tsetSelected: setSelected,\n\t\t\tproxy: proxy,\n\t\t\tswitchOpen: switchOpen,\n\t\t  });\n\t}\n\n\tconst type = getType(proxy);\n\tif (type === null) { return null; }\n\tif (type && !options[type]) {\n\t\treturn createTemplateElement(getChildTree(proxy));\n\t}\n\tlet tagName: null | Neep.Element | string = null;\n\tswitch (type) {\n\tcase '':\n\t\ttagName = createElementBase('span', { style: 'font-weight: bold;' }, getTagName(tag));\n\t\tbreak;\n\tcase 'container':\n\t\tif (isContainerComponent(tag)) {\n\t\t\ttagName = createElementBase('span', { style: 'font-style: italic;font-weight: bold;' }, getTagName(tag));\n\t\t} else {\n\t\t\ttagName = createElementBase('span', { style: 'font-style: italic;' }, 'Container');\n\t\t}\n\t\tbreak;\n\tcase 'deliver':\n\t\ttagName = createElementBase('span', { style: 'font-style: italic;' }, 'Deliver');\n\t\tbreak;\n\tcase 'scopeSlot':\n\t\ttagName = createElementBase('span', { style: 'font-style: italic;' }, 'ScopeSlot');\n\t\tbreak;\n\tcase 'group':\n\t\ttagName = createElementBase('span', { style: 'font-style: italic;' }, 'Template');\n\t\tbreak;\n\tcase 'native':\n\t\ttagName = getTagName(tag);\n\t\tbreak;\n\tcase 'shell':\n\t\ttagName = createElementBase('span', { style: 'text-decoration: underline;font-weight: bold;' }, getTagName(tag));\n\t\tbreak;\n\t\n\tcase 'simple':\n\t\ttagName = createElementBase('span', { style: 'text-decoration: line-through;font-weight: bold;' }, getTagName(tag));\n\t\tbreak;\n\t}\n\treturn createElementBase(NodeTag, {\n\t\tkey: el.key,\n\t\topened: keys[tagId],\n\t\tselected: selectedThis,\n\t\tsetSelected: setSelected,\n\t\tproxy: proxy,\n\t\tswitchOpen: switchOpen,\n\t}, tagName);\n});\nexport function TreeNode({ tagId }: Props): Neep.Node {\n\tconst {keys, selected, options} = Neep.withDelivered(Deliver);\n\tfunction setSelected() {\n\t\tselected.value = selected.value === tagId ? -1 : tagId;\n\t}\n\tfunction switchOpen() {\n\t\tkeys[tagId] = !keys[tagId];\n\t}\n\treturn render({keys, selected, tagId, setSelected, switchOpen, options});\n}\n","import { createElementBase, nameSymbol, isDeliverComponent } from '../../install/neep';\nimport Neep from '@neep/core';\nimport { TreeNode } from './TreeNode';\n\nexport function getKey(key: any) {\n\tif (typeof key === 'string') { return ` key=${JSON.stringify(key)}`; }\n\tif (typeof key === 'number') { return ` key=${key}`; }\n\tif (typeof key === 'boolean') { return ` key=${key}`; }\n\tif (typeof key === 'bigint') { return ` key=${key}`; }\n\tif (typeof key === 'symbol') { return ` key=${String(key)}`; }\n\tif (key === null) { return ` key=${key}`; }\n\tif (key !== undefined) { return ` key=${String(key)}`; }\n}\n\nexport function getLabels(labels: Neep.Label[]) {\n\treturn labels.map(({text, color}) => createElementBase('span', { style: `color: ${color || '#000'}` }, text));\n}\n\nexport function getChildTree(proxy: Neep.BaseProxy<any>) {\n\tconst childNodes = (proxy.content.flat(Infinity) as Neep.MountedNode[])\n\t\t.map(t => createElementBase(TreeNode, { 'n:key': t.id, tagId: t.id }));\n\treturn childNodes;\n}\n\nexport function getTagName(tag?: Neep.Tag<any>) {\n\tif (!tag) { return ''; }\n\tif (typeof tag === 'string') { return tag; }\n\tif (isDeliverComponent(tag)) { return 'Deliver'; }\n\treturn tag[nameSymbol] || tag.name;\n}\n","import Neep from '@neep/core';\nimport { createElementBase, encase, createRenderElement } from '../../install/neep';\nimport { Options } from '../../types';\nimport { Deliver } from '../../deliver';\nimport { getChildTree } from './utils';\n\nexport interface TreeProps {\n\toptions: Options;\n\tselected: Neep.Value<number>;\n\tcontainer: Neep.ContainerProxy<any>;\n}\nexport default (props: TreeProps) => {\n\tconst value: Deliver = {\n\t\tkeys: encase<{[key: number]: boolean}>({}),\n\t\toptions: props.options, selected: props.selected,\n\t};\n\t\n\treturn createRenderElement(() => createElementBase(Deliver, {\n\t\tvalue: value,\n\t}, getChildTree(props.container)));\n};\n","import Neep from '@neep/core';\nimport { createElementBase } from '../install/neep';\n\n\nexport function getKeyValue(key: any) {\n\tif (typeof key === 'string') { return JSON.stringify(key); }\n\tif (typeof key === 'number') { return `${key}`; }\n\tif (typeof key === 'boolean') { return `${key}`; }\n\tif (typeof key === 'bigint') { return `${key}`; }\n\tif (typeof key === 'symbol') { return `${String(key)}`; }\n\tif (key === null) { return `${key}`; }\n\tif (key !== undefined) { return `${String(key)}`; }\n}\n\nexport function getValue(\n\tvalue: any,\n): Neep.Node {\n\tconst type = typeof value;\n\n\tif (type === 'function') {\n\t\treturn createElementBase('span', {style: 'font-weight: bold;'}, '[Function]');\n\t}\n\n\tif (type === 'string') {\n\t\treturn createElementBase('span', null, value);\n\t}\n\n\tif (\n\t\ttype === 'bigint'\n\t\t|| type === 'boolean'\n\t\t|| type === 'number'\n\t\t|| type === 'symbol'\n\t\t|| type === 'undefined'\n\t\t|| value === null\n\t) {\n\t\treturn createElementBase('span', {style: 'font-style: italic;'}, String(value));\n\t} else if (value instanceof RegExp) {\n\t\treturn createElementBase('span', {style: 'font-weight: bold;'}, String(value));\n\t} else if (value instanceof Date) {\n\t\treturn createElementBase('span', {style: 'font-weight: bold;'}, value.toISOString());\n\t} else if (type === 'object') {\n\t\treturn createElementBase('span', {style: 'font-style: italic;'}, String(value));\n\t}\n\treturn null;\n}\n","import { createElementBase, isValue } from '../../install/neep';\nimport { getValue } from '../utils';\n\n\nexport interface AttrProps {\n\tprops: Record<string, any>;\n\tkey: string;\n}\nexport default function ({props, key}: AttrProps) {\n\tlet p = props[key];\n\tlet propIsValue = false;\n\tif (isValue(p)) {\n\t\tpropIsValue = true;\n\t\tp = p();\n\t}\n\treturn createElementBase('div', null,\n\t\tkey, ': ',\n\t\tpropIsValue && createElementBase('span', {style: 'font-weight: bold;'}, '[Value: '),\n\t\tgetValue(p),\n\t\tpropIsValue && createElementBase('span', {style: 'font-weight: bold;'}, ' ]')\n\t);\n}\n","import Neep from '@neep/core';\nimport { createElementBase, getNode } from '../../install/neep';\nimport { getKeyValue } from '../utils';\nimport Prop from './Prop';\n\n\nexport interface AttrProps {\n\tselected: Neep.Value<number>;\n}\nexport default function Attr({selected}: AttrProps) {\n\tconst element = getNode(selected.value);\n\tif (!element) { return createElementBase('temlpate'); }\n\tconst {props = {}} = element as any;\n\treturn createElementBase('div', null, \n\t\tcreateElementBase('div', null, 'key:', getKeyValue(element.key)),\n\t\tcreateElementBase('div', null, '属性: '),\n\t\tObject.keys(props).map(k => createElementBase(\n\t\t\tProp, { 'n:key': k, 'key': k, props}\n\t\t))\n\t);\n}\n","import { createElementBase, asValue } from '../../install/neep';\nimport { Options } from '../../types';\n\n\nexport interface SettingsProps {\n\toptions: Options;\n}\nexport default function (props: SettingsProps) {\n\tconst options = asValue(props.options);\n\tconst value = options('value');\n\tconst tag = options('tag');\n\tconst placeholder = options('placeholder');\n\tconst simple = options('simple');\n\tconst container = options('container');\n\tconst scopeSlot = options('scopeSlot');\n\tconst slotRender = options('slotRender');\n\tconst deliver = options('deliver');\n\tconst native = options('native');\n\tconst group = options('group');\n\tconst shell = options('shell');\n\treturn createElementBase('div', null,\n\t\tcreateElementBase('label', null, createElementBase('input', { type: 'checkbox', checked: value }), 'value'),\n\t\tcreateElementBase('label', null, createElementBase('input', { type: 'checkbox', checked: tag }), 'tag'),\n\t\tcreateElementBase('label', null, createElementBase('input', { type: 'checkbox', checked: placeholder }), 'placeholder'),\n\t\tcreateElementBase('label', null, createElementBase('input', { type: 'checkbox', checked: simple }), 'simple'),\n\t\tcreateElementBase('label', null, createElementBase('input', { type: 'checkbox', checked: container }), 'container'),\n\t\tcreateElementBase('label', null, createElementBase('input', { type: 'checkbox', checked: scopeSlot }), 'scopeSlot'),\n\t\tcreateElementBase('label', null, createElementBase('input', { type: 'checkbox', checked: slotRender }), 'slotRender'),\n\t\tcreateElementBase('label', null, createElementBase('input', { type: 'checkbox', checked: deliver }), 'deliver'),\n\t\tcreateElementBase('label', null, createElementBase('input', { type: 'checkbox', checked: native }), 'native'),\n\t\tcreateElementBase('label', null, createElementBase('input', { type: 'checkbox', checked: group }), 'group'),\n\t\tcreateElementBase('label', null, createElementBase('input', { type: 'checkbox', checked: shell }), 'shell')\n\t);\n}\n","import Neep from '@neep/core';\nimport { createElementBase, Slot } from './install/neep';\nimport { Container } from './types';\n\nfunction DefaultContainer(props: Container.Props) {\n\treturn createElementBase('template', null, createElementBase(Slot, {\n\t\tname: 'settings',\n\t}), createElementBase(Slot, {\n\t\tname: 'tree',\n\t}), createElementBase(Slot, {\n\t\tname: 'attr',\n\t}));\n}\n\nexport let currentContainer: Container = DefaultContainer;\n\nexport function setContainer(container?: Container) {\n\tcurrentContainer = typeof container === 'function'\n\t\t? container\n\t\t: DefaultContainer;\n}\n","import Neep from '@neep/core';\nimport { render, createElementBase, encase, value } from '../install/neep';\nimport { Tree, Attr, Settings } from '../Panel';\nimport { Options } from '../types';\nimport { currentContainer } from '../container';\n\nlet creating = false;\n\n\nexport default function renderHook(\n\trootEntity: Neep.RootEntity<any>,\n\tcontainer: Neep.ContainerProxy<any>,\n) {\n\tif (creating) { return; }\n\trootEntity.setHook('mounted', () => {\n\t\tcreating = true;\n\t\ttry {\n\t\t\tconst options: Options = encase({});\n\t\t\tconst selected = value(-1);\n\t\t\trender(createElementBase(\n\t\t\t\tcurrentContainer,\n\t\t\t\t{options},\n\t\t\t\tcreateElementBase(Tree, { 'n:slot': 'tree', container, options, selected }),\n\t\t\t\tcreateElementBase(Settings, { 'n:slot': 'settings', options }),\n\t\t\t\tcreateElementBase(Attr, { 'n:slot': 'attr', selected})\n\t\t\t)).mount();\n\t\t} finally {\n\t\t\tcreating = false;\n\t\t}\n\t});\n}\n","import Neep from '@neep/core';\nimport renderHook from './renderHook';\n\nconst devtools: Neep.Devtools = {\n\trenderHook,\n};\n\nexport default devtools;\n","import devtools from '../devtools';\nimport installNeep from './neep';\ninstallNeep()({ devtools });\nexport default function install(Neep: typeof import('@neep/core').default) {\n}\n","import Neep from '@neep/core';\nimport { createDeliverComponent } from './neep';\nimport Insertable from '../Insertable';\n\nexport let InsertableDeliver: Neep.DeliverComponent<Insertable | undefined>;\n\nexport default function initDelivers() {\n\tInsertableDeliver = createDeliverComponent<Insertable>();\n}\n","import { createWith, withDelivered } from './neep';\nimport { InsertableDeliver } from './initDelivers';\nimport Insertable from '../Insertable';\n\n\nexport let withInsertable: (() => Insertable | undefined);\nexport default function initWith() {\n\twithInsertable = createWith({\n\t\tname: 'withInsertable',\n\t\tcreate() {\n\t\t\treturn withDelivered(InsertableDeliver);\n\t\t},\n\t});\n}\n","import Insertable from './Insertable';\nimport Neep from '@neep/core';\nimport {\n\tcreateElement,\n\tcreateTemplateElement,\n\tcreateShellComponent,\n} from './install/neep';\nimport { InsertableDeliver } from './install/initDelivers';\nimport { withInsertable } from './install';\n\nexport function InsertViewFn(\n\tprops: InsertView.Props,\n\t{ childNodes }: Neep.ShellContext<any>\n): Neep.Node {\n\tconst { name } = props;\n\tif (typeof name !== 'string') {\n\t\tconst { insertable } = props;\n\t\tif (insertable instanceof Insertable) {\n\t\t\treturn createElement(InsertableDeliver, {\n\t\t\t\tvalue: insertable,\n\t\t\t}, ...childNodes());\n\t\t}\n\t\treturn createTemplateElement(childNodes());\n\t}\n\tconst { insertable } = props;\n\tif (insertable instanceof Insertable) {\n\t\tconst list = insertable.get(name);\n\t\tif (!list) { return null; }\n\t\treturn createElement(InsertableDeliver, {\n\t\t\tvalue: insertable,\n\t\t}, list.map(t => createElement(t.component, props, ...childNodes())));\n\t}\n\tconst contextInsertable = withInsertable();\n\tif (!contextInsertable) {\n\t\treturn createTemplateElement(childNodes);\n\t}\n\tconst list = contextInsertable.get(name);\n\tif (!list) { return null; }\n\treturn createTemplateElement(list.map(t => createElement(t.component, props, ...childNodes())));\n}\ndeclare namespace InsertView {\n\texport interface Props {\n\t\tname?: string;\n\t\tinsertable?: Insertable;\n\t\t[key: string]: any;\n\t}\n\n}\nlet InsertView: Neep.ShellComponent<InsertView.Props, any>;\nexport function initComponents() {\n\tInsertView = createShellComponent<any, any>(InsertViewFn, { name: 'InsertView'});\n}\nexport {\n\tInsertView as default,\n};\n","import InsertView from '../InsertView';\nimport { register } from './neep';\n\nexport default function installComponents() {\n\tregister('InsertView', InsertView);\n\tregister('insert-view', InsertView);\n}\n","import initWith from './initWith';\nimport installComponents from './installComponents';\nimport initDelivers from './initDelivers';\nimport { initComponents } from '../InsertView';\n\nexport default [\n\tinitDelivers,\n\tinitComponents,\n\tinstallComponents,\n\tinitWith,\n];\n","import moduleList from './moduleList';\n\nexport default function install(Neep: typeof import ('@neep/core')) {\n}\nfor (const f of moduleList) {\n\tf();\n}\n","export const version: string = '__VERSION__';\n","import Neep from '@neep/core';\nimport install from './install';\nimport { encase, createShellComponent } from './install/neep';\nimport InsertView, { InsertViewFn } from './InsertView';\nimport { version } from './constants';\n\nexport type InsertableComponent = string | Neep.Component<any>;\nexport interface Info {\n\tcomponent: InsertableComponent;\n\torder?: number;\n}\nexport type Item = [InsertableComponent, Info];\n\nclass Insertable {\n\treadonly parent?: Insertable;\n\tprivate _groups: {[key: string]: Readonly<Info>[]} = encase(Object.create(null));\n\tconstructor(parent?: Insertable) {\n\t\tif (parent instanceof Insertable) {\n\t\t\tthis.parent = parent;\n\t\t}\n\t}\n\tadd(\n\t\tname: string,\n\t\tcomponents: InsertableComponent | InsertableComponent[],\n\t\tinfo: Omit<Info, 'component'> | number = {},\n\t) {\n\t\tif (typeof info === 'number') { info = { order: info }; }\n\t\tconst groups = this._groups;\n\t\tif (!Array.isArray(components)) { components = [components]; }\n\t\tconst list = groups[name] ? [...groups[name]] : [];\n\t\tlist.push(...components.map(component => Object.freeze({\n\t\t\t...info as Omit<Info, 'component'>,\n\t\t\tcomponent,\n\t\t}) as Info));\n\t\tlist.sort(({order: a}, {order: b}) => (a || 0) - (b || 0));\n\t\tgroups[name] = list;\n\t}\n\tremove(name: string): void;\n\tremove(\n\t\tname: string,\n\t\tcomponent?: InsertableComponent,\n\t): void {\n\t\tconst groups = this._groups;\n\t\tconst oldList = groups[name];\n\t\tif (!oldList) { return; }\n\t\tif (!component) {\n\t\t\tgroups[name] = [];\n\t\t\treturn;\n\t\t}\n\t\tconst k = oldList.findIndex((t) => t.component === component);\n\t\tif (k < 0) { return; }\n\t\tconst list = [...oldList.slice(0, k), ...oldList.slice(k + 1)];\n\t\tgroups[name] = list;\n\t}\n\tset(\n\t\tname: string,\n\t\tcomponents: InsertableComponent | InsertableComponent[],\n\t\tinfo: Omit<Info, 'component'> | number = {},\n\t) {\n\t\tif (typeof info === 'number') { info = { order: info }; }\n\t\tconst groups = this._groups;\n\t\tif (!Array.isArray(components)) { components = [components]; }\n\t\tconst list = components.map(component => Object.freeze({\n\t\t\t...info as Omit<Info, 'component'>,\n\t\t\tcomponent,\n\t\t}) as Info);\n\t\tgroups[name] = list;\n\t}\n\tget(name: string, parent?: boolean | number): Readonly<Info>[] {\n\t\tconst groups = this._groups;\n\t\tconst list = groups[name] || [];\n\t\tif (!parent || !this.parent) { return [...list]; }\n\t\tconst parentList = this.parent.get(\n\t\t\tname,\n\t\t\ttypeof parent === 'number' ? parent - 1 : -1,\n\t\t);\n\t\tconst allList = [...parentList, ...list];\n\t\tif (list.length && parentList.length) {\n\t\t\tallList.sort(({order: a}, {order: b}) => (a || 0) - (b || 0));\n\t\t}\n\t\treturn allList;\n\t}\n\tget view() {\n\t\tconst view = createShellComponent<InsertView.Props, any>(\n\t\t\t(props, ...p) => InsertViewFn({...props, insertable: this}, ...p),\n\t\t\t{name: 'Insertable'},\n\t\t);\n\t\tReflect.defineProperty(this, 'view', {\n\t\t\tvalue: view,\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t});\n\t\treturn view;\n\t}\n\tstatic get install() { return install; };\n\tstatic get View() { return InsertView; };\n\tstatic get version() { return version; };\n}\nexport default Insertable;\n","import Neep from '@neep/core';\nimport Insertable from '@neep/insertable';\n// 1. 定义组件。\n// 可以从其他文件 import 进来\nconst Com1 = Neep.createComponent((props: any, {emit}) =>\n<div on-click={() => emit('click', '666')}>\n\t{props.customAttribute}组件1\n</div>, {name: 'Com1'});\nconst Com2 = Neep.createComponent(() => <div>组件2</div>, {name: 'Com2'});\nconst Com3 = Neep.createComponent(() => <div>组件3</div>, {name: 'Com3'});\n\n// 2. 创建 insertable 实例\nconst insertable = new Insertable();\n\n// 3. 添加组件\ninsertable.add('insert1', Com1);\ninsertable.add('insert1', Com2);\n// 同一组件组件在同一名称下注册多次，将会被渲染多次\ninsertable.add('insert1', Com1);\n\ninsertable.add('insert2', Com3);\ninsertable.add('insert2', Com2);\ninsertable.add('insert2', Com1);\n// 普通的 html 标签也支持\ninsertable.add('insert2', 'div');\n\n(window as any).insertable = insertable;\n\nexport default <insertable.view>\n\t{/* 使用 insert-view 组件在插入注册的组件 */}\n\t{/* name 为注册的名称 */}\n\t{/* <insert-view /> 会渲染出指定注册名的所有组件 */}\n\t{/* <insert-view /> 会将属性及事件传递给组件 */}\n\t<Insertable.View name=\"insert1\" customAttribute=\"myValue\" />\n\t{/* 渲染结果同下： */}\n\t{/* <Com1 name=\"insert1\" customAttribute=\"myValue\" /> */}\n\t{/* <Com2 name=\"insert1\" customAttribute=\"myValue\" /> */}\n\t{/* <Com1 name=\"insert1\" customAttribute=\"myValue\" /> */}\n\t{/* 同一组件组件在同一名称下注册多次，将会被渲染多次 */}\n\n\t<hr />\n\n\t<Insertable.View name=\"insert2\" customAttribute=\"myValue\" />\n\t{/* 渲染结果同下： */}\n\t{/* <Com3 name=\"insert2\" customAttribute=\"myValue\" /> */}\n\t{/* <Com2 name=\"insert2\" customAttribute=\"myValue\" /> */}\n\t{/* <Com1 name=\"insert2\" customAttribute=\"myValue\" /> */}\n\t{/* <div name=\"insert2\" customAttribute=\"myValue\" /> */}\n\t{/* 普通的 html 标签也支持 */}\n\n\t<hr />\n\n\t{/* <insert-view /> 如果被引入多次将会被渲染多次，，即便 name 相同 */}\n\t<Insertable.View name=\"insert1\" />\n\t{/* 渲染结果同下： */}\n\t{/* <Com1 name=\"insert1\" /> */}\n\t{/* <Com2 name=\"insert1\" /> */}\n\t{/* <Com1 name=\"insert1\" /> */}\n</insertable.view>;\n","import Neep from '@neep/core';\nimport  '@neep/renderer-html';\nimport  '@neep/devtools';\nimport App from './App';\nNeep.render(App).mount();\n"],"names":["version","isProduction","process","devtools","renderHook","installDevtools","tools","NeepError","Error","constructor","message","tag","assert","v","nextFrameApi","nextFrame","fn","renderers","Object","create","getRender","type","def","default","installRender","renderer","bind","printError","info","console","error","safeify","p","e","safeCall","getIndexes","target","prop","undefined","String","getMapValue","map","key","has","get","value","set","read","markRead","indexes","propMap","Map","observeRun","options","oldRead","postpone","observe","watchList","WeakMap","execWatch","filter","watch","list","t","forEach","w","waitList","runDeferred","entries","postponeRun","f","priority","old","wait","Set","add","markChange","Boolean","watchProp","cb","disdeferable","item","removed","delete","size","run","cancelList","end","cancel","trigger","thisRead","obj","props","m","push","stop","result","resultOnly","exec","monitor","valueSignKey","isValue","x","valueOf","toString","toPrimitive","hint","Symbol","Number","createValue","recover","setValue","change","marked","length","Reflect","defineProperty","enumerable","configurable","stopList","cancelled","stopped","source","proxyValue","mark","computed","getter","setter","deferable","executable","changed","setted","valueify","k","d","s","Array","isArray","r","mixValue","ownKeys","keys","values","createAsValue","asValue","arguments","val","createObject","base","encashable","includes","getValue","encase","nest","original","nestLayer","Infinity","proxy","Proxy","receiver","modified","setPrototypeOf","proto","oldProto","getPrototypeOf","attr","desc","getOwnPropertyDescriptor","deleteProperty","deleted","__monitorable__recover__","installMonitorable","api","install","apis","monitorable","destroyFns","nextId","isInit","hookList","root","runs","hookSafe","initHook","init","useData","state","restoreHookState","isEnd","createUse","name","destroy","id","parent","shift","runList","runParent","ret","destroyUseData","data","setLabels","current","runCurrent","newContextData","entity","oldCurrent","hookState","created","runCurrentWithLabel","setLabel","oldSetLabel","checkCurrent","setHook","hook","contextData","hooks","callHook","withWatch","withHook","initOnly","rendererSymbol","for","nameSymbol","componentsSymbol","propsSymbol","componentValueSymbol","objectTypeSymbol","objectTypeSymbolElement","objectTypeSymbolDeliverComponent","objectTypeSymbolNativeComponent","objectTypeSymbolSimpleComponent","objectTypeSymbolShellComponent","objectTypeSymbolRenderComponent","objectTypeSymbolContainerComponent","objectTypeSymbolElementComponent","objectTypeSymbolRootEntity","deliverKeySymbol","deliverDefaultSymbol","isSimpleComponent","isShellComponent","isNativeComponent","isRenderComponent","isContainerComponent","isElementComponent","isDeliverComponent","withDelivered","deliver","isDeliver","delivered","withRefresh","refresh","withParent","withChildren","getChildren","withCallback","createElementBase","attrs","children","node","slot","ScopeSlot","Render","Slot","Container","Template","Fragment","createTemplateElement","isElement","equal","a","b","is","i","execed","inserted","isDefault","aprops","bprops","aKeys","bKeys","isRenderElement","toLowerCase","withLabel","label","labels","text","ids","Nodes","IdMap","createMountedNode","n","newNode","recoveryMountedNode","getNode","toElement","drawPlaceholder","createPlaceholder","createItem","mountOptions","mount","createList","it","createAll","unmount","tree","removeNode","getNodes","getFirstNode","drawReplace","newTree","oldTree","next","parentNode","getParent","insertNode","getLastNode","updateItem","index","findIndex","all","splice","updateList","newList","mountedMap","src","last","nextNode","o","updateAll","Math","min","max","draw","completeList","setCompleteList","complete","BaseProxy","originalTag","parentProxy","update","_update","__executed_destroy","_destroy","destroyed","__mountOptions","c","requestDraw","newMountOptions","_mount","mounted","__cancelDrawMonitor","__executed_unmounted","_unmount","unmounted","redraw","_redraw","NodeProxy","container","componentRoot","markDraw","delayedRefresh","objectSet","clear","asyncRefresh","delayRefresh","async","createWith","withData","isSimple","isShell","destroyContextData","createBy","by","getSlots","slots","native","nativeList","isNode","el","setSlot","setSlots","oldChildren","renderSlot","argv","render","getSlot","createSlotApi","slotApi","createEmit","emitter","omitNames","emit","cancelable","defaultPrevented","eventInfo","prevented","preventDefault","prevent","events","event","omit","names","EventEmitter","_names","eventSet","on","listener","updateInProps","oldPropsEvents","__propsEvents","oldEventNames","entName","getEvents","olfFn","cl","eventMap","__eventMap","oldEventMapNames","getEventsMap","oldEmitEvents","__propsEmitEvents","eventsFn","getEmitFn","__propsEmitEvent","oldNames","substr","createSimpleEmit","getComponents","components","getNodeArray","register","component","findComponent","test","ltag","globalComponents","args","createSimpleSlots","normalizeAuxiliaryObject","slotMap","createSimpleContextData","simpleParent","execSimple","childNodes","nodes","getSlotRenderFn","renderFn","slotRenderFnList","newFn","call","simpleSlot","slotRenderFn","slotName","normalize","isNative","getText","Date","toISOString","RegExp","ValueProxy","content","__value","__render","__nodes","convert","__needRefresh","__refreshing","needDraw","createText","DeliverProxy","__valueObject","GroupProxy","updateData","oldKeys","dataset","RefProxy","exposed","__exposed","setExposed","ref","__ref","createEntity","oldRef","ElementProxy","__elementTagData","cfg","createElement","subMountOptions","getMountOptions","updateProps","_redrawChildren","createInfo","CustomComponentProxy","_this","parentComponentProxy","parentEntity","needRefresh","__delayedRefresh","_render","_nodes","_stopRender","ShellProxy","context","l","lastSlots","SlotProxy","h","disabledKey","propsObj","newKeys","propsDefined","nativeNodes","ComponentProxy","assign","_init","expose","stopRender","_initRender","initRender","renderNode","componentsList","RenderComponentProxy","createResponsiveRender","func","slotRenderFns","normalizeRefresh","StandardComponentProxy","createComponent","_shadow","nativeTreeNountOptions","nativeTree","__nativeTreeNountOptions","recognizers","recognize","any","recognizer","res","addRecognizer","createProxy","ContainerProxy","componentTag","flat","recursive2iterable","awaitDraw","rendererDraw","baseTick","middleTick","endTick","execTickList","execList","sort","execContainerList","drawAll","execRendererDrawList","rendererDrawList","requested","request","nextTick","level","addRendererDraw","setmountedRoot","__container","getContainer","__containerData","rootContainer","setChildren","opt","parentRenderer","targetNode","insert","mountContainer","subOpt","placeholder","__placeholder","placeholderNode","__placeholderNode","__insertNode","__nextNode","__targetNode","_redrawSelf","updateContainer","recoveryContainer","opts","unmountContainer","__awaitDraw","markDrawContainer","drawContainer","__containers","containers","createContainerEntity","createRender","params","refreshObj","setObjectType","setName","setComponents","createSelfComponent","createDeliverComponent","createRenderComponent","createContainerComponent","createElementComponent","createStandardComponent","createComponentFunc","renderComponent","StandardComponent","createNativeComponent","createSimpleComponent","createShellComponent","isProxy","attrProps","useValue","createEntitySetRef","refValue","_0","_1","createExposedSetRef","oldNode","replace","createEntityRefValue","_2","createExposedRefValue","isEntity","LOADING","FAILING","COMPLETE","lazy","Placeholder","reslut","isLoad","ComponentValue","load","com","loading","createRenderElement","elements","concat","simple","isFragmentElement","isSimpleElement","withAncestor","_","depth","xmlnsMap","svg","html","mathml","SVGTags","MathMLTags","tagname","namespace","ns","document","createElementNS","attachShadow","mode","createComment","createTextNode","insertBefore","installNeep","NeepInstall","getId","PropsMap","updateId","removeAttribute","getClass","split","classes","oClasses","getAttribute","classList","setAttribute","join","updateClass","class","unit","getStyle","style","css","str","oStyle","cssText","removeProperty","setProperty","updateStyle","hasStyle","setAttrs","HTMLInputElement","checked","HTMLSelectElement","HTMLTextAreaElement","HTMLDetailsElement","open","HTMLMediaElement","muted","paused","pause","play","currentTime","num","playbackRate","volume","stringify","isOn","JSON","getAttrs","updateAttrs","getElementModel","currentTarget","indeterminate","ValueEventMap","getValueEventBind","bindMap","getEventBind","updateEvent","valueEventMap","addEventListener","removeEventListener","eventBind","CSSStyleDeclaration","window","requestAnimationFrame","getTarget","querySelector","Element","element","targetProps","remove","removeChild","body","parentElement","Node","nextSibling","initContainer","Type","Deliver","Neep","selected","NodeTag","switchOpen","opened","setSelected","getChildTree","hasChildNodes","getKey","ValueTag","getType","tagId","selectedThis","slotRender","tagName","getTagName","TreeNode","getKeyValue","propIsValue","Attr","Prop","scopeSlot","group","shell","DefaultContainer","currentContainer","creating","rootEntity","Tree","Settings","InsertableDeliver","initDelivers","withInsertable","initWith","InsertViewFn","insertable","Insertable","contextInsertable","InsertView","initComponents","installComponents","moduleList","order","groups","_groups","freeze","oldList","slice","parentList","allList","view","View","Com1","customAttribute","Com2","Com3","App"],"mappings":";;;;;CAAA;;;;;;CAMA;;;CAGO,MAAMA,OAAO,GAAG,eAAhB;CACP;;;;;CAIO,MAAMC,YAAY,GAAGC,aAAA,KAAyB,YAA9C;;CCZA,MAAMC,QAAkB,GAAG;CACjCC,EAAAA,UAAU,GAAE;;CADqB,CAA3B;AAIP,CAAe,SAASC,eAAT,CACdC,KADc,EAEP;CACP,MAAI,CAACA,KAAL,EAAY;CAAE;CAAS;;CACvB,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;CAAE;CAAS;;CAC1C,QAAM;CAAEF,IAAAA;CAAF,MAAiBE,KAAvB;;CACA,MAAI,OAAOF,UAAP,KAAsB,UAA1B,EAAsC;CACrCD,IAAAA,QAAQ,CAACC,UAAT,GAAsBA,UAAtB;CACA;CACD;;;;;;;;;;;;;;;;;CCfc,MAAMG,SAAN,SAAwBC,KAAxB,CAA8B;CAE5CC,EAAAA,WAAW,CAACC,OAAD,EAAkBC,GAAW,GAAG,EAAhC,EAAoC;CAC9C,UAAMA,GAAG,GAAI,IAAIA,GAAK,KAAKD,OAAS,EAA3B,GAA+BA,OAAxC;;CAD8C;;CAE9C,SAAKC,GAAL,GAAWA,GAAX;CACA;;CAL2C;AAO7C,CAAO,SAASC,MAAT,CACNC,CADM,EAENH,OAFM,EAGNC,GAHM,EAIM;CACZ,MAAIE,CAAJ,EAAO;CAAE;CAAS;;CAClB,MAAI,OAAOH,OAAP,KAAmB,UAAvB,EAAmC;CAAEA,IAAAA,OAAO,GAAGA,OAAO,EAAjB;CAAsB;;CAC3D,QAAM,IAAIH,SAAJ,CAAcG,OAAd,EAAuBC,GAAvB,CAAN;CACA;;CCZD,IAAIG,YAAJ;AACA,CAAO,SAASC,SAAT,CAAmBC,EAAnB,EAAyC;CAC/CJ,EAAAA,MAAM,CAACE,YAAD,EAAe,qCAAf,EAAsD,SAAtD,CAAN;CACAA,EAAAA,YAAY,CAACE,EAAD,CAAZ;CACA;AAED,CAAO,MAAMC,SAAoC,GAC9CC,MAAM,CAACC,MAAP,CAAc,IAAd,CADI;AAGP,CAAO,SAASC,SAAT,CACNC,IAAiC,GAAG,EAD9B,EAENC,GAAG,GAAGL,SAAS,CAACM,OAFV,EAGM;CACZ,MAAI,OAAOF,IAAP,KAAgB,QAApB,EAA8B;CAAE,WAAOA,IAAP;CAAc;;CAC9C,SAAOJ,SAAS,CAACI,IAAD,CAAT,IAAmBC,GAA1B;CACA;AAED,CAAe,SAASE,aAAT,CAAuBC,QAAvB,EAAmD;CACjE,MAAI,CAACA,QAAL,EAAe;CAAE;CAAS;;CAC1BR,EAAAA,SAAS,CAACQ,QAAQ,CAACJ,IAAV,CAAT,GAA2BI,QAA3B;;CACA,MAAIX,YAAJ,EAAkB;CAAE;CAAS;;CAC7B,MAAI,CAACG,SAAS,CAACM,OAAf,EAAwB;CACvBN,IAAAA,SAAS,CAACM,OAAV,GAAoBE,QAApB;CACA;;CACD,MAAI,CAACX,YAAD,IAAiBW,QAAQ,CAACV,SAA9B,EAAyC;CACxCE,IAAAA,SAAS,CAACM,OAAV,GAAoBE,QAApB;CACAX,IAAAA,YAAY,GAAGW,QAAQ,CAACV,SAAT,CAAmBW,IAAnB,CAAwBD,QAAxB,CAAf;CACA;CAED;;CC9BD;;AACA,CAAO,SAASE,UAAT,CAAoBC,IAApB,EAA+B;AACrC;CAIAC,EAAAA,OAAO,CAACC,KAAR,CAAcF,IAAd;CACA;AAED,CAYA;;AACA,CAAO,SAASG,OAAT,CACNf,EADM,EAEc;CACpB,SAAO,CAAC,GAAGgB,CAAJ,KAAU;CAChB,QAAI;CACHhB,MAAAA,EAAE,CAAC,GAAGgB,CAAJ,CAAF;CACA,KAFD,CAEE,OAAMC,CAAN,EAAS;CACVN,MAAAA,UAAU,CAACM,CAAD,CAAV;CACA;CACD,GAND;CAOA;CAED;;AACA,CAAO,SAASC,QAAT,CACNlB,EADM,EAEC;CACP,MAAI;CACHA,IAAAA,EAAE;CACF,GAFD,CAEE,OAAMiB,CAAN,EAAS;CACVN,IAAAA,UAAU,CAACM,CAAD,CAAV;CACA;CACD;AACD,CAAO,SAASE,UAAT,CACNC,MADM,EAENC,IAFM,EAGuD;CAC7D,MAAI,CAACD,MAAL,EAAa;CAAE,WAAOE,SAAP;CAAmB;;CAClC,MAAI,OAAOF,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAP,KAAkB,QAAtD,EAAgE;CAC/D,WAAOE,SAAP;CACA;;CACD,MAAI,OAAOD,IAAP,KAAgB,QAApB,EAA8B;CAAE,WAAO,CAACD,MAAD,EAASG,MAAM,CAACF,IAAD,CAAf,CAAP;CAAgC;;CAChE,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;CAAE,WAAO,CAACD,MAAD,EAASC,IAAT,CAAP;CAAwB;;CACxD,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;CAAE,WAAO,CAACD,MAAD,EAASC,IAAT,CAAP;CAAwB;;CACxD,MAAI,OAAOA,IAAP,KAAgB,SAApB,EAA+B;CAAE,WAAO,CAACD,MAAD,EAASC,IAAT,CAAP;CAAwB;;CACzD,SAAOC,SAAP;CACA;AAWD,CAAO,SAASE,WAAT,CACNC,GADM,EAENC,GAFM,EAGNpB,GAHM,EAIF;CACJ,MAAImB,GAAG,CAACE,GAAJ,CAAQD,GAAR,CAAJ,EAAyB;CACxB,WAAOD,GAAG,CAACG,GAAJ,CAAQF,GAAR,CAAP;CACA;;CACD,QAAMG,KAAK,GAAGvB,GAAG,EAAjB;CACAmB,EAAAA,GAAG,CAACK,GAAJ,CAAQJ,GAAR,EAAoBG,KAApB;CACA,SAAOA,KAAP;CACA;;CC1ED;CACA,IAAIE,IAAJ;CAEA;;;;;;AAKA,CAAO,SAASC,QAAT,CACNZ,MADM,EAENC,IAFM,EAGL;CACD,MAAI,CAACU,IAAL,EAAW;CAAE;CAAS;;CACtB,QAAME,OAAO,GAAGd,UAAU,CAACC,MAAD,EAASC,IAAT,CAA1B;;CACA,MAAI,CAACY,OAAL,EAAc;CAAE;CAAS;;CACzB,GAACb,MAAD,EAASC,IAAT,IAAiBY,OAAjB;CACA,QAAMC,OAAO,GAAGV,WAAW,CAACO,IAAD,EAAOX,MAAP,EAAe,MAAM,IAAIe,GAAJ,EAArB,CAA3B;;CACA,MAAID,OAAO,CAACP,GAAR,CAAYN,IAAZ,CAAJ,EAAuB;CAAE;CAAS;;CAClCa,EAAAA,OAAO,CAACJ,GAAR,CAAYT,IAAZ,EAAkB,KAAlB;CACA;;CAID;;;;;CAKA,SAASe,UAAT,CACCX,GADD,EAECzB,EAFD,EAGCqC,OAHD,EAIK;CACJ,QAAMC,OAAO,GAAGP,IAAhB;CACAA,EAAAA,IAAI,GAAGN,GAAP;;CACA,MAAI;CACH,QAAI,EAACY,OAAD,aAACA,OAAD,uBAACA,OAAO,CAAEE,QAAV,CAAJ,EAAwB;CAAE,aAAOvC,EAAE,EAAT;CAAc;;CACxC,WAAOuC,QAAQ,CAACvC,EAAD,EAAKqC,OAAO,CAACE,QAAR,KAAqB,UAA1B,CAAf;CACA,GAHD,SAGU;CACTR,IAAAA,IAAI,GAAGO,OAAP;CACA;CACD;;AAgBD,CAAO,SAASE,OAAT,CACNf,GADM,EAENzB,EAFM,EAGNqC,OAHM,EAIF;CAEJ,MAAI,OAAOrC,EAAP,KAAc,UAAlB,EAA8B;CAC7B,WAAOoC,UAAU,CAACX,GAAD,EAAMzB,EAAN,EAAUqC,OAAV,CAAjB;CACA;;CACD,MAAI,OAAOA,OAAP,KAAmB,UAAvB,EAAmC;CAClC,UAAM,IAAI7C,KAAJ,CAAU,2BAAV,CAAN;CACA;;CACD,SAAO4C,UAAU,CAACX,GAAD,EAAMY,OAAN,EAAerC,EAAf,CAAjB;CACA;CAGD,MAAMyC,SAAS,GAAG,IAAIC,OAAJ,EAAlB;;CAKA,SAASC,SAAT,CACCvB,MADD,EAECC,IAFD,EAGCuB,MAHD,EAIE;CAAA;;CACD,QAAMC,KAAK,qBAAGJ,SAAS,CAACb,GAAV,CAAcR,MAAd,CAAH,mDAAG,eAAuBQ,GAAvB,CAA2BP,IAA3B,CAAd;;CACA,MAAI,CAACwB,KAAL,EAAY;CAAE;CAAS;;CACvB,MAAIC,IAAI,GAAG,CAAC,GAAGD,KAAJ,CAAX;;CACA,MAAID,MAAJ,EAAY;CACXE,IAAAA,IAAI,GAAGA,IAAI,CAACF,MAAL,CAAY,CAAC,GAAGG,CAAH,CAAD,KAAWH,MAAM,CAACG,CAAD,CAA7B,CAAP;CACA;;CACDD,EAAAA,IAAI,CAACE,OAAL,CAAa,CAAC,CAACC,CAAD,CAAD,KAASA,CAAC,EAAvB;CACA;;CAMD,IAAIC,QAAJ;;CAEA,SAASC,WAAT,CAAqBL,IAArB,EAAoC;CACnC,OAAK,MAAM,CAAC1B,MAAD,EAASU,GAAT,CAAX,IAA4BgB,IAAI,CAACM,OAAL,EAA5B,EAA4C;CAAA;;CAC3C,UAAMlB,OAAO,YAAGH,IAAH,0CAAG,MAAMH,GAAN,CAAUR,MAAV,CAAhB;;CACA,SAAK,MAAMC,IAAX,IAAmBS,GAAnB,EAAwB;CACvBa,MAAAA,SAAS,CAACvB,MAAD,EAASC,IAAT,EAAe0B,CAAC,IAAI,CAACA,CAArB,CAAT;;CACA,UAAIb,OAAJ,aAAIA,OAAJ,uBAAIA,OAAO,CAAEP,GAAT,CAAaN,IAAb,CAAJ,EAAwB;CACvBa,QAAAA,OAAO,CAACJ,GAAR,CAAYT,IAAZ,EAAkB,IAAlB;CACA;CACD;CACD;CACD;;CAGD,SAASgC,WAAT,CAAwBC,CAAxB,EAAoCC,QAApC,EAA2D;CAC1D,QAAMT,IAAI,GAAG,CAACS,QAAD,IAAaL,QAAb,IAAyB,IAAIf,GAAJ,EAAtC;CACA,QAAMqB,GAAG,GAAGN,QAAZ;CACAA,EAAAA,QAAQ,GAAGJ,IAAX;;CACA,MAAI;CACH,WAAOQ,CAAC,EAAR;CACA,GAFD,SAEU;CACTJ,IAAAA,QAAQ,GAAGM,GAAX;;CACA,QAAIV,IAAI,KAAKI,QAAb,EAAuB;CAAEC,MAAAA,WAAW,CAACL,IAAD,CAAX;CAAoB;CAC7C;CACD;;AAOD,CAAO,SAASP,QAAT,CACNvC,EADM,EAENuD,QAFM,EAGF;CACJ,MAAI,OAAOvD,EAAP,KAAc,UAAlB,EAA8B;CAC7B,WAAOqD,WAAW,CAACrD,EAAD,EAAKuD,QAAL,CAAlB;CACA;;CACD,MAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;CACnC,UAAM,IAAI/D,KAAJ,CAAU,2BAAV,CAAN;CACA;;CACD,SAAO6D,WAAW,CAACE,QAAD,EAAWvD,EAAX,CAAlB;CACA;;CAGD,SAASyD,IAAT,CACCrC,MADD,EAECC,IAFD,EAGE;CACD,MAAI,CAAC6B,QAAL,EAAe;CAAE,WAAO,KAAP;CAAe;;CAChC1B,EAAAA,WAAW,CAAC0B,QAAD,EAAW9B,MAAX,EAAmB,MAAM,IAAIsC,GAAJ,EAAzB,CAAX,CAA+CC,GAA/C,CAAmDtC,IAAnD;CACA,SAAO,IAAP;CACA;CAED;;;;;;;AAKA,CAAO,SAASuC,UAAT,CACNxC,MADM,EAENC,IAFM,EAGL;CAED,QAAMY,OAAO,GAAGd,UAAU,CAACC,MAAD,EAASC,IAAT,CAA1B;;CACA,MAAI,CAACY,OAAL,EAAc;CAAE;CAAS;;CACzB,GAACb,MAAD,EAASC,IAAT,IAAiBY,OAAjB;;CACA,MAAIwB,IAAI,CAACrC,MAAD,EAASC,IAAT,CAAR,EAAwB;CACvBsB,IAAAA,SAAS,CAACvB,MAAD,EAASC,IAAT,EAAewC,OAAf,CAAT;CACA;CACA;;CACDlB,EAAAA,SAAS,CAACvB,MAAD,EAASC,IAAT,CAAT;CACA;CAED;;;;;;;AAMA,CAAO,SAASyC,SAAT,CACN1C,MADM,EAENC,IAFM,EAGN0C,EAHM,EAINC,YAAqB,GAAG,KAJlB,EAKO;CACb,MAAI,OAAOD,EAAP,KAAc,UAAlB,EAA8B;CAAE,WAAQ,MAAM,EAAd;CAAmB;;CACnD,QAAM9B,OAAO,GAAGd,UAAU,CAACC,MAAD,EAASC,IAAT,CAA1B;;CACA,MAAI,CAACY,OAAL,EAAc;CAAE,WAAO,MAAM,EAAb;CAAkB;;CAClC,GAACb,MAAD,EAASC,IAAT,IAAiBY,OAAjB;CAEA,QAAMP,GAAG,GAAGL,IAAZ;CACA,MAAII,GAAG,GAAGgB,SAAS,CAACb,GAAV,CAAcR,MAAd,CAAV;;CACA,MAAI,CAACK,GAAL,EAAU;CACTA,IAAAA,GAAG,GAAG,IAAIU,GAAJ,EAAN;CACAM,IAAAA,SAAS,CAACX,GAAV,CAAcV,MAAd,EAAsBK,GAAtB;CACA;;CACD,QAAMqB,IAAI,GAAGtB,WAAW,CAACC,GAAD,EAAMC,GAAN,EAAW,MAAM,IAAIgC,GAAJ,EAAjB,CAAxB;CACA,QAAMO,IAA2B,GAAG,CAAClD,OAAO,CAACgD,EAAD,CAAR,EAAcC,YAAd,CAApC;CACAlB,EAAAA,IAAI,CAACa,GAAL,CAASM,IAAT;CACA,MAAIC,OAAO,GAAG,KAAd;CACA,SAAO,MAAM;CACZ,QAAIA,OAAJ,EAAa;CAAE;CAAS;;CACxBA,IAAAA,OAAO,GAAG,IAAV,CAFY;;CAKZpB,IAAAA,IAAI,CAACqB,MAAL,CAAYF,IAAZ,EALY;;CAQZ,QAAInB,IAAI,CAACsB,IAAT,EAAe;CAAE;CAAS;;CAC1B,QAAI,CAAC3C,GAAL,EAAU;CAAE;CAAS;;CACrBA,IAAAA,GAAG,CAAC0C,MAAJ,CAAWzC,GAAX,EAVY;;CAaZ,QAAID,GAAG,CAAC2C,IAAR,EAAc;CAAE;CAAS;;CACzB3B,IAAAA,SAAS,CAAC0B,MAAV,CAAiB/C,MAAjB;CACA,GAfD;CAiBA;;CCnND,SAASiD,GAAT,CACCN,EADD,EAEC/D,EAFD,EAGCqC,OAHD,EAIqB;CACpB0B,EAAAA,EAAE,GAAGhD,OAAO,CAACgD,EAAD,CAAZ;CACA,MAAIO,UAAJ;CACA,QAAM/B,QAAQ,GAAGF,OAAH,aAAGA,OAAH,uBAAGA,OAAO,CAAEE,QAA1B;CACA,MAAIgC,GAAG,GAAG,KAAV;CACA;;CACA,WAASC,MAAT,GAAkB;CACjB,QAAID,GAAJ,EAAS;CAAE,aAAO,KAAP;CAAe;;CAC1BA,IAAAA,GAAG,GAAG,IAAN;;CACA,QAAI,CAACD,UAAL,EAAiB;CAAE,aAAO,IAAP;CAAc;;CACjC,UAAMxB,IAAI,GAAGwB,UAAb;CACAA,IAAAA,UAAU,GAAGhD,SAAb;CACAwB,IAAAA,IAAI,CAACE,OAAL,CAAaM,CAAC,IAAIA,CAAC,EAAnB;CACA,WAAO,IAAP;CACA;;CACD,WAASmB,OAAT,GAAmB;CAClB,QAAI,CAACD,MAAM,EAAX,EAAe;CAAE;CAAS;;CAC1BT,IAAAA,EAAE,CAAC,IAAD,CAAF;CACA;;CACD,WAASM,GAAT,CAAaK,QAAb,EAAgC;CAC/B,QAAIH,GAAJ,EAAS;CAAE,aAAO,KAAP;CAAe;;CAC1B,QAAI,CAACG,QAAQ,CAACN,IAAd,EAAoB;CACnBG,MAAAA,GAAG,GAAG,IAAN;CACA,aAAOR,EAAE,CAAC,KAAD,CAAT;CACA;;CACD,UAAMjB,IAGH,GAAG,EAHN;;CAIA,SAAM,IAAI,CAAC6B,GAAD,EAAMC,KAAN,CAAV,IAA0BF,QAA1B,EAAoC;CACnC,WAAK,MAAM,CAAC1D,CAAD,EAAI6D,CAAJ,CAAX,IAAqBD,KAArB,EAA4B;CAC3B,YAAIC,CAAJ,EAAO;CAAE,iBAAOd,EAAE,CAAC,IAAD,CAAT;CAAkB;;CAC3BjB,QAAAA,IAAI,CAACgC,IAAL,CAAU,CAACH,GAAD,EAAM3D,CAAN,CAAV;CACA;CACD;;CACDsD,IAAAA,UAAU,GAAGxB,IAAI,CAACrB,GAAL,CACZ,CAAC,CAACkD,GAAD,EAAM3D,CAAN,CAAD,KAAc8C,SAAS,CACtBa,GADsB,EAEtB3D,CAFsB,EAGtByD,OAHsB,EAItBpC,OAJsB,aAItBA,OAJsB,uBAItBA,OAAO,CAAE2B,YAJa,CADX,CAAb;CAQA;;CACD,WAASe,IAAT,GAAgB;CACf,QAAI,CAACP,MAAM,EAAX,EAAe;CAAE;CAAS;;CAC1BT,IAAAA,EAAE,CAAC,KAAD,CAAF;CACA;CACD,QAAMW,QAAiB,GAAG,IAAIvC,GAAJ,EAA1B;CACA,QAAM6C,MAAM,GAAGxC,OAAO,CAACkC,QAAD,EAAW,MAAM1E,EAAE,CAAC+E,IAAD,CAAnB,EAA2B;CAAExC,IAAAA;CAAF,GAA3B,CAAtB;CACA8B,EAAAA,GAAG,CAACK,QAAD,CAAH;;CACA,MAAIrC,OAAJ,aAAIA,OAAJ,uBAAIA,OAAO,CAAE4C,UAAb,EAAyB;CAAE,WAAOD,MAAP;CAAgB;;CAC3C,SAAO;CAAEA,IAAAA,MAAF;CAAUD,IAAAA;CAAV,GAAP;CACA;CAED;;;;;;;AAsCA,CAAO,SAASG,IAAT,CACNnB,EADM,EAEN/D,EAFM,EAGNqC,OAHM,EAIe;CACrB,MAAI,OAAO0B,EAAP,KAAc,UAAlB,EAA8B;CAC7B,UAAM,IAAIvE,KAAJ,CAAU,2BAAV,CAAN;CACA;;CACD,MAAI,OAAOQ,EAAP,KAAc,UAAlB,EAA8B;CAC7B,WAAOqE,GAAG,CAACN,EAAD,EAAK/D,EAAL,EAASqC,OAAT,CAAV;CACA;;CACD,MAAI,OAAOA,OAAP,KAAmB,UAAvB,EAAmC;CAClC,UAAM,IAAI7C,KAAJ,CAAU,2BAAV,CAAN;CACA;;CACD,SAAO6E,GAAG,CAACN,EAAD,EAAK1B,OAAL,EAAcrC,EAAd,CAAV;CACA;;CCjHD;;;;;CAKA,SAASG,MAAT,CACC4D,EADD,EAEC/D,EAFD,EAGCqC,OAHD,EAImB;CAClB0B,EAAAA,EAAE,GAAGhD,OAAO,CAACgD,EAAD,CAAZ;CACA,MAAIO,UAAJ;CACA;;CACA,WAASE,MAAT,GAAkB;CACjB,QAAI,CAACF,UAAL,EAAiB;CAAE,aAAO,KAAP;CAAe;;CAClC,UAAMxB,IAAI,GAAGwB,UAAb;CACAA,IAAAA,UAAU,GAAGhD,SAAb;CACAwB,IAAAA,IAAI,CAACE,OAAL,CAAaM,CAAC,IAAIA,CAAC,EAAnB;CACA,WAAO,IAAP;CACA;;CACD,WAASmB,OAAT,GAAmB;CAClB,QAAI,CAACD,MAAM,EAAX,EAAe;CAAE;CAAS;;CAC1BT,IAAAA,EAAE,CAAC,IAAD,CAAF;CACA;;CACD,WAASM,GAAT,CAAaK,QAAb,EAAgC;CAC/B,QAAI,CAACA,QAAQ,CAACN,IAAd,EAAoB;CACnB,aAAOL,EAAE,CAAC,KAAD,CAAT;CACA;;CACD,UAAMjB,IAGH,GAAG,EAHN;;CAIA,SAAM,IAAI,CAAC6B,GAAD,EAAMC,KAAN,CAAV,IAA0BF,QAA1B,EAAoC;CACnC,WAAK,MAAM,CAAC1D,CAAD,EAAI6D,CAAJ,CAAX,IAAqBD,KAArB,EAA4B;CAC3B,YAAIC,CAAJ,EAAO;CAAE,iBAAOd,EAAE,CAAC,IAAD,CAAT;CAAkB;;CAC3BjB,QAAAA,IAAI,CAACgC,IAAL,CAAU,CAACH,GAAD,EAAM3D,CAAN,CAAV;CACA;CACD;;CACDsD,IAAAA,UAAU,GAAGxB,IAAI,CAACrB,GAAL,CACZ,CAAC,CAACkD,GAAD,EAAM3D,CAAN,CAAD,KAAc8C,SAAS,CACtBa,GADsB,EAEtB3D,CAFsB,EAGtByD,OAHsB,EAItBpC,OAJsB,aAItBA,OAJsB,uBAItBA,OAAO,CAAE2B,YAJa,CADX,CAAb;CAQA;;CACD,WAASkB,IAAT,CAAc,GAAGlE,CAAjB,EAAuB;CACtBwD,IAAAA,MAAM;CACN,UAAME,QAAiB,GAAG,IAAIvC,GAAJ,EAA1B;CACA,UAAM6C,MAAM,GAAGxC,OAAO,CAACkC,QAAD,EAAW,MAAM1E,EAAE,CAAC,GAAGgB,CAAJ,CAAnB,EAA2BqB,OAA3B,CAAtB;CACAgC,IAAAA,GAAG,CAACK,QAAD,CAAH;CACA,WAAOM,MAAP;CACA;;CACDE,EAAAA,IAAI,CAACH,IAAL,GAAY,MAAM;CACjB,QAAI,CAACP,MAAM,EAAX,EAAe;CAAE;CAAS;;CAC1BT,IAAAA,EAAE,CAAC,KAAD,CAAF;CACA,GAHD;;CAIA,SAAOmB,IAAP;CACA;CAED;;;;;;;AAoBA,CAAO,SAASC,OAAT,CACNpB,EADM,EAEN/D,EAFM,EAGNqC,OAHM,EAIY;CAClB,MAAI,OAAOrC,EAAP,KAAc,UAAlB,EAA8B;CAC7B,WAAOG,MAAM,CAAC4D,EAAD,EAAK/D,EAAL,EAASqC,OAAT,CAAb;CACA;;CACD,MAAI,OAAOA,OAAP,KAAmB,UAAvB,EAAmC;CAClC,UAAM,IAAI7C,KAAJ,CAAU,2BAAV,CAAN;CACA;;CACD,SAAOW,MAAM,CAAC4D,EAAD,EAAK1B,OAAL,EAAcrC,EAAd,CAAb;CACA;;CCnGD;;CAkBA,MAAMoF,YAAY,GAAG,+BAArB;AACA,CAAO,SAASC,OAAT,CAAiBC,CAAjB,EAA0C;CAChD,SAAOzB,OAAO,CAAC,OAAOyB,CAAP,KAAa,UAAb,IAA2BA,CAAC,CAACF,YAAD,CAA7B,CAAd;CACA;CACD;;CAUA,SAASG,OAAT,GAAoC;CACnC,QAAM1D,KAAK,GAAG,MAAd;;CACA,MAAIA,KAAK,KAAKP,SAAd,EAAyB;CAAE,WAAOO,KAAP;CAAe;;CAC1C,MAAIA,KAAK,KAAK,IAAd,EAAoB;CAAE,WAAOA,KAAP;CAAe;;CACrC,SAAQA,KAAD,CAAe0D,OAAf,EAAP;CACA;;CACD,SAASC,QAAT,CAAqC,GAAGxE,CAAxC,EAAgD;CAC/C,QAAMa,KAAK,GAAG,MAAd;;CACA,MAAIA,KAAK,KAAKP,SAAd,EAAyB;CAAE,WAAOC,MAAM,CAACM,KAAD,CAAb;CAAuB;;CAClD,MAAIA,KAAK,KAAK,IAAd,EAAoB;CAAE,WAAON,MAAM,CAACM,KAAD,CAAb;CAAuB;;CAC7C,MAAI,OAAQA,KAAD,CAAe2D,QAAtB,KAAmC,UAAvC,EAAmD;CAClD,WAAQ3D,KAAD,CAAe2D,QAAf,CAAwB,GAAGxE,CAA3B,CAAP;CACA;;CACD,SAAOO,MAAM,CAACM,KAAD,CAAb;CACA;;CACD,SAAS4D,WAAT,CAAwCC,IAAxC,EAAgF;CAC/E,QAAM7D,KAAK,GAAG,MAAd;;CACA,MAAIA,KAAK,KAAKP,SAAd,EAAyB;CAAE,WAAOC,MAAM,CAACM,KAAD,CAAb;CAAuB;;CAClD,MAAIA,KAAK,KAAK,IAAd,EAAoB;CAAE,WAAON,MAAM,CAACM,KAAD,CAAb;CAAuB;;CAC7C,MAAI,OAAQA,KAAD,CAAe8D,MAAM,CAACF,WAAtB,CAAP,KAA8C,UAAlD,EAA8D;CAC7D,WAAQ5D,KAAD,CAAe8D,MAAM,CAACF,WAAtB,EAAmCC,IAAnC,CAAP;CACA;;CACD,MAAIA,IAAI,KAAK,QAAb,EAAuB;CACtB,WAAOnE,MAAM,CAACM,KAAD,CAAb;CACA;;CACD,MAAI6D,IAAI,KAAK,QAAb,EAAuB;CACtB,WAAOE,MAAM,CAAC/D,KAAD,CAAb;CACA;;CACD,SAAOA,KAAP;CACA;;CAED,SAASgE,WAAT,CACCC,OADD,EAECC,QAFD,EAGChB,IAAgB,GAAG,MAAM,EAH1B,EAICiB,MAAkB,GAAG,MAAM,EAJ5B,EAKgC;CAC/B,WAASlE,GAAT,CAAajC,CAAb,EAAmBoG,MAAM,GAAG,KAA5B,EAAmC;CAClC,QAAI,CAACF,QAAL,EAAe;CAAE;CAAS;;CAC1B,QAAI;CACHA,MAAAA,QAAQ,CAAClG,CAAD,EAAI,MAAM;CAAEoG,QAAAA,MAAM,GAAG,IAAT;CAAgB,OAA5B,CAAR;CACA,KAFD,SAEU;CACT,UAAIA,MAAJ,EAAY;CACXxB,QAAAA,OAAO;CACP;CACD;CACD;;CACD,WAAS7C,GAAT,GAAe;CACdI,IAAAA,QAAQ,CAACH,KAAD,EAAQ,OAAR,CAAR;CACA,WAAOiE,OAAO,EAAd;CACA;;CACD,QAAMjE,KAAQ,GAAI,CAAC,GAAGhC,CAAJ,KAAsC;CACvD,QAAIA,CAAC,CAACqG,MAAN,EAAc;CACbpE,MAAAA,GAAG,CAACjC,CAAC,CAAC,CAAD,CAAF,EAAOA,CAAC,CAAC,CAAD,CAAR,CAAH;CACA,aAAOA,CAAC,CAAC,CAAD,CAAR;CACA;;CACD,WAAO+B,GAAG,EAAV;CACA,GAND;;CAOAuE,EAAAA,OAAO,CAACC,cAAR,CAAuBvE,KAAvB,EAA8B,OAA9B,EAAuC;CACtCD,IAAAA,GADsC;CAEtCE,IAAAA,GAFsC;CAGtCuE,IAAAA,UAAU,EAAE,IAH0B;CAItCC,IAAAA,YAAY,EAAE;CAJwB,GAAvC;CAMAH,EAAAA,OAAO,CAACC,cAAR,CAAuBvE,KAAvB,EAA8B,SAA9B,EAAyC;CACxCA,IAAAA,KAAK,EAAE0D,OADiC;CAExCc,IAAAA,UAAU,EAAE,IAF4B;CAGxCC,IAAAA,YAAY,EAAE;CAH0B,GAAzC;CAKAH,EAAAA,OAAO,CAACC,cAAR,CAAuBvE,KAAvB,EAA8B,UAA9B,EAA0C;CACzCA,IAAAA,KAAK,EAAE2D,QADkC;CAEzCa,IAAAA,UAAU,EAAE,IAF6B;CAGzCC,IAAAA,YAAY,EAAE;CAH2B,GAA1C;CAMAH,EAAAA,OAAO,CAACC,cAAR,CAAuBvE,KAAvB,EAA8B8D,MAAM,CAACF,WAArC,EAAkD;CACjD5D,IAAAA,KAAK,EAAE4D,WAD0C;CAEjDY,IAAAA,UAAU,EAAE,IAFqC;CAGjDC,IAAAA,YAAY,EAAE;CAHmC,GAAlD;CAMA,MAAIC,QAAqC,GAAG,IAAI7C,GAAJ,EAA5C;;CACA,WAASb,KAAT,CACCkB,EADD,EAECC,YAFD,EAGc;CACb,QAAI,CAACuC,QAAL,EAAe;CAAE,aAAO,MAAM,EAAb;CAAkB;;CACnC,UAAM/B,MAAM,GAAGV,SAAS,CACvBjC,KADuB,EAEvB,OAFuB,EAGvB,MAAMkC,EAAE,CAAClC,KAAD,EAAQ,KAAR,CAHe,EAIvBmC,YAJuB,CAAxB;CAMA,QAAIwC,SAAS,GAAG,KAAhB;;CACA,UAAMzB,IAAI,GAAG,MAAM;CAClB,UAAIyB,SAAJ,EAAe;CAAE;CAAS;;CAC1BA,MAAAA,SAAS,GAAG,IAAZ;;CACA,UAAID,QAAJ,EAAc;CAAEA,QAAAA,QAAQ,CAACpC,MAAT,CAAgBY,IAAhB;CAAwB;;CACxCP,MAAAA,MAAM;CACNtD,MAAAA,QAAQ,CAAC,MAAM6C,EAAE,CAAClC,KAAD,EAAQ,IAAR,CAAT,CAAR;CACA,KAND;;CAOA0E,IAAAA,QAAQ,CAAC5C,GAAT,CAAaoB,IAAb;CACAiB,IAAAA,MAAM;CACN,WAAO,MAAM;CACZ,UAAIQ,SAAJ,EAAe;CAAE;CAAS;;CAC1BA,MAAAA,SAAS,GAAG,IAAZ;;CACA,UAAID,QAAJ,EAAc;CAAEA,QAAAA,QAAQ,CAACpC,MAAT,CAAgBY,IAAhB;CAAwB;;CACxCP,MAAAA,MAAM;CACNwB,MAAAA,MAAM;CACN,KAND;CAOA;;CACDG,EAAAA,OAAO,CAACC,cAAR,CAAuBvE,KAAvB,EAA8B,OAA9B,EAAuC;CACtCD,IAAAA,GAAG,GAAG;CAAE,aAAOiB,KAAP;CAAe,KADe;;CAEtCf,IAAAA,GAAG,GAAG,EAFgC;;CAGtCwE,IAAAA,YAAY,EAAE;CAHwB,GAAvC;;CAKA,QAAM7B,OAAO,GAAI,MAAMb,UAAU,CAAC/B,KAAD,EAAQ,OAAR,CAAjC;;CACA4C,EAAAA,OAAO,CAAC9C,GAAR,GAAc;CAAA;;CAAA,WAAMkC,OAAO,cAAC0C,QAAD,8CAAC,UAAUnC,IAAX,CAAb;CAAA,GAAd;;CACAK,EAAAA,OAAO,CAACM,IAAR,GAAe,MAAM;CACpB,QAAI,CAACwB,QAAL,EAAe;CAAE;CAAS;;CAC1B,UAAMzD,IAAI,GAAGyD,QAAb;CACAA,IAAAA,QAAQ,GAAGjF,SAAX;;CACA,SAAK,MAAMyD,IAAX,IAAmB,CAAC,GAAGjC,IAAJ,CAAnB,EAA8B;CAC7BiC,MAAAA,IAAI;CACJ;CACD,GAPD;;CAQAoB,EAAAA,OAAO,CAACC,cAAR,CAAuBvE,KAAvB,EAA8BuD,YAA9B,EAA4C;CAAEvD,IAAAA,KAAK,EAAE,IAAT;CAAeyE,IAAAA,YAAY,EAAE;CAA7B,GAA5C;CACA,MAAIG,OAAO,GAAG,KAAd;;CACA5E,EAAAA,KAAK,CAACkD,IAAN,GAAa,MAAM;CAClB,QAAI0B,OAAJ,EAAa;CAAE;CAAS;;CACxBA,IAAAA,OAAO,GAAG,IAAV;CACA1B,IAAAA,IAAI;CACJN,IAAAA,OAAO,CAACM,IAAR;CAEA,GAND;;CAOA,SAAO;CAAClD,IAAAA,KAAD;CAAQ4C,IAAAA;CAAR,GAAP;CACA;CACD;;;;;;;AAKA,CAAO,SAAS5C,KAAT,CAAkBvB,GAAlB,EAAoC;CAC1C,MAAIoG,MAAJ;CACA,MAAIC,UAAJ;CACA,QAAM;CAAE9E,IAAAA;CAAF,MAAYgE,WAAW,CAC5B,MAAMc,UADsB,EAE5B,CAAC9G,CAAD,EAAI+G,IAAJ,KAAa;CACZ,QAAI/G,CAAC,KAAK6G,MAAV,EAAkB;CAAE;CAAS;;CAC7BA,IAAAA,MAAM,GAAG7G,CAAT;CACA8G,IAAAA,UAAU,GAAGD,MAAb;CACAE,IAAAA,IAAI;CACJ,GAP2B,CAA7B;CASA/E,EAAAA,KAAK,CAACvB,GAAD,CAAL;CACA,SAAOuB,KAAP;CACA;AA+BD,CAAO,SAASgF,QAAT,CACNC,MADM,EAENC,MAFM,EAGN1E,OAHM,EAIK;CAAA;;CACX,MAAI,OAAO0E,MAAP,KAAkB,UAAtB,EAAkC;CACjC1E,IAAAA,OAAO,GAAG0E,MAAV;CACAA,IAAAA,MAAM,GAAGzF,SAAT;CACA;;CACD,QAAMyE,QAAQ,GAAGgB,MAAjB;CACA,QAAMxE,QAAQ,eAAGF,OAAH,6CAAG,SAASE,QAA1B;CACA,QAAMyE,SAAS,gBAAG3E,OAAH,8CAAG,UAAS2E,SAA3B;CACA,MAAIN,MAAJ;CACA,MAAIC,UAAJ;CACA,MAAIF,OAAO,GAAG,KAAd;CACA,MAAII,QAAQ,GAAG,KAAf;CACA,MAAIpC,OAAJ;CACA,QAAMwC,UAAU,GAAG9B,OAAO,CAAC+B,OAAO,IAAI;CACrCL,IAAAA,QAAQ,GAAG,CAACK,OAAZ;;CACA,QAAIA,OAAO,IAAKzC,OAAhB,EAAyB;CACxBA,MAAAA,OAAO;CACP;CACD,GALyB,EAKvBqC,MALuB,EAKf;CAAEvE,IAAAA,QAAF;CAAYyB,IAAAA,YAAY,EAAE,CAACgD;CAA3B,GALe,CAA1B;;CAMA,WAAS3C,GAAT,GAAe;CACdwC,IAAAA,QAAQ,GAAG,IAAX;;CACA,QAAI;CACHH,MAAAA,MAAM,GAAGO,UAAU,EAAnB;CACAN,MAAAA,UAAU,GAAGD,MAAb;CACA,aAAOC,UAAP;CACA,KAJD,CAIE,OAAM1F,CAAN,EAAS;CACV,UAAI,CAACwF,OAAL,EAAc;CACbI,QAAAA,QAAQ,GAAG,KAAX;CACA;;CACD,YAAM5F,CAAN;CACA;CACD;;CACD,MAAIY,KAAJ;CACA,GAAC;CAACA,IAAAA,KAAD;CAAQ4C,IAAAA;CAAR,MAAmBoB,WAAW,CAC9B,MAAMgB,QAAQ,IAAIJ,OAAZ,GAAsBE,UAAtB,GAAmCtC,GAAG,EADd,EAE9B0B,QAAQ,KAAKlG,CAAC,IAAIkG,QAAQ,CAAClG,CAAD,CAAlB,CAFsB,EAG9B,MAAM;CACL,QAAI4G,OAAJ,EAAa;CAAE;CAAS;;CACxBA,IAAAA,OAAO,GAAG,IAAV;;CACA,QAAII,QAAJ,EAAc;CAAE;CAAS;;CACzBxC,IAAAA,GAAG;CACH,GAR6B,CAA/B;CAUA,SAAOxC,KAAP;CAEA;;CC/PD,SAASgE,aAAT,CACCjB,KADD,EAEClD,GAFD,EAGCpB,GAHD,EAICwB,GAJD,EAKoC;CACnC,WAASiE,QAAT,CAAkBlE,KAAlB,EAAwCsF,MAAxC,EAA+D;CAC9D,QAAI,CAACrF,GAAL,EAAU;CAAE;CAAS;;CACrBA,IAAAA,GAAG,CAACD,KAAD,EAAQsF,MAAR,CAAH;CACA;;CACD,SAAON,QAAQ,CAAC,MAAM;CACrB,UAAM7F,CAAC,GAAG4D,KAAK,CAAClD,GAAD,CAAf;;CACA,QAAIV,CAAC,KAAKM,SAAN,IAAmBhB,GAAvB,EAA4B;CAAE,aAAOA,GAAG,EAAV;CAAe;;CAC7C,WAAO+E,OAAO,CAACrE,CAAD,CAAP,GAAaA,CAAC,EAAd,GAAmBA,CAA1B;CACA,GAJc,EAIZnB,CAAC,IAAI;CACP,UAAMmB,CAAC,GAAG4D,KAAK,CAAClD,GAAD,CAAf;;CACA,QAAI2D,OAAO,CAACrE,CAAD,CAAX,EAAgB;CACfA,MAAAA,CAAC,CAACnB,CAAD,CAAD;CACAkG,MAAAA,QAAQ,CAAClG,CAAD,EAAI,IAAJ,CAAR;CACA;CACA;;CACD,QAAImB,CAAC,KAAKM,SAAN,IAAmBhB,GAAvB,EAA4B;CAAEA,MAAAA,GAAG,CAACT,CAAD,CAAH;CAAS;;CACvCkG,IAAAA,QAAQ,CAAClG,CAAD,EAAI,KAAJ,CAAR;CACA,GAbc,CAAf;CAcA;;AAcD,CAAO,SAASuH,QAAT,CACNxC,KADM,EAENlD,GAFM,EAGNpB,GAHM,EAINwB,GAJM,EAOwC;CAC9C,MAAI,CAACJ,GAAL,EAAU;CACT,WAAO,CAAC2F,CAAD,EAAIC,CAAJ,EAAOC,CAAP,KAAa1B,aAAW,CAACjB,KAAD,EAAQyC,CAAR,EAAWC,CAAX,EAAcC,CAAd,CAA/B;CACA;;CACD,MAAI,CAACC,KAAK,CAACC,OAAN,CAAc/F,GAAd,CAAL,EAAyB;CACxB,WAAOmE,aAAW,CACjBjB,KADiB,EAEjBlD,GAFiB,EAGjBpB,GAHiB,EAIjBwB,GAJiB,CAAlB;CAMA;;CACD,QAAM4F,CAAC,GAAGxH,MAAM,CAACC,MAAP,CAAc,IAAd,CAAV;;CACA,OAAK,MAAMkH,CAAX,IAAgB3F,GAAhB,EAAqB;CACpB,UAAMG,KAAK,GAAGgE,aAAW,CACxBjB,KADwB,EAExByC,CAFwB,EAGxB/G,GAAG,IAAIA,GAAG,CAAC+G,CAAD,CAHc,EAIxBvF,GAAG,KAAK,CAACjC,CAAD,EAAI0H,CAAJ,KAAUzF,GAAG,CAAEjC,CAAF,EAAK0H,CAAL,EAAQF,CAAR,CAAlB,CAJqB,CAAzB;CAMAlB,IAAAA,OAAO,CAACC,cAAR,CAAuBxB,KAAvB,EAA8ByC,CAA9B,EAAiC;CAChCzF,MAAAA,GAAG,GAAG;CAAE,eAAOC,KAAK,EAAZ;CAAiB,OADO;;CAEhCC,MAAAA,GAAG,CAACjC,CAAD,EAAI;CAAEgC,QAAAA,KAAK,CAACA,KAAN,GAAchC,CAAd;CAAkB,OAFK;;CAGhCyG,MAAAA,YAAY,EAAE,IAHkB;CAIhCD,MAAAA,UAAU,EAAE;CAJoB,KAAjC;CAMA;;CACD,SAAOqB,CAAP;CACA;AACD,CAAO,SAASC,QAAT,CACNjB,MADM,EAEN9B,KAAK,GAAGuB,OAAO,CAACyB,OAAR,CAAgBlB,MAAhB,CAFF,EAKN5E,GALM,EAMoD;CAC1D,QAAMd,CAAC,GAAGd,MAAM,CAACC,MAAP,CAAcuG,MAAd,CAAV;;CACA,WAASX,QAAT,CAAkBlE,KAAlB,EAAwCH,GAAxC,EAAsD;CACrD,QAAI,CAACI,GAAL,EAAU;CAAE;CAAS;;CACrBA,IAAAA,GAAG,CAACD,KAAD,EAAQH,GAAR,CAAH;CACA;;CACD,QAAMmG,IAAI,GAAIL,KAAK,CAACC,OAAN,CAAc7C,KAAd,IAAuBA,KAAvB,GAA+BuB,OAAO,CAACyB,OAAR,CAAgBhD,KAAhB,CAA7C;CACA,QAAMkD,MAAM,GAAGN,KAAK,CAACC,OAAN,CAAc7C,KAAd,IAAuB8B,MAAvB,GAAgC9B,KAA/C;;CACA,OAAK,MAAMlD,GAAX,IAAkBmG,IAAlB,EAAwB;CACvB,UAAMhG,KAAK,GAAGiG,MAAM,CAACpG,GAAD,CAApB;;CACA,QAAI,CAAC2D,OAAO,CAACxD,KAAD,CAAZ,EAAqB;CAAE;CAAW;;CAClCsE,IAAAA,OAAO,CAACC,cAAR,CAAuBpF,CAAvB,EAA0BU,GAA1B,EAA+B;CAC9BE,MAAAA,GAAG,GAAG;CAAE,eAAOC,KAAK,EAAZ;CAAiB,OADK;;CAE9BC,MAAAA,GAAG,CAACjC,CAAD,EAAI;CAAEgC,QAAAA,KAAK,CAACA,KAAN,GAAchC,CAAd;CAAiBkG,QAAAA,QAAQ,CAAClG,CAAD,EAAI6B,GAAJ,CAAR;CAAmB,OAFf;;CAG9B4E,MAAAA,YAAY,EAAE,IAHgB;CAI9BD,MAAAA,UAAU,EAAE;CAJkB,KAA/B;CAMA;;CACD,SAAOrF,CAAP;CACA;;CAMD,SAAS+G,aAAT,CACCnD,KADD,EAEClD,GAFD,EAGiB;CAChB,SAAOmF,QAAQ,CAAC,MAAM;CACrB,UAAM7F,CAAC,GAAG4D,KAAK,CAAClD,GAAD,CAAf;CACA,WAAO2D,OAAO,CAACrE,CAAD,CAAP,GAAaA,CAAC,EAAd,GAAmBA,CAA1B;CACA,GAHc,EAGZnB,CAAC,IAAI;CACP,UAAMmB,CAAC,GAAG4D,KAAK,CAAClD,GAAD,CAAf;;CACA,QAAI2D,OAAO,CAACrE,CAAD,CAAX,EAAgB;CACfA,MAAAA,CAAC,CAACnB,CAAD,CAAD;CACA,KAFD,MAEO;CACN+E,MAAAA,KAAK,CAAClD,GAAD,CAAL,GAAa7B,CAAb;CACA;CACD,GAVc,CAAf;CAWA;;AAMD,CAAO,SAASmI,OAAT,CACNpD,KADM,EAENlD,GAFM,EAGuB;CAC7B,MAAIuG,SAAS,CAAC/B,MAAV,IAAoB,CAAxB,EAA2B;CAC1B,WAAO6B,aAAa,CAACnD,KAAD,EAAQlD,GAAR,CAApB;CACA;;CACD,SAAO2F,CAAC,IAAIU,aAAa,CAACnD,KAAD,EAAQyC,CAAR,CAAzB;CACA;;CCtJM,SAASjB,cAAT,CAILzB,GAJK,EAIGjD,GAJH,EAIWwG,GAJX,EAI4B;CAClC,SAAO/B,OAAO,CAACC,cAAR,CAAuBzB,GAAvB,EAA4BjD,GAA5B,EAAiC;CACvCE,IAAAA,GAAG,GAAG;CACLI,MAAAA,QAAQ,CAAC2C,GAAD,EAAMjD,GAAN,CAAR;CACA,aAAOwG,GAAP;CACA,KAJsC;;CAKvCpG,IAAAA,GAAG,CAACjC,CAAD,EAAI;CACN,UAAIA,CAAC,KAAKqI,GAAV,EAAe;CAAE;CAAS;;CAC1BA,MAAAA,GAAG,GAAGrI,CAAN;CACA+D,MAAAA,UAAU,CAACe,GAAD,EAAMjD,GAAN,CAAV;CACA,KATsC;;CAUvC4E,IAAAA,YAAY,EAAE,IAVyB;CAWvCD,IAAAA,UAAU,EAAE;CAX2B,GAAjC,CAAP;CAaA;AACD,CAAO,SAAS8B,YAAT,CACNN,IADM,EAENO,IAAc,GAAG,EAFX,EAGNjI,MAHM,EAIF;CACJ,QAAMwE,GAAG,GAAGxE,MAAM,IAAIiI,IAAI,KAAK,IAAnB,GAA0BlI,MAAM,CAACC,MAAP,CAAciI,IAAd,CAA1B,GAAgDA,IAA5D;;CACA,OAAK,MAAM1G,GAAX,IAAkBmG,IAAlB,EAAwB;CACvB,QAAIK,GAAG,GAAGvD,GAAG,CAACjD,GAAD,CAAb;CACAyE,IAAAA,OAAO,CAACC,cAAR,CAAuBzB,GAAvB,EAA4BjD,GAA5B,EAAiC;CAChCE,MAAAA,GAAG,GAAG;CACLI,QAAAA,QAAQ,CAAC2C,GAAD,EAAMjD,GAAN,CAAR;CACA,eAAOwG,GAAP;CACA,OAJ+B;;CAKhCpG,MAAAA,GAAG,CAACjC,CAAD,EAAI;CACN,YAAIA,CAAC,KAAKqI,GAAV,EAAe;CAAE;CAAS;;CAC1BA,QAAAA,GAAG,GAAGrI,CAAN;CACA+D,QAAAA,UAAU,CAACe,GAAD,EAAMjD,GAAN,CAAV;CACA,OAT+B;;CAUhC4E,MAAAA,YAAY,EAAE,IAVkB;CAWhCD,MAAAA,UAAU,EAAE;CAXoB,KAAjC;CAaA;;CACD,SAAO1B,GAAP;CACA;;CCzCD;;;;CAGA,SAAS0D,UAAT,CAAoBxI,CAApB,EAAoD;CACnD,SAAOgE,OAAO,CAAChE,CAAC,IAAI,CAAC,QAAD,EAAW,UAAX,EAAuByI,QAAvB,CAAgC,OAAOzI,CAAvC,CAAN,CAAd;CACA;;CAED,IAAI0I,QAAJ;CACA;;;;;;AAKA,CAAO,SAASC,MAAT,CAAmB3G,KAAnB,EAA6B4G,IAAsB,GAAG,CAAtD,EAA4D;CAClE,MAAI,CAACJ,UAAU,CAACxG,KAAD,CAAf,EAAwB;CAAE,WAAOA,KAAP;CAAe;;CACzC,QAAM6G,QAAQ,GAAG5C,OAAO,CAACjE,KAAD,CAAxB;CACA,QAAM8G,SAAiB,GAAGF,IAAI,KAAK,IAAT,GAAgBG,QAAhB,GAA2BH,IAAI,IAAI,CAA7D;CACA,QAAMI,KAAK,GAAG,IAAIC,KAAJ,CAAUJ,QAAV,EAAoB;CACjC5G,IAAAA,GAAG,CAACV,MAAD,EAASC,IAAT,EAAeQ,KAAf,EAAsBkH,QAAtB,EAAgC;CAClC,UAAIN,IAAI,KAAK,KAAb,EAAoB;CACnB,eAAOtC,OAAO,CAACrE,GAAR,CAAYV,MAAZ,EAAoBC,IAApB,EAA0BQ,KAA1B,EAAiCkH,QAAjC,CAAP;CACA;;CACD,YAAMpH,GAAG,GAAGwE,OAAO,CAACxE,GAAR,CAAYP,MAAZ,EAAoBC,IAApB,CAAZ;CACA,YAAMmC,GAAG,GAAG2C,OAAO,CAACvE,GAAR,CAAYR,MAAZ,EAAoBC,IAApB,EAA0B0H,QAA1B,CAAZ;CACA,YAAMC,QAAQ,GACb7C,OAAO,CAACrE,GAAR,CAAYV,MAAZ,EAAoBC,IAApB,EAA0BQ,KAA1B,EAAiC2G,MAAM,CAACO,QAAD,CAAvC,CADD;;CAEA,UAAI,CAACC,QAAL,EAAe;CAAE,eAAOA,QAAP;CAAkB;;CACnC,UAAIrH,GAAG,KAAKwE,OAAO,CAACxE,GAAR,CAAYP,MAAZ,EAAoBC,IAApB,CAAZ,EAAuC;CACtCuC,QAAAA,UAAU,CAACmF,QAAD,EAAW,IAAX,CAAV;CACA;;CACD,UAAIvF,GAAG,KAAK2C,OAAO,CAACvE,GAAR,CAAYR,MAAZ,EAAoBC,IAApB,EAA0B0H,QAA1B,CAAZ,EAAiD;CAChDnF,QAAAA,UAAU,CAACmF,QAAD,EAAW1H,IAAX,CAAV;CACA;;CACD,aAAO2H,QAAP;CACA,KAjBgC;;CAkBjCpH,IAAAA,GAAG,CAACR,MAAD,EAASC,IAAT,EAAe0H,QAAf,EAAyB;CAC3B,UAAIR,QAAQ,KAAKM,KAAjB,EAAwB;CACvB,YAAIxH,IAAI,KAAK,0BAAb,EAAyC;CACxCkH,UAAAA,QAAQ,GAAGG,QAAX;CACA;CACA;CACD;;CACD,UAAID,IAAI,KAAK,KAAb,EAAoB;CACnB,eAAOtC,OAAO,CAACvE,GAAR,CAAYR,MAAZ,EAAoBC,IAApB,EAA0B0H,QAA1B,CAAP;CACA;;CACD/G,MAAAA,QAAQ,CAAC+G,QAAD,EAAW1H,IAAX,CAAR;CACA,YAAMQ,KAAK,GAAGsE,OAAO,CAACvE,GAAR,CAAYR,MAAZ,EAAoBC,IAApB,EAA0BmH,MAAM,CAACO,QAAD,CAAhC,CAAd;;CACA,UAAIJ,SAAS,GAAG,CAAhB,EAAmB;CAAE,eAAOH,MAAM,CAAC3G,KAAD,EAAQ8G,SAAS,GAAG,CAApB,CAAb;CAAsC;;CAC3D,aAAO9G,KAAP;CACA,KAhCgC;;CAiCjCoH,IAAAA,cAAc,CAAC7H,MAAD,EAAS8H,KAAT,EAAgB;CAC7B,UAAIT,IAAI,KAAK,KAAb,EAAoB;CACnB,eAAOtC,OAAO,CAAC8C,cAAR,CAAuB7H,MAAvB,EAA+B8H,KAA/B,CAAP;CACA;;CACD,YAAMC,QAAQ,GAAGhD,OAAO,CAACiD,cAAR,CAAuBhI,MAAvB,CAAjB;CACA,YAAM4H,QAAQ,GAAG7C,OAAO,CAAC8C,cAAR,CAAuB7H,MAAvB,EAA+B8H,KAA/B,CAAjB;;CACA,UAAIF,QAAQ,IAAIG,QAAQ,KAAKD,KAA7B,EAAoC;CACnCtF,QAAAA,UAAU,CAACxC,MAAD,EAAS,KAAT,CAAV;CACAwC,QAAAA,UAAU,CAACiF,KAAD,EAAQ,KAAR,CAAV;CACA;;CACD,aAAOG,QAAP;CACA,KA5CgC;;CA6CjCI,IAAAA,cAAc,CAAChI,MAAD,EAAS;CACtB,UAAIqH,IAAI,KAAK,KAAb,EAAoB;CACnB,eAAOtC,OAAO,CAACiD,cAAR,CAAuBhI,MAAvB,CAAP;CACA;;CACDY,MAAAA,QAAQ,CAACZ,MAAD,EAAS,KAAT,CAAR;CACAY,MAAAA,QAAQ,CAAC6G,KAAD,EAAQ,KAAR,CAAR;CACA,YAAMhH,KAAU,GAAGsE,OAAO,CAACiD,cAAR,CAAuBhI,MAAvB,CAAnB;;CACA,UAAIuH,SAAS,GAAG,CAAhB,EAAmB;CAClB,eAAOH,MAAM,CAAC3G,KAAD,EAAQ8G,SAAS,GAAG,CAApB,CAAb;CACA;;CACD,aAAO9G,KAAP;CACA,KAxDgC;;CAyDjCuE,IAAAA,cAAc,CAAChF,MAAD,EAASC,IAAT,EAAegI,IAAf,EAAqB;CAClC,UAAIZ,IAAI,KAAK,KAAb,EAAoB;CACnB,eAAOtC,OAAO,CAACC,cAAR,CAAuBhF,MAAvB,EAA+BC,IAA/B,EAAqCgI,IAArC,CAAP;CACA;;CACD,UAAInC,OAAO,GAAG,IAAd;;CACA,UAAI,WAAWmC,IAAf,EAAqB;CACpB,cAAMC,IAAI,GACTnD,OAAO,CAACoD,wBAAR,CAAiCnI,MAAjC,EAAyCC,IAAzC,CADD;;CAEA,YACCiI,IAAI,IAAI,WAAWA,IAAnB,IACGxD,OAAO,CAACuD,IAAI,CAACxH,KAAN,CAAP,KAAwBiE,OAAO,CAACwD,IAAI,CAACzH,KAAN,CAFnC,EAEiD;CAChDqF,UAAAA,OAAO,GAAG,KAAV;CACA;CACD;;CACD,YAAM8B,QAAQ,GAAG7C,OAAO,CAACC,cAAR,CAAuBhF,MAAvB,EAA+BC,IAA/B,EAAqCgI,IAArC,CAAjB;;CACA,UAAInC,OAAO,IAAI8B,QAAf,EAAyB;CACxBpF,QAAAA,UAAU,CAACxC,MAAD,EAASC,IAAT,CAAV;CACAuC,QAAAA,UAAU,CAACiF,KAAD,EAAQxH,IAAR,CAAV;CACA;;CACD,aAAO2H,QAAP;CACA,KA7EgC;;CA8EjCO,IAAAA,wBAAwB,CAACnI,MAAD,EAASC,IAAT,EAAe;CACtC,UAAIoH,IAAI,KAAK,KAAb,EAAoB;CACnB,eAAOtC,OAAO,CAACoD,wBAAR,CAAiCnI,MAAjC,EAAyCC,IAAzC,CAAP;CACA;;CACDW,MAAAA,QAAQ,CAACZ,MAAD,EAASC,IAAT,CAAR;CACAW,MAAAA,QAAQ,CAAC6G,KAAD,EAAQxH,IAAR,CAAR;CACA,aAAO8E,OAAO,CAACoD,wBAAR,CAAiCnI,MAAjC,EAAyCC,IAAzC,CAAP;CACA,KArFgC;;CAsFjCmI,IAAAA,cAAc,CAACpI,MAAD,EAASC,IAAT,EAAe;CAC5B,UAAIoH,IAAI,KAAK,KAAb,EAAoB;CACnB,eAAOtC,OAAO,CAACqD,cAAR,CAAuBpI,MAAvB,EAA+BC,IAA/B,CAAP;CACA;;CACD,YAAMM,GAAG,GAAGwE,OAAO,CAACxE,GAAR,CAAYP,MAAZ,EAAoBC,IAApB,CAAZ;CACA,YAAMoI,OAAO,GAAGtD,OAAO,CAACqD,cAAR,CAAuBpI,MAAvB,EAA+BC,IAA/B,CAAhB;;CACA,UAAIM,GAAG,IAAI,CAACwE,OAAO,CAACxE,GAAR,CAAYP,MAAZ,EAAoBC,IAApB,CAAZ,EAAuC;CACtCuC,QAAAA,UAAU,CAACxC,MAAD,EAASC,IAAT,CAAV;CACAuC,QAAAA,UAAU,CAACxC,MAAD,EAAS,IAAT,CAAV;CACAwC,QAAAA,UAAU,CAACiF,KAAD,EAAQxH,IAAR,CAAV;CACAuC,QAAAA,UAAU,CAACiF,KAAD,EAAQ,IAAR,CAAV;CACA;;CACD,aAAOY,OAAP;CACA,KAnGgC;;CAoGjC7B,IAAAA,OAAO,CAACxG,MAAD,EAAS;CACf,UAAIqH,IAAI,KAAK,KAAb,EAAoB;CAAE,eAAOtC,OAAO,CAACyB,OAAR,CAAgBxG,MAAhB,CAAP;CAAiC;;CACvDY,MAAAA,QAAQ,CAACZ,MAAD,EAAS,IAAT,CAAR;CACAY,MAAAA,QAAQ,CAAC6G,KAAD,EAAQ,IAAR,CAAR;CACA,aAAO1C,OAAO,CAACyB,OAAR,CAAgBxG,MAAhB,CAAP;CACA,KAzGgC;;CA0GjCO,IAAAA,GAAG,CAACP,MAAD,EAASC,IAAT,EAAe;CACjB,UAAIoH,IAAI,KAAK,KAAb,EAAoB;CAAE,eAAOtC,OAAO,CAACxE,GAAR,CAAYP,MAAZ,EAAoBC,IAApB,CAAP;CAAmC;;CACzDW,MAAAA,QAAQ,CAACZ,MAAD,EAAS,IAAT,CAAR;CACAY,MAAAA,QAAQ,CAAC6G,KAAD,EAAQ,IAAR,CAAR;CACA,aAAO1C,OAAO,CAACxE,GAAR,CAAYP,MAAZ,EAAoBC,IAApB,CAAP;CACA;;CA/GgC,GAApB,CAAd;CAiHA,SAAOwH,KAAP;CACA;CACD;;AACA,CAAO,SAAS/C,OAAT,CAAoBjG,CAApB,EAA6B;CACnC,MAAI,CAACA,CAAL,EAAQ;CAAE,WAAOA,CAAP;CAAW;;CACrB,MAAI,CAACwI,UAAU,CAACxI,CAAD,CAAf,EAAoB;CAAE,WAAOA,CAAP;CAAW;;CACjC,MAAIgC,KAAK,GAAGhC,CAAZ;;CACA,MAAI;CACH0I,IAAAA,QAAQ,GAAG1I,CAAX;CACAgC,IAAAA,KAAK,GAAIhC,CAAD,CAAW6J,wBAAnB;CACA,GAHD,CAGE,gBAAM;;CACR7H,EAAAA,KAAK,GAAG0G,QAAR;CACAA,EAAAA,QAAQ,GAAG,KAAX;;CACA,MAAI,CAAC1G,KAAL,EAAY;CAAE,WAAOhC,CAAP;CAAW;;CACzB,MAAI,OAAOgC,KAAP,KAAiB,QAArB,EAA+B;CAAE,WAAOA,KAAP;CAAe;;CAChD,MAAI,OAAOA,KAAP,KAAiB,UAArB,EAAiC;CAAE,WAAOA,KAAP;CAAe;;CAClD,SAAOhC,CAAP;CACA;;CC3Ic,SAAS8J,kBAAT,CACdC,GADc,EAEP;;CCFR,SAASC,OAAT,CAAiBC,IAAjB,EAA6C;CAC5CH,EAAAA,kBAAkB,CAACG,IAAI,CAACC,WAAN,CAAlB;CACAvJ,EAAAA,aAAa,CAACsJ,IAAI,CAACrJ,QAAN,CAAb;;CACA,EAAmB;CAClBpB,IAAAA,eAAe,CAACyK,IAAI,CAAC3K,QAAN,CAAf;CACA;CACD;;CCLD,MAAM6K,UAA4C,GAAG9J,MAAM,CAACC,MAAP,CAAc,IAAd,CAArD;CACA,IAAI8J,MAAM,GAAG,CAAb;CAGA,IAAIC,MAAM,GAAG,KAAb;CACA,IAAIC,QAAJ;CACA,IAAIC,IAAJ;CACA,IAAIC,IAAJ;AAGA,CAAO,SAASC,QAAT,GAA0B;CAChC1K,EAAAA,MAAM,CACLsK,MAAM,IAAI,CAACC,QAAX,IAAuB,CAACA,QAAQ,CAACjE,MAD5B,EAEL,8CAFK,EAGL,MAHK,CAAN;CAKA;AAED,CAAO,SAASqE,QAAT,CAAkBC,IAAlB,EAAiCC,OAAjC,EAAiE;CACvE,QAAMC,KAAgB,GAAGzL,CAEtB;CAAE6D,IAAAA,IAAI,EAAEqH,QAAR;CAAkBD,IAAAA,MAAlB;CAA0BE,IAAAA,IAA1B;CAAgCC,IAAAA;CAAhC,GAFH;;CAGA,MAAI,CAACI,OAAL,EAAc;CACbP,IAAAA,MAAM,GAAG,KAAT;CACAC,IAAAA,QAAQ,GAAG7I,SAAX;;CACA,IAAmB;CAClB8I,MAAAA,IAAI,GAAG,EAAP;CACAC,MAAAA,IAAI,GAAG,EAAP;CACA;;CACD,WAAOK,KAAP;CACA;;CACDR,EAAAA,MAAM,GAAGM,IAAT;CACAL,EAAAA,QAAQ,GAAGK,IAAI,GAAGC,OAAH,GAAa,CAAC,GAAGA,OAAJ,CAA5B;;CACA,EAAmB;CAClBL,IAAAA,IAAI,GAAGK,OAAP;CACAJ,IAAAA,IAAI,GAAG,EAAP;CACA;;CACD,SAAOK,KAAP;CACA;AACD,CAAO,SAASC,gBAAT,CAA0BD,KAA1B,EAAkD;CACxD,EAEO;CACN,KAAC;CAAE5H,MAAAA,IAAI,EAAEqH,QAAR;CAAkBD,MAAAA,MAAlB;CAA0BE,MAAAA,IAA1B;CAAgCC,MAAAA;CAAhC,QAAyCK,KAA1C;CACA;CACD;;CACD,SAAS/J,YAAT,CAAoBsD,IAApB,EAAoC2G,KAApC,EAA6D;AAC5D;CAKA,SAAO,EAAP;CACA;;AAaD,CAAO,SAASC,SAAT,CAA0C;CAChDC,EAAAA,IADgD;CAEhD3K,EAAAA,MAAM,GAAG,OAAO,EAAP,CAFuC;CAGhD4K,EAAAA,OAHgD;CAIhD7F,EAAAA,IAAI,GAAKrF,CAAD,IAAYA;CAJ4B,CAA1C,EAUY;CAClB,QAAMmL,EAAE,GAAGf,MAAM,EAAjB;;CACA,MAAI,OAAOc,OAAP,KAAmB,UAAvB,EAAmC;CAClCf,IAAAA,UAAU,CAACgB,EAAD,CAAV,GAAiBD,OAAjB;CACA;;CACD,SAAO,CAAC,GAAG/J,CAAJ,KAAa;CACnBpB,IAAAA,MAAM,CACLuK,QADK,EAEJ,cAAcW,IAAM,uCAFhB,EAGL,MAHK,CAAN;;CAKA,QAAIZ,MAAJ,EAAY;CACX,YAAMpH,IAAe,GAAG,EAAxB;CACA,YAAMmB,IAAa,GAAG;CAAE+G,QAAAA,EAAF;CAAMnJ,QAAAA,KAAK,EAAE1B,MAAM,CAAC,GAAGa,CAAJ,CAAnB;CAA2B8B,QAAAA;CAA3B,OAAtB;CACA,YAAMmI,MAAM,GAAGd,QAAf;CACAA,MAAAA,QAAQ,GAAGrH,IAAX;;CACA,UAAI;CACH,eAAOoC,IAAI,CAACjB,IAAI,CAACpC,KAAN,EAAa,GAAGb,CAAhB,CAAX;CACA,OAFD,SAEU;CACTmJ,QAAAA,QAAQ,GAAGc,MAAX;CACA;CACD;;CACD,UAAMhH,IAAI,GAAGkG,QAAQ,CAACe,KAAT,EAAb;CACAtL,IAAAA,MAAM,CAACqE,IAAI,IAAIA,IAAI,CAAC+G,EAAL,KAAYA,EAArB,EAAyB,MAAMrK,YAAU,CAACsD,AAAD,CAAzC,EAAiD,MAAjD,CAAN;CACA,UAAM;CAAEpC,MAAAA;CAAF,QAAYoC,IAAlB;CAEA,UAAMnB,IAAI,GAAG,CAAC,GAAGmB,IAAI,CAACnB,IAAT,CAAb;CACA,UAAMmI,MAAM,GAAGd,QAAf;CACAA,IAAAA,QAAQ,GAAGrH,IAAX;;CAEA,IAQO;CACN,YAAMqI,OAAkB,GAAG,EAA3B;;CACA,UAAId,IAAJ,EAAU;CACTA,QAAAA,IAAI,CAACvF,IAAL,CAAU;CAAEkG,UAAAA,EAAF;CAAMlI,UAAAA,IAAI,EAAEqI,OAAZ;CAAqBtJ,UAAAA;CAArB,SAAV;CACA;;CACD,YAAMuJ,SAAS,GAAGf,IAAlB;CACAA,MAAAA,IAAI,GAAGc,OAAP;;CACA,UAAI;CACH,cAAME,GAAG,GAAGnG,IAAI,CAACrD,KAAD,EAAQ,GAAGb,CAAX,CAAhB;CACApB,QAAAA,MAAM,CAAC,CAACkD,IAAI,CAACoD,MAAP,EAAe,MAAMvF,YAAU,CAACsD,IAAD,EAAO,IAAP,CAA/B,EAA6C,MAA7C,CAAN;CACA,eAAOoH,GAAP;CACA,OAJD,SAIU;CACTlB,QAAAA,QAAQ,GAAGc,MAAX;CACAZ,QAAAA,IAAI,GAAGe,SAAP;CACA;CACD;CAED,GAlDD;CAmDA;AAED,CAAO,SAASE,cAAT,CAAwBC,IAAxB,EAAgD;CACtD,MAAI,CAACA,IAAL,EAAW;CAAE;CAAS;;CACtB,OAAK,MAAM;CAACP,IAAAA,EAAD;CAAKnJ,IAAAA,KAAL;CAAYiB,IAAAA;CAAZ,GAAX,IAAgCyI,IAAhC,EAAsC;CACrCD,IAAAA,cAAc,CAACxI,IAAD,CAAd;;CACA,QAAI,EAAEkI,EAAE,IAAIhB,UAAR,CAAJ,EAAyB;CAAE;CAAW;;CACtC,UAAMe,OAAO,GAAGf,UAAU,CAACgB,EAAD,CAA1B;CACAD,IAAAA,OAAO,CAAClJ,KAAD,CAAP;CACA;CACD;;CCpJM,IAAI2J,SAAJ;CACP,IAAIC,OAAJ;AAEA,CAAO,SAASC,UAAT,CACNC,cADM,EAENC,MAFM,EAGN5L,EAHM,EAIN,GAAGgB,CAJG,EAKF;CAGJ,QAAM6K,UAAU,GAAGJ,OAAnB;CACAA,EAAAA,OAAO,GAAGE,cAAV;CAEA,QAAMG,SAAoB,GAAGF,MAAM,GAChCrB,QAAQ,CAAC,CAACoB,cAAc,CAACI,OAAjB,EAA0BJ,cAAc,CAAClB,OAAzC,CADwB,GAEhCF,QAAQ,CAAC,KAAD,CAFX;;CAIA,MAAI;CACH,UAAMc,GAAG,GAAGrL,EAAE,CAAC,GAAGgB,CAAJ,CAAd;;CACA,QAAI4K,MAAJ,EAAY;CAAEtB,MAAAA,QAAQ;CAAK;;CAC3B,WAAOe,GAAP;CACA,GAJD,SAIU;CACTI,IAAAA,OAAO,GAAGI,UAAV;CACAlB,IAAAA,gBAAgB,CAACmB,SAAD,CAAhB;CACA;CACD;AACD,CAAO,SAASE,mBAAT,CACNL,cADM,EAENC,MAFM,EAGNK,QAHM,EAINjM,EAJM,EAKN,GAAGgB,CALG,EAMF;CACJ,QAAM6K,UAAU,GAAGJ,OAAnB;CACAA,EAAAA,OAAO,GAAGE,cAAV;CAEA,QAAMG,SAAoB,GAAGF,MAAM,GAChCrB,QAAQ,CAAC,CAACoB,cAAc,CAACI,OAAjB,EAA0BJ,cAAc,CAAClB,OAAzC,CADwB,GAEhCF,QAAQ,CAAC,KAAD,CAFX;CAIA,QAAM2B,WAAW,GAAGV,SAApB;CACAA,EAAAA,SAAS,GAAGS,QAAZ;;CAEA,MAAI;CACH,UAAMZ,GAAG,GAAGrL,EAAE,CAAC,GAAGgB,CAAJ,CAAd;;CACA,QAAI4K,MAAJ,EAAY;CAAEtB,MAAAA,QAAQ;CAAK;;CAC3B,WAAOe,GAAP;CACA,GAJD,SAIU;CACTI,IAAAA,OAAO,GAAGI,UAAV;CACAlB,IAAAA,gBAAgB,CAACmB,SAAD,CAAhB;CACAN,IAAAA,SAAS,GAAGU,WAAZ;CACA;CACD;AAGD,CAAO,SAASC,YAAT,CACNrB,IADM,EAEQ;CACdlL,EAAAA,MAAM,CACL6L,OADK,EAEJ,cAAcX,IAAM,uCAFhB,EAGL,MAHK,CAAN;CAKA,SAAOW,OAAP;CACA;;CCxDM,SAASW,OAAT,CACNpB,EADM,EAENqB,IAFM,EAGNC,WAHM,EAIO;CACb,MAAI;CAACC,IAAAA;CAAD,MAAUD,WAAd;;CACA,MAAI,CAACC,KAAL,EAAY;CAAE,WAAO,MAAM,EAAb;CAAkB;;CAChCF,EAAAA,IAAI,GAAGtL,OAAO,CAACsL,IAAD,CAAd;CACA,MAAIvK,GAAG,GAAGyK,KAAK,CAACvB,EAAD,CAAf;;CACA,MAAI,CAAClJ,GAAL,EAAU;CACTA,IAAAA,GAAG,GAAG,IAAI4B,GAAJ,EAAN;CACA6I,IAAAA,KAAK,CAACvB,EAAD,CAAL,GAAYlJ,GAAZ;CACA;;CACDA,EAAAA,GAAG,CAAC6B,GAAJ,CAAQ0I,IAAR;CACA,SAAO,MAAMvK,GAAG,CAACqC,MAAJ,CAAWkI,IAAX,CAAb;CACA;AAUD,CAAO,SAASG,QAAT,CACNxB,EADM,EAEN;CAACuB,EAAAA;CAAD,CAFM,EAGC;CACP,MAAI,CAACA,KAAL,EAAY;CAAE;CAAS;;CACvB,OAAK,MAAMF,IAAX,IAAmBE,KAAK,CAACvB,EAAD,CAAL,IAAa,EAAhC,EAAoC;CACnCqB,IAAAA,IAAI;CACJ;CACD;;CCzCD;;;;CAGA;;;;;;;;;CA0BA,SAASI,SAAT,CACC5K,KADD,EAECkC,EAFD,EAGCM,GAHD,EAIc;CACb,QAAMiI,WAAW,GAAGH,YAAY,CAAC,WAAD,CAAhC;;CACA,MAAI,OAAOtK,KAAP,KAAiB,UAArB,EAAiC;CAAE,WAAO,MAAM,EAAb;CAAkB;;CACrD,MAAIkD,IAAJ;;CACA,MAAIM,OAAO,CAACxD,KAAD,CAAX,EAAoB;CACnBkD,IAAAA,IAAI,GAAGlD,KAAK,CAACgB,KAAN,CAAYkB,EAAZ,CAAP;;CACA,QAAIM,GAAJ,EAAS;CACRN,MAAAA,EAAE,CAAClC,KAAD,EAAQ,KAAR,CAAF;CACA;CACD,GALD,MAKO;CACN,UAAMhC,CAAC,GAAGgH,QAAQ,CAAChF,KAAD,CAAlB;CACAkD,IAAAA,IAAI,GAAGlF,CAAC,CAACgD,KAAF,CAAQ,CAAChD,CAAD,EAAI0H,CAAJ,KAAUxD,EAAE,CAAClE,CAAC,EAAF,EAAM0H,CAAN,CAApB,CAAP;;CACA,QAAIlD,GAAJ,EAAS;CACRN,MAAAA,EAAE,CAAClE,CAAC,EAAF,EAAM,KAAN,CAAF;CACA;CACD;;CACDuM,EAAAA,OAAO,CAAC,eAAD,EAAkB,MAAMrH,IAAI,EAA5B,EAAgCuH,WAAhC,CAAP;CACA,SAAOvH,IAAP;CACA;;CCrDD;;;;CAGA;;;;;;;CAgBA,SAAS2H,QAAT,CACC5B,IADD,EAECuB,IAFD,EAGCM,QAHD,EAI4B;CAC3B,QAAML,WAAW,GAAGH,YAAY,CAAC,UAAD,CAAhC;;CACA,MAAIQ,QAAQ,IAAIL,WAAW,CAACP,OAA5B,EAAqC;CAAE,WAAOzK,SAAP;CAAmB;;CAC1D,SAAO8K,OAAO,CAACtB,IAAD,EAAO,MAAMuB,IAAI,EAAjB,EAAqBC,WAArB,CAAd;CACA;;CC/BM,MAAMM,cAAc,GAAGjH,MAAM,CAACkH,GAAP,CAAW,UAAX,CAAvB;AACP,CAAO,MAAMC,UAAU,GAAGnH,MAAM,CAACkH,GAAP,CAAW,MAAX,CAAnB;AACP,CAAO,MAAME,gBAAgB,GAAGpH,MAAM,CAACkH,GAAP,CAAW,YAAX,CAAzB;AACP,CAAO,MAAMG,WAAW,GAAGrH,MAAM,CAACkH,GAAP,CAAW,OAAX,CAApB;AACP,CAAO,MAAMI,oBAAoB,GAAGtH,MAAM,CAACkH,GAAP,CAAW,sBAAX,CAA7B;AAGP,CAAO,MAAMK,gBAAgB,GAAGvH,MAAM,CAACkH,GAAP,CAAW,kBAAX,CAAzB;AACP,CAAO,MAAMM,uBAAuB,GAAG,yBAAhC;AACP,CAAO,MAAMC,gCAAgC,GAAG,kCAAzC;AACP,CAAO,MAAMC,+BAA+B,GAAG,qCAAxC;AACP,CAAO,MAAMC,+BAA+B,GAAG,iCAAxC;AACP,CAAO,MAAMC,8BAA8B,GAAG,gCAAvC;AACP,CAAO,MAAMC,+BAA+B,GAAG,iCAAxC;AACP,CAAO,MAAMC,kCAAkC,GAAG,oCAA3C;AACP,CAAO,MAAMC,gCAAgC,GAAG,kCAAzC;AACP,CAAO,MAAMC,0BAA0B,GAAG,4BAAnC;AAGP,CAAO,MAAMC,gBAAgB,GAAGjI,MAAM,CAACkH,GAAP,CAAW,kBAAX,CAAzB;AACP,CAAO,MAAMgB,oBAAoB,GAAGlI,MAAM,CAACkH,GAAP,CAAW,sBAAX,CAA7B;;CCAA,SAASiB,iBAAT,CAA2BjO,CAA3B,EAAmE;CACzE,MAAI,OAAOA,CAAP,KAAa,UAAjB,EAA6B;CAAE,WAAO,KAAP;CAAe;;CAC9C,SAAOA,CAAC,CAACqN,gBAAD,CAAD,KAAwBI,+BAA/B;CACA;AACD,CAAO,SAASS,gBAAT,CAA0BlO,CAA1B,EAAiE;CACvE,MAAI,OAAOA,CAAP,KAAa,UAAjB,EAA6B;CAAE,WAAO,KAAP;CAAe;;CAC9C,SAAOA,CAAC,CAACqN,gBAAD,CAAD,KAAwBK,8BAA/B;CACA;AACD,CAAO,SAASS,iBAAT,CAA2BnO,CAA3B,EAAyE;CAC/E,MAAI,OAAOA,CAAP,KAAa,UAAjB,EAA6B;CAAE,WAAO,KAAP;CAAe;;CAC9C,SAAOA,CAAC,CAACqN,gBAAD,CAAD,KAAwBG,+BAA/B;CACA;AACD,CAAO,SAASY,iBAAT,CAA2BpO,CAA3B,EAAwE;CAC9E,MAAI,OAAOA,CAAP,KAAa,UAAjB,EAA6B;CAAE,WAAO,KAAP;CAAe;;CAC9C,SAAOA,CAAC,CAACqN,gBAAD,CAAD,KAAwBM,+BAA/B;CACA;AACD,CAAO,SAASU,oBAAT,CAA8BrO,CAA9B,EAAyE;CAC/E,MAAI,OAAOA,CAAP,KAAa,UAAjB,EAA6B;CAAE,WAAO,KAAP;CAAe;;CAC9C,SAAOA,CAAC,CAACqN,gBAAD,CAAD,KAAwBO,kCAA/B;CACA;AACD,CAAO,SAASU,kBAAT,CAA4BtO,CAA5B,EAAqE;CAC3E,MAAI,OAAOA,CAAP,KAAa,UAAjB,EAA6B;CAAE,WAAO,KAAP;CAAe;;CAC9C,SAAOA,CAAC,CAACqN,gBAAD,CAAD,KAAwBQ,gCAA/B;CACA;AACD,CAAO,SAASU,kBAAT,CAA4BvO,CAA5B,EAAgE;CACtE,MAAI,OAAOA,CAAP,KAAa,UAAjB,EAA6B;CAAE,WAAO,KAAP;CAAe;;CAC9C,SAAOA,CAAC,CAACqN,gBAAD,CAAD,KAAwBE,gCAA/B;CACA;;CCtCc,SAASiB,aAAT,CAA0BC,OAA1B,EAA2D;CACzE1O,EAAAA,MAAM,CAAC2O,kBAAS,CAACD,OAAD,CAAV,EAAqB,0CAArB,EAAiE,SAAjE,CAAN;CACA,QAAM;CAAEE,IAAAA;CAAF,MAAgBrC,YAAY,CAAC,eAAD,CAAlC;CACA,QAAMtK,KAAK,GAAG2M,SAAS,CAACF,OAAO,CAACV,gBAAD,CAAR,CAAvB;CACA,SAAO/L,KAAK,KAAKP,SAAV,GAAsBgN,OAAO,CAACT,oBAAD,CAA7B,GAAsDhM,KAA7D;CACA;;CCTD,SAAS4M,WAAT,CAAwBnL,CAAxB,EAAgD;CAC/C,SAAO6I,YAAY,CAAC,aAAD,CAAZ,CAA4BuC,OAA5B,CAAoCpL,CAApC,CAAP;CACA;;CCJD,SAASqL,UAAT,GAA0E;CACzE,SAAOxC,YAAY,CAAC,YAAD,CAAZ,CAA2BlB,MAAlC;CACA;;CCHD,SAAS2D,YAAT,GAAgC;CAC/B,SAAOzC,YAAY,CAAC,cAAD,CAAZ,CAA6B0C,WAA7B,EAAP;CACA;;CCFD,SAASC,YAAT,CAA0C9O,EAA1C,EAAgF;CAC/E,QAAMyL,OAAO,GAAGU,YAAY,CAAC,cAAD,CAA5B;CACA,SAAO,CAAC,GAAGnL,CAAJ,KAAU0K,UAAU,CAACD,OAAD,EAAUnK,SAAV,EAAqBtB,EAArB,EAAyB,GAAGgB,CAA5B,CAA3B;CACA;;CCwBD,SAAS+N,iBAAT,CACCpP,GADD,EAECqP,KAFD,EAGC,GAAGC,QAHJ,EAIW;CACV,QAAMrK,KAA0B,GAAG,OAAOoK,KAAP,KAAiB,QAAjB,IAA6BA,KAA7B,IAAsC,EAAzE;CACA,QAAME,IAAa,GAAG;CACrB,KAAChC,gBAAD,GAAoBC,uBADC;CAErBxN,IAAAA,GAFqB;CAGrBiF,IAAAA,KAHqB;CAIrBqK,IAAAA,QAJqB;CAKrBvN,IAAAA,GAAG,EAAEJ;CALgB,GAAtB;;CAOA,MAAI,WAAWsD,KAAf,EAAsB;CAAEsK,IAAAA,IAAI,CAACxN,GAAL,GAAWkD,KAAK,CAAC,OAAD,CAAhB;CAA4B;;CACpD,MAAI,YAAYA,KAAhB,EAAuB;CAAEsK,IAAAA,IAAI,CAACC,IAAL,GAAYvK,KAAK,CAAC,QAAD,CAAjB;CAA8B;;CACvD,SAAOsK,IAAP;CACA;;CC7CM,MAAME,SAAS,GAAG,gBAAlB;AACP,CAAO,MAAMC,MAAM,GAAG,aAAf;AACP,CAAO,MAAMC,IAAI,GAAG,WAAb;AACP,CAAO,MAAMC,SAAS,GAAG,gBAAlB;AACP,CAAO,MAAMC,QAAQ,GAAG,UAAjB;AACP,CAAO,MAAMC,QAAQ,GAAGD,QAAjB;;CCAQ,SAASE,qBAAT,CAA+B,GAAGT,QAAlC,EAA4D;CAC1E,SAAO;CACN,KAAC/B,gBAAD,GAAoBC,uBADd;CAENxN,IAAAA,GAAG,EAAE6P,QAFC;CAGNP,IAAAA;CAHM,GAAP;CAKA;;CCND;;;;AAGA,CAAe,SAASU,SAAT,CAAmB9P,CAAnB,EAAyC;CACvD,MAAI,CAACA,CAAL,EAAQ;CAAE,WAAO,KAAP;CAAe;;CACzB,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;CAAE,WAAO,KAAP;CAAe;;CAC5C,SAAOA,CAAC,CAACqN,gBAAD,CAAD,KAAwBC,uBAA/B;CACA;;CCVc,SAASyC,KAAT,CAAeC,CAAf,EAAuBC,CAAvB,EAAwC;CACtD,MAAI5P,MAAM,CAAC6P,EAAP,CAAUF,CAAV,EAAaC,CAAb,CAAJ,EAAqB;CAAE,WAAO,IAAP;CAAc;;CACrC,MAAI,CAACD,CAAL,EAAQ;CAAE,WAAO,KAAP;CAAe;;CACzB,MAAI,CAACC,CAAL,EAAQ;CAAE,WAAO,KAAP;CAAe;;CACzB,MAAI,OAAOD,CAAP,KAAa,QAAjB,EAA2B;CAAE,WAAO,KAAP;CAAe;;CAC5C,MAAI,OAAOC,CAAP,KAAa,QAAjB,EAA2B;CAAE,WAAO,KAAP;CAAe;;CAC5C,MAAItI,KAAK,CAACC,OAAN,CAAcoI,CAAd,CAAJ,EAAsB;CACrB,QAAI,CAACrI,KAAK,CAACC,OAAN,CAAcqI,CAAd,CAAL,EAAuB;CAAE,aAAO,KAAP;CAAe;;CACxC,QAAID,CAAC,CAAC3J,MAAF,KAAa4J,CAAC,CAAC5J,MAAnB,EAA2B;CAAE,aAAO,KAAP;CAAe;;CAC5C,SAAK,IAAI8J,CAAC,GAAGH,CAAC,CAAC3J,MAAF,GAAW,CAAxB,EAA2B8J,CAAC,IAAI,CAAhC,EAAmCA,CAAC,EAApC,EAAwC;CACvC,UAAI,CAACJ,KAAK,CAACC,CAAC,CAACG,CAAD,CAAF,EAAOF,CAAC,CAACE,CAAD,CAAR,CAAV,EAAwB;CAAE,eAAO,KAAP;CAAe;CACzC;;CACD,WAAO,IAAP;CACA;;CACD,MAAIxI,KAAK,CAACC,OAAN,CAAcqI,CAAd,CAAJ,EAAsB;CAAE,WAAO,KAAP;CAAe;;CACvC,MAAI,CAACH,SAAS,CAACE,CAAD,CAAd,EAAmB;CAAE,WAAO,KAAP;CAAe;;CACpC,MAAI,CAACF,SAAS,CAACG,CAAD,CAAd,EAAmB;CAAE,WAAO,KAAP;CAAe;;CACpC,MAAID,CAAC,CAAClQ,GAAF,KAAUmQ,CAAC,CAACnQ,GAAhB,EAAqB;CAAE,WAAO,KAAP;CAAe;;CACtC,MAAIkQ,CAAC,CAACI,MAAF,KAAaH,CAAC,CAACG,MAAnB,EAA2B;CAAE,WAAO,KAAP;CAAe;;CAC5C,MAAIJ,CAAC,CAACK,QAAF,KAAeJ,CAAC,CAACI,QAArB,EAA+B;CAAE,WAAO,KAAP;CAAe;;CAChD,MAAIL,CAAC,CAACM,SAAF,KAAgBL,CAAC,CAACK,SAAtB,EAAiC;CAAE,WAAO,KAAP;CAAe;;CAClD,MAAIN,CAAC,CAACnO,GAAF,KAAUoO,CAAC,CAACpO,GAAhB,EAAqB;CAAE,WAAO,KAAP;CAAe;;CACtC,MAAImO,CAAC,CAACV,IAAF,KAAWW,CAAC,CAACX,IAAjB,EAAuB;CAAE,WAAO,KAAP;CAAe;;CACxC,QAAMiB,MAAM,GAAGP,CAAC,CAACjL,KAAjB;CACA,QAAMyL,MAAM,GAAGP,CAAC,CAAClL,KAAjB;;CACA,MAAI1E,MAAM,CAAC6P,EAAP,CAAUK,MAAV,EAAkBC,MAAlB,CAAJ,EAA+B;CAAE,WAAOT,KAAK,CAACC,CAAC,CAACZ,QAAH,EAAaa,CAAC,CAACb,QAAf,CAAZ;CAAuC;;CACxE,MAAI,CAACmB,MAAL,EAAa;CAAE,WAAO,KAAP;CAAe;;CAC9B,MAAI,CAACC,MAAL,EAAa;CAAE,WAAO,KAAP;CAAe;;CAC9B,MAAI,OAAOD,MAAP,KAAkB,QAAtB,EAAgC;CAAE,WAAO,KAAP;CAAe;;CACjD,MAAI,OAAOC,MAAP,KAAkB,QAAtB,EAAgC;CAAE,WAAO,KAAP;CAAe;;CACjD,QAAMC,KAAK,GAAG,IAAI5M,GAAJ,CAAQxD,MAAM,CAAC2H,IAAP,CAAYuI,MAAZ,CAAR,CAAd;CACA,QAAMG,KAAK,GAAGrQ,MAAM,CAAC2H,IAAP,CAAYwI,MAAZ,CAAd;;CACA,MAAIC,KAAK,CAAClM,IAAN,KAAemM,KAAK,CAACrK,MAAzB,EAAiC;CAAE,WAAO,KAAP;CAAe;;CAClD,OAAK,MAAMmB,CAAX,IAAgBkJ,KAAhB,EAAuB;CACtB,QAAI,CAACD,KAAK,CAAC3O,GAAN,CAAU0F,CAAV,CAAL,EAAmB;CAAE,aAAO,KAAP;CAAe;;CACpC,QAAI+I,MAAM,CAAC/I,CAAD,CAAN,KAAcgJ,MAAM,CAAChJ,CAAD,CAAxB,EAA6B;CAAE,aAAO,KAAP;CAAe;CAC9C;;CACD,SAAOuI,KAAK,CAACC,CAAC,CAACZ,QAAH,EAAaa,CAAC,CAACb,QAAf,CAAZ;CACA;;CCpCc,SAASuB,eAAT,CAAyB3Q,CAAzB,EAA8D;CAC5E,MAAI,CAAC8P,SAAS,CAAC9P,CAAD,CAAd,EAAmB;CAAE,WAAO,KAAP;CAAe;;CACpC,QAAM;CAAEF,IAAAA;CAAF,MAAUE,CAAhB;;CACA,MAAI,OAAOF,GAAP,KAAe,QAAnB,EAA6B;CAAE,WAAO,KAAP;CAAe;;CAC9C,SAAOA,GAAG,CAAC8Q,WAAJ,OAAsBpB,MAA7B;CACA;;CCJc,SAASqB,SAAT,CAAmB,GAAGC,KAAtB,EAAuD;CACrE,EAAmB;CAClB,UAAMC,MAAM,GAAGD,KAAK,CAAC/N,MAAN,CAAaiB,OAAb,EAAsBpC,GAAtB,CAA0BsB,CAAC,IAAI,OAAOA,CAAP,KAAa,QAAb,GAAwB;CAAC8N,MAAAA,IAAI,EAAE9N;CAAP,KAAxB,GAAoCA,CAAnE,CAAf;;CACA,QAAI,CAACyI,SAAL,EAAgB;CAAE;CAAS;;CAC3BA,IAAAA,SAAS,CAACoF,MAAD,CAAT;CACA;CACD;;CCPD,IAAIE,GAAG,GAAG,CAAV;CACA,MAAMC,KAAiC,GAAG,EAA1C;CACA,MAAMC,KAAK,GAAG/R,CAA2B,IAAIyD,OAAJ,EAAzC;AACA,CAAO,SAASuO,iBAAT,CACNC,CADM,EAENlG,EAFM,EAGQ;CACd,EAAmB;CAClBA,IAAAA,EAAE,GAAGA,EAAE,IAAI,EAAE8F,GAAb;CACA,UAAM;CAAE5B,MAAAA;CAAF,QAAWgC,CAAjB;;CACA,QAAIhC,IAAI,IAAI8B,KAAZ,EAAmB;CAAEA,MAAAA,KAAK,CAAClP,GAAN,CAAUoN,IAAV,EAAgBlE,EAAhB;CAAsB;;CAC3C,UAAMmG,OAAO,GAAG,EAAC,GAAGD,CAAJ;CAAOlG,MAAAA;CAAP,KAAhB;CACA+F,IAAAA,KAAK,CAAC/F,EAAD,CAAL,GAAYmG,OAAZ;CACAvN,IAAAA,UAAU,CAACmN,KAAD,EAAQ/F,EAAR,CAAV;CACA,WAAOmG,OAAP;CACA;CAED;AAED,CAAO,SAASC,mBAAT,CAA6BlC,IAA7B,EAAsD;CAC5D,EAAmB;CAClB,WAAO6B,KAAK,CAAC7B,IAAI,CAAClE,EAAN,CAAZ;CACA;CACD;AAED,CAAO,SAASqG,OAAT,CACNrG,EADM,EAEkB;CACxB,EAAmB;CAClB,QAAI,OAAOA,EAAP,KAAc,QAAlB,EAA4B;CAC3BA,MAAAA,EAAE,GAAG,CAAAgG,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEpP,GAAP,CAAWoJ,EAAX,MAAkB,CAAC,CAAxB;CACA;;CACDhJ,IAAAA,QAAQ,CAAC+O,KAAD,EAAQ/F,EAAR,CAAR;CACA,WAAO+F,KAAK,CAAC/F,EAAD,CAAZ;CACA;CAED;;CCrCD;;AAEA,CAAe,SAASsG,SAAT,CAAmBvO,CAAnB,EAA0D;CACxE,MAAIA,CAAC,KAAK,KAAN,IAAeA,CAAC,KAAK,IAArB,IAA6BA,CAAC,KAAKzB,SAAvC,EAAkD;CACjD,WAAO,IAAP;CACA;;CACD,MAAIqO,SAAS,CAAC5M,CAAD,CAAb,EAAkB;CACjB,WAAOA,CAAP;CACA;;CACD,SAAO;CAAErB,IAAAA,GAAG,EAAEqB,CAAP;CAAU6B,IAAAA,KAAK,EAAE;CAAE/C,MAAAA,KAAK,EAAEkB;CAAT,KAAjB;CAA+BkM,IAAAA,QAAQ,EAAE;CAAzC,GAAP;CACA;;CCLc,SAASsC,eAAT,CAAyB9Q,QAAzB,EAA2D;CACzE,QAAMyO,IAAI,GAAGzO,QAAQ,CAAC+Q,iBAAT,EAAb;CACA,SAAOP,iBAAiB,CAAC;CAAEtR,IAAAA,GAAG,EAAE,IAAP;CAAauP,IAAAA;CAAb,GAAD,CAAxB;CACA;;CCAc,SAASuC,UAAT,CACdhR,QADc,EAEdiR,YAFc,EAGdhL,MAHc,EAIA;CACd,MAAI,CAACA,MAAL,EAAa;CAAE,WAAO6K,eAAe,CAAC9Q,QAAD,CAAtB;CAAmC;;CAClD,QAAM;CAAEoI,IAAAA;CAAF,MAAYnC,MAAlB;CACAmC,EAAAA,KAAK,CAAC8I,KAAN,CAAYD,YAAZ;CACA,SAAOT,iBAAiB,CAAC,EACxB,GAAGvK,MADqB;CAExBwI,IAAAA,IAAI,EAAE5N,SAFkB;CAGxBuH,IAAAA;CAHwB,GAAD,CAAxB;CAKA;;CCbc,SAAS+I,UAAT,CACdnR,QADc,EAEdiR,YAFc,EAGdhL,MAHc,EAIE;CAChB,MAAIA,MAAM,CAACR,MAAX,EAAmB;CAClB,WAAOQ,MAAM,CAACjF,GAAP,CAAWoQ,EAAE,IAAIJ,UAAU,CAAChR,QAAD,EAAWiR,YAAX,EAAyBG,EAAzB,CAA3B,CAAP;CACA;;CACD,SAAO,CAACN,eAAe,CAAC9Q,QAAD,CAAhB,CAAP;CACA;;CCTc,SAASqR,SAAT,CACdrR,QADc,EAEdiR,YAFc,EAGdhL,MAHc,EAIoB;CAClC,MAAI,CAACA,MAAM,CAACR,MAAZ,EAAoB;CACnB,WAAO,CAACqL,eAAe,CAAC9Q,QAAD,CAAhB,CAAP;CACA;;CAED,SAAOiG,MAAM,CAACjF,GAAP,CAAWwC,IAAI,IACrBuD,KAAK,CAACC,OAAN,CAAcxD,IAAd,IACG2N,UAAU,CAACnR,QAAD,EAAWiR,YAAX,EAAyBzN,IAAzB,CADb,GAEGwN,UAAU,CAAChR,QAAD,EAAWiR,YAAX,EAAyBzN,IAAzB,CAHP,CAAP;CAIA;;CCjBc,SAAS8N,OAAT,CAAiBtR,QAAjB,EAAsCuR,IAAtC,EAAiE;CAC/E,MAAI,CAACA,IAAL,EAAW;CAAE;CAAS;;CACtB,MAAIxK,KAAK,CAACC,OAAN,CAAcuK,IAAd,CAAJ,EAAyB;CACxBA,IAAAA,IAAI,CAAChP,OAAL,CAAa/B,CAAC,IAAI8Q,OAAO,CAACtR,QAAD,EAAWQ,CAAX,CAAzB;CACA;CACA;;CACDmQ,EAAAA,mBAAmB,CAACY,IAAD,CAAnB;;CACA,MAAIA,IAAI,CAACnJ,KAAT,EAAgB;CACf,UAAM;CAAEA,MAAAA;CAAF,QAAYmJ,IAAlB;CACAnJ,IAAAA,KAAK,CAACkJ,OAAN;CACA;CACA;;CACD,MAAIC,IAAI,CAAC9C,IAAT,EAAe;CACd,UAAM;CAAEA,MAAAA;CAAF,QAAW8C,IAAjB;CACAvR,IAAAA,QAAQ,CAACwR,UAAT,CAAoB/C,IAApB;CACA;;CACD6C,EAAAA,OAAO,CAACtR,QAAD,EAAWuR,IAAI,CAAC/C,QAAhB,CAAP;CACA;;CCjBc,UAAUiD,QAAV,CAAmBF,IAAnB,EAA2D;CACzE,MAAIxK,KAAK,CAACC,OAAN,CAAcuK,IAAd,CAAJ,EAAyB;CACxB,SAAK,MAAMH,EAAX,IAAiBG,IAAjB,EAAuB;CACtB,aAAOE,QAAQ,CAACL,EAAD,CAAf;CACA;;CACD;CACA;;CACD,QAAM;CAAE3C,IAAAA,IAAF;CAAQrG,IAAAA;CAAR,MAAkBmJ,IAAxB;;CACA,MAAI9C,IAAJ,EAAU;CACT,UAAMA,IAAN;CACA;CACA;;CACD,MAAIrG,KAAJ,EAAW;CACV,WAAOqJ,QAAQ,CAACrJ,KAAK,CAACmJ,IAAP,CAAf;CACA;CACD;;CClBc,SAASG,YAAT,CAAsBH,IAAtB,EAAoD;CAClE,MAAIxK,KAAK,CAACC,OAAN,CAAcuK,IAAd,CAAJ,EAAyB;CAAE,WAAOG,YAAY,CAACH,IAAI,CAAC,CAAD,CAAL,CAAnB;CAA+B;;CAC1D,MAAIA,IAAI,CAAC9C,IAAT,EAAe;CAAE,WAAO8C,IAAI,CAAC9C,IAAZ;CAAmB;;CACpC,SAAOiD,YAAY,CAACH,IAAI,CAACnJ,KAAL,CAAWmJ,IAAZ,CAAnB;CACA;;CCFc,SAASI,WAAT,CACd3R,QADc,EAEd4R,OAFc,EAGdC,OAHc,EAIV;CACJ,QAAMC,IAAI,GAAGJ,YAAY,CAACG,OAAD,CAAzB;;CACA,MAAI,CAACC,IAAL,EAAW;CAAE,WAAOF,OAAP;CAAiB;;CAC9B,QAAMG,UAAU,GAAG/R,QAAQ,CAACgS,SAAT,CAAmBF,IAAnB,CAAnB;;CACA,MAAI,CAACC,UAAL,EAAiB;CAAE,WAAOH,OAAP;CAAiB;;CACpC,OAAK,MAAMR,EAAX,IAAiBK,QAAQ,CAACG,OAAD,CAAzB,EAAoC;CACnC5R,IAAAA,QAAQ,CAACiS,UAAT,CAAoBF,UAApB,EAAgCX,EAAhC,EAAoCU,IAApC;CACA;;CACDR,EAAAA,OAAO,CAACtR,QAAD,EAAW6R,OAAX,CAAP;CACA,SAAOD,OAAP;CACA;;CCjBc,SAASM,WAAT,CAAqBX,IAArB,EAAmD;CACjE,MAAIxK,KAAK,CAACC,OAAN,CAAcuK,IAAd,CAAJ,EAAyB;CACxB,WAAOW,WAAW,CAACX,IAAI,CAACA,IAAI,CAAC9L,MAAL,GAAc,CAAf,CAAL,CAAlB;CACA;;CACD,MAAI8L,IAAI,CAAC9C,IAAT,EAAe;CAAE,WAAO8C,IAAI,CAAC9C,IAAZ;CAAmB;;CACpC,SAAOyD,WAAW,CAACX,IAAI,CAACnJ,KAAL,CAAWmJ,IAAZ,CAAlB;CACA;;CCKD;;;;;;;AAMA,CAAe,SAASY,UAAT,CACdnS,QADc,EAEdiR,YAFc,EAGdhL,MAHc,EAIdsL,IAJc,EAKA;CACd,MAAI,CAACtL,MAAL,EAAa;CACZ,QAAIc,KAAK,CAACC,OAAN,CAAcuK,IAAd,CAAJ,EAAyB;CACxB,UAAIA,IAAI,CAAC9L,MAAL,KAAgB,CAAhB,IAAqB8L,IAAI,CAAC,CAAD,CAAJ,CAAQrS,GAAR,KAAgB,IAAzC,EAA+C;CAC9C,eAAOqS,IAAI,CAAC,CAAD,CAAX;CACA;CACD,KAJD,MAIO,IAAIA,IAAI,CAACrS,GAAL,KAAa,IAAjB,EAAuB;CAC7B,aAAOqS,IAAP;CACA;;CACD,WAAOI,WAAW,CAAC3R,QAAD,EAAW8Q,eAAe,CAAC9Q,QAAD,CAA1B,EAAsCuR,IAAtC,CAAlB;CACA;;CACD,MAAIxK,KAAK,CAACC,OAAN,CAAcuK,IAAd,CAAJ,EAAyB;CACxB,UAAMa,KAAK,GAAGb,IAAI,CAACc,SAAL,CAAejB,EAAE,IAAIA,EAAE,CAAClS,GAAH,KAAW+G,MAAM,CAAC/G,GAAlB,IAAyBkS,EAAE,CAAChJ,KAAH,KAAanC,MAAM,CAACmC,KAAlE,CAAd;;CACA,QAAIgK,KAAK,GAAG,CAAZ,EAAe;CACd,aAAOT,WAAW,CAAC3R,QAAD,EAAWgR,UAAU,CAAChR,QAAD,EAAWiR,YAAX,EAAyBhL,MAAzB,CAArB,EAAuDsL,IAAvD,CAAlB;CACA;;CACD,UAAMe,GAAG,GAAGf,IAAZ;CACA,KAACA,IAAD,IAASA,IAAI,CAACgB,MAAL,CAAYH,KAAZ,EAAmB,CAAnB,CAAT;CACAd,IAAAA,OAAO,CAACtR,QAAD,EAAWsS,GAAX,CAAP;CACA;;CAED,MAAIrM,MAAM,CAACmC,KAAX,EAAkB;CACjB,UAAM;CAAEA,MAAAA;CAAF,QAAYnC,MAAlB;;CACA,QAAImC,KAAK,KAAKmJ,IAAI,CAACnJ,KAAnB,EAA0B;CACzB,aAAOuJ,WAAW,CAAC3R,QAAD,EAAWgR,UAAU,CAAChR,QAAD,EAAWiR,YAAX,EAAyBhL,MAAzB,CAArB,EAAuDsL,IAAvD,CAAlB;CACA;;CACD,WAAOf,iBAAiB,CAAC,EACxB,GAAGvK,MADqB;CAExBwI,MAAAA,IAAI,EAAE5N,SAFkB;CAGxBuH,MAAAA;CAHwB,KAAD,EAIrBmJ,IAAI,CAAChH,EAJgB,CAAxB;CAKA;;CACD,MAAIgH,IAAI,CAACnJ,KAAL,IAAcnC,MAAM,CAAC/G,GAAP,KAAeqS,IAAI,CAACrS,GAAtC,EAA2C;CAC1C,WAAOyS,WAAW,CAAC3R,QAAD,EAAWgR,UAAU,CAAChR,QAAD,EAAWiR,YAAX,EAAyBhL,MAAzB,CAArB,EAAuDsL,IAAvD,CAAlB;CACA;;CACD,MAAItL,MAAM,CAAC/G,GAAP,KAAe2B,SAAnB,EAA8B;CAAE,WAAO0Q,IAAP;CAAc;;CAC9C,SAAOI,WAAW,CAAC3R,QAAD,EAAWgR,UAAU,CAAChR,QAAD,EAAWiR,YAAX,EAAyBhL,MAAzB,CAArB,EAAuDsL,IAAvD,CAAlB;CACA;;CC7Cc,SAASiB,UAAT,CACdxS,QADc,EAEdiR,YAFc,EAGdhL,MAHc,EAIdsL,IAJc,EAKE;CAChB,MAAI,CAACtL,MAAM,CAACR,MAAZ,EAAoB;CACnB,UAAMgJ,IAAI,GAAGqC,eAAe,CAAC9Q,QAAD,CAA5B;CACA,WAAO,CAAC2R,WAAW,CAAC3R,QAAD,EAAWyO,IAAX,EAAiB8C,IAAjB,CAAZ,CAAP;CACA;;CACD,MAAI,CAACxK,KAAK,CAACC,OAAN,CAAcuK,IAAd,CAAL,EAA0B;CAAEA,IAAAA,IAAI,GAAG,CAACA,IAAD,CAAP;CAAgB;;CAC5C,QAAMkB,OAAsB,GAAG,EAA/B;CACA,QAAMpQ,IAAI,GAAG,CAAC,GAAGkP,IAAJ,CAAb;CACA,QAAMmB,UAAU,GAAG,IAAIhR,GAAJ,EAAnB;;CACA,OAAK,MAAMiR,GAAX,IAAkB1M,MAAlB,EAA0B;CACzB,UAAMmM,KAAK,GAAG/P,IAAI,CAACgQ,SAAL,CAAejB,EAAE,IAAIA,EAAE,CAAClS,GAAH,KAAWyT,GAAG,CAACzT,GAAf,IAAsBkS,EAAE,CAACnQ,GAAH,KAAW0R,GAAG,CAAC1R,GAArC,IAA4CmQ,EAAE,CAAChJ,KAAH,KAAauK,GAAG,CAACvK,KAAlF,CAAd;;CACA,QAAIgK,KAAK,IAAI,CAAb,EAAgB;CACf,YAAMrP,GAAG,GAAGV,IAAI,CAAC+P,KAAD,CAAhB;CACA,YAAM5O,IAAI,GAAG2O,UAAU,CAACnS,QAAD,EAAWiR,YAAX,EAAyB0B,GAAzB,EAA8B5P,GAA9B,CAAvB;CACA2P,MAAAA,UAAU,CAACrR,GAAX,CAAe0B,GAAf,EAAoBS,IAApB;CACAiP,MAAAA,OAAO,CAACpO,IAAR,CAAab,IAAb;CACAnB,MAAAA,IAAI,CAACkQ,MAAL,CAAYH,KAAZ,EAAmB,CAAnB;CACA,KAND,MAMO;CACN,YAAM5O,IAAI,GAAGwN,UAAU,CAAChR,QAAD,EAAWiR,YAAX,EAAyB0B,GAAzB,CAAvB;CACAF,MAAAA,OAAO,CAACpO,IAAR,CAAab,IAAb;CACA;CACD;;CACD,MAAI,CAACkP,UAAU,CAAC/O,IAAhB,EAAsB;CACrB,WAAOgO,WAAW,CAAC3R,QAAD,EAAWyS,OAAX,EAAoBpQ,IAApB,CAAlB;CACA;;CACDiP,EAAAA,OAAO,CAACtR,QAAD,EAAWqC,IAAX,CAAP;CACAkP,EAAAA,IAAI,GAAGA,IAAI,CAACpP,MAAL,CAAYG,CAAC,IAAIoQ,UAAU,CAACxR,GAAX,CAAeoB,CAAf,CAAjB,CAAP;CACA,QAAMsQ,IAAI,GAAGV,WAAW,CAACX,IAAI,CAACvQ,GAAL,CAASsB,CAAC,IAAIoQ,UAAU,CAACvR,GAAX,CAAemB,CAAf,CAAd,EAAiCH,MAAjC,CAAwCiB,OAAxC,CAAD,CAAxB;CACA,QAAM2O,UAAU,GAAG/R,QAAQ,CAACgS,SAAT,CAAmBY,IAAnB,CAAnB;;CACA,MAAI,CAACb,UAAL,EAAiB;CAAE,WAAOU,OAAP;CAAiB;;CACpC,MAAIX,IAAI,GAAG9R,QAAQ,CAAC6S,QAAT,CAAkBD,IAAlB,CAAX,CA9BgB;;CAgChB,OAAK,IAAIrD,CAAC,GAAGkD,OAAO,CAAChN,MAAR,GAAiB,CAA9B,EAAiC8J,CAAC,IAAI,CAAtC,EAAyCA,CAAC,EAA1C,EAA8C;CAC7C,UAAM/L,IAAI,GAAGiP,OAAO,CAAClD,CAAD,CAApB;CACA,UAAM6C,KAAK,GAAGb,IAAI,CAACc,SAAL,CAAeS,CAAC,IAAIJ,UAAU,CAACvR,GAAX,CAAe2R,CAAf,MAAsBtP,IAA1C,CAAd;;CACA,QAAI4O,KAAK,IAAI,CAAb,EAAgB;CACf,WAAK,MAAMhB,EAAX,IAAiBG,IAAI,CAACgB,MAAL,CAAYH,KAAZ,CAAjB,EAAqC;CACpCM,QAAAA,UAAU,CAAChP,MAAX,CAAkB0N,EAAlB;CACA;CACD,KAJD,MAIO;CACN,WAAK,MAAMA,EAAX,IAAiBK,QAAQ,CAACjO,IAAD,CAAzB,EAAiC;CAChCxD,QAAAA,QAAQ,CAACiS,UAAT,CAAoBF,UAApB,EAAgCX,EAAhC,EAAoCU,IAApC;CACA;CACD;;CACDA,IAAAA,IAAI,GAAGJ,YAAY,CAAClO,IAAD,CAAZ,IAAsBsO,IAA7B;CACA;;CACD,SAAOW,OAAP;CACA;;CCrDD;;;;;;;AAQA,CAAe,SAASM,SAAT,CACd/S,QADc,EAEdiR,YAFc,EAGdhL,MAHc,EAIdsL,IAJc,EAKoB;CAClC,MAAItL,MAAM,CAACR,MAAP,KAAkB,CAAtB,EAAyB;CACxB,WAAOkM,WAAW,CAAC3R,QAAD,EAAWqR,SAAS,CAACrR,QAAD,EAAWiR,YAAX,EAAyB,EAAzB,CAApB,EAAkDM,IAAlD,CAAlB;CACA;;CACD,MAAIa,KAAK,GAAG,CAAZ;CACA,MAAI3M,MAAM,GAAGuN,IAAI,CAACC,GAAL,CAAShN,MAAM,CAACR,MAAhB,EAAwB8L,IAAI,CAAC9L,MAA7B,CAAb;CACA,QAAMpD,IAAqC,GAAG,EAA9C;;CACA,SAAO+P,KAAK,GAAG3M,MAAf,EAAuB2M,KAAK,EAA5B,EAAgC;CAC/B,UAAMO,GAAG,GAAG1M,MAAM,CAACmM,KAAD,CAAlB;;CACA,QAAIrL,KAAK,CAACC,OAAN,CAAc2L,GAAd,CAAJ,EAAwB;CACvBtQ,MAAAA,IAAI,CAACgC,IAAL,CAAUmO,UAAU,CAACxS,QAAD,EAAWiR,YAAX,EAAyB0B,GAAzB,EAA8BpB,IAAI,CAACa,KAAD,CAAlC,CAApB;CACA,KAFD,MAEO;CACN/P,MAAAA,IAAI,CAACgC,IAAL,CAAU8N,UAAU,CAACnS,QAAD,EAAWiR,YAAX,EAAyB0B,GAAzB,EAA8BpB,IAAI,CAACa,KAAD,CAAlC,CAApB;CACA;CACD;;CACD3M,EAAAA,MAAM,GAAGuN,IAAI,CAACE,GAAL,CAASjN,MAAM,CAACR,MAAhB,EAAwB8L,IAAI,CAAC9L,MAA7B,CAAT;;CACA,MAAI8L,IAAI,CAAC9L,MAAL,GAAc2M,KAAlB,EAAyB;CACxB;CACA,WAAOA,KAAK,GAAG3M,MAAf,EAAuB2M,KAAK,EAA5B,EAAgC;CAC/Bd,MAAAA,OAAO,CAACtR,QAAD,EAAWuR,IAAI,CAACa,KAAD,CAAf,CAAP;CACA;CACD;;CACD,MAAInM,MAAM,CAACR,MAAP,GAAgB2M,KAApB,EAA2B;CAC1B;CACA,UAAMQ,IAAI,GAAGV,WAAW,CAAC7P,IAAI,CAACA,IAAI,CAACoD,MAAL,GAAc,CAAf,CAAL,CAAxB;CACA,UAAMsM,UAAU,GAAG/R,QAAQ,CAACgS,SAAT,CAAmBY,IAAnB,CAAnB;CACA,UAAMd,IAAI,GAAG9R,QAAQ,CAAC6S,QAAT,CAAkBD,IAAlB,CAAb;;CACA,WAAOR,KAAK,GAAG3M,MAAf,EAAuB2M,KAAK,EAA5B,EAAgC;CAC/B,YAAMO,GAAG,GAAG1M,MAAM,CAACmM,KAAD,CAAlB;CACA,YAAM5O,IAAI,GAAGuD,KAAK,CAACC,OAAN,CAAc2L,GAAd,IACVxB,UAAU,CAACnR,QAAD,EAAWiR,YAAX,EAAyB0B,GAAzB,CADA,GAEV3B,UAAU,CAAChR,QAAD,EAAWiR,YAAX,EAAyB0B,GAAzB,CAFb;CAGAtQ,MAAAA,IAAI,CAACgC,IAAL,CAAUb,IAAV;;CACA,UAAI,CAACuO,UAAL,EAAiB;CAAE;CAAW;;CAC9B,WAAK,MAAMX,EAAX,IAAiBK,QAAQ,CAACjO,IAAD,CAAzB,EAAiC;CAChCxD,QAAAA,QAAQ,CAACiS,UAAT,CAAoBF,UAApB,EAAgCX,EAAhC,EAAoCU,IAApC;CACA;CACD;CACD;;CACD,SAAOzP,IAAP;CACA;;CC7Dc,SAAS8Q,IAAT,CACdnT,QADc,EAEdiR,YAFc,EAGdhL,MAHc,EAIdsL,IAJc,EAKoB;CAClC,MAAI,CAACA,IAAL,EAAW;CACV,WAAOF,SAAS,CAACrR,QAAD,EAAWiR,YAAX,EAAyBhL,MAAzB,CAAhB;CACA;;CACD,SAAO8M,SAAS,CAAC/S,QAAD,EAAWiR,YAAX,EAAyBhL,MAAzB,EAAiCsL,IAAjC,CAAhB;CACA;;CCND,IAAI6B,YAAJ;AACA,CAAO,SAASC,eAAT,CAAyBhR,IAAzB,EAAsD;CAC5D+Q,EAAAA,YAAY,GAAG/Q,IAAf;CACA;AACD,CAAO,SAASiR,QAAT,CAAkBlC,EAAlB,EAAwC;CAC9C,MAAI,CAACgC,YAAL,EAAmB;CAClBhC,IAAAA,EAAE;CACF,GAFD,MAEO;CACNgC,IAAAA,YAAY,CAAC/O,IAAb,CAAkB+M,EAAlB;CACA;CACD;AAGD,CAAe,MAAemC,SAAf,CAA+B;CAM7C;;CAEA;;CAEA;;CAKA;;CAEA;;CAEA;CAOAvU,EAAAA,WAAW,CACVgB,QADU,EAEVwT,WAFU,EAGVtU,GAHU,EAIVqP,KAJU,EAKV/D,MALU,EAMVuD,SANU,EAOT;CAAA;;CAAA;;CAAA;;CAAA;;CAAA;;CAAA;;CAAA,qCAtBiB,KAsBjB;;CAAA,uCArBmB,KAqBnB;;CAAA,qCApBiB,KAoBjB;;CAAA,uCAnBmB,KAmBnB;;CAAA,kCAjBsC,EAiBtC;;CAAA;;CAAA;;CAAA;;CAAA,gDA2B2B,KA3B3B;;CAAA,4CAwC4C,IAxC5C;;CAAA;;CAAA,kDA8D6B,KA9D7B;;CACD,SAAKyF,WAAL,GAAmBA,WAAnB;CACA,SAAKtU,GAAL,GAAWA,GAAX;CACA,SAAKc,QAAL,GAAgBA,QAAhB;CACA,SAAKuO,KAAL,GAAaA,KAAb;CAEA,SAAKkF,WAAL,GAAmBjJ,MAAnB;CACA,SAAKuD,SAAL,GAAiBA,SAAS,KAAIvD,MAAJ,aAAIA,MAAJ,uBAAIA,MAAM,CAAEuD,SAAZ,CAAT,IAAkCtO,MAAM,CAACC,MAAP,CAAc,IAAd,CAAnD;;CACA,IAAmB;CAAEiG,MAAAA,cAAc,CAAC,IAAD,EAAO,MAAP,EAAe,EAAf,CAAd;CAAmC;CACxD;CAGD;;;CAQA;CACA+N,EAAAA,MAAM,CAACnF,KAAD,EAA6BC,QAA7B,EAAoD;CACzD,SAAKD,KAAL,GAAaA,KAAb;;CACA,SAAKoF,OAAL,CAAapF,KAAb,EAAoBC,QAApB;CACA;;CAKDlE,EAAAA,OAAO,GAAY;CAClB,QAAI,KAAKsJ,kBAAT,EAA6B;CAAE,aAAO,KAAP;CAAe;;CAC9C,SAAKA,kBAAL,GAA0B,IAA1B;CACA,SAAK7H,QAAL,CAAc,eAAd;;CACA,SAAK8H,QAAL;;CACA,SAAK9H,QAAL,CAAc,WAAd;CACA,SAAK+H,SAAL,GAAiB,IAAjB;CACA,WAAO,IAAP;CACA;;CAMD5C,EAAAA,KAAK,CAACD,YAAD,EAAsC;CAC1C,QAAI,KAAK2C,kBAAT,EAA6B;CAAE,aAAO,KAAP;CAAe;;CAC9C,QAAI,CAAC3C,YAAL,EAAmB;CAAE,aAAO,KAAP;CAAe;;CACpC,QAAI,KAAK8C,cAAT,EAAyB;CAAE,aAAO,KAAP;CAAe;;CAC1C,SAAKA,cAAL,GAAsB9C,YAAtB;CACA,SAAKlF,QAAL,CAAc,aAAd;CACA,UAAMxH,MAAM,GAAGE,IAAI,CAClBuP,CAAC,IAAIA,CAAC,IAAI,KAAKC,WAAL,EADQ,EAElB,MAAM;CACL,YAAMC,eAAe,GAAG,KAAKC,MAAL,CAAYlD,YAAZ,CAAxB;;CACA,WAAK8C,cAAL,GAAsBG,eAAe,IAAIjD,YAAzC;CACA,WAAKmD,OAAL,GAAe,IAAf;CACA,KANiB,CAAnB;CAQA,SAAKC,mBAAL,GAA2B9P,MAAM,CAACD,IAAlC;CACAgP,IAAAA,QAAQ,CAAC,MAAM,KAAKvH,QAAL,CAAc,SAAd,CAAP,CAAR;CACA,WAAO,IAAP;CACA;;CAIDuF,EAAAA,OAAO,GAAY;CAClB,QAAI,CAAC,KAAK8C,OAAV,EAAmB;CAAE,aAAO,KAAP;CAAe;;CACpC,QAAI,KAAKE,oBAAT,EAA+B;CAAE,aAAO,KAAP;CAAe;;CAChD,SAAKA,oBAAL,GAA4B,IAA5B;CACA,SAAKvI,QAAL,CAAc,eAAd;;CACA,SAAKwI,QAAL;;CACA,SAAKxI,QAAL,CAAc,WAAd;CACA,SAAKyI,SAAL,GAAiB,IAAjB;CACA,WAAO,IAAP;CACA;;CAGDC,EAAAA,MAAM,GAAS;CACd,QAAI,KAAKb,kBAAT,EAA6B;CAAE;CAAS;;CACxC,QAAI,CAAC,KAAKQ,OAAV,EAAmB;CAAE;CAAS;;CAC9B,UAAMnD,YAAY,GAAG,KAAK8C,cAA1B;;CACA,QAAI,CAAC9C,YAAL,EAAmB;CAAE;CAAS;;CAC9B,QAAI,KAAKoD,mBAAT,EAA8B;CAC7B,WAAKA,mBAAL;CACA;;CACD,SAAKtI,QAAL,CAAc,YAAd;CACA,UAAMxH,MAAM,GAAGE,IAAI,CAClBuP,CAAC,IAAIA,CAAC,IAAI,KAAKC,WAAL,EADQ,EAElB,MAAM,KAAKS,OAAL,CAAazD,YAAb,CAFY,CAAnB;CAIA,SAAKoD,mBAAL,GAA2B9P,MAAM,CAACD,IAAlC;CAEAgP,IAAAA,QAAQ,CAAC,MAAM,KAAKvH,QAAL,CAAc,OAAd,CAAP,CAAR;CACA;;CA7H4C;;CCrB/B,MAAe4I,SAAf,SAELpB,SAFK,CAEW;CACzB;;CAEA;CAGAvU,EAAAA,WAAW,CACVwU,WADU,EAEVtU,GAFU,EAGVqP,KAHU,EAIVC,QAJU,EAKVhE,MALU,EAMVuD,SANU,EAOT;CACD,UACCvD,MAAM,CAACxK,QADR,EAECwT,WAFD,EAGCtU,GAHD,EAICqP,KAJD,EAKC/D,MALD,EAMCuD,SAND;;CADC;;CAAA;;CASD,SAAK6G,SAAL,GAAiBpK,MAAM,CAACoK,SAAxB;CACA,SAAKC,aAAL,GAAqBrK,MAAM,CAACqK,aAA5B;CACA;;CAEDZ,EAAAA,WAAW,GAAS;CACnB,QAAI,CAAC,KAAKG,OAAV,EAAmB;CAAE;CAAS;;CAC9B,QAAI,KAAKN,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAKc,SAAL,CAAeE,QAAf,CAAwB,IAAxB;CACA;;CACD/I,EAAAA,QAAQ,CAACxB,EAAD,EAAmB;;CA/BF;;CCN1B,IAAIwK,cAAc,GAAG,CAArB;CACA,MAAMC,SAAS,GAAG,IAAI/R,GAAJ,EAAlB;AACA,CAAO,SAASD,MAAT,CAAckB,GAAd,EAA+C;CACrD,MAAI6Q,cAAc,IAAI,CAAtB,EAAyB;CAAE,WAAO,KAAP;CAAe;;CAC1CC,EAAAA,SAAS,CAAC9R,GAAV,CAAcgB,GAAd;CACA,SAAO,IAAP;CACA;;CACD,SAASN,KAAT,GAAqB;CACpB,MAAImR,cAAc,GAAG,CAArB,EAAwB;CAAE;CAAS;;CACnC,QAAM1S,IAAI,GAAG,CAAC,GAAG2S,SAAJ,CAAb;CACAA,EAAAA,SAAS,CAACC,KAAV;CACA5S,EAAAA,IAAI,CAACE,OAAL,CAAauQ,CAAC,IAAIA,CAAC,CAAC7E,OAAF,EAAlB;CACA;;CACD,eAAeiH,YAAf,CAA+BrS,CAA/B,EAAwE;CACvE,MAAI;CACHkS,IAAAA,cAAc;CACd,WAAO,MAAMlS,CAAC,EAAd;CACA,GAHD,SAGU;CACTkS,IAAAA,cAAc;CACdnR,IAAAA,KAAG;CACH;CACD;;CAUD,SAASuR,YAAT,CACCtS,CADD,EAECuS,KAFD,EAGsB;CACrB,MAAIA,KAAJ,EAAW;CAAE,WAAOF,YAAY,CAACrS,CAAD,CAAnB;CAAyB;;CACtC,MAAI;CACHkS,IAAAA,cAAc;CACd,WAAOlS,CAAC,EAAR;CACA,GAHD,SAGU;CACTkS,IAAAA,cAAc;CACdnR,IAAAA,KAAG;CACH;CACD;;CCzCD,MAAM2F,YAA4C,GAAG9J,MAAM,CAACC,MAAP,CAAc,IAAd,CAArD;CACA,IAAI8J,QAAM,GAAG,CAAb;AAyBA,CAAO,SAAS6L,UAAT,CAA2C;CACjDhL,EAAAA,IADiD;CAEjD3K,EAAAA,MAAM,GAAG,OAAO,EAAP,CAFwC;CAGjD4K,EAAAA,OAHiD;CAIjD7F,EAAAA;CAJiD,CAA3C,EAU0B;CAChC,QAAM8F,EAAE,GAAGf,QAAM,EAAjB;;CACA,MAAI,OAAOc,OAAP,KAAmB,UAAvB,EAAmC;CAClCf,IAAAA,YAAU,CAACgB,EAAD,CAAV,GAAiBD,OAAjB;CACA;;CACD,MAAI,OAAO7F,IAAP,KAAgB,UAApB,EAAgC;CAC/B,WAAO,CAAC,GAAGlE,CAAJ,KAAa;CACnB,YAAMyK,OAAO,GAAGU,YAAY,CAACrB,IAAD,CAA5B;CACA,YAAM;CAACiL,QAAAA,QAAD;CAAWxB,QAAAA,SAAX;CAAsByB,QAAAA,QAAtB;CAAgCC,QAAAA;CAAhC,UAA2CxK,OAAjD;;CACA,UAAI,EAAET,EAAE,IAAI+K,QAAR,CAAJ,EAAuB;CACtBA,QAAAA,QAAQ,CAAC/K,EAAD,CAAR,GAAe7K,MAAM,CAAC;CAACoU,UAAAA,SAAD;CAAYyB,UAAAA,QAAZ;CAAsBC,UAAAA;CAAtB,SAAD,CAArB;CACA;;CACD,aAAO/Q,IAAI,CAAC6Q,QAAQ,CAAC/K,EAAD,CAAT,EAAe;CAACuJ,QAAAA,SAAD;CAAYyB,QAAAA,QAAZ;CAAsBC,QAAAA;CAAtB,OAAf,EAA+C,GAAGjV,CAAlD,CAAX;CACA,KAPD;CAQA;;CACD,SAAO,MAAM;CACZ,UAAMyK,OAAO,GAAGU,YAAY,CAACrB,IAAD,CAA5B;CACA,UAAM;CAACiL,MAAAA;CAAD,QAAatK,OAAnB;;CACA,QAAI,EAAET,EAAE,IAAI+K,QAAR,CAAJ,EAAuB;CACtB,YAAM;CAACxB,QAAAA,SAAD;CAAYyB,QAAAA,QAAZ;CAAsBC,QAAAA;CAAtB,UAAiCxK,OAAvC;CACAsK,MAAAA,QAAQ,CAAC/K,EAAD,CAAR,GAAe7K,MAAM,CAAC;CAACoU,QAAAA,SAAD;CAAYyB,QAAAA,QAAZ;CAAsBC,QAAAA;CAAtB,OAAD,CAArB;CACA;;CACD,WAAOF,QAAQ,CAAC/K,EAAD,CAAf;CACA,GARD;CASA;AAED,CAAO,SAASkL,kBAAT,CAA4B5J,WAA5B,EAAyD;CAC/D,QAAMzE,IAAI,GAAG3H,MAAM,CAAC2H,IAAP,CAAYyE,WAAZ,CAAb;;CACA,OAAK,MAAMtB,EAAX,IAAiBnD,IAAjB,EAAuB;CACtB,QAAI,EAAEmD,EAAE,IAAIhB,YAAR,CAAJ,EAAyB;CAAE;CAAW;;CACtC,UAAMe,OAAO,GAAGf,YAAU,CAACgB,EAAD,CAA1B;CACAD,IAAAA,OAAO,CAACuB,WAAW,CAACtB,EAAD,CAAZ,CAAP;CACA;CACD;AAED,CAAO,SAASmL,QAAT,CAAkB7J,WAAlB,EAAoG;CAC1G,SAAO,SAAS8J,EAAT,CAAYpW,EAAZ,EAAgB,GAAGgB,CAAnB,EAAsB;CAC5B,WAAO0K,UAAU,CAACY,WAAD,EAAchL,SAAd,EAAyBtB,EAAzB,EAA6B,GAAGgB,CAAhC,CAAjB;CACA,GAFD;CAGA;;CCzDD;;;;;;;;;AAQA,CAAO,SAASqV,QAAT,CACN5V,QADM,EAENwO,QAFM,EAGNqH,KAHM,EAINC,MAAM,GAAG,KAJH,EAKE;CACR;CACA,QAAMC,UAAiB,GAAG,EAA1B;;CACA,OAAK,MAAM3E,EAAX,IAAiB5C,QAAjB,EAA2B;CAC1B,QAAIzH,KAAK,CAACC,OAAN,CAAcoK,EAAd,CAAJ,EAAuB;CACtB,YAAM/O,IAAoC,GACvC5C,MAAM,CAACC,MAAP,CAAc,IAAd,CADH;CAEAqW,MAAAA,UAAU,CAAC1R,IAAX,CAAgBuR,QAAQ,CAAC5V,QAAD,EAAWoR,EAAX,EAAe/O,IAAf,EAAqByT,MAArB,CAAxB;;CACA,WAAK,MAAMlP,CAAX,IAAgBlB,OAAO,CAACyB,OAAR,CAAgB9E,IAAhB,CAAhB,EAAmD;CAClD,YAAIuE,CAAC,IAAIiP,KAAT,EAAgB;CACfA,UAAAA,KAAK,CAACjP,CAAD,CAAL,CAASvC,IAAT,CAAchC,IAAI,CAACuE,CAAD,CAAlB;CACA,SAFD,MAEO;CACNiP,UAAAA,KAAK,CAACjP,CAAD,CAAL,GAAW,CAACvE,IAAI,CAACuE,CAAD,CAAL,CAAX;CACA;CACD;;CACD;CACA;;CACD,QAAIsI,SAAS,CAACkC,EAAD,CAAT,IAAiBA,EAAE,CAAC1C,IAAH,KAAY7N,SAAjC,EAA4C;CAC3C,UAAIwM,iBAAiB,CAAC+D,EAAE,CAAClS,GAAJ,CAAjB,IAA6BkS,EAAE,CAAC5B,MAAhC,IAA0C4B,EAAE,CAAClS,GAAH,KAAW6P,QAAzD,EAAmE;CAClE,cAAM1M,IAAoC,GACxC5C,MAAM,CAACC,MAAP,CAAc,IAAd,CADF;CAEAqW,QAAAA,UAAU,CAAC1R,IAAX,CAAgBuR,QAAQ,CAAC5V,QAAD,EAAWoR,EAAE,CAAC5C,QAAd,EAAwBnM,IAAxB,EAA8ByT,MAA9B,CAAxB;;CACA,aAAK,MAAMlP,CAAX,IAAgBlB,OAAO,CAACyB,OAAR,CAAgB9E,IAAhB,CAAhB,EAAmD;CAClD,gBAAMoM,IAAI,GAAG,EAAE,GAAG2C,EAAL;CAAS5C,YAAAA,QAAQ,EAAEnM,IAAI,CAACuE,CAAD;CAAvB,WAAb;;CACA,cAAIA,CAAC,IAAIiP,KAAT,EAAgB;CACfA,YAAAA,KAAK,CAACjP,CAAD,CAAL,CAASvC,IAAT,CAAcoK,IAAd;CACA,WAFD,MAEO;CACNoH,YAAAA,KAAK,CAACjP,CAAD,CAAL,GAAW,CAAC6H,IAAD,CAAX;CACA;CACD;;CACD;CACA;CACD;;CACD,QAAIqH,MAAJ,EAAY;CACX,UAAI9V,QAAQ,CAACgW,MAAT,CAAgB5E,EAAhB,CAAJ,EAAyB;CACxB2E,QAAAA,UAAU,CAAC1R,IAAX,CAAgB+M,EAAhB;CACA;CACA;;CACD,UAAI,CAAClC,SAAS,CAACkC,EAAD,CAAd,EAAoB;CACnB2E,QAAAA,UAAU,CAAC1R,IAAX,CAAgB+M,EAAhB;CACA;CACA;;CACD,UAAIA,EAAE,CAAClS,GAAH,KAAW0P,MAAX,IAAqBwC,EAAE,CAAClS,GAAH,KAAW6P,QAApC,EAA8C;CAC7CgH,QAAAA,UAAU,CAAC1R,IAAX,CAAgB+M,EAAhB;CACA;CACA;CACD;;CACD,UAAM1C,IAAI,GAAGQ,SAAS,CAACkC,EAAD,CAAT,IAAiBA,EAAE,CAAC1C,IAApB,IAA4B,SAAzC;CACA,UAAMuH,EAAE,GAAG/G,SAAS,CAACkC,EAAD,CAAT,GAAgB,EAC1B,GAAGA,EADuB;CACnB1C,MAAAA,IAAI,EAAE7N,SADa;CAE1BsD,MAAAA,KAAK,EAAE,EAAC,GAAGiN,EAAE,CAACjN,KAAP;CAAc,kBAAUtD;CAAxB;CAFmB,KAAhB,GAGPuQ,EAHJ;;CAIA,QAAI1C,IAAI,IAAImH,KAAZ,EAAmB;CAClBA,MAAAA,KAAK,CAACnH,IAAD,CAAL,CAAYrK,IAAZ,CAAiB4R,EAAjB;CACA,KAFD,MAEO;CACNJ,MAAAA,KAAK,CAACnH,IAAD,CAAL,GAAc,CAACuH,EAAD,CAAd;CACA;CACD;;CACD,SAAOF,UAAP;CACA;AAED,CAAO,SAASG,OAAT,CACNL,KADM,EAENxL,IAFM,EAGNhI,IAHM,EAIc;CACpBqD,EAAAA,OAAO,CAACC,cAAR,CAAuBkQ,KAAvB,EAA8BxL,IAA9B,EAAoC;CACnClJ,IAAAA,GAAG,GAAG;CACLI,MAAAA,QAAQ,CAACsU,KAAD,EAAQxL,IAAR,CAAR;CACA,aAAOhI,IAAP;CACA,KAJkC;;CAKnCuD,IAAAA,UAAU,EAAE,IALuB;CAMnCC,IAAAA,YAAY,EAAE;CANqB,GAApC;CAQA1C,EAAAA,UAAU,CAAC0S,KAAD,EAAQxL,IAAR,CAAV;CACA,SAAOhI,IAAP;CACA;CACD;;;;;;AAKA,CAAO,SAAS8T,QAAT,CACN3H,QADM,EAENqH,KAFM,EAGNO,WAHM,EAIE;CACR,MAAI,CAACP,KAAL,EAAY;CACX,UAAMA,KAAK,GAAGpW,MAAM,CAACC,MAAP,CAAc,IAAd,CAAd;;CACA,SAAK,MAAMkH,CAAX,IAAgBlB,OAAO,CAACyB,OAAR,CAAgBqH,QAAhB,CAAhB,EAAuD;CACtDqH,MAAAA,KAAK,CAACjP,CAAD,CAAL,GAAW4H,QAAQ,CAAC5H,CAAD,CAAnB;CACA;;CACD,WAAOiP,KAAP;CACA;;CACD,OAAK,MAAMxL,IAAX,IAAmB3E,OAAO,CAACyB,OAAR,CAAgB0O,KAAhB,CAAnB,EAA2C;CAC1C,QAAIxL,IAAI,IAAImE,QAAZ,EAAsB;CAAE;CAAW;;CACnC0H,IAAAA,OAAO,CAACL,KAAD,EAAQxL,IAAR,CAAP;CACA;;CACD,MAAI,CAAC+L,WAAL,EAAkB;CACjB,SAAK,MAAM/L,IAAX,IAAmB3E,OAAO,CAACyB,OAAR,CAAgBqH,QAAhB,CAAnB,EAA0D;CACzD,YAAMnM,IAAI,GAAGmM,QAAQ,CAACnE,IAAD,CAArB;CACA6L,MAAAA,OAAO,CAACL,KAAD,EAAQxL,IAAR,EAAchI,IAAd,CAAP;CACA;;CACD,WAAOwT,KAAP;CACA;;CACD,OAAK,MAAMxL,IAAX,IAAmB3E,OAAO,CAACyB,OAAR,CAAgBqH,QAAhB,CAAnB,EAA0D;CACzD,UAAMnM,IAAI,GAAGmM,QAAQ,CAACnE,IAAD,CAArB;;CACA,QAAI8E,KAAK,CAAC9M,IAAD,EAAO+T,WAAW,CAAC/L,IAAD,CAAlB,CAAT,EAAoC;CAAE;CAAW;;CACjD6L,IAAAA,OAAO,CAACL,KAAD,EAAQxL,IAAR,EAAchI,IAAd,CAAP;CACA;;CACD,SAAOwT,KAAP;CACA;AAED,CAAO,SAASQ,UAAT,CAAoBhU,IAApB,EAAiCiU,IAAjC,EAAmD;CACzD,SAAOjU,IAAI,CAACrB,GAAL,CAASoQ,EAAE,IAAI;CACrB,QAAIrK,KAAK,CAACC,OAAN,CAAcoK,EAAd,CAAJ,EAAuB;CACtB,aAAOiF,UAAU,CAACjF,EAAD,EAAKkF,IAAL,CAAjB;CACA;;CACD,QAAI,CAACpH,SAAS,CAACkC,EAAD,CAAd,EAAoB;CAAE,aAAOA,EAAP;CAAY;;CAClC,QAAIA,EAAE,CAAClS,GAAH,KAAW0P,MAAf,EAAuB;CACtB,aAAO,EACN,GAAGwC,EADG;CAEN1C,QAAAA,IAAI,EAAE7N;CAFA,OAAP;CAIA;;CACD,UAAM;CAAE2N,MAAAA;CAAF,QAAe4C,EAArB;;CACA,QAAI,CAAA5C,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAE/I,MAAV,MAAqB,CAAzB,EAA4B;CAAE,aAAO+I,QAAP;CAAkB;;CAChD,UAAM,CAAE+H,MAAF,IAAa/H,QAAnB;;CACA,QAAI5J,OAAO,CAAC2R,MAAD,CAAP,IAAmB,OAAOA,MAAP,KAAkB,UAAzC,EAAqD;CAAE,aAAO/H,QAAP;CAAkB;;CACzE,WAAO+H,MAAM,CAACD,IAAD,CAAb;CACA,GAhBM,CAAP;CAiBA;;CAED,SAASE,OAAT,CAAiBX,KAAjB,EAA+BxL,IAA/B,EAA6CkL,QAA7C,EAAoF;CACnF,SAAOA,QAAQ,IAAIlL,IAAI,IAAIwL,KAApB,GACJA,KAAK,CAACxL,IAAD,CADD,GAEJ6L,OAAO,CAACL,KAAD,EAAQxL,IAAR,CAFV;CAGA;;AAED,CAAO,SAASoM,aAAT,CACNZ,KADM,EAENN,QAAQ,GAAG,KAFL,EAGI;CACV,WAASmB,OAAT,CAAiBrM,IAAY,GAAG,SAAhC,EAA2CiM,IAAI,GAAG,EAAlD,EAA+D;CAC9D,UAAMjU,IAAI,GAAGmU,OAAO,CAACX,KAAD,EAAQxL,IAAR,EAAckL,QAAd,CAApB;CACA,WAAO;CACN,OAAC9I,gBAAD,GAAoBC,uBADd;CAENxN,MAAAA,GAAG,EAAEyP,SAFC;CAGNH,MAAAA,QAAQ,EAAEnM,IAAI,GAAGgU,UAAU,CAAChU,IAAD,EAAOiU,IAAP,CAAb,GAA4B,EAHpC;CAIN7G,MAAAA,QAAQ,EAAE,IAJJ;CAKNf,MAAAA,IAAI,EAAErE,IALA;CAMNqF,MAAAA,SAAS,EAAE,CAACrN;CANN,KAAP;CAQA;;CACDqU,EAAAA,OAAO,CAACxV,GAAR,GAAc,CAACmJ,IAAY,GAAG,SAAhB,KAA8BjH,OAAO,CAACoT,OAAO,CAACX,KAAD,EAAQxL,IAAR,EAAckL,QAAd,CAAR,CAAnD;;CACA,SAAOmB,OAAP;CACA;;CCzLD,SAASC,UAAT,CACCC,OADD,EAECC,SAAuC,GAAG,EAF3C,EAGW;CACV,QAAMC,IAAI,GAAG,CACZzM,IADY,EAEZ9J,CAFY,EAGZqB,OAHY,KAICuT,YAAY,CAAC,MAAM;CAChC,UAAM4B,UAAU,GAAG3T,OAAO,CAACxB,OAAD,aAACA,OAAD,uBAACA,OAAO,CAAEmV,UAAV,CAA1B;CACA,UAAM;CAACpW,MAAAA;CAAD,QAAWiW,OAAjB;CACA,QAAII,gBAAgB,GAAG,IAAvB;CACA,UAAMC,SAAyB,GAAG;CACjC,UAAItW,MAAJ,GAAa;CAAE,eAAOA,MAAP;CAAgB,OADE;;CAEjC,UAAIoW,UAAJ,GAAiB;CAAE,eAAOA,UAAP;CAAoB,OAFN;;CAGjC,UAAIC,gBAAJ,GAAuB;CAAE,eAAOA,gBAAP;CAA0B,OAHlB;;CAIjC,UAAIE,SAAJ,GAAgB;CAAE,eAAOF,gBAAP;CAA0B,OAJX;;CAKjCG,MAAAA,cAAc,GAAG;CAAEH,QAAAA,gBAAgB,GAAG,KAAnB;CAA2B,OALb;;CAMjCI,MAAAA,OAAO,GAAG;CAAEJ,QAAAA,gBAAgB,GAAG,KAAnB;CAA2B;;CANN,KAAlC;CAQA,UAAMK,MAAM,GAAGT,OAAO,CAACS,MAAR,CAAehN,IAAf,CAAf;;CACA,QAAI,CAACgN,MAAL,EAAa;CAAE,aAAOL,gBAAP;CAA0B;;CACzC,SAAK,MAAMM,KAAX,IAAoBD,MAApB,EAA4B;CAC3BC,MAAAA,KAAK,CAAC/W,CAAD,EAAI0W,SAAJ,CAAL;CACA;;CACD,WAAOD,gBAAP;CACA,GAlByB,CAJ1B;;CAuBAF,EAAAA,IAAI,CAACS,IAAL,GAAY,CAAC,GAAGC,KAAJ,KAAwBb,UAAU,CAACC,OAAD,EAAU,CAAC,GAAGC,SAAJ,EAAe,GAAGW,KAAlB,CAAV,CAA9C;;CACA9R,EAAAA,OAAO,CAACC,cAAR,CAAuBmR,IAAvB,EAA6B,OAA7B,EAAsC;CACrC3V,IAAAA,GAAG,EAAC,MAAM;CACTI,MAAAA,QAAQ,CAACoV,UAAD,EAAa,OAAb,CAAR;CACA,aAAO,CAAC,GAAGC,OAAO,CAACY,KAAZ,EACLrV,MADK,CACEG,CAAC,IAAI,CAACuU,SAAS,CAAChP,QAAV,CAAmBvF,CAAnB,CADR,CAAP;CAEA,KALoC;CAMrCuD,IAAAA,YAAY,EAAE;CANuB,GAAtC;CAQA,SAAOiR,IAAP;CACA;;AAED,CAAe,MAAMW,YAAN,CAA2E;CAGzF,MAAID,KAAJ,GAAyB;CAAEjW,IAAAA,QAAQ,CAAC,IAAD,EAAO,OAAP,CAAR;CAAyB,WAAO,CAAC,GAAG,KAAKmW,MAAT,CAAP;CAA0B;;CAK9E1Y,EAAAA,WAAW,GAAG;CAAA,oCANY,IAAIiE,GAAJ,EAMZ;;CAAA,oCAJuDxD,MAAM,CAACC,MAAP,CAAc,IAAd,CAIvD;;CAAA,kCAHWiX,UAAU,CAAC,IAAD,CAGrB;;CAAA;;CAAA;;CAAA,2CAqCZlX,MAAM,CAACC,MAAP,CAAc,IAAd,CArCY;;CAAA,wCAwCZD,MAAM,CAACC,MAAP,CAAc,IAAd,CAxCY;;CAAA,+CA2CZD,MAAM,CAACC,MAAP,CAAc,IAAd,CA3CY;;CAAA;;CACb,UAAM8X,KAAK,GAAG,KAAKE,MAAnB;CACA,UAAMC,QAAQ,GAAG,KAAKN,MAAtB;;CAEA,UAAMO,EAAE,GAAG,CAACvN,IAAD,EAAewN,QAAf,KAA4D;CAAA;;CACtE,eAAStY,EAAT,CAAYgB,CAAZ,EAAoB+W,KAApB,EAA+C;CAC9C,YAAI;CACHO,UAAAA,QAAQ,CAACtX,CAAD,EAAI+W,KAAJ,CAAR;CACA,SAFD,CAEE,OAAO9W,CAAP,EAAU;CACXN,UAAAA,UAAU,CAACM,CAAD,CAAV;CACA;CACD;;CACD,UAAI8W,KAAK,GAAGK,QAAQ,CAACtN,IAAD,CAApB;;CACA,UAAI,YAACiN,KAAD,2CAAC,OAAO3T,IAAR,CAAJ,EAAkB;CACjB2T,QAAAA,KAAK,GAAG,IAAIrU,GAAJ,EAAR;CACAqU,QAAAA,KAAK,CAACpU,GAAN,CAAU3D,EAAV;CACAoY,QAAAA,QAAQ,CAACtN,IAAD,CAAR,GAAiBiN,KAAjB;CACAE,QAAAA,KAAK,CAACtU,GAAN,CAAUmH,IAAV;CACAlH,QAAAA,UAAU,CAAC,IAAD,EAAO,OAAP,CAAV;CACA,OAND,MAMO;CACNmU,QAAAA,KAAK,CAACpU,GAAN,CAAU3D,EAAV;CACA;;CACD,UAAIkE,OAAO,GAAG,KAAd;CACA,aAAO,MAAM;CACZ,YAAIA,OAAJ,EAAa;CAAE;CAAS;;CACxBA,QAAAA,OAAO,GAAG,IAAV;;CACA,YAAI,CAAC6T,KAAL,EAAY;CAAE;CAAS;;CACvBA,QAAAA,KAAK,CAAC5T,MAAN,CAAanE,EAAb;;CACA,YAAI+X,KAAK,CAAC3T,IAAV,EAAgB;CAAE;CAAS;;CAC3B6T,QAAAA,KAAK,CAAC9T,MAAN,CAAa2G,IAAb;CACAlH,QAAAA,UAAU,CAAC,IAAD,EAAO,OAAP,CAAV;CACA,OARD;CASA,KA5BD;;CA6BA,SAAKyU,EAAL,GAAUA,EAAV;CACA;;CAYDE,EAAAA,aAAa,CAAC3T,KAAD,EAAmB;CAE/B,UAAM4T,cAAc,GAAG,KAAKC,aAA5B;CACA,UAAMC,aAAa,GAAG,IAAIhV,GAAJ,CAAQxD,MAAM,CAAC2H,IAAP,CAAY2Q,cAAZ,CAAR,CAAtB;;CACA,SAAK,MAAM,CAACG,OAAD,EAAU3Y,EAAV,CAAX,IAA4B4Y,SAAS,CAAChU,KAAD,CAArC,EAA8C;CAC7C,UAAI8T,aAAa,CAAC/W,GAAd,CAAkBgX,OAAlB,CAAJ,EAAgC;CAC/BD,QAAAA,aAAa,CAACvU,MAAd,CAAqBwU,OAArB;CACA,cAAM,CAACE,KAAD,EAAQC,EAAR,IAAcN,cAAc,CAACG,OAAD,CAAd,IAA2B,EAA/C;;CACA,YAAIE,KAAK,KAAK7Y,EAAd,EAAkB;CAAE;CAAW;;CAC/B,YAAI8Y,EAAJ,EAAQ;CAAEA,UAAAA,EAAE;CAAK;CACjB;;CACDN,MAAAA,cAAc,CAACG,OAAD,CAAd,GAA0B,CAAC3Y,EAAD,EAAK,KAAKqY,EAAL,CAAQM,OAAR,EAAiB3Y,EAAjB,CAAL,CAA1B;CACA;;CACD,SAAK,MAAM2Y,OAAX,IAAsBD,aAAtB,EAAqC;CACpC,YAAMzX,CAAC,GAAGuX,cAAc,CAACG,OAAD,CAAxB;;CACA,UAAI,CAAC1X,CAAL,EAAQ;CAAE;CAAW;;CACrBA,MAAAA,CAAC,CAAC,CAAD,CAAD;CACA,aAAOuX,cAAc,CAACG,OAAD,CAArB;CACA;;CAED,UAAMI,QAAQ,GAAG,KAAKC,UAAtB;CACA,UAAMC,gBAAgB,GAAG,IAAIvV,GAAJ,CAAQxD,MAAM,CAAC2H,IAAP,CAAYkR,QAAZ,CAAR,CAAzB;;CACA,SAAK,MAAM,CAACJ,OAAD,EAAU3Y,EAAV,CAAX,IAA4BkZ,YAAY,CAACtU,KAAD,CAAxC,EAAiD;CAChD,UAAIqU,gBAAgB,CAACtX,GAAjB,CAAqBgX,OAArB,CAAJ,EAAmC;CAClCM,QAAAA,gBAAgB,CAAC9U,MAAjB,CAAwBwU,OAAxB;CACA,cAAM,CAACE,KAAD,EAAQC,EAAR,IAAcC,QAAQ,CAACJ,OAAD,CAAR,IAAqB,EAAzC;;CACA,YAAIE,KAAK,KAAK7Y,EAAd,EAAkB;CAAE;CAAW;;CAC/B,YAAI8Y,EAAJ,EAAQ;CAAEA,UAAAA,EAAE;CAAK;CACjB;;CACDC,MAAAA,QAAQ,CAACJ,OAAD,CAAR,GAAoB,CAAC3Y,EAAD,EAAK,KAAKqY,EAAL,CAAQM,OAAR,EAAiB3Y,EAAjB,CAAL,CAApB;CACA;;CACD,SAAK,MAAM2Y,OAAX,IAAsBM,gBAAtB,EAAwC;CACvC,YAAMhY,CAAC,GAAG8X,QAAQ,CAACJ,OAAD,CAAlB;;CACA,UAAI,CAAC1X,CAAL,EAAQ;CAAE;CAAW;;CACrBA,MAAAA,CAAC,CAAC,CAAD,CAAD;CACA,aAAO8X,QAAQ,CAACJ,OAAD,CAAf;CACA;;CAGD,UAAMQ,aAAa,GAAG,KAAKC,iBAA3B;CACA,UAAMC,QAAQ,GAAGC,SAAS,CAAC1U,KAAD,CAA1B;;CACA,QAAIyU,QAAQ,KAAK,KAAKE,gBAAtB,EAAwC;CACvC,WAAKA,gBAAL,GAAwBF,QAAxB;;CACA,WAAK,MAAMV,OAAX,IAAsB,CAAC,GAAGzY,MAAM,CAAC2H,IAAP,CAAYsR,aAAZ,CAAJ,CAAtB,EAAuD;CACtD,cAAMlY,CAAC,GAAGkY,aAAa,CAACR,OAAD,CAAvB;;CACA,YAAI,CAAC1X,CAAL,EAAQ;CAAE;CAAW;;CACrBA,QAAAA,CAAC;CACD,eAAOkY,aAAa,CAACR,OAAD,CAApB;CACA;;CACD,UAAI,CAACU,QAAL,EAAe;CAAE;CAAS;;CAC1B,YAAM;CAACpB,QAAAA;CAAD,UAAUoB,QAAhB;;CACA,UAAI,CAAC7R,KAAK,CAACC,OAAN,CAAcwQ,KAAd,CAAL,EAA2B;CAAE;CAAS;;CACtC,WAAK,MAAM/G,CAAX,IAAgB+G,KAAhB,EAAuB;CACtBkB,QAAAA,aAAa,CAACjI,CAAD,CAAb,GAAmB,KAAKmH,EAAL,CAAQnH,CAAR,EAAWlQ,CAAC,IAAIqY,QAAQ,CAACnI,CAAD,EAAIlQ,CAAJ,CAAxB,CAAnB;CACA;;CACD;CACA;;CACD,QAAI,CAACqY,QAAL,EAAe;CAAE;CAAS;;CAC1B,UAAMG,QAAQ,GAAG,IAAI9V,GAAJ,CAAQxD,MAAM,CAAC2H,IAAP,CAAYsR,aAAZ,CAAR,CAAjB;CACA,UAAMlB,KAAK,GAAGoB,QAAQ,CAACpB,KAAT,IAAkB,EAAhC;;CACA,SAAK,MAAM/G,CAAX,IAAgB+G,KAAhB,EAAuB;CACtB,UAAI,CAAC/G,CAAL,EAAQ;CAAE;CAAW;;CACrBsI,MAAAA,QAAQ,CAACrV,MAAT,CAAgB+M,CAAhB;;CACA,UAAIsI,QAAQ,CAAC7X,GAAT,CAAauP,CAAb,CAAJ,EAAqB;CAAE;CAAW;;CAClCiI,MAAAA,aAAa,CAACjI,CAAD,CAAb,GAAmB,KAAKmH,EAAL,CAAQnH,CAAR,EAAWlQ,CAAC,IAAIqY,QAAQ,CAACnI,CAAD,EAAIlQ,CAAJ,CAAxB,CAAnB;CACA;;CACD,SAAK,MAAM2X,OAAX,IAAsBa,QAAtB,EAAgC;CAC/B,YAAMvY,CAAC,GAAGkY,aAAa,CAACR,OAAD,CAAvB;;CACA,UAAI,CAAC1X,CAAL,EAAQ;CAAE;CAAW;;CACrBA,MAAAA,CAAC;CACD,aAAOkY,aAAa,CAACR,OAAD,CAApB;CACA;CACD;;CA9HwF;;CAgI1F,UAAUC,SAAV,CAAoB5X,CAApB,EAA4E;CAC3E,MAAI,CAACA,CAAL,EAAQ;CAAE;CAAS;;CAEnB,OAAK,MAAMqG,CAAX,IAAgBnH,MAAM,CAAC2H,IAAP,CAAY7G,CAAZ,CAAhB,EAAgC;CAC/B,UAAMhB,EAAE,GAAGgB,CAAC,CAACqG,CAAD,CAAZ;;CACA,QAAI,OAAOrH,EAAP,KAAc,UAAlB,EAA8B;CAAE;CAAW;;CAC3C,QAAIqH,CAAC,CAACoS,MAAF,CAAS,CAAT,EAAY,CAAZ,MAAmB,KAAvB,EAA8B;CAAE;CAAW;;CAC3C,UAAMd,OAAO,GAAItR,CAAC,CAACoS,MAAF,CAAS,CAAT,CAAjB;;CACA,QAAI,CAACd,OAAL,EAAc;CAAE;CAAW;;CAC3B,UAAM,CAACA,OAAD,EAAU3Y,EAAV,CAAN;CACA;CACD;;CAED,UAAUkZ,YAAV,CAAuBlY,CAAvB,EAA+E;CAC9E,MAAI,CAACA,CAAL,EAAQ;CAAE;CAAS;;CACnB,QAAM8W,MAAM,GAAG9W,CAAC,CAAC,MAAD,CAAhB;;CACA,MAAI,CAAC8W,MAAL,EAAa;CAAE;CAAS;;CACxB,MAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;CAAE;CAAS;;CAC3C,OAAK,MAAMzQ,CAAX,IAAgBnH,MAAM,CAAC2H,IAAP,CAAY7G,CAAZ,CAAhB,EAAgC;CAC/B,UAAMhB,EAAE,GAAGgB,CAAC,CAACqG,CAAD,CAAZ;;CACA,QAAI,OAAOrH,EAAP,KAAc,UAAlB,EAA8B;CAAE;CAAW;;CAC3C,UAAM,CAACqH,CAAD,EAAIrH,EAAJ,CAAN;CACA;CACD;;CAED,SAASsZ,SAAT,CAAmBtY,CAAnB,EAA6C;CAC5C,MAAI,CAACA,CAAL,EAAQ;CAAE;CAAS;;CACnB,MAAIqY,QAAQ,GAAGrY,CAAH,aAAGA,CAAH,uBAAGA,CAAC,CAAG,MAAH,CAAhB;;CACA,MAAI,OAAOqY,QAAP,KAAoB,UAAxB,EAAoC;CAAE;CAAS;;CAC/C,SAAOA,QAAP;CACA;;CCrMc,SAASK,gBAAT,CAA0B9U,KAA1B,EAAkF;CAChG,QAAMmT,KAAK,GAAG,IAAIG,YAAJ,EAAd;CACAH,EAAAA,KAAK,CAACQ,aAAN,CAAoB3T,KAApB;CACA,SAAOmT,KAAK,CAACR,IAAb;CACA;;CCJc,SAASoC,aAAT,CACd,GAAGC,UADW,EAEqB;CACnC,SAAOA,UAAU,CAAChX,MAAX,CAAkBiB,OAAlB,CAAP;CACA;;CCLM,SAASgW,YAAT,CAAsB7U,MAAtB,EAA0C;CAChD,MAAIwC,KAAK,CAACC,OAAN,CAAczC,MAAd,CAAJ,EAA2B;CAAE,WAAOA,MAAP;CAAgB;;CAC7C,MAAI,CAAC2K,SAAS,CAAC3K,MAAD,CAAd,EAAwB;CAAE,WAAO,CAACA,MAAD,CAAP;CAAkB;;CAC5C,MAAIA,MAAM,CAACrF,GAAP,KAAe8P,QAAnB,EAA6B;CAAE,WAAO,CAACzK,MAAD,CAAP;CAAkB;;CACjD,SAAOA,MAAM,CAACiK,QAAd;CACA;;CCNM,MAAM2K,UAA0C,GAAG1Z,MAAM,CAACC,MAAP,CAAc,IAAd,CAAnD;AAEP,CAAe,SAAS2Z,QAAT,CACdhP,IADc,EAEdiP,SAFc,EAGP;CACPH,EAAAA,UAAU,CAAC9O,IAAD,CAAV,GAAmBiP,SAAnB;CACA;;CCEM,SAASC,aAAT,CACNra,GADM,EAENia,YAFM,EAGNrD,MAHM,EAI2B;CACjC,MAAI,CAAC5W,GAAL,EAAU;CAAE,WAAO,IAAP;CAAc;;CAC1B,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;CAAE,WAAOA,GAAP;CAAa;;CAC5C,MAAI,UAAUsa,IAAV,CAAeta,GAAf,CAAJ,EAAyB;CACxB,QAAIua,IAAI,GAAGva,GAAG,CAAC8Q,WAAJ,EAAX;;CACA,QAAIyJ,IAAI,KAAK3K,SAAb,EAAwB;CAAE,aAAO2K,IAAP;CAAc;;CACxC,QAAIA,IAAI,KAAK9K,SAAb,EAAwB;CAAE,aAAO8K,IAAP;CAAc;;CACxC,QAAIA,IAAI,KAAK7K,MAAb,EAAqB;CAAE,aAAO6K,IAAP;CAAc;;CACrC,QAAIA,IAAI,KAAK5K,IAAb,EAAmB;CAAE,aAAOiH,MAAM,GAAG,MAAH,GAAYnH,SAAzB;CAAqC;;CAC1D,WAAOK,QAAP;CACA;;CACD,MAAI9P,GAAG,KAAK8P,QAAZ,EAAsB;CAAE,WAAO9P,GAAP;CAAa;;CACrC,MAAIA,GAAG,KAAK,MAAZ,EAAoB;CAAE,WAAOA,GAAP;CAAa;;CACnC,OAAK,MAAMmD,IAAX,IAAmB8W,YAAnB,EAA+B;CAC9B,UAAMG,SAAS,GAAGjX,IAAI,CAACnD,GAAD,CAAtB;;CACA,QAAIoa,SAAJ,EAAe;CAAE,aAAOA,SAAP;CAAmB;CACpC;;CACD,SAAOI,UAAgB,CAACxa,GAAD,CAAhB,IAAyBA,GAAhC;CACA;;CC/BM,SAASkP,WAAT,CAAqBI,QAArB,EAAsCmL,IAAtC,EAAwD;CAC9D,MAAInL,QAAQ,CAAC/I,MAAT,KAAoB,CAAxB,EAA2B;CAAE,WAAO+I,QAAP;CAAkB;;CAC/C,QAAM,CAACjP,EAAD,IAAOiP,QAAb;;CACA,MAAI,OAAOjP,EAAP,KAAc,UAAlB,EAA8B;CAAE,WAAOiP,QAAP;CAAkB;;CAClD,SAAO4K,YAAY,CAAC7Z,EAAE,CAACoa,IAAD,CAAH,CAAnB;CACA;;CCAM,SAASC,iBAAT,CACNC,wBADM,EAENrL,QAFM,EAGE;CACR,QAAMsL,OAAO,GAAGra,MAAM,CAACC,MAAP,CAAc,IAAd,CAAhB;CACAkW,EAAAA,QAAQ,CAACiE,wBAAwB,CAAC7Z,QAA1B,EAAoCwO,QAApC,EAA8CsL,OAA9C,CAAR;CACA,SAAO3D,QAAQ,CAAC2D,OAAD,CAAf;CACA;;CCiCD,SAASC,uBAAT,CACCF,wBADD,EAEe;CACd,SAAO;CACNrE,IAAAA,OAAO,EAAE,KADH;CAEND,IAAAA,QAAQ,EAAE,IAFJ;CAGNjK,IAAAA,OAAO,EAAE,KAHH;CAINwI,IAAAA,SAAS,EAAE,IAJL;CAKN/F,IAAAA,SAAS,EAAE8L,wBAAwB,CAAC9L,SAL9B;CAMNuH,IAAAA,QAAQ,EAAE,EANJ;CAONrH,IAAAA,OAAO,EAAE4L,wBAAwB,CAAC5L,OAP5B;CAQNzD,IAAAA,MAAM,EAAEqP,wBAAwB,CAACG,YAR3B;CASN5L,IAAAA,WAAW,EAAE,MAAM;CATb,GAAP;CAWA;;CAED,SAAS6L,UAAT,CACCJ,wBADD,EAECpL,IAFD,EAGCvP,GAHD,EAICia,UAJD,EAKC3K,QALD,EAMW;CACV,QAAMqH,KAAK,GAAG+D,iBAAiB,CAACC,wBAAD,EAA2BrL,QAA3B,CAA/B;CACA,QAAM3C,WAAW,GAAGkO,uBAAuB,CAACF,wBAAD,CAA3C;CAEA,QAAMtV,MAAM,GAAG0G,UAAU,CAACY,WAAD,EAAchL,SAAd,EAAyB3B,GAAzB,EAA8B,EAAC,GAAGuP,IAAI,CAACtK;CAAT,GAA9B,EAA+C;CACvEwR,IAAAA,EAAE,EAAED,QAAQ,CAAC7J,WAAD,CAD2D;CAEvE6C,IAAAA,IAAI,EAAE+H,aAAa,CAACZ,KAAD,EAAQ,IAAR,CAFoD;CAGvEqE,IAAAA,UAAU,EAAE,MAAM1L,QAHqD;CAIvEsI,IAAAA,IAAI,EAAEmC,gBAAgB,CAACxK,IAAI,CAACtK,KAAN;CAJiD,GAA/C,CAAzB;CAMA,QAAMgW,KAAK,GAAGpQ,IAAI,CACjB8P,wBADiB,EAEjBT,YAAY,CAAC7U,MAAD,CAFK,EAGjBsR,KAHiB,EAIjBqD,aAAa,CAAC,GAAGC,UAAJ,EAAgBja,GAAG,CAACoN,gBAAD,CAAnB,CAJI,EAKjB,KALiB,EAMjB,IANiB,CAAlB;CASA,SAAO,EACN,GAAGmC,IADG;CAENvP,IAAAA,GAFM;CAGNsQ,IAAAA,MAAM,EAAE,IAHF;CAINhB,IAAAA,QAAQ,EAAEzH,KAAK,CAACC,OAAN,CAAcmT,KAAd,IAAuBA,KAAvB,GAA+B,CAACA,KAAD;CAJnC,GAAP;CAMA;;CAED,SAASC,eAAT,CACCP,wBADD,EAECrL,QAFD,EAGCqH,KAHD,EAICsD,UAJD,EAKCrD,MALD,EAMmB;CAClB,MAAItH,QAAQ,CAAC/I,MAAT,KAAoB,CAAxB,EAA2B;CAAE,WAAO,IAAP;CAAc;;CAC3C,QAAM,CAAC4U,QAAD,IAAa7L,QAAnB;;CACA,MAAI5J,OAAO,CAACyV,QAAD,CAAP,IAAqB,OAAOA,QAAP,KAAoB,UAA7C,EAAyD;CAAE,WAAO,IAAP;CAAc;;CACzE,QAAM;CAAEC,IAAAA;CAAF,MAAuBT,wBAA7B;CACA,QAAMta,EAAE,GAAG+a,gBAAgB,CAACnZ,GAAjB,CAAqBkZ,QAArB,CAAX;;CACA,MAAI9a,EAAJ,EAAQ;CAAE,WAAOA,EAAP;CAAY;;CACtB,QAAMgb,KAAK,GAAG,UAAoB,GAAGha,CAAvB,EAAwC;CACrD,WAAOwJ,IAAI,CACV8P,wBADU,EAEVQ,QAAQ,CAACG,IAAT,CAAc,IAAd,EAAoB,GAAGja,CAAvB,CAFU,EAGVsV,KAHU,EAIVsD,UAJU,EAKVrD,MALU,EAMV,KANU,CAAX;CAQA,GATD;;CAUAwE,EAAAA,gBAAgB,CAACjZ,GAAjB,CAAqBgZ,QAArB,EAA+BE,KAA/B;CACA,SAAOA,KAAP;CACA;;CAoBD,SAAS9V,MAAT,CACCgK,IADD,EAECoL,wBAFD,EAGChE,KAHD,EAICsD,UAJD,EAKCrD,MALD,EAMC2E,UAND,EAOmC;CAAA;;CAClC,MAAI1T,KAAK,CAACC,OAAN,CAAcyH,IAAd,CAAJ,EAAyB;CACxB,WAAOA,IAAI,CAACzN,GAAL,CAASyP,CAAC,IAAIhM,MAAI,CACxBgM,CADwB,EAExBoJ,wBAFwB,EAGxBhE,KAHwB,EAIxBsD,UAJwB,EAKxBrD,MALwB,EAMxB2E,UANwB,CAAlB,CAAP;CAQA;;CACD,MAAI,CAACvL,SAAS,CAACT,IAAD,CAAd,EAAsB;CAAE,WAAOA,IAAP;CAAc;;CACtC,MAAIA,IAAI,CAACvP,GAAL,KAAayP,SAAb,IAA0BF,IAAI,CAACgB,QAAnC,EAA6C;CAAE,WAAOhB,IAAP;CAAc;;CAC7D,QAAM;CAAED,IAAAA;CAAF,MAAeC,IAArB;CACA,QAAMvP,GAAG,GAAGqa,aAAa,CAAC9K,IAAI,CAACvP,GAAN,EAAWia,UAAX,EAAuBrD,MAAvB,CAAzB;;CACA,MAAIzI,iBAAiB,CAACnO,GAAD,CAArB,EAA4B;CAC3B,QAAIuP,IAAI,CAACe,MAAT,EAAiB;CAAE,aAAOf,IAAP;CAAc;;CACjC,WAAOwL,UAAU,CAChBJ,wBADgB,EAEhBpL,IAFgB,EAGhBvP,GAHgB,EAIhBia,UAJgB,EAKhB3K,QAAQ,CAACxN,GAAT,CAAayP,CAAC,IAAIhM,MAAI,CACrBgM,CADqB,EAErBoJ,wBAFqB,EAGrBhE,KAHqB,EAIrBsD,UAJqB,EAKrBrD,MALqB,EAMrB2E,UANqB,CAAtB,CALgB,CAAjB;CAcA;;CACD,MAAIvb,GAAG,KAAK0P,MAAZ,EAAoB;CACnB,UAAM8L,YAAY,GAAGN,eAAe,CACnCP,wBADmC,EAEnCrL,QAFmC,EAGnCqH,KAHmC,EAInCsD,UAJmC,EAKnCrD,MALmC,CAApC;;CAOA,QAAI4E,YAAJ,EAAkB;CACjB,aAAO,EAAE,GAAGjM,IAAL;CAAWD,QAAAA,QAAQ,EAAE,CAACkM,YAAD;CAArB,OAAP;CACA;CACD;;CACD,MAAIxb,GAAG,KAAKyP,SAAZ,EAAuB;CACtB,WAAO,EACN,GAAGF,IADG;CAENvP,MAAAA,GAFM;CAGNsP,MAAAA,QAAQ,EAAEA,QAAQ,CAACxN,GAAT,CAAayP,CAAC,IAAIhM,MAAI,CAC/BgM,CAD+B,EAE/BoJ,wBAF+B,EAG/BhE,KAH+B,EAI/BsD,UAJ+B,EAK/BrD,MAL+B,EAM/B2E,UAN+B,CAAtB;CAHJ,KAAP;CAYA;;CAED,QAAM;CAAEtW,IAAAA;CAAF,MAAYsK,IAAlB;CACA,QAAMkL,IAAI,GAAG,CAAAxV,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEmS,IAAP,KAAe,EAA5B;CACA,QAAMqE,QAAQ,GAAG,gBAAAlM,IAAI,CAACtK,KAAL,4DAAYkG,IAAZ,KAAoB,SAArC;CACA,QAAMqE,IAAI,GAAG+L,UAAU,IAAIE,QAAQ,IAAI9E,KAA1B,GACVA,KAAK,CAAC8E,QAAD,CADK,GAEVzE,OAAO,CAACL,KAAD,EAAQ8E,QAAR,CAFV;CAGA,QAAM1E,EAAW,GAAG;CACnB,KAACxJ,gBAAD,GAAoBC,uBADD;CAEnBvI,IAAAA,KAFmB;CAGnBlD,IAAAA,GAAG,EAAEwN,IAAI,CAACxN,GAHS;CAInB/B,IAAAA,GAAG,EAAEyP,SAJc;CAKnBc,IAAAA,QAAQ,EAAE,IALS;CAMnBf,IAAAA,IAAI,EAAEiM,QANa;CAOnBjL,IAAAA,SAAS,EAAE,CAAChB,IAPO;CAQnBF,IAAAA,QAAQ,EAAEE,IAAI,GACX2H,UAAU,CAAC3H,IAAD,EAAOiL,IAAP,CADC,GAEXvL,WAAW,CAACI,QAAD,EAAWmL,IAAX,CAAX,CAA4B3Y,GAA5B,CAAgCyP,CAAC,IAAIhM,MAAI,CAC1CgM,CAD0C,EAE1CoJ,wBAF0C,EAG1ChE,KAH0C,EAI1CsD,UAJ0C,EAK1CrD,MAL0C,EAM1C2E,UAN0C,CAAzC;CAVgB,GAApB;CAmBA,SAAOxE,EAAP;CACA;;AACD,CAAO,SAASlM,IAAT,CACN8P,wBADM,EAENpL,IAFM,EAGNoH,KAHM,EAINsD,UAJM,EAKNrD,MALM,EAMN2E,UANM,EAOE;CACR,SAAOtF,YAAY,CAAC,MAAMrT,QAAQ,CAAC,MAAM2C,MAAI,CAC5CgK,IAD4C,EAE5CoL,wBAF4C,EAG5ChE,KAH4C,EAI5CsD,UAJ4C,EAK5CrD,MAL4C,EAM5C2E,UAN4C,CAAX,CAAf,CAAnB;CAQA;AAGD,CAAe,SAASG,SAAT,CACdxS,KADc,EAEdkS,gBAFc,EAGdrM,OAHc,EAId1J,MAJc,EAKd4U,UAAU,GAAG/Q,KAAK,CAAClJ,GAAN,CAAUoN,gBAAV,KAA+B,IAL9B,EAMN;CACR,SAAOvC,IAAI,CACV;CACC/J,IAAAA,QAAQ,EAAEoI,KAAK,CAACpI,QADjB;CAECiO,IAAAA,OAFD;CAGCqM,IAAAA,gBAHD;CAICvM,IAAAA,SAAS,EAAE3F,KAAK,CAAC2F,SAJlB;CAKCiM,IAAAA,YAAY,EAAE5R,KAAK,CAAC+C;CALrB,GADU,EAQViO,YAAY,CAAC7U,MAAD,CARF,EASV6D,KAAK,CAACyN,KATI,EAUVqD,aAAa,CAACC,UAAD,CAVH,EAWV/V,OAAO,CAACgF,KAAK,CAACyS,QAAP,CAXG,EAYV,KAZU,CAAX;CAcA;;CC3PD,SAASC,OAAT,CACC1Z,KADD,EAEiB;CAChB,MAAIA,KAAK,KAAKP,SAAV,IAAuBO,KAAK,KAAK,IAArC,EAA2C;CAAE,WAAO,IAAP;CAAc;;CAC3D,MAAIA,KAAK,YAAY2Z,IAArB,EAA2B;CAAE,WAAO3Z,KAAK,CAAC4Z,WAAN,EAAP;CAA6B;;CAC1D,MAAI5Z,KAAK,YAAY6Z,MAArB,EAA6B;CAAE,WAAOna,MAAM,CAACM,KAAD,CAAb;CAAuB;;CACtD,SAAON,MAAM,CAACM,KAAD,CAAb;CACA;;CAGD,SAASgY,cAAT,CAAsB7U,MAAtB,EAA0C;CACzC,MAAI,CAAC2K,SAAS,CAAC3K,MAAD,CAAd,EAAwB;CAAE,WAAO,CAACA,MAAD,CAAP;CAAkB;;CAC5C,MAAIA,MAAM,CAACrF,GAAP,KAAe8P,QAAnB,EAA6B;CAAE,WAAO,CAACzK,MAAD,CAAP;CAAkB;;CACjD,SAAOA,MAAM,CAACiK,QAAd;CACA;;AACD,CAAe,MAAM0M,UAAN,SAAyBvG,SAAzB,CAAyC;CAEvD,MAAIwG,OAAJ,GAA+C;CAAE,WAAO,KAAK5J,IAAZ;CAAmB;;CAIpE,MAAInQ,KAAJ,CAAUhC,CAAV,EAAa;CACZ,UAAMwH,CAAC,GAAGxH,CAAC,KAAK,KAAKgc,OAArB;CACA,SAAKA,OAAL,GAAehc,CAAf;;CACA,QAAIwH,CAAJ,EAAO;CACNzD,MAAAA,UAAU,CAAC,IAAD,EAAO,OAAP,CAAV;CACA;CACD;;CACD,MAAI/B,KAAJ,GAAiB;CAChBG,IAAAA,QAAQ,CAAC,IAAD,EAAO,OAAP,CAAR;CACA,QAAInC,CAAC,GAAG,KAAKgc,OAAb;;CACA,WAAOxW,OAAO,CAACxF,CAAD,CAAd,EAAmB;CAAEA,MAAAA,CAAC,GAAGA,CAAC,EAAL;CAAU;;CAC/B,WAAOA,CAAP;CACA;;CAKDJ,EAAAA,WAAW,CACVuP,KADU,EAEV/D,MAFU,EAGT;CACD,UAAM,IAAN,EAAY,IAAZ,EAAkB+D,KAAlB,EAAyB,EAAzB,EAA6B/D,MAA7B;;CADC;;CAAA;;CAAA;;CAAA;;CAAA;;CAAA;;CAAA,0CAmDqB,KAnDrB;;CAAA,2CAqDsB,KArDtB;;CAED,UAAM;CAACpJ,MAAAA;CAAD,QAAUmN,KAAhB;CACA,SAAK6M,OAAL,GAAeha,KAAf;;CACA,IAAmB;CAClBuE,MAAAA,cAAc,CAAC,IAAD,EAAO,MAAP,EAAe9E,SAAf,CAAd;CACA8E,MAAAA,cAAc,CAAC,IAAD,EAAO,SAAP,EAAkBf,OAAO,CAACxD,KAAD,CAAzB,CAAd;CACA;;CACD,UAAMyU,KAAK,GAAGpW,MAAM,CAACC,MAAP,CAAc,IAAd,CAAd;CACA,UAAMma,wBAAkD,GAAG;CAC1D7Z,MAAAA,QAAQ,EAAE,KAAKA,QAD2C;CAE1DiO,MAAAA,OAAO,EAAE,MAAM,KAAKA,OAAL,EAF2C;CAG1DqM,MAAAA,gBAAgB,EAAE,IAAIrY,OAAJ,EAHwC;CAI1D8L,MAAAA,SAAS,EAAE,KAAKA,SAJ0C;CAK1D;CACAiM,MAAAA,YAAY,EAAEnZ;CAN4C,KAA3D;CAQA,SAAKwa,QAAL,GAAgB3W,OAAO,CACtB+B,OAAO,IAAIA,OAAO,IAAI,KAAKwH,OAAL,EADA,EAEtB,MAAM;CACL,UAAI;CAAC7M,QAAAA;CAAD,UAAU,IAAd;;CACA,UAAI8N,SAAS,CAAC9N,KAAD,CAAT,IAAoB2F,KAAK,CAACC,OAAN,CAAc5F,KAAd,CAAxB,EAA8C;CAC7C,aAAKka,OAAL,GAAeC,OAAO,CACrB,IADqB,EAErBxR,IAAI,CACH8P,wBADG,EAEHT,cAAY,CAAChY,KAAD,CAFT,EAGHyU,KAHG,EAIH,EAJG,EAKH,KALG,EAMH,KANG,CAFiB,EAUrB,KAAKyF,OAVgB,CAAtB;CAYA,eAAO,IAAP;CACA;;CACD,UAAI,KAAKA,OAAT,EAAkB;CACjBhR,QAAAA,OAAO,CAAC,KAAKgR,OAAN,CAAP;CACA,aAAKA,OAAL,GAAeza,SAAf;CACA,OAHD,MAGO,IAAI,KAAK8R,GAAL,KAAavR,KAAjB,EAAwB;CAC9B,eAAO,KAAP;CACA;;CACD,WAAKuR,GAAL,GAAWvR,KAAX;CACA,aAAO,IAAP;CACA,KA3BqB,CAAvB;CA6BA,SAAKkK,OAAL,GAAe,IAAf;CACA,SAAK2C,OAAL;CACA;CAED;;;CAMAA,EAAAA,OAAO,GAAS;CACf,QAAI,KAAK6F,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAK0H,aAAL,GAAqB,IAArB;;CACA,QAAI,CAAC,KAAKlQ,OAAV,EAAmB;CAAE;CAAS;;CAE9B,QAAI,KAAKmQ,YAAT,EAAuB;CAAE;CAAS;;CAClC,SAAKA,YAAL,GAAoB,IAApB;CAEA,QAAIC,QAAQ,GAAG,KAAf;;CACA,WAAO,KAAKF,aAAL,IAAsB,CAACxY,MAAI,CAAC,IAAD,CAAlC,EAA0C;CACzC,WAAKwY,aAAL,GAAqB,KAArB;CACAE,MAAAA,QAAQ,GAAG,KAAKL,QAAL,MAAmBK,QAA9B;;CACA,UAAI,KAAK5H,SAAT,EAAoB;CAAE;CAAS;CAC/B;;CACD,SAAK2H,YAAL,GAAoB,KAApB;;CACA,QAAI,CAACC,QAAL,EAAe;CAAE;CAAS;;CAC1B,QAAI1Y,MAAI,CAAC,IAAD,CAAR,EAAgB;CAAE;CAAS;;CAC3B,QAAI,CAAC,KAAKoR,OAAV,EAAmB;CAAE;CAAS;;CAC9B,QAAI,KAAKN,SAAT,EAAoB;CAAE;CAAS;;CAC/B,QAAI,KAAKU,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAKP,WAAL;CACA;;CAEDN,EAAAA,OAAO,CAAC;CAACvS,IAAAA;CAAD,GAAD,EAAqB;CAC3B,SAAKA,KAAL,GAAaA,KAAb;;CACA,IAAmB;CAClB,WAAKwD,OAAL,GAAeA,OAAO,CAACxD,KAAD,CAAtB;CACA;CACD;;CACDyS,EAAAA,QAAQ,GAAS;CAChB,SAAKwH,QAAL,CAAc/W,IAAd;;CACA,UAAM;CAAEgX,MAAAA;CAAF,QAAc,IAApB;;CACA,QAAI,CAACA,OAAL,EAAc;CACb;CACA;;CACDhR,IAAAA,OAAO,CAACgR,OAAD,CAAP;CACA;;CACDnH,EAAAA,MAAM,CAAClD,YAAD,EAAmC;CACxC,UAAM;CAAEjR,MAAAA,QAAF;CAAYsb,MAAAA,OAAZ;CAAqB3I,MAAAA;CAArB,QAA6B,IAAnC;;CACA,QAAI2I,OAAJ,EAAa;CACZ,WAAK/J,IAAL,GAAY4B,IAAI,CAACnT,QAAD,EAAWiR,YAAX,EAAyBqK,OAAzB,CAAhB;CACA;CACA;;CACD,QAAItb,QAAQ,CAACgW,MAAT,CAAgBrD,GAAhB,CAAJ,EAA0B;CACzB,WAAKpB,IAAL,GAAY,CAACf,iBAAiB,CAAC;CAAE/B,QAAAA,IAAI,EAAEkE;CAAR,OAAD,CAAlB,CAAZ;CACA;CACA;;CACD,UAAMvC,IAAI,GAAG0K,OAAO,CAACnI,GAAD,CAApB;;CACA,IAAmB;CAAE,WAAKvC,IAAL,GAAYA,IAAZ;CAAmB;;CACxC,UAAM3B,IAAI,GAAG,OAAO2B,IAAP,KAAgB,QAAhB,GACVI,iBAAiB,CAAC;CAAE/B,MAAAA,IAAI,EAAEzO,QAAQ,CAAC2b,UAAT,CAAoBvL,IAApB;CAAR,KAAD,CADP,GAEVU,eAAe,CAAC9Q,QAAD,CAFlB;CAGA,SAAKuR,IAAL,GAAY,CAAC9C,IAAD,CAAZ;CACA;;CACDiG,EAAAA,OAAO,CAACzD,YAAD,EAAmC;CACzC,UAAM;CAAEjR,MAAAA,QAAF;CAAYsb,MAAAA,OAAZ;CAAqB3I,MAAAA;CAArB,QAA6B,IAAnC;;CACA,QAAI2I,OAAJ,EAAa;CACZ,WAAK/J,IAAL,GAAY4B,IAAI,CAACnT,QAAD,EAAWiR,YAAX,EAAyBqK,OAAzB,EAAkC,KAAK/J,IAAvC,CAAhB;CACA;CACA;;CACD,QAAIvR,QAAQ,CAACgW,MAAT,CAAgBrD,GAAhB,CAAJ,EAA0B;CACzB,WAAKpB,IAAL,GAAY,CAACf,iBAAiB,CAAC;CAAE/B,QAAAA,IAAI,EAAEkE;CAAR,OAAD,CAAlB,CAAZ;;CACA,MAAmB;CAClB,aAAKvC,IAAL,GAAYvP,SAAZ;CACA;;CACD;CACA;;CACD,UAAMuP,IAAI,GAAG0K,OAAO,CAACnI,GAAD,CAApB;;CACA,IAAmB;CAAE,WAAKvC,IAAL,GAAYA,IAAZ;CAAmB;;CACxC,UAAM3B,IAAI,GAAG,OAAO2B,IAAP,KAAgB,QAAhB,GACVI,iBAAiB,CAAC;CAAE/B,MAAAA,IAAI,EAAEzO,QAAQ,CAAC2b,UAAT,CAAoBvL,IAApB;CAAR,KAAD,CADP,GAEVU,eAAe,CAAC9Q,QAAD,CAFlB;CAGA,SAAKuR,IAAL,GAAYI,WAAW,CAAC3R,QAAD,EAAW,CAACyO,IAAD,CAAX,EAAmB,KAAK8C,IAAxB,CAAvB;CACA;;CACDgD,EAAAA,QAAQ,GAAS;CAChB,UAAM;CAAEvU,MAAAA,QAAF;CAAYuR,MAAAA;CAAZ,QAAqB,IAA3B;CACAD,IAAAA,OAAO,CAACtR,QAAD,EAAWuR,IAAX,CAAP;CACA;;CA/JsD;;CCzBzC,MAAMqK,YAAN,SAA8BjH,SAA9B,CAA6D;CAG3E,MAAIwG,OAAJ,GAA+C;CAAE,WAAO,KAAK5J,IAAZ;CAAmB;;CAGpEvS,EAAAA,WAAW,CACVwU,WADU,EAEVtU,GAFU,EAGViF,KAHU,EAIVqK,QAJU,EAKVhE,MALU,EAMT;CACD,UAAMgJ,WAAN,EAAmBtU,GAAnB,EAAwBiF,KAAxB,EAA+BqK,QAA/B,EAAyChE,MAAzC,EAAiD/K,MAAM,CAACC,MAAP,CAAc8K,MAAM,CAACuD,SAArB,CAAjD;;CADC;;CAAA;;CAED,UAAM;CAAC3M,MAAAA;CAAD,QAAU+C,KAAhB;CACA,SAAK0X,aAAL,GAAqBza,KAArB;CACAsE,IAAAA,OAAO,CAACC,cAAR,CAAuB,KAAKoI,SAA5B,EAAuC7O,GAAG,CAACiO,gBAAD,CAA1C,EAA8D;CAC7DtH,MAAAA,YAAY,EAAE,IAD+C;CAE7DD,MAAAA,UAAU,EAAE,IAFiD;CAG7DzE,MAAAA,GAAG,EAAC,MAAM;CACTI,QAAAA,QAAQ,CAAC,IAAD,EAAO,OAAP,CAAR;CACA,eAAO,KAAKsa,aAAZ;CACA;CAN4D,KAA9D;CAQA,SAAKP,OAAL,GAAeC,OAAO,CAAC,IAAD,EAAO/M,QAAP,CAAtB;CACA,SAAKlD,OAAL,GAAe,IAAf;CACA;CACD;;;CACAqI,EAAAA,OAAO,CAAC;CAACvS,IAAAA;CAAD,GAAD,EAAyBoN,QAAzB,EAAgD;CACtD,QAAI,KAAKqN,aAAL,KAAuBza,KAA3B,EAAkC;CACjC,WAAKya,aAAL,GAAqBza,KAArB;CACA+B,MAAAA,UAAU,CAAC,IAAD,EAAO,OAAP,CAAV;CACA;;CACD,SAAKmY,OAAL,GAAeC,OAAO,CAAC,IAAD,EAAO/M,QAAP,EAAiB,KAAK8M,OAAtB,CAAtB;CACA,SAAKrH,WAAL;CACA;;CAEDJ,EAAAA,QAAQ,GAAS;CAChBvJ,IAAAA,OAAO,CAAC,KAAKgR,OAAN,CAAP;CACA;;CACDnH,EAAAA,MAAM,CAAClD,YAAD,EAAmC;CACxC,SAAKM,IAAL,GAAY4B,IAAI,CAAC,KAAKnT,QAAN,EAAgBiR,YAAhB,EAA8B,KAAKqK,OAAnC,CAAhB;CACA;;CACD5G,EAAAA,OAAO,CAACzD,YAAD,EAAmC;CACzC,UAAM;CAAEjR,MAAAA,QAAF;CAAYsb,MAAAA,OAAZ;CAAqB/J,MAAAA;CAArB,QAA8B,IAApC;CACA,SAAKA,IAAL,GAAY4B,IAAI,CAACnT,QAAD,EAAWiR,YAAX,EAAyBqK,OAAzB,EAAkC/J,IAAlC,CAAhB;CACA;;CACDgD,EAAAA,QAAQ,GAAS;CAChBjD,IAAAA,OAAO,CAAC,KAAKtR,QAAN,EAAgB,KAAKuR,IAArB,CAAP;CACA;;CAjD0E;;CCH7D,MAAMuK,UAAN,SAA4BnH,SAA5B,CAAyC;CAGvD,MAAIwG,OAAJ,GAA+C;CAAE,WAAO,KAAK5J,IAAZ;CAAmB;;CACpEvS,EAAAA,WAAW,CACVE,GADU,EAEVsP,QAFU,EAGVhE,MAHU,EAIT;CACD,UAAMtL,GAAN,EAAWA,GAAX,EAAgB,EAAhB,EAAoBsP,QAApB,EAA8BhE,MAA9B;;CADC;;CAED,SAAK8Q,OAAL,GAAeC,OAAO,CAAC,IAAD,EAAO/M,QAAP,CAAtB;CACA;CACD;;;CACAmF,EAAAA,OAAO,CAACxP,KAAD,EAAgBqK,QAAhB,EAAuC;CAC7C,SAAK8M,OAAL,GAAeC,OAAO,CAAC,IAAD,EAAO/M,QAAP,EAAiB,KAAK8M,OAAtB,CAAtB;CACA,SAAKrH,WAAL;CACA;;CAEDJ,EAAAA,QAAQ,GAAS;CAChBvJ,IAAAA,OAAO,CAAC,KAAKgR,OAAN,CAAP;CACA;;CACDnH,EAAAA,MAAM,CAAClD,YAAD,EAAmC;CACxC,SAAKM,IAAL,GAAY4B,IAAI,CAAC,KAAKnT,QAAN,EAAgBiR,YAAhB,EAA8B,KAAKqK,OAAnC,CAAhB;CACA;;CACD5G,EAAAA,OAAO,CAACzD,YAAD,EAAmC;CACzC,SAAKM,IAAL,GAAY4B,IAAI,CAAC,KAAKnT,QAAN,EAAgBiR,YAAhB,EAA8B,KAAKqK,OAAnC,EAA4C,KAAK/J,IAAjD,CAAhB;CACA;;CACDgD,EAAAA,QAAQ,GAAS;CAChBjD,IAAAA,OAAO,CAAC,KAAKtR,QAAN,EAAgB,KAAKuR,IAArB,CAAP;CACA;;CA7BsD;;CCFxD,SAASwK,UAAT,CACC5X,KADD,EAEC2G,IAFD,EAGQ;CACP,QAAMkR,OAAO,GAAG,IAAI/Y,GAAJ,CAAQxD,MAAM,CAAC2H,IAAP,CAAY0D,IAAZ,CAAR,CAAhB;;CACA,OAAK,MAAMlE,CAAX,IAAgBzC,KAAhB,EAAuB;CACtB,QAAIyC,CAAC,CAACoS,MAAF,CAAS,CAAT,EAAY,CAAZ,MAAmB,OAAvB,EAAgC;CAAE;CAAW;;CAC7C,UAAM/X,GAAG,GAAG2F,CAAC,CAACoS,MAAF,CAAS,CAAT,CAAZ;;CACA,QAAI,CAAC/X,GAAL,EAAU;CAAE;CAAW;;CACvB+a,IAAAA,OAAO,CAACtY,MAAR,CAAezC,GAAf;CACA6J,IAAAA,IAAI,CAAC7J,GAAD,CAAJ,GAAYkD,KAAK,CAAClD,GAAD,CAAjB;CACA;;CACD,QAAMgb,OAAO,GAAG9X,KAAK,CAAC,QAAD,CAArB;;CACA,MAAI8X,OAAO,IAAI,OAAOA,OAAP,KAAmB,QAAlC,EAA4C;CAC3C,SAAK,MAAMhb,GAAX,IAAkBgb,OAAlB,EAA2B;CAC1B,UAAI,CAAChb,GAAL,EAAU;CAAE;CAAW;;CACvB+a,MAAAA,OAAO,CAACtY,MAAR,CAAezC,GAAf;CACA6J,MAAAA,IAAI,CAAC7J,GAAD,CAAJ,GAAYgb,OAAO,CAAChb,GAAD,CAAnB;CACA;CACD;;CACD,OAAK,MAAMA,GAAX,IAAkB+a,OAAlB,EAA2B;CAC1B,WAAOlR,IAAI,CAAC7J,GAAD,CAAX;CACA;CACD;;AAGD,CAAe,MAAeib,QAAf,SAIL3I,SAJK,CAIW;CACzB;;CAEA;CAEA,MAAI4I,OAAJ,GAAoC;CAAE,WAAO,KAAKC,SAAZ;CAAwB;;CAC9DC,EAAAA,UAAU,CAAC/Z,CAAD,EAAqB;CAC9B,QAAI,KAAKwR,SAAT,EAAoB;CAAE;CAAS;;CAC/B,UAAMwI,GAAG,GAAG,KAAKC,KAAjB;;CACA,QAAI,OAAOD,GAAP,KAAe,UAAnB,EAA+B;CAC9B,WAAKF,SAAL,GAAiB9Z,CAAjB;CACA;CACA;;CACD,UAAMS,GAAG,GAAG,KAAKqZ,SAAjB;CACA,SAAKA,SAAL,GAAiB9Z,CAAjB;CACAga,IAAAA,GAAG,CAACha,CAAD,EAAIS,GAAJ,EAAS,KAAKoI,MAAd,CAAH;CACA;;CAODnM,EAAAA,WAAW,CACVgB,QADU,EAEVwT,WAFU,EAGVtU,GAHU,EAIVqP,KAJU,EAKV/D,MALU,EAMVuD,SANU,EAOT;CACD,UAAM/N,QAAN,EAAgBwT,WAAhB,EAA6BtU,GAA7B,EAAkCqP,KAAlC,EAAyC/D,MAAzC,EAAiDuD,SAAjD;;CADC;;CAAA;;CAAA;;CAAA;;CAAA,kCATmCtO,MAAM,CAACC,MAAP,CAAc,IAAd,CASnC;;CAGDqc,IAAAA,UAAU,CAACxN,KAAD,EAAQ,KAAKzD,IAAb,CAAV;CACA,UAAMuM,MAAM,GAAG,IAAII,YAAJ,EAAf;CACA,UAAMtM,MAAM,GAAG,KAAKqR,YAAL,CAAkBnF,MAAlB,CAAf;CACAA,IAAAA,MAAM,CAAC1W,MAAP,GAAgBwK,MAAhB;CACA,SAAKA,MAAL,GAAcA,MAAd;CACA,SAAKkM,MAAL,GAAcA,MAAd;CACA,UAAMiF,GAAG,GAAG/N,KAAK,CAAC,OAAD,CAAjB;;CACA,QAAI,OAAO+N,GAAP,KAAe,UAAnB,EAA+B;CAC9B,WAAKC,KAAL,GAAaD,GAAb;CACAA,MAAAA,GAAG,CAACzb,SAAD,EAAYA,SAAZ,EAAuBsK,MAAvB,EAA+B,IAA/B,CAAH;CACA;CACD;CAED;;;CAIA;CACAuI,EAAAA,MAAM,CAACnF,KAAD,EAA6BC,QAA7B,EAAoD;CACzDuN,IAAAA,UAAU,CAACxN,KAAD,EAAQ,KAAKzD,IAAb,CAAV;CACA,UAAMwR,GAAG,GAAG/N,KAAK,CAAC,OAAD,CAAjB;CACA,UAAMkO,MAAM,GAAG,KAAKF,KAApB;;CACA,QAAID,GAAG,KAAKG,MAAZ,EAAoB;CACnB,UAAI,OAAOH,GAAP,KAAe,UAAnB,EAA+B;CAC9BA,QAAAA,GAAG,CAAC,KAAKF,SAAN,CAAH;CACA,OAFD,MAEO,IAAIK,MAAJ,EAAY;CAClB,aAAKF,KAAL,GAAa1b,SAAb;CACA;CACD;;CACD,UAAM6S,MAAN,CAAanF,KAAb,EAAoBC,QAApB;CACA;;CACDlE,EAAAA,OAAO,GAAY;CAClB,QAAI,CAAC,MAAMA,OAAN,EAAL,EAAsB;CAAE,aAAO,KAAP;CAAe;;CACvC,UAAMgS,GAAG,GAAG,KAAKC,KAAjB;;CACA,QAAI,OAAOD,GAAP,KAAe,UAAnB,EAA+B;CAAE,aAAO,IAAP;CAAc;;CAC/CA,IAAAA,GAAG,CAACzb,SAAD,EAAY,KAAKub,SAAjB,EAA4B,KAAKjR,MAAjC,EAAyC,KAAzC,CAAH;CACA,WAAO,IAAP;CACA;;CAtEwB;;CClBX,MAAMuR,YAAN,SAELR,QAFK,CAE4D;CAC1E;;CAEA;CAQAld,EAAAA,WAAW,CACVwU,WADU,EAEVtU,GAFU,EAGViF,KAHU,EAIVqK,QAJU,EAKVhE,MALU,EAMT;CACD,UAAMA,MAAM,CAACxK,QAAb,EAAuBwT,WAAvB,EAAoCtU,GAApC,EAAyCiF,KAAzC,EAAgDqG,MAAhD;;CADC;;CAAA;;CAAA;;CAAA;;CAAA;;CAAA,qCARyC,EAQzC;;CAAA;;CAED,SAAKoK,SAAL,GAAiBpK,MAAM,CAACoK,SAAxB;CACA,SAAKC,aAAL,GAAqBrK,MAAM,CAACqK,aAA5B;;CACA,IAAmB;CAAElP,MAAAA,cAAc,CAAC,IAAD,EAAO,SAAP,EAAkB,EAAlB,CAAd;CAAsC;;CAE3D,SAAKxB,KAAL,GAAaA,KAAb,CANC;;CAQD,SAAKkT,MAAL,CAAYS,aAAZ,CAA0B3T,KAA1B;CACA,SAAKmX,OAAL,GAAeC,OAAO,CAAC,IAAD,EAAO/M,QAAP,CAAtB;;CACA,QAAI,OAAOtP,GAAP,KAAe,QAAnB,EAA6B;CAC5B,WAAKyd,gBAAL,GAAwBzd,GAAxB;CACA,KAFD,MAEO;CACN,WAAKyd,gBAAL,GAAyBzd,GAAD,CAAasN,oBAAb,CAAxB;CACA;CACD;;CACDyH,EAAAA,WAAW,GAAS;CACnB,QAAI,CAAC,KAAKG,OAAV,EAAmB;CAAE;CAAS;;CAC9B,QAAI,KAAKN,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAKc,SAAL,CAAeE,QAAf,CAAwB,IAAxB;CACA;;CACD/I,EAAAA,QAAQ,CAACxB,EAAD,EAAmB;;CAE3BiS,EAAAA,YAAY,CAACnF,MAAD,EAA8D;CACzE,UAAMuF,GAGL,GAAG;CACH9R,MAAAA,IAAI,EAAE;CAAEjF,QAAAA,YAAY,EAAE,IAAhB;CAAsBzE,QAAAA,KAAK,EAAE,KAAK0J;CAAlC,OADH;CAEHqR,MAAAA,OAAO,EAAE;CAAEtW,QAAAA,YAAY,EAAE,IAAhB;CAAsB1E,QAAAA,GAAG,EAAE,MAAM,KAAKgb;CAAtC,OAFN;CAGHvE,MAAAA,EAAE,EAAE;CAAE/R,QAAAA,YAAY,EAAE,IAAhB;CAAsBzE,QAAAA,KAAK,EAAEiW,MAAM,CAACO;CAApC,OAHD;CAIHd,MAAAA,IAAI,EAAE;CAAEjR,QAAAA,YAAY,EAAE,IAAhB;CAAsBzE,QAAAA,KAAK,EAAEiW,MAAM,CAACP;CAApC;CAJH,KAHJ;CASA,UAAM3L,MAA0B,GAAG1L,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoBkd,GAApB,CAAnC;CACA,WAAOzR,MAAP;CACA;CACD;;;CACAwI,EAAAA,OAAO,CAACxP,KAAD,EAAgBqK,QAAhB,EAAuC;CAC7C,SAAKrK,KAAL,GAAaA,KAAb,CAD6C;;CAG7C,SAAKkT,MAAL,CAAYS,aAAZ,CAA0B3T,KAA1B;CACA,SAAKmX,OAAL,GAAeC,OAAO,CAAC,IAAD,EAAO/M,QAAP,EAAiB,KAAK8M,OAAtB,CAAtB;CACA,SAAKrH,WAAL;CACA;;CAEDJ,EAAAA,QAAQ,GAAS;CAChB,QAAI,KAAKC,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAKA,SAAL,GAAiB,IAAjB;CACAxJ,IAAAA,OAAO,CAAC,KAAKgR,OAAN,CAAP;CACA;;CACDnH,EAAAA,MAAM,CAAClD,YAAD,EAAkD;CACvD,QAAI,KAAKxC,IAAT,EAAe;CAAE;CAAS;;CAC1B,UAAM;CAAEzO,MAAAA,QAAF;CAAY2c,MAAAA,gBAAgB,EAAEzd,GAA9B;CAAmCiF,MAAAA,KAAnC;CAA0CmX,MAAAA;CAA1C,QAAsD,IAA5D;CACA,UAAM7M,IAAI,GAAGzO,QAAQ,CAAC6c,aAAT,CAAuB3d,GAAvB,EAA4BiF,KAA5B,EAAmC8M,YAAnC,CAAb;;CACA,QAAI,CAACxC,IAAL,EAAW;CAAE;CAAS;;CACtB,SAAKA,IAAL,GAAYA,IAAZ;CACA,SAAK4N,UAAL,CAAgB5N,IAAhB;CACA,UAAMqO,eAAe,GAAG9c,QAAQ,CAAC+c,eAAT,CACvBtO,IADuB,EAEvBwC,YAFuB,KAGnBA,YAHL;;CAIA,QAAIqK,OAAJ,EAAa;CACZ,YAAMH,OAAO,GAAGhI,IAAI,CAACnT,QAAD,EAAW8c,eAAX,EAA4BxB,OAA5B,CAApB;CACA,WAAKH,OAAL,GAAeA,OAAf;;CACA,WAAK,MAAM/J,EAAX,IAAiBK,QAAQ,CAAC0J,OAAD,CAAzB,EAAoC;CACnCnb,QAAAA,QAAQ,CAACiS,UAAT,CAAoBxD,IAApB,EAA0B2C,EAA1B;CACA;CACD;;CACD,SAAKG,IAAL,GAAY,CAACf,iBAAiB,CAAC;CAAE/B,MAAAA;CAAF,KAAD,CAAlB,CAAZ;CACAzO,IAAAA,QAAQ,CAACgd,WAAT,CACCvO,IADD,EAECvP,GAFD,EAGCiF,KAHD,EAIC,KAAKkT,MAAL,CAAYP,IAJb,EAKCgG,eALD;CAOA,WAAOA,eAAP;CACA;;CACDG,EAAAA,eAAe,CAAChM,YAAD,EAAmC;CACjD,UAAM;CAAEjR,MAAAA,QAAF;CAAYsb,MAAAA,OAAZ;CAAqBH,MAAAA,OAArB;CAA8B1M,MAAAA;CAA9B,QAAuC,IAA7C;;CACA,QAAI,CAACA,IAAL,EAAW;CAAE;CAAS;;CACtB,QAAI,CAAC6M,OAAO,CAAC7V,MAAT,IAAmB0V,OAAO,CAAC1V,MAA/B,EAAuC;CACtC6L,MAAAA,OAAO,CAACtR,QAAD,EAAWmb,OAAX,CAAP;CACA,WAAKA,OAAL,GAAe,EAAf;CACA,KAHD,MAGO,IAAIG,OAAO,CAAC7V,MAAR,IAAkB0V,OAAO,CAAC1V,MAA9B,EAAsC;CAC5C,WAAK0V,OAAL,GAAehI,IAAI,CAACnT,QAAD,EAAWiR,YAAX,EAAyBqK,OAAzB,EAAkCH,OAAlC,CAAnB;CACA,KAFM,MAEA,IAAIG,OAAO,CAAC7V,MAAR,IAAkB,CAAC0V,OAAO,CAAC1V,MAA/B,EAAuC;CAC7C,YAAMmM,OAAO,GAAGuB,IAAI,CAACnT,QAAD,EAAWiR,YAAX,EAAyBqK,OAAzB,CAApB;CACA,WAAKH,OAAL,GAAevJ,OAAf;;CACA,WAAK,MAAMR,EAAX,IAAiBK,QAAQ,CAACG,OAAD,CAAzB,EAAoC;CACnC5R,QAAAA,QAAQ,CAACiS,UAAT,CAAoBxD,IAApB,EAA0B2C,EAA1B;CACA;CACD;CACD;;CACDsD,EAAAA,OAAO,CAACzD,YAAD,EAAmC;CACzC,SAAKgM,eAAL,CAAqBhM,YAArB;;CACA,UAAM;CAAEjR,MAAAA,QAAF;CAAY2c,MAAAA,gBAAgB,EAAEzd,GAA9B;CAAmCuP,MAAAA,IAAnC;CAAyCtK,MAAAA;CAAzC,QAAmD,IAAzD;;CACA,QAAI,CAACsK,IAAL,EAAW;CAAE;CAAS;;CACtBzO,IAAAA,QAAQ,CAACgd,WAAT,CACCvO,IADD,EAECvP,GAFD,EAGCiF,KAAK,IAAI,EAHV,EAIC,KAAKkT,MAAL,CAAYP,IAJb,EAKC7F,YALD;CAOA;;CACDsD,EAAAA,QAAQ,GAAS;CAChB,UAAM;CAAEvU,MAAAA,QAAF;CAAYuR,MAAAA,IAAZ;CAAkB9C,MAAAA;CAAlB,QAA2B,IAAjC;;CACA,QAAI,CAACA,IAAL,EAAW;CAAE;CAAS;;CACtBzO,IAAAA,QAAQ,CAACwR,UAAT,CAAoB/C,IAApB;CACA6C,IAAAA,OAAO,CAACtR,QAAD,EAAWuR,IAAX,CAAP;CACA;;CAhIyE;;CCZ3E,SAAS2L,UAAT,CACChZ,GADD,EAEe;CACd,QAAM0Y,GAGL,GAAG;CACHtR,IAAAA,OAAO,EAAE;CAAEzF,MAAAA,YAAY,EAAE,IAAhB;CAAsB1E,MAAAA,GAAG,EAAE,MAAM+C,GAAG,CAACoH;CAArC,KADN;CAEHwI,IAAAA,SAAS,EAAE;CAAEjO,MAAAA,YAAY,EAAE,IAAhB;CAAsB1E,MAAAA,GAAG,EAAE,MAAM+C,GAAG,CAAC4P;CAArC,KAFR;CAGHM,IAAAA,OAAO,EAAE;CAAEvO,MAAAA,YAAY,EAAE,IAAhB;CAAsB1E,MAAAA,GAAG,EAAE,MAAM+C,GAAG,CAACkQ;CAArC,KAHN;CAIHI,IAAAA,SAAS,EAAE;CAAE3O,MAAAA,YAAY,EAAE,IAAhB;CAAsB1E,MAAAA,GAAG,EAAE,MAAM+C,GAAG,CAACsQ;CAArC;CAJR,GAHJ;CASA,SAAO/U,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoBkd,GAApB,CAAP;CACA;;AACD,CAAe,MAAeO,oBAAf,SAILjB,QAJK,CAI6B;CAE3C;;CAGA;CAGAld,EAAAA,WAAW,CACVwU,WADU,EAEVtU,GAFU,EAGVqP,KAHU,EAIV/D,MAJU,EAKVgL,OALU,EAMT;CAAA;;CACD,UAAMhL,MAAM,CAACxK,QAAb,EAAuBwT,WAAvB,EAAoCtU,GAApC,EAAyCqP,KAAzC,EAAgD/D,MAAhD,EADC;;CAAA;;CAAA;;CAAA,sCAR2D,IAAIvH,GAAJ,EAQ3D;;CAAA,0CA2BqB,KA3BrB;;CAAA,2CA6BsB,KA7BtB;;CAAA,8CAiCyB,CAjCzB;;CAAA,oCAmC+B,EAnC/B;;CAGD,UAAMma,KAAK,GAAG,IAAd;;CACA,SAAKC,oBAAL,GAA4B7S,MAAM,CAACqK,aAAnC;CACA,UAAMyI,YAAY,4BAAG9S,MAAM,CAACqK,aAAV,0DAAG,sBAAsB1J,MAA3C;CACA,SAAKU,WAAL,GAAmB;CAClB2J,MAAAA,OADkB;CAElBD,MAAAA,QAAQ,EAAE,KAFQ;;CAGlB,UAAIjK,OAAJ,GAAc;CAAE,eAAO8R,KAAK,CAAC9R,OAAb;CAAuB,OAHrB;;CAIlB,UAAIwI,SAAJ,GAAgB;CAAE,eAAOsJ,KAAK,CAACtJ,SAAb;CAAyB,OAJzB;;CAKlB/F,MAAAA,SAAS,EAAE,KAAKA,SALE;CAMlBuH,MAAAA,QAAQ,EAAE,EANQ;CAOlBnV,MAAAA,IAAI,EAAEqV,OAAO,GAAG3U,SAAH,GAAeqc,UAAU,CAAC,IAAD,CAPpB;CAQlBpR,MAAAA,KAAK,EAAE0J,OAAO,GAAG3U,SAAH,GAAe,EARX;CASlBmJ,MAAAA,OAAO,EAAEwL,OAAO,GAAG3U,SAAH,GAAe,EATb;CAUlBoN,MAAAA,OAAO,EAAE,KAAKA,OAAL,CAAahO,IAAb,CAAkB,IAAlB,CAVS;CAWlBuK,MAAAA,MAAM,EAAE8S,YAXU;CAYlBlP,MAAAA,WAAW,EAAE,MAAM,CAAC,GAAG,KAAKI,QAAT,EAAmBxN,GAAnB,CAAuBsB,CAAC,IAAIA,CAAC,CAAC6Z,OAA9B;CAZD,KAAnB;CAcA;CACD;;;CASA,MAAIoB,WAAJ,GAA2B;CAAE,WAAO,KAAK/B,aAAZ;CAA4B;CAEzD;;;CAQAvN,EAAAA,OAAO,CAAIpL,CAAJ,EAA4B;CAClC,QAAI,OAAOA,CAAP,KAAa,UAAjB,EAA6B;CAC5B,UAAI;CACH,aAAK2a,gBAAL;CACA,eAAO3a,CAAC,EAAR;CACA,OAHD,SAGU;CACT,aAAK2a,gBAAL;;CACA,YAAI,KAAKA,gBAAL,IAAyB,CAA7B,EAAgC;CAC/B,eAAKvP,OAAL;CACA;CACD;CACD;;CACD,QAAI,KAAK6F,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAK0H,aAAL,GAAqB,IAArB;;CACA,QAAI,CAAC,KAAKlQ,OAAV,EAAmB;CAAE;CAAS;;CAE9B,QAAI,KAAKmQ,YAAT,EAAuB;CAAE;CAAS;;CAClC,SAAKA,YAAL,GAAoB,IAApB;CAEA,QAAItB,KAAJ;;CACA,aAAS;CACR,UAAInX,MAAI,CAAC,IAAD,CAAR,EAAgB;CAAE;CAAQ;;CAC1B,UAAI,KAAKwa,gBAAT,EAA2B;CAAE;CAAQ;;CACrC,UAAI,CAAC,KAAKhC,aAAV,EAAyB;CAAE;CAAQ;;CACnC,WAAKA,aAAL,GAAqB,KAArB;CACArB,MAAAA,KAAK,GAAG,KAAKsD,OAAL,EAAR;;CACA,UAAI,KAAK3J,SAAT,EAAoB;CAAE;CAAS;CAC/B;;CACD,SAAK2H,YAAL,GAAoB,KAApB;;CACA,QAAI,KAAK3H,SAAT,EAAoB;CAAE;CAAS;;CAC/B,QAAI,KAAK0J,gBAAT,EAA2B;CAAE;CAAS;;CACtC,QAAI,CAACrD,KAAL,EAAY;CAAE;CAAS;;CACvB,QAAInX,MAAI,CAAC,IAAD,CAAR,EAAgB;CAAE;CAAS;;CAE3B,SAAK0a,MAAL,GAAcnC,OAAO,CAAC,IAAD,EAAOpB,KAAP,EAAc,KAAKuD,MAAnB,CAArB;;CACA,QAAI,CAAC,KAAKtJ,OAAV,EAAmB;CAAE;CAAS;;CAC9B,QAAI,KAAKI,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAKP,WAAL;CACA;;CACDJ,EAAAA,QAAQ,GAAS;CAChB,SAAK8J,WAAL;;CACA,UAAM;CAAE9R,MAAAA;CAAF,QAAkB,IAAxB;CACA4J,IAAAA,kBAAkB,CAAC5J,WAAW,CAACyJ,QAAb,CAAlB;CACAzK,IAAAA,cAAc,CAACgB,WAAW,CAAC7B,OAAb,CAAd;CACAM,IAAAA,OAAO,CAAC,KAAKoT,MAAN,CAAP;CACA;;CAnG0C;;CCD5C,SAAStE,cAAT,CAAsB7U,MAAtB,EAA0C;CACzC,MAAIwC,KAAK,CAACC,OAAN,CAAczC,MAAd,CAAJ,EAA2B;CAAE,WAAOA,MAAP;CAAgB;;CAC7C,MAAI,CAAC2K,SAAS,CAAC3K,MAAD,CAAd,EAAwB;CAAE,WAAO,CAACA,MAAD,CAAP;CAAkB;;CAC5C,MAAIA,MAAM,CAACrF,GAAP,KAAe8P,QAAnB,EAA6B;CAAE,WAAO,CAACzK,MAAD,CAAP;CAAkB;;CACjD,SAAOA,MAAM,CAACiK,QAAd;CACA;;;AAGD,CAAe,MAAMoP,UAAN,SAELT,oBAFK,CAEqC;CACnD,MAAIhC,OAAJ,GAA+C;CAAE,WAAO,KAAK5J,IAAZ;CAAmB;;CAoBpE0C,EAAAA,WAAW,GAAS;CACnB,QAAI,CAAC,KAAKG,OAAV,EAAmB;CAAE;CAAS;;CAC9B,QAAI,KAAKN,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAKc,SAAL,CAAeE,QAAf,CAAwB,IAAxB;CACA;;CACD/I,EAAAA,QAAQ,CAACxB,EAAD,EAAmB;;CAG3BiS,EAAAA,YAAY,CAACnF,MAAD,EAAyC;CACpD,UAAMuF,GAGL,GAAG;CACH9R,MAAAA,IAAI,EAAE;CAAEjF,QAAAA,YAAY,EAAE,IAAhB;CAAsBzE,QAAAA,KAAK,EAAE,KAAK0J;CAAlC,OADH;CAEHqR,MAAAA,OAAO,EAAE;CAAEtW,QAAAA,YAAY,EAAE,IAAhB;CAAsBzE,QAAAA,KAAK,EAAEP;CAA7B,OAFN;CAGH+W,MAAAA,EAAE,EAAE;CAAE/R,QAAAA,YAAY,EAAE,IAAhB;CAAsBzE,QAAAA,KAAK,EAAEiW,MAAM,CAACO;CAApC,OAHD;CAIHd,MAAAA,IAAI,EAAE;CAAEjR,QAAAA,YAAY,EAAE,IAAhB;CAAsBzE,QAAAA,KAAK,EAAEiW,MAAM,CAACP;CAApC;CAJH,KAHJ;CASA,UAAM3L,MAAmB,GAAG1L,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoBkd,GAApB,CAA5B;CACA,WAAOzR,MAAP;CACA;;CACDnM,EAAAA,WAAW,CACVwU,WADU,EAEVtU,GAFU,EAGViF,KAHU,EAIVqK,QAJU,EAKVhE,MALU,EAMT;CACD,UAAMgJ,WAAN,EAAmBtU,GAAnB,EAAwBiF,KAAxB,EAA+BqG,MAA/B,EAAuC,IAAvC;;CADC;;CAAA;;CAAA;;CAAA,mCAxCsB/K,MAAM,CAACC,MAAP,CAAc,IAAd,CAwCtB;;CAAA;;CAAA;;CAAA;;CAAA;;CAAA;;CAED,SAAKkV,SAAL,GAAiBpK,MAAM,CAACoK,SAAxB;CACA,SAAKC,aAAL,GAAqBrK,MAAM,CAACqK,aAA5B;CACA,SAAK1Q,KAAL,GAAaA,KAAb;CACA,SAAK+V,UAAL,GAAkB1L,QAAlB;CACA,UAAM;CAACqH,MAAAA;CAAD,QAAU,IAAhB;CACA,UAAM;CAAC9H,MAAAA;CAAD,QAAc,IAApB;;CAEA,UAAME,OAAO,GAAIpL,CAAD,IAA0B;CAAE,WAAKoL,OAAL,CAAapL,CAAb;CAAkB,KAA9D;;CAEA,UAAMyU,KAAK,GAAG,KAAKD,MAAnB;CACA,UAAM;CAACxL,MAAAA;CAAD,QAAgB,IAAtB;CAEA,UAAMgS,OAA0B,GAAG;CAClClI,MAAAA,EAAE,EAAED,QAAQ,CAAC,KAAK7J,WAAN,CADsB;CAElC6C,MAAAA,IAAI,EAAE+H,aAAa,CAACZ,KAAD,CAFe;CAGlCqE,MAAAA,UAAU,EAAE,MAAM,KAAKA,UAHW;CAIlCpD,MAAAA,IAAI,EAAEQ,KAAK,CAACR;CAJsB,KAAnC;CAMA,UAAM+C,wBAAkD,GAAG;CAC1D7Z,MAAAA,QAAQ,EAAE,KAAKA,QAD2C;CAE1DiO,MAAAA,OAF0D;CAG1DqM,MAAAA,gBAAgB,EAAE,IAAIrY,OAAJ,EAHwC;CAI1D8L,MAAAA,SAJ0D;CAK1D;CACAiM,MAAAA,YAAY,EAAEnZ;CAN4C,KAA3D;CAQA,UAAM0V,MAAM,GAAG7R,OAAO,CACrB+B,OAAO,IAAIA,OAAO,IAAI,KAAKwH,OAAL,EADD,EAErB,MAAM;CACL,YAAM9J,KAAK,GAAG,EAAC,GAAG,KAAKA;CAAT,OAAd;CACAmT,MAAAA,KAAK,CAACQ,aAAN,CAAoB3T,KAApB;CACA,YAAMI,MAAM,GAAG/F,CAEZA,CAQE+M,mBAAmB,CACrBM,WADqB,EAErBhL,SAFqB,EAGrBid,CAAC,IAAI,KAAK3N,MAAL,GAAc2N,CAHE,EAIrB5e,GAJqB,EAKrBiF,KALqB,EAMrB0Z,OANqB,CAVxB;CAkBA,aAAO9T,IAAI,CACV8P,wBADU,EAEVT,cAAY,CAAC7U,MAAD,CAFF,EAGVsR,KAHU,EAIV,EAJU,EAKV,KALU,EAMV,KANU,CAAX;CAQA,KA/BoB,CAAtB;CAiCA,SAAK8H,WAAL,GAAmBpH,MAAM,CAACjS,IAA1B;CACA,SAAKmZ,OAAL,GAAelH,MAAf;CACA,SAAKjL,OAAL,GAAe,IAAf;CACA,SAAK2C,OAAL;CACA,SAAKyP,MAAL,GAAcnC,OAAO,CAAC,IAAD,EAAO,KAAKkC,OAAL,EAAP,CAArB;CACA;;CAGD9J,EAAAA,OAAO,CAACxP,KAAD,EAAgBqK,QAAhB,EAAuC;CAC7C,SAAKrK,KAAL,GAAaA,KAAb;CAEA,UAAM0R,KAAK,GAAGpW,MAAM,CAACC,MAAP,CAAc,IAAd,CAAd;CACAkW,IAAAA,QAAQ,CAAC,KAAK5V,QAAN,EAAgBwO,QAAhB,EAA0BqH,KAA1B,CAAR;CACAM,IAAAA,QAAQ,CAACN,KAAD,EAAQ,KAAKA,KAAb,EAAoB,KAAKkI,SAAzB,CAAR;CACA,SAAKA,SAAL,GAAiBlI,KAAjB;CACA,SAAKqE,UAAL,GAAkB1L,QAAlB;CACA,SAAKP,OAAL;CACA;;CACDkG,EAAAA,MAAM,CAAClD,YAAD,EAAmC;CACxC,SAAKM,IAAL,GAAY4B,IAAI,CACf,KAAKnT,QADU,EAEfiR,YAFe,EAGf,KAAKyM,MAHU,CAAhB;CAKA;;CACDhJ,EAAAA,OAAO,CAACzD,YAAD,EAAmC;CACzC,SAAKM,IAAL,GAAY4B,IAAI,CACf,KAAKnT,QADU,EAEfiR,YAFe,EAGf,KAAKyM,MAHU,EAIf,KAAKnM,IAJU,CAAhB;CAMA;;CACDgD,EAAAA,QAAQ,GAAS;CAChBjD,IAAAA,OAAO,CAAC,KAAKtR,QAAN,EAAgB,KAAKuR,IAArB,CAAP;CACA;;CAhJkD;;CC1BrC,MAAMyM,SAAN,SAAwBrJ,SAAxB,CAAoD;CAElE,MAAIwG,OAAJ,GAA+C;CAAE,WAAO,KAAK5J,IAAZ;CAAmB;;CAEpEvS,EAAAA,WAAW,CACVwP,QADU,EAEVhE,MAFU,EAGVkF,SAHU,EAIT;CACD,UACCf,SADD,EAECA,SAFD,EAGC,EAHD,EAIC,EAJD,EAKCnE,MALD;;CADC;;CAQD,SAAK8Q,OAAL,GAAeC,OAAO,CAAC,IAAD,EAAO/M,QAAP,CAAtB;CACA;CACD;;;CACAmF,EAAAA,OAAO,CAACxP,KAAD,EAAgBqK,QAAhB,EAAuC;CAC7C,QAAI,CAAC,KAAK4F,OAAV,EAAmB;CAAE;CAAS;;CAC9B,QAAI,KAAKN,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAKwH,OAAL,GAAeC,OAAO,CAAC,IAAD,EAAO/M,QAAP,EAAiB,KAAK8M,OAAtB,CAAtB;CACA,SAAKrH,WAAL;CACA;;CAEDJ,EAAAA,QAAQ,GAAS;CAChBvJ,IAAAA,OAAO,CAAC,KAAKgR,OAAN,CAAP;CACA;;CACDnH,EAAAA,MAAM,CAAClD,YAAD,EAAmC;CACxC,SAAKM,IAAL,GAAY4B,IAAI,CAAC,KAAKnT,QAAN,EAAgBiR,YAAhB,EAA8B,KAAKqK,OAAnC,CAAhB;CACA;;CACD5G,EAAAA,OAAO,CAACzD,YAAD,EAAmC;CACzC,SAAKM,IAAL,GAAY4B,IAAI,CAAC,KAAKnT,QAAN,EAAgBiR,YAAhB,EAA8B,KAAKqK,OAAnC,EAA4C,KAAK/J,IAAjD,CAAhB;CACA;;CACDgD,EAAAA,QAAQ,GAAS;CAChBjD,IAAAA,OAAO,CAAC,KAAKtR,QAAN,EAAgB,KAAKuR,IAArB,CAAP;CACA;;CArCiE;;CCsBnE,SAASiL,YAAT,CACCtY,GADD,EAECmT,MAFD,EAGwB;CAAA;;CACvB,QAAMuF,GAGL,GAAG;CACH9R,IAAAA,IAAI,EAAE;CAAEjF,MAAAA,YAAY,EAAE,IAAhB;CAAsBzE,MAAAA,KAAK,EAAE8C,GAAG,CAAC4G;CAAjC,KADH;CAEHqR,IAAAA,OAAO,EAAE;CAAEtW,MAAAA,YAAY,EAAE,IAAhB;CAAsB1E,MAAAA,GAAG,EAAE,MAAM+C,GAAG,CAACiY;CAArC,KAFN;CAGH3R,IAAAA,MAAM,EAAE;CAAE3E,MAAAA,YAAY,EAAE,IAAhB;CAAsBzE,MAAAA,KAAK,2BAAE8C,GAAG,CAACmZ,oBAAN,0DAAE,sBAA0BlS;CAAvD,KAHL;CAIHmO,IAAAA,SAAS,EAAE;CAAEzT,MAAAA,YAAY,EAAE,IAAhB;CAAsBzE,MAAAA,KAAK,EAAE8C,GAAG,CAAChF;CAAjC,KAJR;CAKHoM,IAAAA,OAAO,EAAE;CAAEzF,MAAAA,YAAY,EAAE,IAAhB;CAAsB1E,MAAAA,GAAG,EAAE,MAAM+C,GAAG,CAACoH;CAArC,KALN;CAMHwI,IAAAA,SAAS,EAAE;CAAEjO,MAAAA,YAAY,EAAE,IAAhB;CAAsB1E,MAAAA,GAAG,EAAE,MAAM+C,GAAG,CAAC4P;CAArC,KANR;CAOHM,IAAAA,OAAO,EAAE;CAAEvO,MAAAA,YAAY,EAAE,IAAhB;CAAsB1E,MAAAA,GAAG,EAAE,MAAM+C,GAAG,CAACkQ;CAArC,KAPN;CAQHI,IAAAA,SAAS,EAAE;CAAE3O,MAAAA,YAAY,EAAE,IAAhB;CAAsB1E,MAAAA,GAAG,EAAE,MAAM+C,GAAG,CAACsQ;CAArC,KARR;CASHzI,IAAAA,QAAQ,EAAE;CACTlG,MAAAA,YAAY,EAAE,IADL;;CAETzE,MAAAA,KAAK,CAAC6c,CAAD,EAAY;CAAElS,QAAAA,QAAQ,CAACkS,CAAD,EAAI/Z,GAAG,CAAC2H,WAAR,CAAR;CAA+B;;CAFzC,KATP;CAaHF,IAAAA,OAAO,EAAE;CACR9F,MAAAA,YAAY,EAAE,IADN;;CAERzE,MAAAA,KAAK,CAACmJ,EAAD,EAAaqB,IAAb,EAAyB;CAAE,eAAOD,OAAO,CAACpB,EAAD,EAAKqB,IAAL,EAAW1H,GAAG,CAAC2H,WAAf,CAAd;CAA4C;;CAFpE,KAbN;CAiBH+L,IAAAA,EAAE,EAAE;CAAE/R,MAAAA,YAAY,EAAE,IAAhB;CAAsBzE,MAAAA,KAAK,EAAEiW,MAAM,CAACO;CAApC,KAjBD;CAkBHd,IAAAA,IAAI,EAAE;CAAEjR,MAAAA,YAAY,EAAE,IAAhB;CAAsBzE,MAAAA,KAAK,EAAEiW,MAAM,CAACP;CAApC;CAlBH,GAHJ;CAuBA,QAAM3L,MAA4B,GAAG1L,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoBkd,GAApB,CAArC;CACA,SAAOzR,MAAP;CACA;;CAED,MAAM+S,WAAW,GAAG,IAAIjb,GAAJ,CAAQ,CAC3B,GAD2B,EACtB,GADsB,EACjB,GADiB,EACZ,GADY,EAE3B,GAF2B,EAEtB,GAFsB,EAEjB,GAFiB,EAEZ,GAFY,EAG3B,GAH2B,EAGtB,GAHsB,EAGjB,GAHiB,EAGZ,GAHY,EAI3B,GAJ2B,EAItB,GAJsB,EAIjB,GAJiB,EAIZ,GAJY,EAIP,GAJO,EAIF,GAJE,EAIG,GAJH,EAIQ,GAJR,CAAR,CAApB;;CAMA,SAASd,MAAT,CAAgByE,CAAhB,EAAsD;CACrD,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;CAAE,WAAO,IAAP;CAAc;;CAC3C,MAAIsX,WAAW,CAAChd,GAAZ,CAAgB0F,CAAC,CAAC,CAAD,CAAjB,CAAJ,EAA2B;CAAE,WAAO,KAAP;CAAe;;CAC5C,MAAIA,CAAC,CAACoS,MAAF,CAAS,CAAT,EAAY,CAAZ,MAAmB,IAAvB,EAA6B;CAAE,WAAO,KAAP;CAAe;;CAC9C,MAAIpS,CAAC,CAACoS,MAAF,CAAS,CAAT,EAAY,CAAZ,MAAmB,KAAvB,EAA8B;CAAE,WAAO,KAAP;CAAe;;CAC/C,SAAO,IAAP;CACA;;CAED,SAAStF,MAAT,CACCtL,KADD,EAECjE,KAFD,EAGCqK,QAHD,EAIQ;CACP,QAAM;CAACrK,IAAAA,KAAK,EAAEga,QAAR;CAAkBtD,IAAAA;CAAlB,MAA8BzS,KAApC;CACA,QAAMgW,OAAO,GAAG,IAAInb,GAAJ,CAAQxD,MAAM,CAAC2H,IAAP,CAAYjD,KAAZ,EAAmBhC,MAAnB,CAA0BA,MAA1B,CAAR,CAAhB;;CACA,MAAIiG,KAAK,CAACiW,YAAV,EAAwB;CACvBjW,IAAAA,KAAK,CAACiW,YAAN,CAAmB9b,OAAnB,CAA2BqE,CAAC,IAAIwX,OAAO,CAAClb,GAAR,CAAY0D,CAAZ,CAAhC;;CACA,SAAK,MAAMA,CAAX,IAAgBnH,MAAM,CAAC2H,IAAP,CAAY+W,QAAZ,CAAhB,EAAuC;CACtC,UAAIhc,MAAM,CAACyE,CAAD,CAAN,IAAa,CAACwX,OAAO,CAACld,GAAR,CAAY0F,CAAZ,CAAlB,EAAkC;CACjC,eAAOuX,QAAQ,CAACvX,CAAD,CAAf;CACA;CACD;;CACD,SAAK,MAAMA,CAAX,IAAgBwX,OAAhB,EAAyB;CAAED,MAAAA,QAAQ,CAACvX,CAAD,CAAR,GAA8BzC,KAAK,CAACyC,CAAD,CAAnC;CAAyC;CACpE,GARD,MAQO;CACN,QAAI2W,WAAW,GAAG,KAAlB;;CACA,SAAK,MAAM3W,CAAX,IAAgBnH,MAAM,CAAC2H,IAAP,CAAY+W,QAAZ,CAAhB,EAAuC;CACtC,UAAIhc,MAAM,CAACyE,CAAD,CAAN,IAAa,CAACwX,OAAO,CAACld,GAAR,CAAY0F,CAAZ,CAAlB,EAAkC;CACjC2W,QAAAA,WAAW,GAAG,IAAd;CACA,eAAOY,QAAQ,CAACvX,CAAD,CAAf;CACA;CACD;;CACD,SAAK,MAAMA,CAAX,IAAgBwX,OAAhB,EAAyB;CACxB,UAAIxX,CAAC,IAAIuX,QAAL,IAAiB,CAACvX,CAAD,MAAwBzC,KAAK,CAACyC,CAAD,CAAlD,EAAuD;CAAE;CAAW;;CACpEuX,MAAAA,QAAQ,CAACvX,CAAD,CAAR,GAA8BzC,KAAK,CAACyC,CAAD,CAAnC;CACA2W,MAAAA,WAAW,GAAG,IAAd;CACA;;CACD,QAAIA,WAAJ,EAAiB;CAChBnV,MAAAA,KAAK,CAAC6F,OAAN;CACA;CACD;;CAED7F,EAAAA,KAAK,CAACiP,MAAN,CAAaS,aAAb,CAA2B3T,KAA3B;CACA,QAAM0R,KAAK,GAAGpW,MAAM,CAACC,MAAP,CAAc,IAAd,CAAd;CACA,QAAMwa,UAAU,GAAGtE,QAAQ,CAACxN,KAAK,CAACpI,QAAP,EAAiBwO,QAAjB,EAA2BqH,KAA3B,EAAkCgF,QAAlC,CAA3B;CACA1E,EAAAA,QAAQ,CAACN,KAAD,EAAQzN,KAAK,CAACyN,KAAd,EAAqBzN,KAAK,CAAC2V,SAA3B,CAAR;CACA3V,EAAAA,KAAK,CAAC2V,SAAN,GAAkBlI,KAAlB;;CACA,MAAI,CAACgF,QAAL,EAAe;CAAE;CAAS;;CAC1BzS,EAAAA,KAAK,CAACkW,WAAN,GAAoB/C,OAAO,CAACnT,KAAD,EAAQ8R,UAAR,EAAoB9R,KAAK,CAACkW,WAA1B,CAA3B;;CACA,MAAI,CAAClW,KAAK,CAACgM,OAAX,EAAoB;CAAE;CAAS;;CAC/BhM,EAAAA,KAAK,CAAC6L,WAAN;CACA;;AAGD,CAAe,MAAesK,cAAf,SAMLpB,oBANK,CAMgD;CAI9D;;CAEA;;CASA;;CAEA;;CAEA;;CAIA;CAIApR,EAAAA,QAAQ,CAACxB,EAAD,EAAmB;CAAEwB,IAAAA,QAAQ,CAACxB,EAAD,EAAK,KAAKsB,WAAV,CAAR;CAAiC;CAG9D;;;CAQA;CACA7M,EAAAA,WAAW,CACVwU,WADU,EAEV8F,SAFU,EAGVnV,KAHU,EAIVqK,QAJU,EAKVhE,MALU,EAMT;CACD,UAAMgJ,WAAN,EAAmB8F,SAAnB,EAA8BnV,KAA9B,EAAqCqG,MAArC,EAA6C,KAA7C;;CADC,sCA1CkB,KA0ClB;;CAAA;;CAAA;;CAAA;;CAAA;;CAAA,wCAhCA/K,MAAM,CAACC,MAAP,CAAc,IAAd,CAgCA;;CAAA;;CAAA;;CAAA,mCAzBsBD,MAAM,CAACC,MAAP,CAAc,IAAd,CAyBtB;;CAAA;;CAAA;;CAAA;;CAAA;;CAAA,wCAkDkB,EAlDlB;;CAED,SAAKkV,SAAL,GAAiBpK,MAAM,CAACoK,SAAxB;CACA,SAAKC,aAAL,GAAqB,IAArB;CACA,UAAM;CAACwC,MAAAA;CAAD,QAAW,IAAjB;CACA,SAAKP,IAAL,GAAYO,MAAM,CAACP,IAAnB;CACA,SAAKc,EAAL,GAAUP,MAAM,CAACO,EAAjB;CAEAnY,IAAAA,MAAM,CAAC+e,MAAP,CAAc,KAAKrF,UAAnB,EAA+BG,SAAS,CAAChN,gBAAD,CAAxC,EARC;;CAUD,UAAM+R,YAAY,GAAG/E,SAAS,CAAC/M,WAAD,CAA9B;;CACA,QAAIxF,KAAK,CAACC,OAAN,CAAcqX,YAAd,CAAJ,EAAiC;CAChC,WAAKA,YAAL,GAAoBA,YAApB;CACA,WAAKla,KAAL,GAAauD,YAAY,CAAC2W,YAAD,EAAe,IAAf,CAAzB;CACA,KAHD,MAGO;CACN,WAAKla,KAAL,GAAa1E,MAAM,CAACC,MAAP,CAAc,IAAd,CAAb;CACA;;CACD,SAAK+e,KAAL,GAjBC;;;CAmBD,SAAK1S,QAAL,CAAc,cAAd,EAnBC;;CAqBD,SAAK4H,OAAL,CAAaxP,KAAb,EAAoBqK,QAApB;;CAEA,UAAMqP,OAAmC,GAAG;CAC3ClI,MAAAA,EAAE,EAAED,QAAQ,CAAC,KAAK7J,WAAN,CAD+B;CAE3C6C,MAAAA,IAAI,EAAE+H,aAAa,CAAC,KAAKZ,KAAN,CAFwB;CAG3C6I,MAAAA,MAAM,EAAEpc,CAAC,IAAI,KAAK+Z,UAAL,CAAgB/Z,CAAhB,CAH8B;CAI3C4X,MAAAA,UAAU,EAAE,MAAM,KAAKA,UAJoB;CAK3CpD,MAAAA,IAAI,EAAE,KAAKA;CALgC,KAA5C,CAvBC;;CA+BD,UAAM;CAAEP,MAAAA,MAAF;CAAU4D,MAAAA,KAAV;CAAiBwE,MAAAA;CAAjB,QAAgC,KAAKC,WAAL,CAAiBf,OAAjB,CAAtC;;CACA,SAAKJ,OAAL,GAAelH,MAAf;CACA,SAAKoH,WAAL,GAAmBgB,UAAnB;CACA,SAAKjB,MAAL,GAAcnC,OAAO,CAAC,IAAD,EAAOpB,KAAP,CAArB,CAlCC;;CAoCD,SAAKpO,QAAL,CAAc,SAAd;CACA,SAAKT,OAAL,GAAe,IAAf;;CACA,QAAI,KAAKiS,WAAT,EAAsB;CAAE,WAAKtP,OAAL;CAAiB;CACzC;;CACDuO,EAAAA,YAAY,CAACnF,MAAD,EAAgD;CAC3D,WAAOmF,YAAY,CAAC,IAAD,EAAOnF,MAAP,CAAnB;CACA;CACD;;;CACA1D,EAAAA,OAAO,CAACxP,KAAD,EAAgBqK,QAAhB,EAAuC;CAC7C,QAAI,KAAKsF,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAKoG,UAAL,GAAkB1L,QAAlB;CACA2G,IAAAA,YAAY,CAAC,MAAMrT,QAAQ,CAAC,MAAM4R,MAAM,CAAC,IAAD,EAAOvP,KAAP,EAAcqK,QAAd,CAAb,CAAf,CAAZ;CACA;;CAGD;CACAyF,EAAAA,WAAW,GAAS;CACnB,SAAKW,SAAL,CAAeE,QAAf,CAAwB,IAAxB;CACA;;CAnG6D;;CC1G/D,SAASsE,cAAT,CAAsB7U,MAAtB,EAA0C;CACzC,MAAIwC,KAAK,CAACC,OAAN,CAAczC,MAAd,CAAJ,EAA2B;CAAE,WAAOA,MAAP;CAAgB;;CAC7C,MAAI,CAAC2K,SAAS,CAAC3K,MAAD,CAAd,EAAwB;CAAE,WAAO,CAACA,MAAD,CAAP;CAAkB;;CAC5C,MAAIA,MAAM,CAACrF,GAAP,KAAe8P,QAAnB,EAA6B;CAAE,WAAO,CAACzK,MAAD,CAAP;CAAkB;;CACjD,SAAOA,MAAM,CAACiK,QAAd;CACA;;CACD,SAASqQ,UAAT,CACCzW,KADD,EAECyV,OAFD,EAGW;CACV,QAAM;CAAE3e,IAAAA,GAAF;CAAOiF,IAAAA,KAAP;CAAcgH,IAAAA,MAAd;CAAsBU,IAAAA;CAAtB,MAAsCzD,KAA5C;CACA,QAAMiS,QAAQ,GAAGnb,GAAG,CAACsN,oBAAD,CAApB;CAEA,QAAMsS,UAAU,GAAG,OAAOzE,QAAP,KAAoB,UAApB,GAChB,MAAMpL,qBAAqB,CAAC,GAAG7G,KAAK,CAAC8R,UAAV,CADX,GAEhB1b,CAQC,MAAM+M,mBAAmB,CAC1BM,WAD0B,EAE1BV,MAF0B,EAG1B2S,CAAC,IAAI1V,KAAK,CAAC+H,MAAN,GAAe2N,CAHM,EAI1BzD,QAJ0B,EAK1BlW,KAAK,IAAI,EALiB,EAM1B0Z,OAN0B,CAV7B;CAmBA,QAAMhE,wBAAkD,GAAG;CAC1D7Z,IAAAA,QAAQ,EAAEoI,KAAK,CAACpI,QAD0C;CAE1DiO,IAAAA,OAAO,EAAEpL,CAAC,IAAIuF,KAAK,CAAC6F,OAAN,CAAcpL,CAAd,CAF4C;CAG1DyX,IAAAA,gBAAgB,EAAE,IAAIrY,OAAJ,EAHwC;CAI1D8L,IAAAA,SAAS,EAAE3F,KAAK,CAAC2F,SAJyC;CAK1DiM,IAAAA,YAAY,EAAE5R,KAAK,CAAC+C;CALsC,GAA3D;CAOA,QAAMgO,UAAU,GAAG/Q,KAAK,CAAClJ,GAAN,CAAUoN,gBAAV,CAAnB;CACA,QAAMyS,cAAc,GAAG5F,UAAU,GAAG,CAACA,UAAD,CAAH,GAAkB,EAAnD;CACA,QAAM5C,MAAM,GAAG7R,OAAO,CACrBsP,CAAC,IAAIA,CAAC,IAAI5L,KAAK,CAAC6F,OAAN,EADW,EAErB,MAAMlE,IAAI,CACT8P,wBADS,EAETT,cAAY,CAAC0F,UAAU,EAAX,CAFH,EAGT1W,KAAK,CAACyN,KAHG,EAITkJ,cAJS,EAKT,KALS,EAMT,KANS,CAFW,CAAtB;CAWA,SAAO;CACN5E,IAAAA,KAAK,EAAE5D,MAAM,EADP;CAENA,IAAAA,MAFM;CAGNoI,IAAAA,UAAU,EAAE,MAAMpI,MAAM,CAACjS,IAAP;CAHZ,GAAP;CAMA;;AACD,CAAe,MAAM0a,oBAAN,SAKLT,cALK,CAKqC;CAAA;CAAA;;CAAA;;CAAA,wCAW/B,EAX+B;CAAA;;CACnD,MAAIpD,OAAJ,GAA+C;CAAE,WAAO,KAAK5J,IAAZ;CAAmB;CAEpE;;;CAGUkN,EAAAA,KAAV,GAAwB;;CACdG,EAAAA,WAAV,CAAsBf,OAAtB,EAAoE;CACnE,WAAOgB,UAAU,CAAC,IAAD,EAAOhB,OAAP,CAAjB;CACA;;CAID;CACA5J,EAAAA,WAAW,GAAS;CACnB,SAAKW,SAAL,CAAeE,QAAf,CAAwB,IAAxB;CACA;;CACDJ,EAAAA,OAAO,CAACzD,YAAD,EAAmC;CACzC,UAAM;CAACjR,MAAAA,QAAD;CAAW0d,MAAAA;CAAX,QAAqB,IAA3B;CACA,SAAKnM,IAAL,GAAY4B,IAAI,CAACnT,QAAD,EAAWiR,YAAX,EAAyByM,MAAzB,EAAiC,KAAKnM,IAAtC,CAAhB;CACA;;CACD4C,EAAAA,MAAM,CAAClD,YAAD,EAAmC;CACxC,UAAM;CAAEjR,MAAAA,QAAF;CAAY0d,MAAAA;CAAZ,QAAuB,IAA7B;CACA,SAAKnM,IAAL,GAAY4B,IAAI,CAACnT,QAAD,EAAWiR,YAAX,EAAyByM,MAAzB,CAAhB;CACA;;CACDnJ,EAAAA,QAAQ,GAAS;CAChB,UAAM;CAACvU,MAAAA;CAAD,QAAa,IAAnB;CACAsR,IAAAA,OAAO,CAACtR,QAAD,EAAW,KAAKuR,IAAhB,CAAP;CACA;;CA5BkD;;CC5DpD,SAAS0N,sBAAT,CACC7W,KADD,EAEC8W,IAFD,EAGC/F,UAHD,EAIW;CACV;CACA,QAAMgG,aAAa,GAAG,IAAIld,OAAJ,EAAtB;CACA,QAAMsU,MAAM,GAAG7R,OAAO,CACrBsP,CAAC,IAAIA,CAAC,IAAI5L,KAAK,CAAC6F,OAAN,EADW,EAErB,MAAM2M,SAAS,CACdxS,KADc,EAEd+W,aAFc,EAGdtc,CAAC,IAAIuF,KAAK,CAAC6F,OAAN,CAAcpL,CAAd,CAHS,EAIbqc,IAAD,EAJc,EAKd/F,UALc,CAFM,CAAtB;CAUA,SAAO;CACNgB,IAAAA,KAAK,EAAE5D,MAAM,EADP;CAENA,IAAAA,MAFM;CAGNoI,IAAAA,UAAU,EAAE,MAAMpI,MAAM,CAACjS,IAAP;CAHZ,GAAP;CAKA;;CAED,SAASua,YAAT,CACCzW,KADD,EAECyV,OAFD,EAGW;CACV,QAAM;CAAE3e,IAAAA,GAAF;CAAOiF,IAAAA,KAAP;CAAcgH,IAAAA,MAAd;CAAsBU,IAAAA;CAAtB,MAAsCzD,KAA5C;CACA,QAAMxE,GAAG,GAAGpF,CAQT,MAAM+M,mBAAmB,CAC1BM,WAD0B,EAE1BV,MAF0B,EAG1B2S,CAAC,IAAI1V,KAAK,CAAC+H,MAAN,GAAe2N,CAHM,EAI1B5e,GAJ0B,EAK1BiF,KAL0B,EAM1B0Z,OAN0B,CAR5B;;CAgBA,QAAM5P,OAAO,GAAIxH,OAAD,IAA4B;CAC3C,QAAI,CAACA,OAAL,EAAc;CAAE;CAAS;;CACzB2B,IAAAA,KAAK,CAAC6F,OAAN;CACA,GAHD,CAlBU;;;CAuBV,QAAM1J,MAAM,GAAGE,IAAI,CAACwJ,OAAD,EAAU;CAAEzJ,IAAAA,UAAU,EAAE;CAAd,GAAV,EAAgCZ,GAAhC,CAAnB;;CACA,MAAI,OAAOW,MAAP,KAAkB,UAAtB,EAAkC;CACjC,WAAO0a,sBAAsB,CAAC7W,KAAD,EAAQ7D,MAAR,CAA7B;CACA;;CACD,MAAIwL,eAAe,CAACxL,MAAD,CAAnB,EAA6B;CAC5B,UAAM;CAAEiK,MAAAA;CAAF,QAAejK,MAArB;;CACA,QAAI,CAAAiK,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAE/I,MAAV,MAAqB,CAArB,IAA0B,OAAO+I,QAAQ,CAAC,CAAD,CAAf,KAAuB,UAArD,EAAiE;CAChE,aAAOyQ,sBAAsB,CAAC7W,KAAD,EAAQoG,QAAQ,CAAC,CAAD,CAAhB,CAA7B;CACA;CACD;;CAED,MAAIU,SAAS,CAAC3K,MAAD,CAAT,IAAqBiJ,iBAAiB,CAACjJ,MAAM,CAACrF,GAAR,CAA1C,EAAwD;CACvD,UAAM;CAACA,MAAAA;CAAD,QAAQqF,MAAd;CACA,UAAMgS,MAAM,GAAGrX,GAAG,CAACsN,oBAAD,CAAlB;;CACA,QAAI,OAAO+J,MAAP,KAAkB,UAAtB,EAAkC;CACjC,aAAO0I,sBAAsB,CAC5B7W,KAD4B,EAE5B,MAAYmO,MAAM,CAAChS,MAAM,CAACJ,KAAP,IAAgB,EAAjB,EAAqB0Z,OAArB,CAFU,EAG5BtZ,MAAM,CAACrF,GAAP,CAAWoN,gBAAX,KAAgC,IAHJ,CAA7B;CAKA;CACD;;CAGD,QAAM8S,gBAAgB,GAAIvc,CAAD,IAA0B;CAAEuF,IAAAA,KAAK,CAAC6F,OAAN,CAAcpL,CAAd;CAAmB,GAAxE;;CACA,QAAMsc,aAAa,GAAG,IAAIld,OAAJ,EAAtB;CAEA,QAAMsU,MAAM,GAAG7R,OAAO,CACrBuJ,OADqB,EAErB,MAAM2M,SAAS,CAACxS,KAAD,EAAQ+W,aAAR,EAAuBC,gBAAvB,EAAyCxb,GAAG,EAA5C,CAFM,CAAtB;CAIA,SAAO;CACNuW,IAAAA,KAAK,EAAE1V,IAAI,CACVwJ,OADU,EAEV,MAAM2M,SAAS,CAACxS,KAAD,EAAQ+W,aAAR,EAAuBC,gBAAvB,EAAyC7a,MAAzC,CAFL,EAGV;CAAEC,MAAAA,UAAU,EAAE;CAAd,KAHU,CADL;CAMN+R,IAAAA,MANM;CAONoI,IAAAA,UAAU,EAAE,MAAMpI,MAAM,CAACjS,IAAP;CAPZ,GAAP;CASA;;AACD,CAAe,MAAM+a,sBAAN,SAKLd,cALK,CAKqC;CAAA;CAAA;;CAAA,qCACR,EADQ;;CAAA;;CAAA,wCAKL,EALK;;CAAA,wCAML,EANK;;CAAA;;CAAA,wCAqB/B,EArB+B;;CAAA;CAAA;;CASzCE,EAAAA,KAAV,GAAwB;CAAA;;CACvB,IAAmB;CAAE9Y,MAAAA,cAAc,CAAC,IAAD,EAAO,SAAP,EAAkB,EAAlB,CAAd;CAAsC;;CAE3D,QAAI,CAAC4H,iBAAiB,CAAC,KAAKrO,GAAN,CAAtB,EAAkC;CAAE;CAAS;;CAC7C,UAAMkC,KAAK,4BAAG,uBAAKpB,QAAL,EAAcsf,eAAjB,0DAAG,0CAAd;;CACA,QAAI,CAACle,KAAL,EAAY;CAAE;CAAS;;CACvB,KAAC,KAAK0U,MAAN,EAAc,KAAKyJ,OAAnB,IAA8Bne,KAA9B;CACA;;CACSwd,EAAAA,WAAV,CAAsBf,OAAtB,EAAoE;CACnE,WAAOgB,YAAU,CAAC,IAAD,EAAOhB,OAAP,CAAjB;CACA;;CAKD;CACA5J,EAAAA,WAAW,GAAS;CACnB,SAAKW,SAAL,CAAeE,QAAf,CAAwB,IAAxB;CACA;;CAEDX,EAAAA,MAAM,CAAClD,YAAD,EAAkD;CACvD,UAAM;CAAEqN,MAAAA,WAAF;CAAete,MAAAA,QAAf;CAAyBuf,MAAAA,OAAzB;CAAkCzJ,MAAAA,MAAlC;CAA0C4H,MAAAA;CAA1C,QAAqD,IAA3D;;CACA,QAAI,CAAC5H,MAAD,IAAW,CAACwI,WAAZ,IAA2B,CAACiB,OAAhC,EAAyC;CACxC,WAAKhO,IAAL,GAAY,KAAK4J,OAAL,GAAehI,IAAI,CAACnT,QAAD,EAAWiR,YAAX,EAAyByM,MAAzB,CAA/B;CACA;CACA;;CACD,SAAKnM,IAAL,GAAY,CAACf,iBAAiB,CAAC;CAAC/B,MAAAA,IAAI,EAACqH;CAAN,KAAD,CAAlB,CAAZ;CACA,UAAMgH,eAAe,GAAG9c,QAAQ,CAAC+c,eAAT,CACvBwC,OADuB,EAEvBtO,YAFuB,KAGnBA,YAHL;CAIA,SAAKkK,OAAL,GAAehI,IAAI,CAACnT,QAAD,EAAW8c,eAAX,EAA4BY,MAA5B,CAAnB;;CACA,SAAK,MAAMtM,EAAX,IAAiBK,QAAQ,CAAC,KAAK0J,OAAN,CAAzB,EAAyC;CACxCnb,MAAAA,QAAQ,CAACiS,UAAT,CAAoBsN,OAApB,EAA6BnO,EAA7B;CACA;;CAED,UAAMoO,sBAAsB,GAAGxf,QAAQ,CAAC+c,eAAT,CAC9BjH,MAD8B,EAE9B7E,YAF8B,KAG1BA,YAHL;CAIA,SAAKwO,UAAL,GAAkBtM,IAAI,CAACnT,QAAD,EAAWwf,sBAAX,EAAmClB,WAAnC,CAAtB;;CACA,SAAK,MAAMlN,EAAX,IAAiBK,QAAQ,CAAC,KAAKgO,UAAN,CAAzB,EAA4C;CAC3Czf,MAAAA,QAAQ,CAACiS,UAAT,CAAoB6D,MAApB,EAA4B1E,EAA5B;CACA;;CACD,SAAKsO,wBAAL,GAAgCF,sBAAhC;CACA,WAAO1C,eAAP;CACA;;CACDpI,EAAAA,OAAO,CAACzD,YAAD,EAAmC;CACzC,UAAM;CAACqN,MAAAA,WAAD;CAActe,MAAAA,QAAd;CAAwB0f,MAAAA,wBAAxB;CAAkDhC,MAAAA;CAAlD,QAA4D,IAAlE;CACA,SAAKvC,OAAL,GAAehI,IAAI,CAACnT,QAAD,EAAWiR,YAAX,EAAyByM,MAAzB,EAAiC,KAAKvC,OAAtC,CAAnB;;CACA,QAAI,CAACmD,WAAD,IAAgB,CAACoB,wBAArB,EAA+C;CAC9C,WAAKnO,IAAL,GAAY,KAAK4J,OAAjB;CACA;CACA;;CACD,SAAKsE,UAAL,GAAkBtM,IAAI,CACrBnT,QADqB,EAErB0f,wBAFqB,EAGrBpB,WAHqB,EAIrB,KAAKmB,UAJgB,CAAtB;CAMA;;CACDlL,EAAAA,QAAQ,GAAS;CAChB,UAAM;CAACvU,MAAAA,QAAD;CAAWyf,MAAAA;CAAX,QAAyB,IAA/B;CACAnO,IAAAA,OAAO,CAACtR,QAAD,EAAW,KAAKuR,IAAhB,CAAP;;CACA,QAAI,CAACkO,UAAL,EAAiB;CAAE;CAAS;;CAC5BnO,IAAAA,OAAO,CAACtR,QAAD,EAAWyf,UAAX,CAAP;CACA;;CA3EkD;;CCzHpD,MAAME,WAAyB,GAAG,EAAlC;AACA,CAAO,SAASC,SAAT,CAAmBC,GAAnB,EAAoD;CAC1D,OAAK,MAAMC,UAAX,IAAyBH,WAAzB,EAAsC;CACrC,UAAMI,GAAG,GAAGD,UAAU,CAACD,GAAD,CAAtB;;CACA,QAAI,OAAOE,GAAP,KAAe,UAAnB,EAA+B;CAAE,aAAOA,GAAP;CAAa;CAC9C;;CACD,SAAO,OAAOF,GAAP,KAAe,UAAf,GAA4BA,GAA5B,GAAkC,IAAzC;CACA;AACD,CAAe,SAASG,aAAT,CAAuBF,UAAvB,EAAqD;CACnEH,EAAAA,WAAW,CAACtb,IAAZ,CAAiByb,UAAjB;CACA;;CCSc,SAASG,WAAT,CACd7X,KADc,EAEd;CAAElJ,EAAAA,GAAF;CAAOiF,EAAAA,KAAP;CAAcqK,EAAAA,QAAd;CAAwBkB,EAAAA;CAAxB,CAFc,EAGG;CACjB,MAAIxQ,GAAG,KAAK4P,SAAZ,EAAuB;CACtB,WAAO,IAAIoR,cAAJ,CAAmBhhB,GAAnB,EAAwB,IAAxB,EAA8BiF,KAA9B,EAAqCqK,QAArC,EAA+CpG,KAA/C,CAAP;CACA;;CACD,MAAIlJ,GAAG,KAAKyP,SAAZ,EAAuB;CACtB,WAAO,IAAIqP,SAAJ,CAAcxP,QAAd,EAAwBpG,KAAxB,EAA+BsH,SAA/B,CAAP;CACA;;CACD,MAAIxQ,GAAG,KAAK8P,QAAZ,EAAsB;CACrB,WAAO,IAAI8M,UAAJ,CAAe5c,GAAf,EAAoBsP,QAApB,EAA8BpG,KAA9B,CAAP;CACA;;CACD,MAAI,OAAOlJ,GAAP,KAAe,QAAnB,EAA6B;CAC5B,QAAIA,GAAG,CAAC8Z,MAAJ,CAAW,CAAX,EAAc,CAAd,MAAqB,OAAzB,EAAkC;CACjC,aAAO,IAAI8C,UAAJ,CAAe5c,GAAf,EAAoBsP,QAApB,EAA8BpG,KAA9B,CAAP;CACA;;CACD,WAAO,IAAIsU,YAAJ,CAAiBxd,GAAjB,EAAsBA,GAAtB,EAA2BiF,KAAK,IAAI,EAApC,EAAwCqK,QAAxC,EAAkDpG,KAAlD,CAAP;CACA;;CACD,QAAM+X,YAAY,GAAGP,SAAS,CAAC1gB,GAAD,CAA9B;;CACA,MAAI,OAAOihB,YAAP,KAAwB,UAA5B,EAAwC;CACvC,WAAO,IAAIrE,UAAJ,CAAe5c,GAAf,EAAoBsP,QAApB,EAA8BpG,KAA9B,CAAP;CACA;;CACD,MAAIkF,gBAAgB,CAAC6S,YAAD,CAApB,EAAoC;CACnC,WAAO,IAAIvC,UAAJ,CAAe1e,GAAf,EAAoBihB,YAApB,EAAkChc,KAAK,IAAI,EAA3C,EAA+CqK,QAA/C,EAAyDpG,KAAzD,CAAP;CACA;;CACD,MAAIuF,kBAAkB,CAACwS,YAAD,CAAtB,EAAsC;CACrC,WAAO,IAAIvE,YAAJ,CAAiB1c,GAAjB,EAAsBihB,YAAtB,EAAoChc,KAAK,IAAI,EAA7C,EAAiDqK,QAAjD,EAA2DpG,KAA3D,CAAP;CACA;;CACD,MAAIqF,oBAAoB,CAAC0S,YAAD,CAAxB,EAAwC;CACvC,WAAO,IAAID,cAAJ,CAAmBhhB,GAAnB,EAAwBihB,YAAxB,EAAsChc,KAAtC,EAA6CqK,QAA7C,EAAuDpG,KAAvD,CAAP;CACA;;CACD,MAAIsF,kBAAkB,CAACyS,YAAD,CAAtB,EAAsC;CACrC,WAAO,IAAIzD,YAAJ,CAAiBxd,GAAjB,EAAsBihB,YAAtB,EAAoChc,KAAK,IAAI,EAA7C,EAAiDqK,QAAjD,EAA2DpG,KAA3D,CAAP;CACA;;CACD,MAAIiF,iBAAiB,CAAC8S,YAAD,CAArB,EAAqC;CACpC;CACA,WAAO,IAAIrE,UAAJ,CAAe5c,GAAf,EAAoBsP,QAApB,EAA8BpG,KAA9B,CAAP;CACA;;CACD,MAAIoF,iBAAiB,CAAC2S,YAAD,CAArB,EAAqC;CACpC;CACA,WAAO,IAAInB,oBAAJ,CAAyB9f,GAAzB,EAA8BihB,YAA9B,EAA4Chc,KAAK,IAAI,EAArD,EAAyDqK,QAAzD,EAAmEpG,KAAnE,CAAP;CACA;;CACD,SAAO,IAAIiX,sBAAJ,CAA2BngB,GAA3B,EAAgCihB,YAAhC,EAA8Chc,KAAK,IAAI,EAAvD,EAA2DqK,QAA3D,EAAqEpG,KAArE,CAAP;CACA;;CCvDc,SAAS4I,YAAT,CACd5I,KADc,EAEdnC,MAFc,EAGI;CAClB,MAAI,CAACA,MAAL,EAAa;CAAE,WAAO,IAAP;CAAc;;CAC7B,MAAI,CAACA,MAAM,CAAC/G,GAAZ,EAAiB;CAChB,UAAM;CAAE+B,MAAAA,GAAF;CAAOkD,MAAAA;CAAP,QAAiB8B,MAAvB;CACA,WAAO;CACNhF,MAAAA,GADM;CACDkD,MAAAA,KADC;CACMiE,MAAAA,KAAK,EAAE,IAAI8S,UAAJ,CAClBjV,MAAM,CAAC9B,KAAP,IAAgB,EADE,EAElBiE,KAFkB;CADb,KAAP;CAMA;;CACD,QAAM;CAAElJ,IAAAA,GAAF;CAAO+B,IAAAA,GAAP;CAAYkD,IAAAA;CAAZ,MAAsB8B,MAA5B;CACA,SAAO;CAAE/G,IAAAA,GAAF;CAAO+B,IAAAA,GAAP;CAAYkD,IAAAA,KAAZ;CAAmBiE,IAAAA,KAAK,EAAE6X,WAAW,CAAC7X,KAAD,EAAQnC,MAAR;CAArC,GAAP;CACA;;CCjBc,SAASoL,WAAT,CACdjJ,KADc,EAEdnC,MAFc,EAGC;CACf,MAAI,CAACc,KAAK,CAACC,OAAN,CAAcf,MAAd,CAAL,EAA4B;CAAEA,IAAAA,MAAM,GAAG,CAACA,MAAD,CAAT;CAAoB;;CAClD,MAAI,CAACA,MAAM,CAACR,MAAZ,EAAoB;CAAE,WAAO,EAAP;CAAY;;CAClC,SAAQQ,MAAD,CAAkBjF,GAAlB,CAAsBwC,IAAI,IAAI;CACpC,QAAI,CAACuD,KAAK,CAACC,OAAN,CAAcxD,IAAd,CAAL,EAA0B;CACzB,aAAOwN,YAAU,CAAC5I,KAAD,EAAQyI,SAAS,CAACrN,IAAD,CAAjB,CAAjB;CACA;;CAED,WAAOA,IAAI,CAAC4c,IAAL,CAAUjY,QAAV,EACLnH,GADK,CACDoQ,EAAE,IAAIJ,YAAU,CAAC5I,KAAD,EAAQyI,SAAS,CAACO,EAAD,CAAjB,CADf,EAELjP,MAFK,CAEEiB,OAFF,CAAP;CAGA,GARM,CAAP;CASA;;CCrBc,SAASkH,OAAT,CACdiH,IADc,EAEP;CACP,MAAI,CAACA,IAAL,EAAW;CAAE;CAAS;;CACtB,MAAIxK,KAAK,CAACC,OAAN,CAAcuK,IAAd,CAAJ,EAAyB;CACxBA,IAAAA,IAAI,CAAChP,OAAL,CAAaD,CAAC,IAAIgI,OAAO,CAAChI,CAAD,CAAzB;CACA;CACA;;CACD,QAAM;CAAE8F,IAAAA;CAAF,MAAYmJ,IAAlB;;CACA,MAAInJ,KAAJ,EAAW;CACVA,IAAAA,KAAK,CAACkC,OAAN;CACA;CACD;;CCVD;;;;;;;AAMA,CAAe,SAAS6H,YAAT,CACd/J,KADc,EAEdnC,MAFc,EAGdsL,IAHc,EAII;CAClB,MAAI,CAACA,IAAL,EAAW;CACV,WAAOP,YAAU,CAAC5I,KAAD,EAAQnC,MAAR,CAAjB;CACA;;CACD,MAAI,CAACA,MAAL,EAAa;CACZqE,IAAAA,OAAO,CAACiH,IAAD,CAAP;CACA,WAAO,IAAP;CACA;;CACD,MAAIxK,KAAK,CAACC,OAAN,CAAcuK,IAAd,CAAJ,EAAyB;CACxB,QAAI,CAACA,IAAI,CAAC9L,MAAV,EAAkB;CACjB,aAAOuL,YAAU,CAAC5I,KAAD,EAAQnC,MAAR,CAAjB;CACA;;CACD,UAAMmM,KAAK,GAAGb,IAAI,CAACc,SAAL,CAAejB,EAAE,IAAIA,EAAE,CAAClS,GAAH,KAAW+G,MAAM,CAAC/G,GAAvC,CAAd;;CACA,QAAIkT,KAAK,GAAG,CAAZ,EAAe;CACd9H,MAAAA,OAAO,CAACiH,IAAD,CAAP;CACA,aAAOP,YAAU,CAAC5I,KAAD,EAAQnC,MAAR,CAAjB;CACA;;CACD,UAAMqM,GAAG,GAAGf,IAAZ;CACA,KAACA,IAAD,IAASA,IAAI,CAACgB,MAAL,CAAYH,KAAZ,EAAmB,CAAnB,CAAT;CACA9H,IAAAA,OAAO,CAACgI,GAAD,CAAP;CACA;;CACD,MAAIrM,MAAM,CAAC/G,GAAP,KAAeqS,IAAI,CAACrS,GAAxB,EAA6B;CAC5BoL,IAAAA,OAAO,CAACiH,IAAD,CAAP;CACA,WAAOP,YAAU,CAAC5I,KAAD,EAAQnC,MAAR,CAAjB;CACA;;CACD,MAAIsL,IAAI,CAACnJ,KAAT,EAAgB;CACf,UAAM;CAAEA,MAAAA;CAAF,QAAYmJ,IAAlB;CACA,UAAM;CAAEpN,MAAAA,KAAK,GAAG,EAAV;CAAclD,MAAAA;CAAd,QAAsBgF,MAA5B;CACAmC,IAAAA,KAAK,CAACsL,MAAN,CAAazN,MAAM,CAAC9B,KAAP,IAAgB,EAA7B,EAAiC8B,MAAM,CAACuI,QAAP,IAAmB,EAApD;CACA,WAAO;CAAEtP,MAAAA,GAAG,EAAEqS,IAAI,CAACrS,GAAZ;CAAiBiF,MAAAA,KAAjB;CAAwBlD,MAAAA,GAAxB;CAA6BmH,MAAAA;CAA7B,KAAP;CACA;;CACDkC,EAAAA,OAAO,CAACiH,IAAD,CAAP;CACA,SAAOP,YAAU,CAAC5I,KAAD,EAAQnC,MAAR,CAAjB;CACA;;CC/Cc,UAAUoa,kBAAV,CACdhe,IADc,EAEA;CACd,MAAI,CAAC0E,KAAK,CAACC,OAAN,CAAc3E,IAAd,CAAL,EAA0B;CACzB,UAAMA,IAAN;CACA;CACA;;CACD,OAAK,MAAM+O,EAAX,IAAiB/O,IAAjB,EAAuB;CACtB,WAAOge,kBAAkB,CAACjP,EAAD,CAAzB;CACA;CACD;;CCHD;;;;;;;AAMA,CAAe,SAASoB,YAAT,CACdpK,KADc,EAEdnC,MAFc,EAGdsL,IAHc,EAID;CACb,MAAI,CAACA,IAAL,EAAW;CAAEA,IAAAA,IAAI,GAAG,EAAP;CAAY;;CACzB,MAAI,CAACxK,KAAK,CAACC,OAAN,CAAcuK,IAAd,CAAL,EAA0B;CAAEA,IAAAA,IAAI,GAAG,CAACA,IAAD,CAAP;CAAgB;;CAC5C,QAAMkB,OAAmB,GAAG,EAA5B;;CACA,OAAK,MAAME,GAAX,IAAkB0N,kBAAkB,CAACpa,MAAD,CAApC,EAA8C;CAC7C,UAAMwI,IAAI,GAAGoC,SAAS,CAAC8B,GAAD,CAAtB;;CACA,QAAI,CAAClE,IAAL,EAAW;CAAE;CAAW;;CACxB,UAAM2D,KAAK,GAAGb,IAAI,CAACc,SAAL,CAAejB,EAAE,IAAIA,EAAE,CAAClS,GAAH,KAAWuP,IAAI,CAACvP,GAAhB,IAAuBkS,EAAE,CAACnQ,GAAH,KAAWwN,IAAI,CAACxN,GAA5D,CAAd;;CACA,QAAImR,KAAK,IAAI,CAAb,EAAgB;CACf,YAAM1B,OAAO,GAAGyB,YAAU,CACzB/J,KADyB,EAEzBqG,IAFyB,EAGzB8C,IAAI,CAACa,KAAD,CAHqB,CAA1B;;CAKA,UAAI1B,OAAJ,EAAa;CACZ+B,QAAAA,OAAO,CAACpO,IAAR,CAAaqM,OAAb;CACA;;CACDa,MAAAA,IAAI,CAACgB,MAAL,CAAYH,KAAZ,EAAmB,CAAnB;CACA,KAVD,MAUO;CACN,YAAM1B,OAAO,GAAGM,YAAU,CAAC5I,KAAD,EAAQqG,IAAR,CAA1B;;CACA,UAAIiC,OAAJ,EAAa;CACZ+B,QAAAA,OAAO,CAACpO,IAAR,CAAaqM,OAAb;CACA;CACD;CACD;;CACDpG,EAAAA,OAAO,CAACiH,IAAD,CAAP;CACA,SAAOkB,OAAP;CACA;;CCpCc,UAAUM,WAAV,CACd3K,KADc,EAEdnC,MAFc,EAGdsL,IAHc,EAI2B;CACzC,MAAI,CAACxK,KAAK,CAACC,OAAN,CAAcf,MAAd,CAAL,EAA4B;CAAEA,IAAAA,MAAM,GAAG,CAACA,MAAD,CAAT;CAAoB;;CAClD,MAAImM,KAAK,GAAG,CAAZ;CACA,MAAI3M,MAAM,GAAGuN,IAAI,CAACC,GAAL,CAAShN,MAAM,CAACR,MAAP,IAAiB,CAA1B,EAA6B8L,IAAI,CAAC9L,MAAlC,CAAb;;CACA,SAAO2M,KAAK,GAAG3M,MAAf,EAAuB2M,KAAK,EAA5B,EAAgC;CAC/B,UAAMO,GAAG,GAAG1M,MAAM,CAACmM,KAAD,CAAlB;;CACA,QAAIrL,KAAK,CAACC,OAAN,CAAc2L,GAAd,CAAJ,EAAwB;CACvB,YAAMH,YAAU,CAACpK,KAAD,EAAQuK,GAAR,EAAapB,IAAI,CAACa,KAAD,CAAjB,CAAhB;CACA,KAFD,MAEO;CACN,YAAMD,YAAU,CAAC/J,KAAD,EAAQyI,SAAS,CAAC8B,GAAD,CAAjB,EAAwBpB,IAAI,CAACa,KAAD,CAA5B,CAAhB;CACA;CACD;;CACD3M,EAAAA,MAAM,GAAGuN,IAAI,CAACE,GAAL,CAASjN,MAAM,CAACR,MAAhB,EAAwBQ,MAAM,CAACR,MAA/B,CAAT;;CACA,MAAI8L,IAAI,CAAC9L,MAAL,GAAc2M,KAAlB,EAAyB;CACxB;CACA,WAAOA,KAAK,GAAG3M,MAAf,EAAuB2M,KAAK,EAA5B,EAAgC;CAC/B9H,MAAAA,OAAO,CAACiH,IAAI,CAACa,KAAD,CAAL,CAAP;CACA;CACD;;CACD,MAAInM,MAAM,CAACR,MAAP,GAAgB2M,KAApB,EAA2B;CAC1B;CACA,WAAOA,KAAK,GAAG3M,MAAf,EAAuB2M,KAAK,EAA5B,EAAgC;CAC/B,YAAMO,GAAG,GAAG9B,SAAS,CAAC5K,MAAM,CAACmM,KAAD,CAAP,CAArB;;CACA,UAAIrL,KAAK,CAACC,OAAN,CAAc2L,GAAd,CAAJ,EAAwB;CACvB,cAAMA,GAAG,CAACyN,IAAJ,CAASjY,QAAT,EACJnH,GADI,CACAoQ,EAAE,IAAIJ,YAAU,CAAC5I,KAAD,EAAQgJ,EAAR,CADhB,EAEJjP,MAFI,CAEGiB,OAFH,CAAN;CAGA,OAJD,MAIO;CACN,cAAM4N,YAAU,CAAC5I,KAAD,EAAQuK,GAAR,CAAhB;CACA;CACD;CACD;CACD;;CCpCD;;;;;;;AAMA,CAAe,SAAS4I,OAAT,CACdnT,KADc,EAEdnC,MAFc,EAGdsL,IAHc,EAIC;CACf,MAAI,CAACA,IAAL,EAAW;CACV,WAAO4D,YAAY,CAAC,MAAMrT,QAAQ,CAAC,MAAMuP,WAAS,CAACjJ,KAAD,EAAQnC,MAAR,CAAhB,CAAf,CAAnB;CACA;;CACD,SAAOkP,YAAY,CAAC,MAAMrT,QAAQ,CAAC,MAAM,CAAC,GAAGiR,WAAS,CAAC3K,KAAD,EAAQnC,MAAR,EAAgBsL,IAAhB,CAAb,CAAP,CAAf,CAAnB;CACA;;CCpBD,IAAI+O,SAAS,GAAG,IAAIrd,GAAJ,EAAhB;CAEA,MAAMsd,YAAY,GAAG,IAAItd,GAAJ,EAArB;CACA,MAAMud,QAAgC,GAAG,EAAzC;CACA,MAAMC,UAAkC,GAAG,EAA3C;CACA,MAAMC,OAA+B,GAAG,EAAxC;;CAEA,SAASC,YAAT,CAAsBte,IAAtB,EAA0D;CACzD,QAAMue,QAAQ,GAAG,CAAC,GAAGve,IAAJ,EAAUwe,IAAV,CAAe,CAAC,CAACzR,CAAD,CAAD,EAAM,CAACC,CAAD,CAAN,KAAcA,CAAC,GAAGD,CAAjC,CAAjB;CACA/M,EAAAA,IAAI,CAACoD,MAAL,GAAc,CAAd;;CACA,MAAI;CACHmb,IAAAA,QAAQ,CAACre,OAAT,CAAiB,CAAC,GAAGM,CAAH,CAAD,KAAWA,CAAC,EAA7B;CACA,GAFD,CAEE,OAAOrC,CAAP,EAAU;CACXN,IAAAA,UAAU,CAACM,CAAD,CAAV;CACA;CACD;;CACD,SAASsgB,iBAAT,GAAmC;CAClC,QAAMze,IAAI,GAAG,CAAC,GAAGie,SAAJ,CAAb;CACAA,EAAAA,SAAS,CAACrL,KAAV;CACA5S,EAAAA,IAAI,CAACrB,GAAL,CAASgT,CAAC,IAAIA,CAAC,CAAC+M,OAAF,EAAd;CACA;;CACD,SAASC,oBAAT,GAAsC;CACrC,QAAMC,gBAAgB,GAAG,CAAC,GAAGV,YAAJ,CAAzB;CACAA,EAAAA,YAAY,CAACtL,KAAb;;CACA,OAAK,MAAMpS,CAAX,IAAgBoe,gBAAhB,EAAkC;CACjC,QAAI;CACHpe,MAAAA,CAAC;CACD,KAFD,CAEE,OAAOrC,CAAP,EAAU;CACXN,MAAAA,UAAU,CAACM,CAAD,CAAV;CACA;CACD;CACD;;CAED,IAAI0gB,SAAS,GAAG,KAAhB;;CACA,SAASC,OAAT,GAAyB;CACxB,MAAID,SAAJ,EAAe;CAAE;CAAS;;CAC1BA,EAAAA,SAAS,GAAG,IAAZ;CACA5hB,EAAAA,SAAS,CAAC,MAAM;CACf4hB,IAAAA,SAAS,GAAG,KAAZ;CACAP,IAAAA,YAAY,CAACH,QAAD,CAAZ;CACAM,IAAAA,iBAAiB;CACjBH,IAAAA,YAAY,CAACF,UAAD,CAAZ;CACAO,IAAAA,oBAAoB;CACpBL,IAAAA,YAAY,CAACD,OAAD,CAAZ;CACA,GAPQ,CAAT;CAQA;;AAED,CAAe,SAASU,QAAT,CACd7hB,EADc,EAEd8hB,KAAa,GAAG,CAFF,EAGdzhB,IAHc,EAIP;CACP,QAAMyC,IAAI,GAAGzC,IAAI,KAAK,QAAT,GAAoB6gB,UAApB,GACV7gB,IAAI,KAAK,KAAT,GAAiB8gB,OAAjB,GAA2BF,QAD9B;CAEAne,EAAAA,IAAI,CAACgC,IAAL,CAAU,CAACgd,KAAD,EAAQ9hB,EAAR,CAAV;CACA4hB,EAAAA,OAAO;CACP;AAED,CAAO,SAASrM,QAAT,CAAkBd,CAAlB,EAAgD;CACtDsM,EAAAA,SAAS,CAACpd,GAAV,CAAc8Q,CAAd;CACAmN,EAAAA,OAAO;CACP;AAED,CAAO,SAASG,eAAT,CAAyB/hB,EAAzB,EAA+C;CACrDghB,EAAAA,YAAY,CAACrd,GAAb,CAAiB3D,EAAjB;CACA4hB,EAAAA,OAAO;CACP;;CC1CD,SAAS3E,cAAT,CACCtY,GADD,EAECmT,MAFD,EAGwB;CACvB,QAAMuF,GAGL,GAAG;CACH9R,IAAAA,IAAI,EAAE;CAAEjF,MAAAA,YAAY,EAAE,IAAhB;CAAsBzE,MAAAA,KAAK,EAAE8C,GAAG,CAAC4G;CAAjC,KADH;CAEHqR,IAAAA,OAAO,EAAE;CAAEtW,MAAAA,YAAY,EAAE,IAAhB;CAAsB1E,MAAAA,GAAG,EAAE,MAAM+C,GAAG,CAACiY;CAArC,KAFN;CAGH7Q,IAAAA,OAAO,EAAE;CAAEzF,MAAAA,YAAY,EAAE,IAAhB;CAAsB1E,MAAAA,GAAG,EAAE,MAAM+C,GAAG,CAACoH;CAArC,KAHN;CAIHwI,IAAAA,SAAS,EAAE;CAAEjO,MAAAA,YAAY,EAAE,IAAhB;CAAsB1E,MAAAA,GAAG,EAAE,MAAM+C,GAAG,CAAC4P;CAArC,KAJR;CAKHM,IAAAA,OAAO,EAAE;CAAEvO,MAAAA,YAAY,EAAE,IAAhB;CAAsB1E,MAAAA,GAAG,EAAE,MAAM+C,GAAG,CAACkQ;CAArC,KALN;CAMHI,IAAAA,SAAS,EAAE;CAAE3O,MAAAA,YAAY,EAAE,IAAhB;CAAsB1E,MAAAA,GAAG,EAAE,MAAM+C,GAAG,CAACsQ;CAArC,KANR;CAOHzI,IAAAA,QAAQ,EAAE;CAAElG,MAAAA,YAAY,EAAE,IAAhB;;CAAsBzE,MAAAA,KAAK,CAAC6c,CAAD,EAAY;CAAElS,QAAAA,QAAQ,CAACkS,CAAD,EAAI/Z,GAAG,CAAC2H,WAAR,CAAR;CAA+B;;CAAxE,KAPP;CAQHF,IAAAA,OAAO,EAAE;CACR9F,MAAAA,YAAY,EAAE,IADN;;CAERzE,MAAAA,KAAK,CAACmJ,EAAD,EAAaqB,IAAb,EAAyB;CAAE,eAAOD,OAAO,CAACpB,EAAD,EAAKqB,IAAL,EAAW1H,GAAG,CAAC2H,WAAf,CAAd;CAA4C;;CAFpE,KARN;CAYH+L,IAAAA,EAAE,EAAE;CAAE/R,MAAAA,YAAY,EAAE,IAAhB;CAAsBzE,MAAAA,KAAK,EAAEiW,MAAM,CAACO;CAApC,KAZD;CAaHd,IAAAA,IAAI,EAAE;CAAEjR,MAAAA,YAAY,EAAE,IAAhB;CAAsBzE,MAAAA,KAAK,EAAEiW,MAAM,CAACP;CAApC;CAbH,GAHJ;CAkBA,QAAM3L,MAA4B,GAAG1L,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoBkd,GAApB,CAArC;CACA,SAAOzR,MAAP;CACA;;AAED,CAAe,MAAM+U,cAAN,SAELhE,QAFK,CAE6D;CAC3E;;CAEA;CAGAqF,EAAAA,cAAc,CAAC5gB,MAAD,EAAemR,IAAf,EAAiC;CAC9C,QAAI,KAAK2B,WAAT,EAAsB;CAAE;CAAS;;CACjC,UAAMmB,SAAS,GAAG,KAAK4M,WAAvB;;CACA,QAAI,CAAC5M,SAAL,EAAgB;CAAE;CAAS;;CAC3B,UAAM;CAAC5U,MAAAA;CAAD,QAAa,IAAnB;CACA,UAAM,CAACiH,CAAD,EAAIwJ,CAAJ,IAASzQ,QAAQ,CAACyhB,YAAT,CAAsB7M,SAAtB,EAAiCjU,MAAjC,EAAyCmR,IAAzC,CAAf;;CACA,QAAI,CAAC7K,CAAL,EAAQ;CAAE;CAAS;;CACnB,SAAK,MAAMmK,EAAX,IAAiBK,QAAQ,CAAC,KAAKF,IAAN,CAAzB,EAAsC;CACrCvR,MAAAA,QAAQ,CAACiS,UAAT,CAAoBhL,CAApB,EAAuBmK,EAAvB,EAA2BX,CAA3B;CACA;CACD;;CAQDzR,EAAAA,WAAW,CACVwU,WADU,EAEV8F,SAAuC,GAAG,IAFhC,EAGVnV,KAA0B,GAAG,EAHnB,EAIVqK,QAJU,EAKVhE,MALU,EAMT;CACD,UACC8O,SAAS,GACN3Z,SAAS,CAAC2Z,SAAS,CAACnN,cAAD,CAAV,EAA4B3B,MAA5B,aAA4BA,MAA5B,uBAA4BA,MAAM,CAAExK,QAApC,CADH,GAENL,SAAS,CAAC6K,MAAD,aAACA,MAAD,uBAACA,MAAM,CAAExK,QAAT,CAHb,EAICwT,WAJD,EAKC8F,SALD,EAMCnV,KAND,EAOCqG,MAPD;;CADC;;CAAA;;CAAA;;CAAA,qCAVyC,EAUzC;;CAAA,2CAR4C,IAQ5C;;CAAA;;CAAA,qCA4BuB,EA5BvB;;CAAA,yCA8CgD,IA9ChD;;CAAA;;CAAA;;CAAA,0CAiDiD,IAjDjD;;CAAA,0CAkDwC,IAlDxC;;CAAA,wCAmDsC,IAnDtC;;CAAA,yCAgMoB,IAAIvH,GAAJ,EAhMpB;;CAAA,0CAqNqB,IAAIA,GAAJ,EArNrB;;CAUD,SAAK2R,SAAL,GAAiB,IAAjB;CACA,SAAKC,aAAL,GAAqBrK,MAArB,aAAqBA,MAArB,uBAAqBA,MAAM,CAAEqK,aAA7B;CACA,SAAKhJ,WAAL,GAAmB;CAAEC,MAAAA,KAAK,EAAE;CAAT,KAAnB;;CAEA,QAAIwN,SAAJ,EAAe;CACd,WAAKoI,eAAL,GAAuBpI,SAAS,CAAC9M,oBAAD,CAAhC;CACA;;CACD,IAAmB;CAAE7G,MAAAA,cAAc,CAAC,IAAD,EAAO,SAAP,EAAkB,EAAlB,CAAd;CAAsC,KAjB1D;;;CAmBD,SAAK0R,MAAL,CAAYS,aAAZ,CAA0B3T,KAA1B;;CACA,QAAIqG,MAAJ,EAAY;CAAE,WAAKmX,aAAL,GAAqBnX,MAAM,CAACoK,SAAP,CAAiB+M,aAAtC;CAAsD;;CACpE,SAAKrG,OAAL,GAAeC,OAAO,CAAC,IAAD,EAAO/M,QAAP,CAAtB;CACA,SAAKlD,OAAL,GAAe,IAAf;CACA;;CAEDkR,EAAAA,YAAY,CAACnF,MAAD,EAAkD;CAC7D,WAAOmF,cAAY,CAAC,IAAD,EAAOnF,MAAP,CAAnB;CACA;;CAEDuK,EAAAA,WAAW,CAACpT,QAAD,EAAwB;CAClC,QAAI,KAAKsF,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAKwH,OAAL,GAAeC,OAAO,CAAC,IAAD,EAAO/M,QAAP,EAAiB,KAAK8M,OAAtB,CAAtB;CACA,SAAKrH,WAAL;CACA;CACD;;;CACAN,EAAAA,OAAO,CAACxP,KAAD,EAA6BqK,QAA7B,EAAoD;CAC1D,QAAI,KAAKsF,SAAT,EAAoB;CAAE;CAAS;;CAC/B,SAAKwH,OAAL,GAAeC,OAAO,CAAC,IAAD,EAAO/M,QAAP,EAAiB,KAAK8M,OAAtB,CAAtB,CAF0D;;CAI1D,SAAKjE,MAAL,CAAYS,aAAZ,CAA0B3T,KAA1B;CACA,SAAK8P,WAAL;CACA;;CACDJ,EAAAA,QAAQ,GAAS;CAAEvJ,IAAAA,OAAO,CAAC,KAAKgR,OAAN,CAAP;CAAwB;;CAC3CvP,EAAAA,QAAQ,CAACxB,EAAD,EAAmB;CAAEwB,IAAAA,QAAQ,CAACxB,EAAD,EAAK,KAAKsB,WAAV,CAAR;CAAiC;;CAE9DoI,EAAAA,WAAW,GAAS;CAAE,SAAKa,QAAL,CAAc,IAAd;CAAsB;;CAO5CX,EAAAA,MAAM,CAAC0N,GAAD,EAA8C;CACnD,UAAM;CAAEpO,MAAAA,WAAF;CAAezT,MAAAA;CAAf,QAA4B,IAAlC;CACA,UAAM8hB,cAAc,GAAG,CAAArO,WAAW,SAAX,IAAAA,WAAW,WAAX,YAAAA,WAAW,CAAEzT,QAAb,KAAyBA,QAAhD;CAEA,UAAM;CACL4U,MAAAA,SADK;CAELjU,MAAAA,MAAM,EAAEohB,UAFH;CAGLC,MAAAA,MAHK;CAILlQ,MAAAA,IAJK;CAKLqK,MAAAA;CALK,QAMFnc,QAAQ,CAACiiB,cAAT,CACH,KAAKP,eADF,EAEH,KAAKnT,KAFF,EAGH,KAAK8I,MAAL,CAAYP,IAHT,EAIHrD,WAJG,aAIHA,WAJG,uBAIHA,WAAW,CAAEzT,QAJV,CANJ;CAYA,SAAKqc,UAAL,CAAgBF,OAAhB;CACA,UAAM+F,MAAM,GAAGliB,QAAQ,CAAC+c,eAAT,CAAyBnI,SAAzB,EAAoCiN,GAApC,KAA4CA,GAA3D;CAEA,UAAMM,WAAW,GAAGrR,eAAe,CAACgR,cAAD,CAAnC;CACA,SAAKM,aAAL,GAAqBD,WAArB;CACA,UAAME,eAAe,GAAGF,WAAW,CAAC1T,IAApC;CACA,SAAK6T,iBAAL,GAAyBD,eAAzB;CACA,SAAKb,WAAL,GAAmB5M,SAAnB;CACA,UAAMuG,OAAO,GAAGhI,IAAI,CAACnT,QAAD,EAAWkiB,MAAX,EAAmB,KAAK5G,OAAxB,CAApB;CACA,SAAKH,OAAL,GAAeA,OAAf;CACA,SAAKoH,YAAL,GAAoBP,MAApB;CACA,SAAKQ,UAAL,GAAkB1Q,IAAlB;;CACA,QAAI,CAACiQ,UAAD,IAAeD,cAAc,KAAK9hB,QAAtC,EAAgD;CAC/C,WAAKuR,IAAL,GAAYyQ,MAAM,GACf,CAAC,GAAG7G,OAAJ,EAAa3K,iBAAiB,CAAC;CAAE/B,QAAAA,IAAI,EAAEuT;CAAR,OAAD,CAA9B,EAAkDG,WAAlD,CADe,GAEf,CAAC,GAAGhH,OAAJ,EAAagH,WAAb,CAFH;CAGA,aAAOD,MAAP;CACA;;CACD,UAAMvhB,MAAM,GAAGohB,UAAU,IAAInN,SAA7B;CACA,SAAK6N,YAAL,GAAoB9hB,MAApB;;CACA,SAAK,MAAMyQ,EAAX,IAAiBK,QAAQ,CAAC0J,OAAD,CAAzB,EAAoC;CACnCnb,MAAAA,QAAQ,CAACiS,UAAT,CAAoBtR,MAApB,EAA4ByQ,EAA5B,EAAgCU,IAAhC;CACA;;CACD,SAAKP,IAAL,GAAYyQ,MAAM,GACf,CAACxR,iBAAiB,CAAC;CAAE/B,MAAAA,IAAI,EAAEuT;CAAR,KAAD,CAAlB,EAAsCG,WAAtC,CADe,GAEf,CAACA,WAAD,CAFH;CAGA,WAAOD,MAAP;CACA;;CACDQ,EAAAA,WAAW,GAAS;CACnB,UAAM;CAAED,MAAAA,YAAF;CAAgBF,MAAAA,YAAhB;CAA8BC,MAAAA;CAA9B,QAA6C,IAAnD;CACA,UAAM;CAAEjU,MAAAA,KAAF;CAASkF,MAAAA,WAAT;CAAsBzT,MAAAA;CAAtB,QAAmC,IAAzC;CACA,UAAMmiB,WAAW,GAAG,KAAKC,aAAzB;CACA,UAAMC,eAAe,GAAG,KAAKC,iBAA7B;CACA,UAAM1N,SAAS,GAAG,KAAK4M,WAAvB;CACA,UAAMM,cAAc,GAAG,CAAArO,WAAW,SAAX,IAAAA,WAAW,WAAX,YAAAA,WAAW,CAAEzT,QAAb,KAAyBA,QAAhD;CAEA,UAAM;CAACW,MAAAA,MAAM,EAAEohB,UAAT;CAAqBC,MAAAA,MAArB;CAA6BlQ,MAAAA;CAA7B,QAAqC9R,QAAQ,CAAC2iB,eAAT,CAC1C/N,SAD0C,EAE1C6N,YAF0C,EAG1CF,YAH0C,EAI1CC,UAJ0C,EAK1C,KAAKd,eALqC,EAM1CnT,KAN0C,EAO1C,KAAK8I,MAAL,CAAYP,IAP8B,EAQ1CrD,WAR0C,aAQ1CA,WAR0C,uBAQ1CA,WAAW,CAAEzT,QAR6B,CAA3C;CAUA,SAAKuiB,YAAL,GAAoBP,MAApB;CACA,SAAKQ,UAAL,GAAkB1Q,IAAlB;CACA,UAAMC,UAAU,GAAG+P,cAAc,CAAC9P,SAAf,CAAyBqQ,eAAzB,CAAnB;;CACA,QAAIL,MAAM,KAAKO,YAAf,EAA6B;CAC5B,UAAIA,YAAJ,EAAkB;CAAEviB,QAAAA,QAAQ,CAACwR,UAAT,CAAoB+Q,YAApB;CAAoC;;CACxD,UAAIP,MAAM,IAAIjQ,UAAd,EAA0B;CACzB/R,QAAAA,QAAQ,CAACiS,UAAT,CAAoBF,UAApB,EAAgCiQ,MAAhC,EAAwCK,eAAxC;CACA;CACD;;CACD,QAAI,CAACN,UAAD,IAAeD,cAAc,KAAK9hB,QAAtC,EAAgD;CAC/C,YAAM;CAAEmb,QAAAA;CAAF,UAAc,IAApB;;CACA,UAAIsH,YAAY,IAAI1Q,UAApB,EAAgC;CAC/B,cAAMc,QAAQ,GAAGmP,MAAM,IAAIK,eAA3B;;CACA,aAAK,MAAMjR,EAAX,IAAiBK,QAAQ,CAAC0J,OAAD,CAAzB,EAAoC;CACnC2G,UAAAA,cAAc,CAAC7P,UAAf,CAA0BF,UAA1B,EAAsCX,EAAtC,EAA0CyB,QAA1C;CACA;;CACD,aAAK4P,YAAL,GAAoB,IAApB;CACA;;CACD,WAAKlR,IAAL,GAAYyQ,MAAM,GACf,CAAC,GAAG7G,OAAJ,EAAa3K,iBAAiB,CAAC;CAAE/B,QAAAA,IAAI,EAAEuT;CAAR,OAAD,CAA9B,EAAkDG,WAAlD,CADe,GAEf,CAAC,GAAGhH,OAAJ,EAAagH,WAAb,CAFH;CAGA,KAZD,MAYO;CACN,YAAMxhB,MAAM,GAAGohB,UAAU,IAAInN,SAA7B;CACA,WAAK6N,YAAL,GAAoB9hB,MAApB;;CACA,UAAIA,MAAM,KAAK8hB,YAAX,IAA2B3Q,IAAI,KAAK0Q,UAAxC,EAAoD;CACnD,aAAK,MAAMpR,EAAX,IAAiBK,QAAQ,CAAC,KAAK0J,OAAN,CAAzB,EAAyC;CACxCnb,UAAAA,QAAQ,CAACiS,UAAT,CAAoBtR,MAApB,EAA4ByQ,EAA5B,EAAgCU,IAAhC;CACA;CACD;;CACD,WAAKP,IAAL,GAAYyQ,MAAM,GACf,CAACxR,iBAAiB,CAAC;CAAE/B,QAAAA,IAAI,EAAEuT;CAAR,OAAD,CAAlB,EAAsCG,WAAtC,CADe,GAEf,CAACA,WAAD,CAFH;CAGA;;CACDniB,IAAAA,QAAQ,CAAC4iB,iBAAT,CACChO,SADD,EAEC6N,YAFD,EAGCF,YAHD,EAICC,UAJD,EAKCT,UALD,EAMCC,MAND,EAOClQ,IAPD,EAQC,KAAK4P,eARN,EASCnT,KATD,EAUCkF,WAVD,aAUCA,WAVD,uBAUCA,WAAW,CAAEzT,QAVd;CAYA;;CACDid,EAAAA,eAAe,CAAC4F,IAAD,EAA2B;CACzC,UAAM1H,OAAO,GAAGhI,IAAI,CAAC,KAAKnT,QAAN,EAAgB6iB,IAAhB,EAAsB,KAAKvH,OAA3B,EAAoC,KAAKH,OAAzC,CAApB;CACA,SAAKA,OAAL,GAAeA,OAAf;;CACA,QAAI,CAAC,KAAKsH,YAAV,EAAwB;CAAE;CAAS;;CACnC,UAAMN,WAAW,GAAG,KAAKC,aAAzB;CACA,UAAMnQ,UAAU,GAAG,KAAKsQ,YAAxB;CACA,SAAKhR,IAAL,GAAYU,UAAU,GACnB,CAAC,GAAGkJ,OAAJ,EAAa3K,iBAAiB,CAAC;CAAE/B,MAAAA,IAAI,EAAEwD;CAAR,KAAD,CAA9B,EAAsDkQ,WAAtD,CADmB,GAEnB,CAAC,GAAGhH,OAAJ,EAAagH,WAAb,CAFH;CAGA;;CACDzN,EAAAA,OAAO,CAACmN,GAAD,EAA0B;CAChC,SAAK5E,eAAL,CAAqB4E,GAArB;;CACA,SAAKa,WAAL;CACA;;CACDnO,EAAAA,QAAQ,GAAS;CAChB,UAAM;CAAEd,MAAAA,WAAF;CAAezT,MAAAA,QAAf;CAAyBuiB,MAAAA;CAAzB,QAA0C,IAAhD;CACA,UAAMT,cAAc,GAAG,CAAArO,WAAW,SAAX,IAAAA,WAAW,WAAX,YAAAA,WAAW,CAAEzT,QAAb,KAAyBA,QAAhD;CACAsR,IAAAA,OAAO,CAAC,KAAKtR,QAAN,EAAgB,KAAKmb,OAArB,CAAP;;CACA,QAAIoH,YAAJ,EAAkB;CAAET,MAAAA,cAAc,CAACtQ,UAAf,CAA0B+Q,YAA1B;CAA0C;;CAC9DT,IAAAA,cAAc,CAACtQ,UAAf,CAA0B,KAAK8Q,iBAA/B;CACAtiB,IAAAA,QAAQ,CAAC8iB,gBAAT,CACC,KAAKtB,WADN,EAEC,KAAKiB,YAFN,EAGCF,YAHD,EAIC,KAAKC,UAJN,EAKC,KAAKd,eALN,EAMC,KAAKnT,KANN,EAOCkF,WAPD,aAOCA,WAPD,uBAOCA,WAAW,CAAEzT,QAPd;CASA;CAED;;;CAEA;CACA8U,EAAAA,QAAQ,CAAC1M,KAAD,EAA8B;CAAA;;CACrC,QAAI,2BAAKqL,WAAL,wEAAkBzT,QAAlB,MAA+B,KAAKA,QAAxC,EAAkD;CACjD,WAAKyT,WAAL,CAAiBmB,SAAjB,CAA2BE,QAA3B,CAAoC1M,KAApC;CACA;CACA;;CACD,QAAIA,KAAK,KAAK,IAAV,IAAkB,KAAKqL,WAA3B,EAAwC;CACvC,WAAKA,WAAL,CAAiBmB,SAAjB,CAA2BE,QAA3B,CAAoC,IAApC;CACA,KAFD,MAEO;CACN,WAAKiO,WAAL,CAAiB7f,GAAjB,CAAqBkF,KAArB;CACA;;CACD,SAAKuZ,aAAL,CAAmBqB,iBAAnB,CAAqC,IAArC;CACA;;CACDC,EAAAA,aAAa,GAAS;CACrB,QAAI,KAAKnP,SAAL,IAAkB,CAAC,KAAK0N,WAA5B,EAAyC;CAAE;CAAS;;CACpD,UAAM;CAAEuB,MAAAA;CAAF,QAAkB,IAAxB;CACA,UAAM1gB,IAAI,GAAG,CAAC,GAAG0gB,WAAJ,CAAb;;CACAA,IAAAA,WAAW,CAAC9N,KAAZ;;CACA5S,IAAAA,IAAI,CAACrB,GAAL,CAASgT,CAAC,IAAIA,CAAC,CAACS,MAAF,EAAd;CACA;;CAEDuO,EAAAA,iBAAiB,CAACpO,SAAD,EAAuC;CACvD,SAAKsO,YAAL,CAAkBhgB,GAAlB,CAAsB0R,SAAtB;;CACAE,IAAAA,QAAQ,CAAC,IAAD,CAAR;CACA;;CACDiM,EAAAA,OAAO,GAAS;CACf,UAAMoC,UAAU,GAAG,KAAKD,YAAxB;;CACA,QAAI,CAACC,UAAU,CAACxf,IAAhB,EAAsB;CAAE;CAAS;;CACjC,UAAMtB,IAAI,GAAG,CAAC,GAAG8gB,UAAJ,CAAb;CACAA,IAAAA,UAAU,CAAClO,KAAX;CACA,UAAM7B,YAA4B,GAAG,EAArC;CACAC,IAAAA,eAAe,CAACD,YAAD,CAAf;CACA/Q,IAAAA,IAAI,CAACE,OAAL,CAAayR,CAAC,IAAIA,CAAC,CAACiP,aAAF,EAAlB;CACA7P,IAAAA,YAAY,CAAC7Q,OAAb,CAAqB0E,CAAC,IAAIA,CAAC,EAA3B;CACA;;CAjQ0E;;CCrC5E,SAASmc,qBAAT,CACC5iB,CADD,EAECD,CAFD,EAGuC;CACtC,MAAIC,CAAC,KAAKK,SAAV,EAAqB;CACpB,WAAOwiB,YAAY,CAAC,IAAD,EAAO9iB,CAAP,CAAnB;CACA;;CACD,MAAIkN,oBAAoB,CAACjN,CAAD,CAAxB,EAA6B;CAC5B,WAAO6iB,YAAY,CAAC7iB,CAAD,EAAID,CAAJ,CAAnB;CACA;;CACD,MAAI,CAAC2O,SAAS,CAAC1O,CAAD,CAAd,EAAmB;CAClB,WAAO6iB,YAAY,CAAC,IAAD,EAAO9iB,CAAP,EAAU,CAAC+N,iBAAiB,CAAC9N,CAAD,CAAlB,CAAV,CAAnB;CACA;;CACD,MAAIiN,oBAAoB,CAACjN,CAAC,CAACtB,GAAH,CAAxB,EAAiC;CAChC,UAAMokB,MAAM,GAAG,EAAC,GAAG9iB,CAAC,CAAC2D,KAAN;CAAa,SAAG5D;CAAhB,KAAf;CACA,WAAO8iB,YAAY,CAAC7iB,CAAC,CAACtB,GAAH,EAAQokB,MAAR,CAAnB;CACA;;CACD,SAAOD,YAAY,CAAC,IAAD,EAAO9iB,CAAP,EAAU,CAACC,CAAD,CAAV,CAAnB;CACA;;CAED,SAAS6iB,YAAT,CACCnkB,GADD,EAECiF,KAFD,EAGC+V,UAAiB,GAAG,EAHrB,EAIuC;CACtC,QAAM1L,QAAQ,GAAGpN,KAAK,CAAC8Y,UAAD,CAAtB;CAEA,QAAML,wBAAkD,GAAG;CAC1D7Z,IAAAA,QAAQ,EAAEd,GAAG,GAAGS,SAAS,CAACT,GAAG,CAACiN,cAAD,CAAJ,CAAZ,GAAqCxM,SAAS,EADD;CAE1DsO,IAAAA,OAF0D;CAG1DqM,IAAAA,gBAAgB,EAAE,IAAIrY,OAAJ,EAHwC;CAI1D8L,IAAAA,SAAS,EAAEtO,MAAM,CAACC,MAAP,CAAc,IAAd,CAJ+C;CAK1D;CACAsa,IAAAA,YAAY,EAAEnZ;CAN4C,GAA3D;CASA,MAAI2a,aAAa,GAAG,KAApB;CACA,MAAIC,YAAY,GAAG,KAAnB;CAEA,MAAI7G,SAAJ;;CACA,WAAS3G,OAAT,GAAyB;CACxB,QAAI,CAAC2G,SAAL,EAAgB;CACf4G,MAAAA,aAAa,GAAG,IAAhB;CACA;CACA;;CACD,QAAI5G,SAAS,CAACd,SAAd,EAAyB;CAAE;CAAS;;CACpC0H,IAAAA,aAAa,GAAG,IAAhB;;CACA,QAAI,CAAC5G,SAAS,CAACtJ,OAAf,EAAwB;CAAE;CAAS;;CAEnC,QAAImQ,YAAJ,EAAkB;CAAE;CAAS;;CAC7BA,IAAAA,YAAY,GAAG,IAAf;CAEA,QAAItB,KAAJ;;CACA,aAAS;CACR,UAAInX,MAAI,CAACugB,UAAD,CAAR,EAAsB;CAAE;CAAQ;;CAChC,UAAI,CAAC/H,aAAL,EAAoB;CAAE;CAAQ;;CAC9BA,MAAAA,aAAa,GAAG,KAAhB;CACArB,MAAAA,KAAK,GAAGsD,OAAO,EAAf;;CACA,UAAI7I,SAAS,CAACd,SAAd,EAAyB;CAAE;CAAS;CACpC;;CACD2H,IAAAA,YAAY,GAAG,KAAf;;CACA,QAAIzY,MAAI,CAACugB,UAAD,CAAR,EAAsB;CAAE;CAAS;;CACjC,QAAI,CAACpJ,KAAL,EAAY;CAAE;CAAS;;CAEvB,QAAI,CAACvF,SAAS,CAACR,OAAf,EAAwB;CAAE;CAAS;;CACnC,QAAIQ,SAAS,CAACd,SAAd,EAAyB;CAAE;CAAS;;CACpC,QAAIc,SAAS,CAACJ,SAAd,EAAyB;CAAE;CAAS;;CACpCI,IAAAA,SAAS,CAACgN,WAAV,CAAsBzH,KAAtB;CACA;;CACD,QAAMoJ,UAAU,GAAG;CAAEtV,IAAAA;CAAF,GAAnB;CACA,QAAM4H,KAAK,GAAGpW,MAAM,CAACC,MAAP,CAAc,IAAd,CAAd;;CACA,QAAM+d,OAAO,GAAG/Y,OAAO,CACtBsP,CAAC,IAAIA,CAAC,IAAI/F,OAAO,EADK,EAEtB,MAAMlE,IAAI,CACT8P,wBADS,EAETrL,QAAQ,CAACpN,KAFA,EAGTyU,KAHS,EAIT,EAJS,EAKT,KALS,EAMT,KANS,CAFY,CAAvB;;CAWAjB,EAAAA,SAAS,GAAG,IAAIsL,cAAJ,CAAmBhhB,GAAnB,EAAwBA,GAAxB,EAA6BiF,KAA7B,EAAoCsZ,OAAO,EAA3C,CAAZ;;CACA,MAAIjC,aAAJ,EAAmB;CAAEvN,IAAAA,OAAO;CAAK;;CACjC,SAAO,CAAC2G,SAAD,EAAYpG,QAAZ,CAAP;CACA;;CAED,SAAS+H,MAAT,CACC/V,CADD,EAECD,CAAsB,GAAG,EAF1B,EAGmB;CAClB,QAAM,CAACqU,SAAD,EAAYpG,QAAZ,IAAyB4U,qBAAqB,CAAC5iB,CAAD,EAAID,CAAJ,CAApD;CACA,QAAM4K,MAAuB,GAAG1L,MAAM,CAACC,MAAP,CAAckV,SAAS,CAACzJ,MAAxB,EAAgC;CAC/DuI,IAAAA,MAAM,EAAE;CACP7N,MAAAA,YAAY,EAAE,IADP;;CAEPzE,MAAAA,KAAK,CAAC4S,CAAD,EAAiD;CACrD,YAAIY,SAAS,CAACd,SAAd,EAAyB;CAAE,iBAAO3I,MAAP;CAAgB;;CAC3CqD,QAAAA,QAAQ,CAACwF,CAAC,KAAKnT,SAAN,GAAkB,EAAlB,GACNqO,SAAS,CAAC8E,CAAD,CAAT,GAAe,CAACA,CAAD,CAAf,GAAqB,CAAC1F,iBAAiB,CAAC0F,CAAD,CAAlB,CADhB,CAAR;CAEA,eAAO7I,MAAP;CACA;;CAPM,KADuD;CAU/D+F,IAAAA,KAAK,EAAE;CACNrL,MAAAA,YAAY,EAAE,IADR;;CAENzE,MAAAA,KAAK,CAACT,MAAD,EAAemR,IAAf,EAA2B;CAC/B,YAAI8C,SAAS,CAACd,SAAd,EAAyB;CAAE,iBAAO3I,MAAP;CAAgB;;CAC3C,YAAIyJ,SAAS,CAACR,OAAd,EAAuB;CAAE,iBAAOjJ,MAAP;CAAgB;;CACzCyJ,QAAAA,SAAS,CAAC1D,KAAV,CAAgB,EAAhB;CACA0D,QAAAA,SAAS,CAAC2M,cAAV,CAAyB5gB,MAAzB,EAAiCmR,IAAjC;CACA,eAAO3G,MAAP;CACA;;CARK,KAVwD;CAoB/DmG,IAAAA,OAAO,EAAE;CACRzL,MAAAA,YAAY,EAAE,IADN;;CAERzE,MAAAA,KAAK,GAAG;CACP,YAAI,CAACwT,SAAS,CAACR,OAAf,EAAwB;CAAE;CAAS;;CACnC,YAAIQ,SAAS,CAACJ,SAAd,EAAyB;CAAE;CAAS;;CACpC,YAAI,CAACI,SAAS,CAACd,SAAf,EAA0B;CAAEc,UAAAA,SAAS,CAACtK,OAAV;CAAsB;;CAClDsK,QAAAA,SAAS,CAACtD,OAAV;CACA,eAAOnG,MAAP;CACA;;CARO;CApBsD,GAAhC,CAAhC;;CA+BA,EAAmB;CAClBzM,IAAAA,QAAQ,CAACC,UAAT,CAAoBwM,MAApB,EAA4ByJ,SAA5B;CACA;;CACD,SAAOzJ,MAAP;CACA;;CCtFD,SAASqY,aAAT,CAGClK,SAHD,EAIC1Z,IAJD,EAKK;CACJ8F,EAAAA,OAAO,CAACC,cAAR,CAAuB2T,SAAvB,EAAkC7M,gBAAlC,EAAoD;CAAErL,IAAAA,KAAK,EAAExB;CAAT,GAApD;CACA,SAAO0Z,SAAP;CACA;;CAED,SAASmK,OAAT,CAEEnK,SAFF,EAEgBjP,IAFhB,EAEkC;CACjC,MAAI,CAACA,IAAD,IAAS,OAAOA,IAAP,KAAgB,QAA7B,EAAuC;CAAE,WAAOiP,SAAP;CAAmB;;CAC5D5T,EAAAA,OAAO,CAACC,cAAR,CAAuB2T,SAAvB,EAAkCjN,UAAlC,EAA8C;CAAEjL,IAAAA,KAAK,EAAEiJ;CAAT,GAA9C;CACA,SAAOiP,SAAP;CACA;;CACD,SAAShU,QAAT,CAEEgU,SAFF,EAEgBlY,KAFhB,EAE6B;CAC5BsE,EAAAA,OAAO,CAACC,cAAR,CAAuB2T,SAAvB,EAAkC9M,oBAAlC,EAAwD;CAAEpL,IAAAA;CAAF,GAAxD;CACA,SAAOkY,SAAP;CACA;;CACD,SAASoK,aAAT,CAEEpK,SAFF,EAEgBH,UAFhB,EAEkC;CACjC,MAAI,CAACA,UAAD,IAAe,OAAOA,UAAP,KAAsB,QAAzC,EAAmD;CAAE,WAAOG,SAAP;CAAmB;;CACxE5T,EAAAA,OAAO,CAACC,cAAR,CAAuB2T,SAAvB,EAAkChN,gBAAlC,EAAoD;CAAElL,IAAAA,KAAK,EAAE+X;CAAT,GAApD;CACA,SAAOG,SAAP;CACA;;CAED,SAASqK,mBAAT,GAAgE;CAC/D,QAAMrK,SAAS,GAAG,SAASA,SAAT,CAAmBgK,MAAnB,EAA4C;CAC7D,WAAOhV,iBAAiB,CAACgL,SAAD,EAAYgK,MAAZ,CAAxB;CACA,GAFD;;CAGA,SAAOhK,SAAP;CACA;;AAKD,CAAO,SAASsK,sBAAT,CAAmC/jB,GAAnC,EAAgE;CACtE,QAAMyZ,SAAS,GAAGqK,mBAAmB,EAArC;CACAH,EAAAA,aAAa,CAAClK,SAAD,EAAY3M,gCAAZ,CAAb;CACAjH,EAAAA,OAAO,CAACC,cAAR,CAAuB2T,SAAvB,EAAkCnM,gBAAlC,EAAoD;CAAE/L,IAAAA,KAAK,EAAE8D,MAAM;CAAf,GAApD;CACAQ,EAAAA,OAAO,CAACC,cAAR,CAAuB2T,SAAvB,EAAkClM,oBAAlC,EAAwD;CAAEhM,IAAAA,KAAK,EAAEvB;CAAT,GAAxD;CACA,SAAOyZ,SAAP;CACA;AAED,CAAO,SAASuK,qBAAT,CAKNhhB,CALM,EAMN;CAACwH,EAAAA,IAAD;CAAO8O,EAAAA;CAAP,IAGI,EATE,EAUoC;CAC1C,QAAMG,SAAS,GAAGqK,mBAAmB,EAArC;CACAH,EAAAA,aAAa,CAAClK,SAAD,EAAYvM,+BAAZ,CAAb;CACA0W,EAAAA,OAAO,CAACnK,SAAD,EAAYjP,IAAZ,CAAP;CACA/E,EAAAA,QAAQ,CAACgU,SAAD,EAAYzW,CAAZ,CAAR;CACA6gB,EAAAA,aAAa,CAACpK,SAAD,EAAYH,UAAZ,CAAb;CACA,SAAOG,SAAP;CACA;AACD,CAAO,SAASwK,wBAAT,CACN1iB,KADM,EAEN;CAACiJ,EAAAA,IAAD;CAAOrK,EAAAA;CAAP,IAAoE,EAF9D,EAGqB;CAC3B,QAAMsZ,SAAS,GAAGqK,mBAAmB,EAArC;CACAH,EAAAA,aAAa,CAAClK,SAAD,EAAYtM,kCAAZ,CAAb;CACAyW,EAAAA,OAAO,CAACnK,SAAD,EAAYjP,IAAZ,CAAP;CACA/E,EAAAA,QAAQ,CAACgU,SAAD,EAAYlY,KAAZ,CAAR;;CACA,MAAI,OAAOpB,QAAP,KAAoB,QAApB,IAAgC,OAAOA,QAAP,KAAoB,QAAxD,EAAkE;CACjE0F,IAAAA,OAAO,CAACC,cAAR,CAAuB2T,SAAvB,EAAkCnN,cAAlC,EAAkD;CAAE/K,MAAAA,KAAK,EAAEpB;CAAT,KAAlD;CACA;;CACD,SAAOsZ,SAAP;CACA;AACD,CAAO,SAASyK,sBAAT,CACN3iB,KADM,EAEN;CAAEiJ,EAAAA;CAAF,IAA8B,EAFxB,EAGmB;CACzB,QAAMiP,SAAS,GAAGqK,mBAAmB,EAArC;CACAH,EAAAA,aAAa,CAAClK,SAAD,EAAYrM,gCAAZ,CAAb;CACAwW,EAAAA,OAAO,CAACnK,SAAD,EAAYjP,IAAZ,CAAP;CACA/E,EAAAA,QAAQ,CAACgU,SAAD,EAAYlY,KAAZ,CAAR;CACA,SAAOkY,SAAP;CACA;AAqBD,CAAO,SAAS0K,uBAAT,CAMNnhB,CANM,EAON;CAACwH,EAAAA,IAAD;CAAO8O,EAAAA,UAAP;CAAmB5C,EAAAA,MAAnB;CAA2BpS,EAAAA;CAA3B,IAA8E,EAPxE,EAQsC;CAC5C,QAAMmV,SAAS,GAAG2K,mBAAmB,CAACphB,CAAD,EAAI0T,MAAJ,CAArC;CACAkN,EAAAA,OAAO,CAACnK,SAAD,EAAYjP,IAAZ,CAAP;CACAqZ,EAAAA,aAAa,CAACpK,SAAD,EAAYH,UAAZ,CAAb;;CACA,MAAIpS,KAAK,CAACC,OAAN,CAAc7C,KAAd,CAAJ,EAA0B;CACzBuB,IAAAA,OAAO,CAACC,cAAR,CAAuB2T,SAAvB,EAAkC/M,WAAlC,EAA+C;CAAEnL,MAAAA,KAAK,EAAE,CAAC,GAAG+C,KAAJ;CAAT,KAA/C;CACA;;CACD,SAAOmV,SAAP;CACA;;CAED,SAAS2K,mBAAT,CAMCphB,CAND,EAOC0T,MAPD,EAQ6C;CAC5C,MAAI,OAAOA,MAAP,KAAkB,UAAtB,EAAkC;CACjC,WAAO1T,CAAP;CACA;;CACD,QAAMqhB,eAAe,GAAG1W,iBAAiB,CAAC+I,MAAD,CAAjB,GACrBA,MADqB,GAErBsN,qBAAqB,CAACtN,MAAD,CAFxB;CAGA,SAAO,SAAS4N,iBAAT,CAA2BhgB,KAA3B,EAAkC0Z,OAAlC,EAAiD;CACvD,WAAOvP,iBAAiB,CAAC4V,eAAD,EAAkBrhB,CAAC,CAACsB,KAAD,EAAQ0Z,OAAR,CAAnB,CAAxB;CACA,GAFD;CAGA;;AAqBD,CAAO,SAASuG,qBAAT,CAMNvhB,CANM,EAON;CAACwH,EAAAA,IAAD;CAAO8O,EAAAA,UAAP;CAAmB5C,EAAAA,MAAnB;CAA2BpS,EAAAA;CAA3B,IAA8E,EAPxE,EAQoC;CAC1C,QAAMmV,SAAS,GAAG2K,mBAAmB,CAACphB,CAAD,EAAI0T,MAAJ,CAArC;CACAiN,EAAAA,aAAa,CAAClK,SAAD,EAAY1M,+BAAZ,CAAb;CACA6W,EAAAA,OAAO,CAACnK,SAAD,EAAYjP,IAAZ,CAAP;CACAqZ,EAAAA,aAAa,CAACpK,SAAD,EAAYH,UAAZ,CAAb;;CACA,MAAIpS,KAAK,CAACC,OAAN,CAAc7C,KAAd,CAAJ,EAA0B;CACzBuB,IAAAA,OAAO,CAACC,cAAR,CAAuB2T,SAAvB,EAAkC/M,WAAlC,EAA+C;CAAEnL,MAAAA,KAAK,EAAE,CAAC,GAAG+C,KAAJ;CAAT,KAA/C;CACA;;CACD,SAAOmV,SAAP;CACA;AAGD,CAAO,SAAS+K,qBAAT,CAINxhB,CAJM,EAKN;CAACwH,EAAAA,IAAD;CAAO8O,EAAAA;CAAP,IAGI,EARE,EAS2B;CACjC,QAAMG,SAAS,GAAGzW,CAAlB;CACA2gB,EAAAA,aAAa,CAAClK,SAAD,EAAYzM,+BAAZ,CAAb;CACA4W,EAAAA,OAAO,CAACnK,SAAD,EAAYjP,IAAZ,CAAP;CACAqZ,EAAAA,aAAa,CAACpK,SAAD,EAAYH,UAAZ,CAAb;CACA,SAAOG,SAAP;CACA;AACD,CAAO,SAASgL,oBAAT,CAINzhB,CAJM,EAKN;CAACwH,EAAAA;CAAD,IAA6B,EALvB,EAM0B;CAChC,QAAMiP,SAAS,GAAGzW,CAAlB;CACA2gB,EAAAA,aAAa,CAAClK,SAAD,EAAYxM,8BAAZ,CAAb;CACA2W,EAAAA,OAAO,CAACnK,SAAD,EAAYjP,IAAZ,CAAP;CACA,SAAOiP,SAAP;CACA;;CChPM,SAASiL,OAAT,CAAiBnlB,CAAjB,EAAyBQ,IAAzB,EAAiD;CACvD,UAAQA,IAAR;CACC,SAAK,mBAAL;CAA0B,aAAOR,CAAC,YAAYigB,sBAApB;;CAC1B,SAAK,iBAAL;CAAwB,aAAOjgB,CAAC,YAAY4f,oBAApB;;CACxB,SAAK,WAAL;CAAkB,aAAO5f,CAAC,YAAYmf,cAApB;;CAElB,SAAK,WAAL;CAAkB,aAAOnf,CAAC,YAAY8gB,cAApB;;CAElB,SAAK,SAAL;CAAgB,aAAO9gB,CAAC,YAAYwc,YAApB;;CAChB,SAAK,SAAL;CAAgB,aAAOxc,CAAC,YAAYsd,YAApB;;CAChB,SAAK,OAAL;CAAc,aAAOtd,CAAC,YAAY0c,UAApB;;CACd,SAAK,OAAL;CAAc,aAAO1c,CAAC,YAAYwe,UAApB;;CACd,SAAK,OAAL;CAAc,aAAOxe,CAAC,YAAY8b,UAApB;;CACd,SAAK,MAAL;CAAa,aAAO9b,CAAC,YAAY4e,SAApB;;CACb,SAAK,MAAL;CAAa,aAAO5e,CAAC,YAAYuV,SAApB;;CACb,SAAK,KAAL;CAAY,aAAOvV,CAAC,YAAY8c,QAApB;CAdb;;CAgBA,SAAO9c,CAAC,YAAYmU,SAApB;CACA;;CCvBD,SAASsJ,aAAT,CACC3d,GADD,EAECqP,KAFD,EAGC,GAAGC,QAHJ,EAIW;CACV,QAAMgW,SAAS,GAAGjW,KAAK,GAAG,EAAC,GAAGA;CAAJ,GAAH,GAAgB,EAAvC;CACA,QAAMpK,KAA0B,GAAG,EAAnC;;CACA,OAAK,MAAMsM,CAAX,IAAgBhR,MAAM,CAAC2H,IAAP,CAAYod,SAAZ,CAAhB,EAAwC;CACvC,QAAI/T,CAAC,KAAK,GAAV,EAAe;CACdtM,MAAAA,KAAK,CAAC,MAAD,CAAL,GAAgBqgB,SAAS,CAAC/T,CAAD,CAAzB;CACA;CACA;;CACD,QAAIA,CAAC,CAAC,CAAD,CAAD,KAAS,GAAb,EAAkB;CACjBtM,MAAAA,KAAK,CAAE,KAAKsM,CAAC,CAACuI,MAAF,CAAS,CAAT,CAAa,EAApB,CAAL,GAA8BwL,SAAS,CAAC/T,CAAD,CAAvC;CACA;CACA;;CACD,QAAIA,CAAC,CAAC,CAAD,CAAD,KAAS,GAAb,EAAkB;CACjBtM,MAAAA,KAAK,CAAE,MAAMsM,CAAC,CAACuI,MAAF,CAAS,CAAT,CAAa,EAArB,CAAL,GAA+BwL,SAAS,CAAC/T,CAAD,CAAxC;CACA;CACA;;CACD,QAAIA,CAAC,CAACuI,MAAF,CAAS,CAAT,EAAY,CAAZ,MAAmB,IAAvB,EAA6B;CAC5B7U,MAAAA,KAAK,CAAE,KAAKsM,CAAC,CAACuI,MAAF,CAAS,CAAT,CAAa,EAApB,CAAL,GAA8BwL,SAAS,CAAC/T,CAAD,CAAvC;CACA;CACA;;CACD,QAAIA,CAAC,CAACuI,MAAF,CAAS,CAAT,EAAY,CAAZ,MAAmB,KAAvB,EAA8B;CAC7B,YAAMzZ,EAAE,GAAGilB,SAAS,CAAC/T,CAAD,CAApB;;CACA,UAAI,OAAOlR,EAAP,KAAc,UAAd,IAA4BA,EAAE,KAAK,IAAnC,IAA2CA,EAAE,KAAKsB,SAAtD,EAAiE;CAChEsD,QAAAA,KAAK,CAAE,MAAMsM,CAAC,CAACuI,MAAF,CAAS,CAAT,CAAa,EAArB,CAAL,GAA+BzZ,EAA/B;CACA;;CACD;CACA;;CACD,QAAIkR,CAAC,CAACuI,MAAF,CAAS,CAAT,EAAY,CAAZ,MAAmB,OAAvB,EAAgC;CAC/B,YAAMzZ,EAAE,GAAGilB,SAAS,CAAC/T,CAAD,CAApB;;CACA,UAAI,OAAOlR,EAAP,KAAc,UAAd,IAA4BA,EAAE,KAAK,IAAnC,IAA2CA,EAAE,KAAKsB,SAAtD,EAAiE;CAChEsD,QAAAA,KAAK,CAAE,QAAQsM,CAAC,CAACuI,MAAF,CAAS,CAAT,CAAa,EAAvB,CAAL,GAAiCzZ,EAAjC;CACA;;CACD;CACA;;CACD,QAAIkR,CAAC,CAACuI,MAAF,CAAS,CAAT,EAAY,CAAZ,MAAmB,OAAvB,EAAgC;CAC/B7U,MAAAA,KAAK,CAAE,QAAQsM,CAAC,CAACuI,MAAF,CAAS,CAAT,CAAa,EAAvB,CAAL,GAAiCwL,SAAS,CAAC/T,CAAD,CAA1C;CACA;;CACDtM,IAAAA,KAAK,CAACsM,CAAD,CAAL,GAAW+T,SAAS,CAAC/T,CAAD,CAApB;CACA;;CACD,SAAOnC,iBAAiB,CAACpP,GAAD,EAAMiF,KAAN,EAAa,GAAGqK,QAAhB,CAAxB;CACA;;CCpED,MAAMiW,QAIL,GAAGra,SAAS,CAA4B;CACxCC,EAAAA,IAAI,EAAE,UADkC;CAExC3K,EAAAA,MAAM,EAAEH,EAAE,IAAI,OAAOA,EAAP,KAAc,UAAd,GAA2BA,EAAE,EAA7B,GAAkC6B,KAAK,CAACP,SAAD;CAFb,CAA5B,CAJb;;CCFA,SAAS6jB,kBAAT,CAAwDrjB,GAAxD,EAAsF;CACrF,SAAO,SAASsjB,QAAT,CAAkBC,EAAlB,EAAsBC,EAAtB,EAA0B1Z,MAA1B,EAAkClB,KAAlC,EAA+C;CACrD,QAAIA,KAAK,KAAK,IAAd,EAAoB;CACnB5I,MAAAA,GAAG,CAAC6B,GAAJ,CAAQiI,MAAR;CACA;CACA;;CACD,QAAIlB,KAAK,KAAK,KAAd,EAAqB;CACpB5I,MAAAA,GAAG,CAACqC,MAAJ,CAAWyH,MAAX;CACA;CACD,GARD;CASA;;CACD,SAAS2Z,mBAAT,CAA+CzjB,GAA/C,EAA6E;CAC5E,SAAO,SAASsjB,QAAT,CAAkBjU,OAAlB,EAA2BqU,OAA3B,EAA0C;CAChD,QAAIrU,OAAO,KAAK7P,SAAhB,EAA2B;CAC1B,UAAIkkB,OAAO,KAAKlkB,SAAhB,EAA2B;CAC1BQ,QAAAA,GAAG,CAACqC,MAAJ,CAAWqhB,OAAX;CACA;;CACD;CACA;;CAAC,QAAIA,OAAO,KAAKlkB,SAAhB,EAA2B;CAC5BQ,MAAAA,GAAG,CAAC6B,GAAJ,CAAQwN,OAAR;CACA;CACA;;CAAC,QAAI,OAAOrP,GAAG,CAAC2jB,OAAX,KAAuB,UAA3B,EAAuC;CACxC3jB,MAAAA,GAAG,CAAC2jB,OAAJ,CAAYtU,OAAZ,EAAqBqU,OAArB;CACA;CACA;;CACD1jB,IAAAA,GAAG,CAACqC,MAAJ,CAAWqhB,OAAX;CACA1jB,IAAAA,GAAG,CAAC6B,GAAJ,CAAQwN,OAAR;CACA,GAfD;CAgBA;;CACD,SAASuU,oBAAT,CAA0D7iB,KAA1D,EAA+F;CAC9F,QAAM8B,GAAG,GAAI9B,KAAK,GAAGhB,KAAK,CAAgBP,SAAhB,CAAR,GAAqC;CAAEO,IAAAA,KAAK,EAAEP;CAAT,GAAvD;;CACA,WAAS8jB,QAAT,CAAkBE,EAAlB,EAA2BK,EAA3B,EAAoC/Z,MAApC,EAA+ClB,KAA/C,EAAsE;CACrE/F,IAAAA,GAAG,CAAC9C,KAAJ,GAAY6I,KAAK,KAAK,KAAV,GAAkBkB,MAAlB,GAA2BtK,SAAvC;CACA;;CACD6E,EAAAA,OAAO,CAACC,cAAR,CAAuBgf,QAAvB,EAAiC,OAAjC,EAA0C;CACzCxjB,IAAAA,GAAG,GAAG;CAAE,aAAO+C,GAAG,CAAC9C,KAAX;CAAmB,KADc;;CAEzCwE,IAAAA,UAAU,EAAE,IAF6B;CAGzCC,IAAAA,YAAY,EAAE;CAH2B,GAA1C;CAKA,SAAO8e,QAAP;CACA;;CACD,SAASQ,qBAAT,CAAiD/iB,KAAjD,EAAgF;CAC/E,QAAM8B,GAAG,GAAI9B,KAAK,GAAGhB,KAAK,CAAgBP,SAAhB,CAAR,GAAqC;CAAEO,IAAAA,KAAK,EAAEP;CAAT,GAAvD;;CACA,WAAS8jB,QAAT,CAAkBjU,OAAlB,EAAgD;CAC/CxM,IAAAA,GAAG,CAAC9C,KAAJ,GAAYsP,OAAZ;CACA;;CACDhL,EAAAA,OAAO,CAACC,cAAR,CAAuBgf,QAAvB,EAAiC,OAAjC,EAA0C;CACzCxjB,IAAAA,GAAG,GAAG;CAAE,aAAO+C,GAAG,CAAC9C,KAAX;CAAmB,KADc;;CAEzCwE,IAAAA,UAAU,EAAE,IAF6B;CAGzCC,IAAAA,YAAY,EAAE;CAH2B,GAA1C;CAKA,SAAO8e,QAAP;CACA;;CAMD,SAASrI,GAAT,CAGCjb,GAHD,EAIC+jB,QAJD,EAKuG;CACtG,MAAI/jB,GAAG,KAAK,OAAOA,GAAP,KAAe,UAAf,IAA6B,OAAOA,GAAP,KAAe,QAAjD,CAAP,EAAmE;CAClE,WAAO+jB,QAAQ,GAAGV,kBAAkB,CAACrjB,GAAD,CAArB,GAAoCyjB,mBAAmB,CAACzjB,GAAD,CAAtE;CACA;;CACD,SAAO+jB,QAAQ,GAAGH,oBAAoB,CAAC5jB,GAAD,CAAvB,GAA+B8jB,qBAAqB,CAAC9jB,GAAD,CAAnE;CACA;;CClED,MAAMgkB,OAAO,GAAG,CAAhB;CAEA,MAAMC,OAAO,GAAG,CAAC,CAAjB;CAEA,MAAMC,QAAQ,GAAG,CAAjB;AAGA,CAAe,SAASC,IAAT,CAIdlM,SAJc,EAKdmM,WALc,EAMY;CAC1B,QAAMC,MAAM,GAAGtkB,KAAK,CAA+BikB,OAA/B,CAApB;CACA,MAAIM,MAAM,GAAG,KAAb;CACA,QAAMC,cAAc,GAAGxkB,KAAK,CAAgBP,SAAhB,CAA5B;;CACA,iBAAeglB,IAAf,GAAqC;CACpC,QAAIF,MAAJ,EAAY;CAAE;CAAS;;CACvBA,IAAAA,MAAM,GAAG,IAAT;;CACA,QAAID,MAAM,EAAV,EAAc;CAAE;CAAS;;CACzBA,IAAAA,MAAM,CAACH,QAAD,CAAN;;CACA,QAAI;CACH,YAAMvR,CAAC,GAAG,MAAMsF,SAAS,EAAzB;;CACA,UAAI,OAAOtF,CAAP,KAAa,UAAjB,EAA6B;CAC5B4R,QAAAA,cAAc,CAAC5R,CAAD,CAAd;CACA;CACA;;CACD,UAAI,CAACA,CAAL,EAAQ;CACP0R,QAAAA,MAAM,CAACJ,OAAD,CAAN;CACA;CACA;;CACD,UAAI,OAAOtR,CAAC,CAAClU,OAAT,KAAqB,UAAzB,EAAqC;CACpC8lB,QAAAA,cAAc,CAAC5R,CAAC,CAAClU,OAAH,CAAd;CACA;CACA;;CACD4lB,MAAAA,MAAM,CAACJ,OAAD,CAAN;CACA,KAfD,CAeE,OAAO9kB,CAAP,EAAU;CACXJ,MAAAA,OAAO,CAACC,KAAR,CAAcG,CAAd;CACAklB,MAAAA,MAAM,CAACJ,OAAD,CAAN;CACA;CACD;;CACD,SAAOjB,qBAAqB,CAAC,CAAClgB,KAAD,EAAQ;CAAE+V,IAAAA;CAAF,GAAR,KAA2B;CACvD,UAAM4L,GAAG,GAAGF,cAAc,EAA1B;;CACA,QAAIE,GAAJ,EAAS;CAAE,aAAOjJ,aAAa,CAACiJ,GAAD,EAAM3hB,KAAN,EAAa,GAAG+V,UAAU,EAA1B,CAApB;CAAoD;;CAC/D2L,IAAAA,IAAI;;CACJ,QAAI,CAACJ,WAAL,EAAkB;CAAE,aAAO,IAAP;CAAc;;CAClC,WAAO5I,aAAa,CAAC4I,WAAD,EAAc;CAAEM,MAAAA,OAAO,EAAEL,MAAM,OAAOL;CAAxB,KAAd,CAApB;CACA,GAN2B,EAMzB;CAAChb,IAAAA,IAAI,EAAE;CAAP,GANyB,CAA5B;CAOA;;CCjDc,SAAS2b,mBAAT,CACdzP,MADc,EAEd;CAAC7H,EAAAA,IAAD;CAAOzN,EAAAA;CAAP,IAA6C,EAF/B,EAGJ;CACV,QAAMwN,IAAa,GAAG;CACrB,KAAChC,gBAAD,GAAoBC,uBADC;CAErBxN,IAAAA,GAAG,EAAE0P,MAFgB;CAGrBzK,IAAAA,KAAK,EAAE;CACN,eAASlD,GADH;CAEN,gBAAUyN;CAFJ,KAHc;CAOrBF,IAAAA,QAAQ,EAAE,CAAC+H,MAAD,CAPW;CAQrBtV,IAAAA,GARqB;CAQhByN,IAAAA;CARgB,GAAtB;CAUA,SAAOD,IAAP;CACA;;CCfD,SAASwX,QAAT,CACCxX,IADD,EAECoT,GAAoB,GAAG,EAFxB,EAGS;CACR,MAAI9a,KAAK,CAACC,OAAN,CAAcyH,IAAd,CAAJ,EAAyB;CACxB,UAAMpM,IAAa,GAAG,EAAtB;;CACA,SAAK,IAAIoO,CAAT,IAAchC,IAAd,EAAoB;CACnBpM,MAAAA,IAAI,CAACgC,IAAL,CAAU4hB,QAAQ,CAACxV,CAAD,EAAIoR,GAAJ,CAAlB;CACA;;CACD,WAAQ,EAAD,CAAcqE,MAAd,CAAqB,GAAG7jB,IAAxB,CAAP;CACA;;CACD,MAAI,CAAC6M,SAAS,CAACT,IAAD,CAAd,EAAsB;CAAE,WAAO,CAACA,IAAD,CAAP;CAAgB;;CACxC,MAAI;CAAEvP,IAAAA;CAAF,MAAUuP,IAAd;;CACA,MAAI,CAACvP,GAAL,EAAU;CAAE,WAAO,CAACuP,IAAD,CAAP;CAAgB;;CAE5B,MAAIvP,GAAG,KAAK6P,QAAZ,EAAsB;CACrB,WAAOkX,QAAQ,CAACxX,IAAI,CAACD,QAAN,EAAgBqT,GAAhB,CAAf;CACA;;CACD,MAAI,CAACxU,iBAAiB,CAACnO,GAAD,CAAtB,EAA6B;CAAE,WAAO,CAACuP,IAAD,CAAP;CAAgB;;CAC/C,QAAM;CAAE0X,IAAAA;CAAF,MAAatE,GAAnB;;CACA,MAAI9a,KAAK,CAACC,OAAN,CAAcmf,MAAd,CAAJ,EAA2B;CAC1B,QAAIA,MAAM,CAACte,QAAP,CAAgB3I,GAAhB,CAAJ,EAA0B;CAAE,aAAO,CAACuP,IAAD,CAAP;CAAgB;CAC5C,GAFD,MAEO,IAAI,OAAO0X,MAAP,KAAkB,UAAtB,EAAkC;CACxC,QAAIA,MAAM,CAACjnB,GAAD,CAAV,EAAiB;CAAE,aAAO,CAACuP,IAAD,CAAP;CAAgB;CACnC,GAFM,MAEA,IAAI0X,MAAJ,EAAY;CAClB,WAAO,CAAC1X,IAAD,CAAP;CACA;;CACD,SAAOwX,QAAQ,CAACxX,IAAI,CAACD,QAAN,EAAgBqT,GAAhB,CAAf;CACA;;CC9Bc,SAASuE,iBAAT,CAA2BhnB,CAA3B,EAA6D;CAC3E,MAAI,CAAC8P,SAAS,CAAC9P,CAAD,CAAd,EAAmB;CAAE,WAAO,KAAP;CAAe;;CACpC,QAAM;CAAEF,IAAAA;CAAF,MAAUE,CAAhB;;CACA,MAAI,OAAOF,GAAP,KAAe,QAAnB,EAA6B;CAAE,WAAO,KAAP;CAAe;;CAC9C,SAAOA,GAAG,CAAC8Q,WAAJ,OAAsB,UAA7B;CACA;;CCLc,SAASqW,eAAT,CAAyBjnB,CAAzB,EAA0C;CACxD,SAAO8P,SAAS,CAAC9P,CAAD,CAAT,IAAgBiO,iBAAiB,CAACjO,CAAC,CAACF,GAAH,CAAxC;CACA;;CCDD,MAAMonB,YAKL,GAAGjR,UAAU,CAAC;CACdhL,EAAAA,IAAI,EAAE,cADQ;CAEd3K,EAAAA,MAAM,EAAE,MAAMwO,UAAU,EAFV;;CAGdzJ,EAAAA,IAAI,CAAC0G,MAAD,EAASob,CAAT,EAAYjN,SAAZ,EAAuBkN,KAAK,GAAG,CAA/B,EAAkC;CACrC,SAAK,IAAI3f,CAAC,GAAG2f,KAAK,GAAG,CAArB,EAAwBrb,MAAM,IAAItE,CAAC,GAAG,CAAtC,EAAyCA,CAAC,EAA1C,EAA8C;CAC7C,UAAIsE,MAAM,CAACmO,SAAP,KAAqBA,SAAzB,EAAoC;CACnC,eAAOnO,MAAP;CACA;;CACDA,MAAAA,MAAM,GAAGA,MAAM,CAACX,MAAhB;CACA;CACD;;CAVa,CAAD,CALd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CCJA,MAAMic,QAAgC,GAAG;CACxCC,EAAAA,GAAG,EAAE,4BADmC;CAExCC,EAAAA,IAAI,EAAE,8BAFkC;CAGxCC,EAAAA,MAAM,EAAE;CAHgC,CAAzC;CAKA,MAAMC,OAAO,GAAG,IAAI5jB,GAAJ,CAAQ,CACvB,UADuB,EAEvB,aAFuB,EAGvB,cAHuB,EAIvB,SAJuB,EAKvB,cALuB,EAMvB,eANuB,EAOvB,kBAPuB,EAQvB,QARuB,EASvB,UATuB,EAUvB,eAVuB,EAWvB,QAXuB,EAYvB,MAZuB,EAavB,MAbuB,EAcvB,SAduB,EAevB,SAfuB,EAgBvB,eAhBuB,EAiBvB,qBAjBuB,EAkBvB,aAlBuB,EAmBvB,kBAnBuB,EAoBvB,mBApBuB,EAqBvB,mBArBuB,EAsBvB,gBAtBuB,EAuBvB,SAvBuB,EAwBvB,SAxBuB,EAyBvB,SAzBuB,EA0BvB,SA1BuB,EA2BvB,SA3BuB,EA4BvB,gBA5BuB,EA6BvB,SA7BuB,EA8BvB,SA9BuB,EA+BvB,aA/BuB,EAgCvB,cAhCuB,EAiCvB,UAjCuB,EAkCvB,cAlCuB,EAmCvB,oBAnCuB,EAoCvB,aApCuB,EAqCvB,QArCuB,EAsCvB,cAtCuB,EAuCvB,QAvCuB,EAwCvB,WAxCuB,EAyCvB,kBAzCuB,EA0CvB,gBA1CuB,EA2CvB,eA3CuB,EA4CvB,eA5CuB,EA6CvB,eA7CuB,EA8CvB,GA9CuB,EA+CvB,OA/CuB,EAgDvB,UAhDuB,EAiDvB,OAjDuB,EAkDvB,OAlDuB,EAmDvB,MAnDuB,EAoDvB,gBApDuB,EAqDvB,QArDuB,EAsDvB,MAtDuB,EAuDvB,UAvDuB,EAwDvB,eAxDuB,EAyDvB,OAzDuB,EA0DvB,MA1DuB,EA2DvB,SA3DuB,EA4DvB,SA5DuB,EA6DvB,UA7DuB,EA8DvB,gBA9DuB,EA+DvB,MA/DuB,EAgEvB,QAhEuB,EAiEvB,KAjEuB,EAkEvB,MAlEuB,EAmEvB,OAnEuB,EAoEvB,KApEuB,EAqEvB,QArEuB,EAsEvB,QAtEuB,EAuEvB,MAvEuB,EAwEvB,UAxEuB,EAyEvB,OAzEuB,EA0EvB,MA1EuB,EA2EvB,OA3EuB,EA4EvB,KA5EuB,EA6EvB,MA7EuB,EA8EvB,OA9EuB,CAAR,CAAhB;CAgFA,MAAM6jB,UAAU,GAAG,IAAI7jB,GAAJ,CAAQ,CAC1B,SAD0B,EAE1B,MAF0B,EAG1B,UAH0B,EAI1B,QAJ0B,EAK1B,SAL0B,EAM1B,OAN0B,EAO1B,QAP0B,EAQ1B,IAR0B,EAS1B,YAT0B,EAU1B,eAV0B,EAW1B,IAX0B,EAY1B,IAZ0B,EAa1B,OAb0B,EAc1B,SAd0B,EAe1B,UAf0B,EAgB1B,OAhB0B,EAiB1B,MAjB0B,EAkB1B,IAlB0B,EAmB1B,QAnB0B,EAoB1B,OApB0B,EAqB1B,QArB0B,EAsB1B,MAtB0B,EAuB1B,SAvB0B,EAwB1B,MAxB0B,EAyB1B,QAzB0B,EA0B1B,KA1B0B,EA2B1B,OA3B0B,EA4B1B,KA5B0B,EA6B1B,QA7B0B,EA8B1B,YA9B0B,EA+B1B,WA/B0B,CAAR,CAAnB;AAkCA,CAAe,SAAS4Z,eAAT,CACdkK,OADc,EAEdC,SAFc,EAGJ;CACV,QAAMjH,GAAG,GAAG,oCAAoCtb,IAApC,CAAyCsiB,OAAzC,CAAZ;CACA,QAAM7nB,GAAG,GAAG6gB,GAAG,GAAGA,GAAG,CAAC,CAAD,CAAN,GAAYgH,OAA3B;CACA,QAAME,EAAE,GAAG,CAACD,SAAS,KAAIjH,GAAJ,aAAIA,GAAJ,uBAAIA,GAAG,CAAG,CAAH,CAAP,CAAT,IACR8G,OAAO,CAAC3lB,GAAR,CAAYhC,GAAG,CAAC8Q,WAAJ,EAAZ,KAAkC,KAD1B,IAER8W,UAAU,CAAC5lB,GAAX,CAAehC,GAAG,CAAC8Q,WAAJ,EAAf,KAAqC,QAF7B,IAEyC,EAF1C,EAE8CA,WAF9C,EAAX;;CAGA,MAAI,CAACiX,EAAL,EAAS;CACR,WAAOC,QAAQ,CAACrK,aAAT,CAAuB3d,GAAvB,CAAP;CACA;;CACD,SAAOgoB,QAAQ,CAACC,eAAT,CACNF,EAAE,IAAIR,QAAN,IAAkBA,QAAQ,CAACQ,EAAD,CAA1B,IAAkCA,EAD5B,EAEN/nB,GAFM,CAAP;CAIA;;CCpIc,SAASogB,eAAT,CACdtf,QADc,EAEU;CACxB,QAAMyO,IAAI,GAAGoO,eAAa,CAAC,gBAAD,CAA1B;CACA,SAAO,CAACpO,IAAD,EAAOA,IAAI,CAAC2Y,YAAL,CAAkB;CAAEC,IAAAA,IAAI,EAAE;CAAR,GAAlB,CAAP,CAAP;CAEA;;CCTc,SAAStW,iBAAT,GAAsC;CACpD,SAAOmW,QAAQ,CAACI,aAAT,CAAuB,EAAvB,CAAP;CACA;;CCFc,SAAS3L,UAAT,CAAoBvL,IAApB,EAAwC;CACtD,SAAO8W,QAAQ,CAACK,cAAT,CAAwBnX,IAAxB,CAAP;CACA;;CCFc,SAAS4B,SAAT,CAAmBvD,IAAnB,EAA2D;CACzE,SAAOA,IAAI,CAACsD,UAAZ;CACA;;CCFc,SAASE,UAAT,CACdzH,MADc,EAEdiE,IAFc,EAGdqD,IAAiB,GAAG,IAHN,EAIP;CACPtH,EAAAA,MAAM,CAACgd,YAAP,CAAoB/Y,IAApB,EAA0BqD,IAA1B;CACA;;CCEc,SAAS2V,WAAT,CACdznB,QADc,EAEP;CACP0nB,EAAAA,OAAW,CAAC;CAAC1nB,IAAAA;CAAD,GAAD,CAAX;CACA;;CCRD,SAAS2nB,KAAT,CAAevoB,CAAf,EAAuC;CACtC,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;CAAE,WAAOA,CAAP;CAAW;;CACxC,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;CAAE,WAAO0B,MAAM,CAAC1B,CAAD,CAAb;CAAmB;;CAChD,SAAOyB,SAAP;CACA;;CAED,MAAM+mB,QAAQ,GAAG,IAAI3lB,OAAJ,EAAjB;AACA,CAAe,SAAS4lB,QAAT,CACd1jB,KADc,EAEd8R,EAFc,EAGP;CACP,QAAMlT,GAAG,GAAG6kB,QAAQ,CAACzmB,GAAT,CAAa8U,EAAb,CAAZ;CACA,QAAM1L,EAAE,GAAGod,KAAK,CAAC/iB,OAAO,CAACT,KAAK,CAACoG,EAAP,CAAP,GAAoBpG,KAAK,CAACoG,EAAN,EAApB,GAAiCpG,KAAK,CAACoG,EAAxC,CAAhB;CACAqd,EAAAA,QAAQ,CAACvmB,GAAT,CAAa4U,EAAb,EAAiB1L,EAAjB;;CACA,MAAIA,EAAE,KAAKxH,GAAX,EAAgB;CACf,QAAI,OAAOwH,EAAP,KAAc,QAAlB,EAA4B;CAC3B0L,MAAAA,EAAE,CAAC1L,EAAH,GAAQA,EAAR;CACA,KAFD,MAEO;CACN0L,MAAAA,EAAE,CAAC6R,eAAH,CAAmB,IAAnB;CACA;CACD;CACD;;CCpBM,UAAUzH,oBAAV,CACNhe,IADM,EAEQ;CACd,MAAIuC,OAAO,CAACvC,IAAD,CAAX,EAAmB;CAClB,WAAOge,oBAAkB,CAAChe,IAAI,EAAL,CAAzB;CACA;CAEA;;CACD,MAAI,CAAC0E,KAAK,CAACC,OAAN,CAAc3E,IAAd,CAAL,EAA0B;CACzB,UAAMA,IAAN;CACA;CACA;;CACD,OAAK,MAAM+O,EAAX,IAAiB/O,IAAjB,EAAuB;CACtB,WAAOge,oBAAkB,CAACjP,EAAD,CAAzB;CACA;CACD;;CAGD,SAAS2W,QAAT,CACC1lB,IADD,EAEqB;CACpB,QAAMhB,GAAG,GAAG,IAAI4B,GAAJ,EAAZ;;CACA,OAAK,MAAM7D,CAAX,IAAgBihB,oBAAkB,CAAChe,IAAD,CAAlC,EAA0C;CACzC,QAAI,CAACjD,CAAL,EAAQ;CAAE;CAAW;;CACrB,QAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;CAC1B,WAAK,IAAIwH,CAAT,IAAcxH,CAAC,CAAC4oB,KAAF,CAAQ,GAAR,EAAa7lB,MAAb,CAAoBiB,OAApB,CAAd,EAA4C;CAC3C/B,QAAAA,GAAG,CAAC6B,GAAJ,CAAQ0D,CAAR;CACA;CACD,KAJD,MAIO,IAAI,OAAOxH,CAAP,KAAa,QAAjB,EAA2B;CACjC,WAAK,MAAMwH,CAAX,IAAgBxH,CAAhB,EAAmB;CAClB,YAAI8D,GAAG,GAAG9D,CAAC,CAACwH,CAAD,CAAX;;CACA,YAAIhC,OAAO,CAAC1B,GAAD,CAAX,EAAkB;CACjBA,UAAAA,GAAG,GAAGA,GAAG,CAAC9B,KAAV;CACA;;CACD,aAAK,IAAIgQ,EAAT,IAAexK,CAAC,CAACohB,KAAF,CAAQ,GAAR,EAAa7lB,MAAb,CAAoBiB,OAApB,CAAf,EAA6C;CAC5C/B,UAAAA,GAAG,CAAC6B,GAAG,GAAG,KAAH,GAAW,QAAf,CAAH,CAA4BkO,EAA5B;CACA;CACD;CACD;CACD;;CACD,MAAI,CAAC/P,GAAG,CAACsC,IAAT,EAAe;CAAE,WAAO9C,SAAP;CAAmB;;CACpC,SAAOQ,GAAP;CACA;;CACD,SAASqS,QAAT,CACCuC,EADD,EAECgS,OAFD,EAGCC,QAHD,EAIQ;CACP,MAAID,OAAO,IAAIC,QAAf,EAAyB;CACxB,UAAM7lB,IAAI,GAAG4T,EAAE,CAACkS,YAAH,CAAgB,OAAhB,KAA4B,EAAzC;CACA,UAAMC,SAAS,GAAG,IAAInlB,GAAJ,CAAQZ,IAAI,CAAC2lB,KAAL,CAAW,GAAX,EAAgB7lB,MAAhB,CAAuBiB,OAAvB,CAAR,CAAlB;CACA8kB,IAAAA,QAAQ,CAAC3lB,OAAT,CAAiByR,CAAC,IAAIoU,SAAS,CAAC1kB,MAAV,CAAiBsQ,CAAjB,CAAtB;CACAiU,IAAAA,OAAO,CAAC1lB,OAAR,CAAgByR,CAAC,IAAIoU,SAAS,CAACllB,GAAV,CAAc8Q,CAAd,CAArB;CACAiC,IAAAA,EAAE,CAACoS,YAAH,CAAgB,OAAhB,EAAyB,CAAC,GAAGD,SAAJ,EAAeE,IAAf,CAAoB,GAApB,CAAzB;CACA,GAND,MAMO,IAAIL,OAAJ,EAAa;CACnBhS,IAAAA,EAAE,CAACoS,YAAH,CAAgB,OAAhB,EAAyB,CAAC,GAAGJ,OAAJ,EAAaK,IAAb,CAAkB,GAAlB,CAAzB;CACA,GAFM,MAEA,IAAIJ,QAAJ,EAAc;CACpBjS,IAAAA,EAAE,CAAC6R,eAAH,CAAmB,OAAnB;CACA;CACD;;CAED,MAAMF,UAAQ,GAAG,IAAI3lB,OAAJ,EAAjB;AACA,CAAe,SAASsmB,WAAT,CACdpkB,KADc,EAEd8R,EAFc,EAGP;CACP,QAAMlT,GAAG,GAAG6kB,UAAQ,CAACzmB,GAAT,CAAa8U,EAAb,CAAZ;CACA,QAAMgS,OAAO,GAAGF,QAAQ,CAACnjB,OAAO,CAACT,KAAK,CAACqkB,KAAP,CAAP,GAAuBrkB,KAAK,CAACqkB,KAAN,EAAvB,GAAuCrkB,KAAK,CAACqkB,KAA9C,CAAxB;CACA9U,EAAAA,QAAM,CAACuC,EAAD,EAAKgS,OAAL,EAAcllB,GAAd,CAAN;CACA6kB,EAAAA,UAAQ,CAACvmB,GAAT,CAAa4U,EAAb,EAAiBgS,OAAjB;CACA;;CCvED,MAAMQ,IAA4B,GAAG;CACpC,WAAS,IAD2B;CAEpC,YAAU,IAF0B;CAGpC,SAAO,IAH6B;CAIpC,WAAS,IAJ2B;CAKpC,YAAU,IAL0B;CAMpC,UAAQ,IAN4B;CAOpC,YAAU,IAP0B;CAQpC,gBAAc,IARsB;CASpC,kBAAgB,IAToB;CAUpC,iBAAe,IAVqB;CAWpC,mBAAiB,IAXmB;CAYpC,kBAAgB,IAZoB;CAapC,sBAAoB,IAbgB;CAcpC,wBAAsB,IAdc;CAepC,uBAAqB,IAfe;CAgBpC,yBAAuB,IAhBa;CAiBpC,mBAAiB,IAjBmB;CAkBpC,4BAA0B,IAlBU;CAmBpC,6BAA2B,IAnBS;CAoBpC,+BAA6B,IApBO;CAqBpC,gCAA8B,IArBM;CAsBpC,aAAW,IAtByB;CAuBpC,iBAAe,IAvBqB;CAwBpC,mBAAiB,IAxBmB;CAyBpC,kBAAgB,IAzBoB;CA0BpC,oBAAkB,IA1BkB;CA2BpC,YAAU,IA3B0B;CA4BpC,gBAAc,IA5BsB;CA6BpC,kBAAgB,IA7BoB;CA8BpC,iBAAe,IA9BqB;CA+BpC,mBAAiB;CA/BmB,CAArC;;CAiCA,SAASC,QAAT,CACCC,KADD,EAEqB;CACpB,MAAI/jB,OAAO,CAAC+jB,KAAD,CAAX,EAAoB;CAAEA,IAAAA,KAAK,GAAGA,KAAK,EAAb;CAAkB;;CACxC,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;CAAE,WAAOA,KAAP;CAAe;;CAChD,MAAI,CAACA,KAAL,EAAY;CAAE,WAAO9nB,SAAP;CAAmB;;CACjC,MAAI,OAAO8nB,KAAP,KAAiB,QAArB,EAA+B;CAAE,WAAO9nB,SAAP;CAAmB;;CACpD,QAAM+nB,GAAsD,GAC3DnpB,MAAM,CAACC,MAAP,CAAc,IAAd,CADD;;CAEA,OAAK,IAAIkH,CAAT,IAAc+hB,KAAd,EAAqB;CACpB,QAAIvnB,KAAK,GAAGunB,KAAK,CAAC/hB,CAAD,CAAjB;;CACA,QAAIhC,OAAO,CAACxD,KAAD,CAAX,EAAoB;CAAEA,MAAAA,KAAK,GAAGA,KAAK,EAAb;CAAkB;;CACxC,UAAMH,GAAG,GAAG2F,CAAC,CAACoS,MAAF,CAAS,CAAT,EAAY,CAAZ,MAAmB,IAAnB,GAA0BpS,CAA1B,GACTA,CAAC,CAACoe,OAAF,CAAU,QAAV,EAAoB,KAApB,EACAA,OADA,CACQ,KADR,EACe,GADf,EAEAhV,WAFA,EADH;;CAIA,QAAI,OAAO5O,KAAP,KAAiB,QAArB,EAA+B;CAC9B,YAAMynB,GAAG,GAAGznB,KAAK,IAAIwF,CAAC,IAAI6hB,IAAd,GACR,GAAGrnB,KAAO,GAAGqnB,IAAI,CAAC7hB,CAAD,CAAK,EADd,GAER,GAAGxF,KAAO,EAFd;CAGAwnB,MAAAA,GAAG,CAAC3nB,GAAD,CAAH,GAAW,CAAC4nB,GAAD,EAAMhoB,SAAN,CAAX;CACA,KALD,MAKO,IAAIO,KAAK,IAAI,OAAOA,KAAP,KAAiB,QAA9B,EAAwC;CAC9C,YAAMhC,CAAC,GAAGgC,KAAK,CAAC4jB,OAAN,CAAc,gBAAd,EAAgC,EAAhC,CAAV;CACA4D,MAAAA,GAAG,CAAC3nB,GAAD,CAAH,GAAW,CAAC7B,CAAD,EAAIA,CAAC,KAAKgC,KAAN,GAAcP,SAAd,GAA0B,WAA9B,CAAX;CACA;CACD;;CACD,SAAO+nB,GAAP;CACA;;CAED,SAASlV,QAAT,CACCkV,GADD,EAECD,KAFD,EAGCG,MAHD,EAIQ;CACP,MAAI,CAACH,KAAL,EAAY;CACX,QAAI,CAACG,MAAL,EAAa;CAAE;CAAS;;CACxB,QAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;CAC/BF,MAAAA,GAAG,CAACG,OAAJ,GAAc,EAAd;CACA;CACA;;CACD,SAAK,MAAMniB,CAAX,IAAgBnH,MAAM,CAAC2H,IAAP,CAAY0hB,MAAZ,CAAhB,EAAqC;CACpCF,MAAAA,GAAG,CAACI,cAAJ,CAAmBpiB,CAAnB;CACA;;CACD;CACA;;CAED,MAAI,OAAO+hB,KAAP,KAAiB,QAArB,EAA+B;CAC9B,QAAIA,KAAK,KAAK,OAAOG,MAArB,EAA6B;CAC5BF,MAAAA,GAAG,CAACG,OAAJ,GAAcJ,KAAd;CACA;;CACD;CACA;;CACD,MAAI,CAACG,MAAD,IAAW,OAAOA,MAAP,KAAkB,QAAjC,EAA2C;CAC1C,QAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;CAC/BF,MAAAA,GAAG,CAACG,OAAJ,GAAc,EAAd;CACA;;CACD,SAAK,MAAMniB,CAAX,IAAgBnH,MAAM,CAAC2H,IAAP,CAAYuhB,KAAZ,CAAhB,EAAoC;CACnCC,MAAAA,GAAG,CAACK,WAAJ,CAAgBriB,CAAhB,EAAmB,GAAG+hB,KAAK,CAAC/hB,CAAD,CAA3B;CACA;;CACD;CACA;;CAED,OAAK,MAAMA,CAAX,IAAgBnH,MAAM,CAAC2H,IAAP,CAAYuhB,KAAZ,CAAhB,EAAoC;CACnC,UAAMvpB,CAAC,GAAGupB,KAAK,CAAC/hB,CAAD,CAAf;;CACA,QACC,CAACkiB,MAAM,CAACliB,CAAD,CAAP,IACGkiB,MAAM,CAACliB,CAAD,CAAN,CAAU,CAAV,MAAiBxH,CAAC,CAAC,CAAD,CADrB,IAEG0pB,MAAM,CAACliB,CAAD,CAAN,CAAU,CAAV,MAAiBxH,CAAC,CAAC,CAAD,CAHtB,EAIE;CACDwpB,MAAAA,GAAG,CAACK,WAAJ,CAAgBriB,CAAhB,EAAmB,GAAGxH,CAAtB;CACA;CACD;;CACD,OAAK,MAAMwH,CAAX,IAAgBnH,MAAM,CAAC2H,IAAP,CAAY0hB,MAAZ,CAAhB,EAAqC;CACpC,QAAI,CAACH,KAAK,CAAC/hB,CAAD,CAAV,EAAe;CACdgiB,MAAAA,GAAG,CAACI,cAAJ,CAAmBpiB,CAAnB;CACA;CACD;CACD;;CACD,MAAMghB,UAAQ,GAAG,IAAI3lB,OAAJ,EAAjB;AACA,CAAe,SAASinB,WAAT,CACd/kB,KADc,EAEd8R,EAFc,EAGd2S,GAHc,EAIdO,QAJc,EAKM;CACpB,MAAI,CAACA,QAAL,EAAe;CAAE,WAAOtoB,SAAP;CAAmB;;CACpC,QAAMkC,GAAG,GAAG6kB,UAAQ,CAACzmB,GAAT,CAAa8U,EAAb,CAAZ;CAEA,QAAM0S,KAAK,GAAGD,QAAQ,CACrB9jB,OAAO,CAACT,KAAK,CAACwkB,KAAP,CAAP,GAAuBxkB,KAAK,CAACwkB,KAAN,EAAvB,GAAuCxkB,KAAK,CAACwkB,KADxB,CAAtB;CAGAjV,EAAAA,QAAM,CAACkV,GAAD,EAAMD,KAAN,EAAa5lB,GAAb,CAAN;CACA6kB,EAAAA,UAAQ,CAACvmB,GAAT,CAAa4U,EAAb,EAAiB0S,KAAjB;CACA,SAAOA,KAAP;CACA;;CCnID;AACA,CAIO,SAASS,QAAT,CACNnT,EADM,EAEN1H,KAFM,EAGC;CACP,MAAI0H,EAAE,YAAYoT,gBAAd,IAAkC,aAAa9a,KAAnD,EAA0D;CACzD,YAAQ0H,EAAE,CAACrW,IAAH,CAAQoQ,WAAR,EAAR;CACC,WAAK,UAAL;CACA,WAAK,OAAL;CACC,YAAKzB,KAAK,CAAC+a,OAAN,KAAkB,IAAnB,KAA6BrT,EAAE,CAACqT,OAApC,EAA6C;CAC5CrT,UAAAA,EAAE,CAACqT,OAAH,GAAa/a,KAAK,CAAC+a,OAAN,KAAkB,IAA/B;CACA;;CALH;CAOA;;CACD,MAAI,CACHrT,EAAE,YAAYsT,iBAAd,IACGtT,EAAE,YAAYoT,gBADjB,IAEGpT,EAAE,YAAYuT,mBAHd,KAIC,WAAWjb,KAJhB,EAIuB;CACtB,UAAMnN,KAAK,GAAGmN,KAAK,CAACnN,KAAN,IAAe,EAA7B;;CACA,QAAI6U,EAAE,CAAC7U,KAAH,KAAaA,KAAjB,EAAwB;CACvB6U,MAAAA,EAAE,CAAC7U,KAAH,GAAWA,KAAX;CACA;CACD;;CACD,MAAK6U,EAAE,YAAYwT,kBAAf,IAAsC,UAAUlb,KAApD,EAA2D;CAC1D,UAAMnN,KAAK,GAAGmN,KAAK,CAACmb,IAAN,KAAe,IAA7B;;CACA,QAAIzT,EAAE,CAACyT,IAAH,KAAYtoB,KAAhB,EAAuB;CACtB6U,MAAAA,EAAE,CAACyT,IAAH,GAAUtoB,KAAV;CACA;CACD;;CACD,MAAI6U,EAAE,YAAY0T,gBAAlB,EAAoC;CACnC,QAAI,WAAWpb,KAAf,EAAsB;CACrB,YAAMnN,KAAK,GAAGmN,KAAK,CAACqb,KAAN,KAAgB,IAA9B;;CACA,UAAI3T,EAAE,CAAC2T,KAAH,KAAaxoB,KAAjB,EAAwB;CACvB6U,QAAAA,EAAE,CAAC2T,KAAH,GAAWxoB,KAAX;CACA;CACD;;CACD,QAAI,YAAYmN,KAAhB,EAAuB;CACtB,YAAMnN,KAAK,GAAGmN,KAAK,CAACsb,MAAN,KAAiB,IAA/B;;CACA,UAAI5T,EAAE,CAAC4T,MAAH,KAAczoB,KAAlB,EAAyB;CACxB,YAAIA,KAAJ,EAAW;CACV6U,UAAAA,EAAE,CAAC6T,KAAH;CACA,SAFD,MAEO;CACN7T,UAAAA,EAAE,CAAC8T,IAAH;CACA;CACD;CACD;;CACD,QAAI,iBAAiBxb,KAArB,EAA4B;CAC3B,YAAMnN,KAAK,GAAGmN,KAAK,CAACyb,WAApB;;CACA,UAAI5oB,KAAK,IAAI,gBAAgBoY,IAAhB,CAAqBpY,KAArB,CAAb,EAA0C;CACzC,cAAM6oB,GAAG,GAAG9kB,MAAM,CAAC/D,KAAD,CAAlB;;CACA,YAAI6U,EAAE,CAAC+T,WAAH,KAAmBC,GAAvB,EAA4B;CAC3BhU,UAAAA,EAAE,CAAC+T,WAAH,GAAiBC,GAAjB;CACA;CACD;CACD;;CACD,QAAI,kBAAkB1b,KAAtB,EAA6B;CAC5B,YAAMnN,KAAK,GAAGmN,KAAK,CAAC2b,YAApB;;CACA,UAAI9oB,KAAK,IAAI,gBAAgBoY,IAAhB,CAAqBpY,KAArB,CAAb,EAA0C;CACzC,cAAM6oB,GAAG,GAAG9kB,MAAM,CAAC/D,KAAD,CAAlB;;CACA,YAAI6U,EAAE,CAACiU,YAAH,KAAoBD,GAAxB,EAA6B;CAC5BhU,UAAAA,EAAE,CAACiU,YAAH,GAAkBD,GAAlB;CACA;CACD;CACD;;CACD,QAAI,YAAY1b,KAAhB,EAAuB;CACtB,YAAMnN,KAAK,GAAGmN,KAAK,CAAC4b,MAApB;;CACA,UAAI/oB,KAAK,IAAI,gBAAgBoY,IAAhB,CAAqBpY,KAArB,CAAb,EAA0C;CACzC,cAAM6oB,GAAG,GAAG9kB,MAAM,CAAC/D,KAAD,CAAlB;;CACA,YAAI6U,EAAE,CAACkU,MAAH,KAAcF,GAAlB,EAAuB;CACtBhU,UAAAA,EAAE,CAACkU,MAAH,GAAYF,GAAZ;CACA;CACD;CACD;CACD;CACD;;CAED,SAASG,SAAT,CACCtf,IADD,EAECuf,IAAI,GAAG,KAFR,EAG6B;CAC5B,MAAIvf,IAAI,KAAKjK,SAAT,IAAsBiK,IAAI,KAAK,IAAnC,EAAyC;CAAE,WAAOA,IAAP;CAAc;;CACzD,MAAIuf,IAAI,IAAI,OAAOvf,IAAP,KAAgB,UAA5B,EAAwC;CAAE,WAAOjK,SAAP;CAAmB;;CAC7D,MAAI,OAAOiK,IAAP,KAAgB,SAApB,EAA+B;CAAE,WAAOA,IAAI,GAAG,EAAH,GAAQ,IAAnB;CAA0B;;CAC3D,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;CAAE,WAAOhK,MAAM,CAACgK,IAAD,CAAb;CAAsB;;CACtD,MAAIA,IAAI,YAAYiQ,IAApB,EAA0B;CACzB,WAAOjQ,IAAI,CAACkQ,WAAL,EAAP;CACA;;CACD,MAAIlQ,IAAI,YAAYmQ,MAApB,EAA4B;CAC3B,WAAOnQ,IAAI,CAAC/F,QAAL,EAAP;CACA;;CACD,SAAOulB,IAAI,CAACF,SAAL,CAAetf,IAAf,CAAP;CACA;;CACD,SAASyf,QAAT,CACCpmB,KADD,EAECglB,QAFD,EAGS;CACR,QAAM5a,KAAY,GAAG9O,MAAM,CAACC,MAAP,CAAc,IAAd,CAArB;;CACA,OAAK,MAAMkH,CAAX,IAAgBzC,KAAhB,EAAuB;CACtB,QAAI,wBAAwBqV,IAAxB,CAA6B5S,CAA7B,CAAJ,EAAqC;CAAE;CAAW;;CAClD,QAAI,CAAC,8BAA8B4S,IAA9B,CAAmC5S,CAAnC,CAAL,EAA4C;CAAE;CAAW;;CACzD,UAAMyD,IAAI,GAAGzD,CAAC,CACZoJ,WADW,EAAb;;CAEA,YAAQ3F,IAAR;CACC,WAAK,OAAL;CACC,YAAI,CAAC8e,QAAL,EAAe;CAAE;CAAQ;;CAC1B,WAAK,KAAL;CACA,WAAK,IAAL;CACA,WAAK,IAAL;CACA,WAAK,OAAL;CACC;CAPF;;CASA,QAAIre,IAAI,GAAG3G,KAAK,CAACyC,CAAD,CAAhB;;CACA,QAAIhC,OAAO,CAACkG,IAAD,CAAX,EAAmB;CAAEA,MAAAA,IAAI,GAAGA,IAAI,EAAX;CAAgB;;CACrC,UAAM1J,KAAK,GAAGgpB,SAAS,CAACtf,IAAD,EAAOT,IAAI,CAAC2O,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,IAA7B,CAAvB;;CACA,QAAI5X,KAAK,KAAKP,SAAd,EAAyB;CAAE0N,MAAAA,KAAK,CAAClE,IAAD,CAAL,GAAcjJ,KAAd;CAAsB;CACjD;;CACD,SAAOmN,KAAP;CACA;;CACD,SAASmF,QAAT,CACCuC,EADD,EAEC1H,KAFD,EAGCxL,GAHD,EAIQ;CACP,OAAK,MAAM6D,CAAX,IAAgBnH,MAAM,CAAC2H,IAAP,CAAYmH,KAAZ,CAAhB,EAAoC;CACnC,UAAMnP,CAAC,GAAGmP,KAAK,CAAC3H,CAAD,CAAf;;CACA,QAAI,EAAEA,CAAC,IAAI7D,GAAP,KAAeA,GAAG,CAAC6D,CAAD,CAAH,KAAWxH,CAA9B,EAAiC;CAChC,UAAIA,CAAC,KAAK,IAAV,EAAgB;CACf6W,QAAAA,EAAE,CAAC6R,eAAH,CAAmBlhB,CAAnB;CACA,OAFD,MAEO;CACNqP,QAAAA,EAAE,CAACoS,YAAH,CAAgBzhB,CAAhB,EAAmBxH,CAAnB;CACA;CACD;CACD;;CACD,OAAK,MAAMwH,CAAX,IAAgBnH,MAAM,CAAC2H,IAAP,CAAYrE,GAAZ,CAAhB,EAAkC;CACjC,QAAI,EAAE6D,CAAC,IAAI2H,KAAP,CAAJ,EAAmB;CAClB0H,MAAAA,EAAE,CAAC6R,eAAH,CAAmBlhB,CAAnB;CACA;CACD;CACD;;CAED,MAAMghB,UAAQ,GAAG,IAAI3lB,OAAJ,EAAjB;AACA,CAAe,SAASuoB,WAAT,CACdrmB,KADc,EAEd8R,EAFc,EAGdkT,QAHc,EAIP;CACP,QAAMpmB,GAAG,GAAG6kB,UAAQ,CAACzmB,GAAT,CAAa8U,EAAb,KAAoB,EAAhC;CACA,QAAM1H,KAAK,GAAGgc,QAAQ,CAACpmB,KAAD,EAAQglB,QAAR,CAAtB;CACAzV,EAAAA,QAAM,CAACuC,EAAD,EAAK1H,KAAL,EAAYxL,GAAZ,CAAN;CACAqmB,EAAAA,QAAQ,CAACnT,EAAD,EAAK1H,KAAL,CAAR;CACAqZ,EAAAA,UAAQ,CAACvmB,GAAT,CAAa4U,EAAb,EAAiB1H,KAAjB;CACA;;CCxJD,UAAUkc,eAAV,CAA0BxU,EAA1B,EAAsF;CACrF,MAAIA,EAAE,YAAYoT,gBAAlB,EAAoC;CACnC,YAAQpT,EAAE,CAACrW,IAAH,CAAQoQ,WAAR,EAAR;CACC,WAAK,UAAL;CACC,cAAM,CACL,eADK,EACY,QADZ,EAELxP,CAAC,IAAKA,CAAC,CAACkqB,aAAH,CAAsCC,aAFtC,CAAN;CAIA,eAAO,MAAM,CACZ,SADY,EACD,QADC,EAEZnqB,CAAC,IAAKA,CAAC,CAACkqB,aAAH,CAAsCpB,OAF/B,CAAb;;CAID,WAAK,OAAL;CACC,eAAO,MAAM,CACZ,SADY,EACD,QADC,EAEZ9oB,CAAC,IAAKA,CAAC,CAACkqB,aAAH,CAAsCpB,OAF/B,CAAb;CAXF;;CAgBA,WAAO,MAAM,CACZ,OADY,EACH,OADG,EAEZ9oB,CAAC,IAAKA,CAAC,CAACkqB,aAAH,CAAsCtpB,KAF/B,CAAb;CAIA;;CACD,MAAI6U,EAAE,YAAYuT,mBAAlB,EAAuC;CACtC,WAAO,MAAM,CACZ,OADY,EACH,OADG,EAEZhpB,CAAC,IAAKA,CAAC,CAACkqB,aAAH,CAAyCtpB,KAFlC,CAAb;CAIA;;CACD,MAAI6U,EAAE,YAAYsT,iBAAlB,EAAqC;CACpC,WAAO,MAAM,CACZ,OADY,EACH,QADG,EAEZ/oB,CAAC,IAAKA,CAAC,CAACkqB,aAAH,CAAuCtpB,KAFhC,CAAb;CAIA;;CACD,MAAI6U,EAAE,YAAYwT,kBAAlB,EAAsC;CACrC,WAAO,MAAM,CACZ,MADY,EACJ,QADI,EAEZjpB,CAAC,IAAKA,CAAC,CAACkqB,aAAH,CAAwChB,IAFjC,CAAb;CAIA;;CACD,MAAIzT,EAAE,YAAY0T,gBAAlB,EAAoC;CACnC,UAAM,CACL,aADK,EACU,YADV,EAELnpB,CAAC,IAAKA,CAAC,CAACkqB,aAAH,CAAsCV,WAFtC,CAAN;CAIA,UAAM,CACL,cADK,EACW,YADX,EAELxpB,CAAC,IAAKA,CAAC,CAACkqB,aAAH,CAAsCR,YAFtC,CAAN;CAIA,UAAM,CACL,QADK,EACK,cADL,EAEL1pB,CAAC,IAAKA,CAAC,CAACkqB,aAAH,CAAsCP,MAFtC,CAAN;CAIA,UAAM,CACL,OADK,EACI,cADJ,EAEL3pB,CAAC,IAAKA,CAAC,CAACkqB,aAAH,CAAsCd,KAFtC,CAAN;CAIA,UAAM,CACL,QADK,EACK,SADL,EAELppB,CAAC,IAAKA,CAAC,CAACkqB,aAAH,CAAsCb,MAFtC,CAAN;CAIA,WAAO,MAAM,CACZ,QADY,EACF,OADE,EAEZrpB,CAAC,IAAKA,CAAC,CAACkqB,aAAH,CAAsCb,MAF/B,CAAb;CAIA;CAED;;CAID,MAAMe,aAAa,GAAG,IAAI3oB,OAAJ,EAAtB;;CAEA,SAAS4oB,iBAAT,CAA2B5U,EAA3B,EAAwD;CACvD,MAAI5T,IAAI,GAAGuoB,aAAa,CAACzpB,GAAd,CAAkB8U,EAAlB,CAAX;;CACA,MAAI5T,IAAJ,EAAU;CAAE,WAAOA,IAAP;CAAc;;CAC1BA,EAAAA,IAAI,GAAG5C,MAAM,CAACC,MAAP,CAAc,IAAd,CAAP;CACAkrB,EAAAA,aAAa,CAACvpB,GAAd,CAAkB4U,EAAlB,EAAsB5T,IAAtB;CACA,SAAOA,IAAP;CACA;;CAGD,MAAMyoB,OAAO,GAAG,IAAI7oB,OAAJ,EAAhB;;CACA,SAAS8oB,YAAT,CAAsB9U,EAAtB,EAA+D;CAC9D,MAAI5T,IAAI,GAAGyoB,OAAO,CAAC3pB,GAAR,CAAY8U,EAAZ,CAAX;;CACA,MAAI5T,IAAJ,EAAU;CAAE,WAAOA,IAAP;CAAc;;CAC1BA,EAAAA,IAAI,GAAG5C,MAAM,CAACC,MAAP,CAAc,IAAd,CAAP;CACAorB,EAAAA,OAAO,CAACzpB,GAAR,CAAY4U,EAAZ,EAAgB5T,IAAhB;CACA,SAAOA,IAAP;CACA;;AAED,CAAe,SAAS2oB,WAAT,CACd7mB,KADc,EAEd8R,EAFc,EAGda,IAHc,EAIP;CACP,QAAMmU,aAAa,GAAGJ,iBAAiB,CAAC5U,EAAD,CAAvC;;CACA,OAAK,MAAM,CAACrV,IAAD,EAAOyJ,IAAP,EAAa/H,CAAb,CAAX,IAA8BmoB,eAAe,CAACxU,EAAD,CAA7C,EAAmD;CAClD,UAAM7U,KAAK,GAAG+C,KAAK,CAACvD,IAAD,CAAnB;CACA,UAAM4C,IAAI,GAAGynB,aAAa,CAACrqB,IAAD,CAA1B;;CACA,QAAI4C,IAAI,IAAIA,IAAI,CAAC,CAAD,CAAJ,KAAYpC,KAAxB,EAA+B;CAAE;CAAW;;CAC5C,QAAIoC,IAAJ,EAAU;CAAEA,MAAAA,IAAI,CAAC,CAAD,CAAJ;CAAY;;CACxB,QAAI,CAACoB,OAAO,CAACxD,KAAD,CAAZ,EAAqB;CAAE;CAAW;;CAClC,UAAMyB,CAAC,GAAIrC,CAAD,IAAoB;CAAEY,MAAAA,KAAK,CAACkB,CAAC,CAAC9B,CAAD,CAAF,CAAL;CAAc,KAA9C;;CACAyV,IAAAA,EAAE,CAACiV,gBAAH,CAAoB7gB,IAApB,EAA0BxH,CAA1B;CACAooB,IAAAA,aAAa,CAAC5gB,IAAD,CAAb,GAAsB,CAACjJ,KAAD,EAAQ,MAAM6U,EAAE,CAACkV,mBAAH,CAAuB9gB,IAAvB,EAA6BxH,CAA7B,CAAd,CAAtB;CACA;;CAED,QAAM2U,KAAK,GAAG,IAAIvU,GAAJ,CAAQ6T,IAAI,CAACU,KAAL,CAAWxW,GAAX,CAAeF,MAAf,CAAR,CAAd;CACA,QAAMsqB,SAAS,GAAGL,YAAY,CAAC9U,EAAD,CAA9B;;CACA,OAAK,MAAMrP,CAAX,IAAgBnH,MAAM,CAAC2H,IAAP,CAAYgkB,SAAZ,CAAhB,EAAwC;CACvC,QAAI5T,KAAK,CAACtW,GAAN,CAAU0F,CAAV,CAAJ,EAAkB;CAAE;CAAW;;CAC/BwkB,IAAAA,SAAS,CAACxkB,CAAD,CAAT;CACA,WAAOwkB,SAAS,CAACxkB,CAAD,CAAhB;CACA;;CACD,OAAK,MAAMA,CAAX,IAAgB4Q,KAAhB,EAAuB;CACtB,QAAI5Q,CAAC,IAAIwkB,SAAT,EAAoB;CAAE;CAAW;;CACjC,UAAMvoB,CAAC,GAAItC,CAAD,IAAqBuW,IAAI,CAAClQ,CAAD,EAAIrG,CAAJ,CAAnC;;CACA0V,IAAAA,EAAE,CAACiV,gBAAH,CAAoBtkB,CAApB,EAAuB/D,CAAvB;;CACAuoB,IAAAA,SAAS,CAACxkB,CAAD,CAAT,GAAe,MAAM;CACpBqP,MAAAA,EAAE,CAACkV,mBAAH,CAAuBvkB,CAAvB,EAA0B/D,CAA1B;CACA,KAFD;CAGA;CACD;;CCzHc,SAASma,WAAT,CACdhd,QADc,EAEdiW,EAFc,EAGd9R,KAHc,EAId2S,IAJc,EAKJ;CACV,QAAM8R,GAAG,GAAI3S,EAAD,CAAY0S,KAAxB;CACA,QAAMQ,QAAQ,GAAGP,GAAG,YAAYyC,mBAAhC;CACAxD,EAAAA,QAAQ,CAAC1jB,KAAD,EAAQ8R,EAAR,CAAR;CACAsS,EAAAA,WAAW,CAACpkB,KAAD,EAAQ8R,EAAR,CAAX;CACAuU,EAAAA,WAAW,CAACrmB,KAAD,EAAQ8R,EAAR,EAAYkT,QAAZ,CAAX;CACAD,EAAAA,WAAW,CAAC/kB,KAAD,EAAQ8R,EAAR,EAAY2S,GAAZ,EAAiBO,QAAjB,CAAX;CACA6B,EAAAA,WAAW,CAAC7mB,KAAD,EAAQ8R,EAAR,EAAYa,IAAZ,CAAX;CACA,SAAOb,EAAP;CACA;;CCrBc,SAAS3W,WAAT,CAAmBuD,CAAnB,EAAwC;CACtDyoB,EAAAA,MAAM,CAACC,qBAAP,CAA6B1oB,CAA7B;CACA;;CCCc,SAAS2oB,SAAT,CACdxrB,QADc,EAEd4U,SAFc,EAGdjU,MAHc,EAId6J,MAJc,EAKe;CAC7B,MAAI5F,OAAO,CAACjE,MAAD,CAAX,EAAoB;CAAEA,IAAAA,MAAM,GAAGA,MAAM,CAACS,KAAhB;CAAwB;;CAC9C,MAAIT,MAAM,KAAK,IAAf,EAAqB;CACpB,WAAO;CACNA,MAAAA,MAAM,EAAEiU,SADF;CAENoN,MAAAA,MAAM,EAAE,IAFF;CAGNlQ,MAAAA,IAAI,EAAE;CAHA,KAAP;CAKC;;CACF,MAAI,OAAOnR,MAAP,KAAkB,QAAtB,EAAgC;CAC/BA,IAAAA,MAAM,GAAGumB,QAAQ,CAACuE,aAAT,CAAuB9qB,MAAvB,CAAT;CACA;;CACD,MAAIA,MAAM,YAAY+qB,OAAtB,EAA+B;CAC9B,WAAO;CACN/qB,MAAAA,MADM;CAENqhB,MAAAA,MAAM,EAAE,IAFF;CAGNlQ,MAAAA,IAAI,EAAE;CAHA,KAAP;CAKA;;CACD,SAAO;CACNnR,IAAAA,MAAM,EAAE,IADF;CAENqhB,IAAAA,MAAM,EAAE,IAFF;CAGNlQ,IAAAA,IAAI,EAAE;CAHA,GAAP;CAMA;;CC5Bc,SAASmQ,cAAT,CACdjiB,QADc,EAEd2rB,OAFc,EAGd;CAAChrB,EAAAA,MAAM,EAAEirB,WAAT;CAAsB,KAAGznB;CAAzB,CAHc,EAId2S,IAJc,EAKdtM,MALc,EAMc;CAC5B,QAAMoK,SAAS,GAAGiI,eAAa,CAAC,KAAD,CAA/B;CACAG,EAAAA,WAAW,CAAChd,QAAD,EAAW4U,SAAX,EAAsB,CAAA+W,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAExnB,KAAT,KAAkBA,KAAxC,EAA+C2S,IAA/C,CAAX;CACA,SAAO,EACN,GAAG0U,SAAS,CAACxrB,QAAD,EAAW4U,SAAX,EAAsBgX,WAAtB,AAAA,CADN;CAENhX,IAAAA,SAFM;CAGNuH,IAAAA,OAAO,EAAE;CAHH,GAAP;CAKA;;CCjBc,SAAS2G,gBAAT,CACd9iB,QADc,EAEd4U,SAFc,EAGdnG,IAHc,EAIP;CACP,MAAIA,IAAI,KAAK,IAAb,EAAmB;CACjBmG,IAAAA,SAAD,CAA8BiX,MAA9B;CACA;CACD;;CCNc,SAASlJ,eAAT,CACd3iB,QADc,EAEd4U,SAFc,EAGd+W,OAHc,EAId;CAAChrB,EAAAA,MAAD;CAAS,KAAGwD;CAAZ,CAJc,EAKd2S,IALc,EAMdtM,MANc,EAOe;CAC7BkJ,EAAAA,WAAM,CAAC1T,QAAD,EAAW4U,SAAX,EAAsB,CAAA+W,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAExnB,KAAT,KAAkBA,KAAxC,EAA+C2S,IAA/C,CAAN;CACA,SAAO0U,SAAS,CAACxrB,QAAD,EAAW4U,SAAX,EAAsBjU,MAAtB,AAAA,CAAhB;CACA;;CCZc,SAAS6Q,UAAT,CACdxR,QADc,EAEdyO,IAFc,EAGP;CACP,QAAMlO,CAAC,GAAGP,QAAQ,CAACgS,SAAT,CAAmBvD,IAAnB,CAAV;;CACA,MAAI,CAAClO,CAAL,EAAQ;CAAE;CAAS;;CACnBA,EAAAA,CAAC,CAACurB,WAAF,CAAcrd,IAAd;CACA;;CCPc,SAASgT,YAAT,CACdzhB,QADc,EAEd4U,SAFc,EAGdjU,MAHc,EAIdmR,IAJc,EAKqB;CACnC,MAAI,OAAOnR,MAAP,KAAkB,QAAtB,EAAgC;CAC/BA,IAAAA,MAAM,GAAGumB,QAAQ,CAACuE,aAAT,CAAuB9qB,MAAvB,CAAT;CACA;;CACD,MAAIA,MAAM,KAAK,IAAf,EAAqB;CAAE,WAAO,CAAC,IAAD,EAAO,IAAP,CAAP;CAAsB;;CAC7C,MAAI,EAAEA,MAAM,YAAY+qB,OAApB,CAAJ,EAAkC;CACjC/qB,IAAAA,MAAM,GAAGumB,QAAQ,CAAC6E,IAAlB;CACA;;CACD,MAAI,OAAOja,IAAP,KAAgB,QAApB,EAA8B;CAC7BA,IAAAA,IAAI,GAAGoV,QAAQ,CAACuE,aAAT,CAAuB3Z,IAAvB,CAAP;CACA;;CACD,MAAI,EAAEA,IAAI,YAAY4Z,OAAlB,KAA8B5Z,IAAI,CAACka,aAAL,KAAuBrrB,MAAzD,EAAiE;CAChEmR,IAAAA,IAAI,GAAG,IAAP;CACA;;CACD,SAAO,CAACnR,MAAD,EAASmR,IAAT,CAAP;CACA;;CCPD,MAAM9R,QAAwB,GAAG;CAChCJ,EAAAA,IAAI,EAAE,MAD0B;CAEhCN,aAAAA,WAFgC;;CAGhC0W,EAAAA,MAAM,CAAC5W,CAAD,EAA0B;CAC/B,WAAOA,CAAC,YAAY6sB,IAApB;CACA,GAL+B;;CAMhCxK,EAAAA,YAAY,CAAC7M,SAAD,EAAYjU,MAAZ,EAAoBmR,IAApB,EAA0B;CACrC,WAAO2P,YAAY,CAAC,IAAD,EAAO7M,SAAP,EAAyBjU,MAAzB,EAAiCmR,IAAjC,CAAnB;CACA,GAR+B;;CAShCmQ,EAAAA,cAAc,CAACnX,IAAD,EAAO3G,KAAP,EAAc2S,IAAd,EAAoBtM,MAApB,EAA4B;CACzC,WAAOyX,cAAc,CAAC,IAAD,EAAOnX,IAAP,EAAa3G,KAAb,EAAoB2S,IAApB,AAAA,CAArB;CACA,GAX+B;;CAYhC6L,EAAAA,eAAe,CAAC/N,SAAD,EAAYjU,MAAZ,EAAoBqhB,MAApB,EAA4BlQ,IAA5B,EAAkChH,IAAlC,EAAwC3G,KAAxC,EAA+C2S,IAA/C,EAAqDtM,MAArD,EAA6D;CAC3E,WAAOmY,eAAe,CAAC,IAAD,EAAO/N,SAAP,EAAyB9J,IAAzB,EAA+B3G,KAA/B,EAAsC2S,IAAtC,AAAA,CAAtB;CACA,GAd+B;;CAehC8L,EAAAA,iBAAiB,GAAG,EAfY;;CAgBhCE,EAAAA,gBAAgB,CAAClO,SAAD,EAAY9J,IAAZ,EAAkB3G,KAAlB,EAAyBqG,MAAzB,EAAiC;CAChD,WAAOsY,gBAAgB,CAAC,IAAD,EAAOlO,SAAP,EAAyB9J,IAAzB,CAAvB;CACA,GAlB+B;;CAmBhCiS,EAAAA,eAAe,GAAE,EAnBe;;CAqBhCF,EAAAA,aAAa,CAAC/R,IAAD,EAAO;CACnB,QAAI,CAACA,IAAD,IAAS,OAAOA,IAAP,KAAgB,QAA7B,EAAuC;CAAE,aAAO,IAAP;CAAe;;CACxD,WAAO+R,eAAa,CAAC/R,IAAD,CAApB;CACA,GAxB+B;;CAyBhC6Q,EAAAA,UAAU,CAACvL,IAAD,EAAoC;CAC7C,WAAOuL,UAAU,CAACvL,IAAD,CAAjB;CACA,GA3B+B;;CA4BhCW,EAAAA,iBAAiB,GAA+B;CAC/C,WAAOA,iBAAiB,EAAxB;CACA,GA9B+B;;CA+BhCuO,EAAAA,eAAe,GAAsD;CACpE,WAAOA,eAAe,CAAC,AAAD,CAAtB;CACA,GAjC+B;;CAmChCtN,EAAAA,SAAS,CAACvD,IAAD,EAAyD;CACjE,WAAOuD,SAAS,CAACvD,IAAD,CAAhB;CACA,GArC+B;;CAsChCoE,EAAAA,QAAQ,CAACpE,IAAD,EAAgD;CACvD,WAAQA,IAAD,CAAcyd,WAArB;CACA,GAxC+B;;CAyChClP,EAAAA,WAAW,CAACvO,IAAD,EAAO3D,IAAP,EAAa3G,KAAb,EAAoB2S,IAApB,EAA0B;CACpCkG,IAAAA,WAAW,CAAC,IAAD,EAAOvO,IAAP,EAAoBtK,KAApB,EAA2B2S,IAA3B,CAAX;CACA,GA3C+B;;CA4ChC7E,EAAAA,UAAU,CACTzH,MADS,EAETiE,IAFS,EAGTqD,IAA4B,GAAG,IAHtB,EAIF;CACP,WAAOG,UAAU,CAACzH,MAAD,EAAgBiE,IAAhB,EAA6BqD,IAA7B,CAAjB;CACA,GAlD+B;;CAmDhCN,EAAAA,UAAU,CAAC/C,IAAD,EAA8B;CACvC,WAAO+C,UAAU,CAAC,IAAD,EAAO/C,IAAP,CAAjB;CACA;;CArD+B,CAAjC;;CCHO,IAAIK,WAAJ;AAEP,CAAe,SAASqd,aAAT,GAA+B;CAC7Crd,EAAAA,WAAS,GAAGgV,wBAAwB,CACnCjH,aAAa,CAAC,EAAD,CADsB,EAEnC;CAAE7c,IAAAA,QAAF;CAAYqK,IAAAA,IAAI,EAAE;CAAlB,GAFmC,CAApC;CAIA;;CCjBc,SAASN,MAAT,GAAsB;CACpCoiB,EAAAA,aAAa;CACb;;CCID1E,WAAW,CAACznB,QAAD,CAAX;AACA+J,OAAI;;KCSQqiB,IAAZ;;YAAYA;CAAAA,EAAAA;CAAAA,EAAAA;CAAAA,EAAAA;CAAAA,EAAAA;CAAAA,EAAAA;CAAAA,EAAAA;CAAAA,EAAAA;CAAAA,EAAAA;IAAAA,SAAAA;;CCaG,SAAShjB,SAAT,GAAmB;CACjC,SAAOse,OAAP;CACA;;CC7BM,MAAM2E,OAAO,GAAGC,IAAI,CAAC1I,sBAAL,CAAqC;CAC3Dxc,EAAAA,IAAI,EAAE,EADqD;CAE3DmlB,EAAAA,QAAQ,EAAEnrB,KAAK,CAAC,CAAC,CAAF,CAF4C;CAG3DQ,EAAAA,OAAO,EAAE;CAHkD,CAArC,CAAhB;;CCUQ,SAAS4qB,OAAT,CAAiB;CAC/BpkB,EAAAA,KAD+B;CAE/BnH,EAAAA,GAF+B;CAE1BwrB,EAAAA,UAF0B;CAEdC,EAAAA,MAFc;CAENC,EAAAA,WAFM;CAEOJ,EAAAA;CAFP,CAAjB,EAGM;CACpB,QAAMrS,UAAU,GAAGwS,MAAM,GAAGE,YAAY,CAACxkB,KAAD,CAAf,GAAyB,EAAlD;CACA,QAAMykB,aAAa,GAAGzpB,OAAO,CAACspB,MAAM,IAAIxS,UAAU,CAACzU,MAAtB,CAA7B;CACA,SAAO6I,iBAAiB,CACvB,KADuB,EAEvB;CACCqa,IAAAA,KAAK,EAAG;;;;;;iBAMM4D,QAAQ,GAAG,MAAH,GAAY,EAAG;;CAPtC,GAFuB,EAYvBje,iBAAiB,CAAC,KAAD,EAAQ;CACxBqa,IAAAA,KAAK,EAAG;;;;;;;;;IADgB;CAWxB,gBAAY8D;CAXY,GAAR,EAYdC,MAAM,GAAG,GAAH,GAAS,GAZD,CAZM,EAyBvBpe,iBAAiB,CAChB,KADgB,EAEhB;CAAC,gBAAYqe;CAAb,GAFgB,EAGhB,GAHgB,EAIhBre,iBAAiB,CAACO,IAAD,CAJD,EAKhBie,MAAM,CAAC7rB,GAAD,CALU,EAMhB,GANgB,EAOhB,CAAC4rB,aAAD,IAAkB5d,qBAAqB,CACtCyd,MAAM,GAAGpe,iBAAiB,CAAC,MAAD,CAApB,GAA+BA,iBAAiB,CAAC,MAAD,EAAS,IAAT,EAAe,KAAf,CADhB,EAEtC,IAFsC,EAGtCA,iBAAiB,CAACO,IAAD,CAHqB,EAItC,GAJsC,CAPvB,CAzBM,EAuCtBge,aAAa,IAAI5d,qBAAqB,CACrCX,iBAAiB,CAAC,KAAD,EAAQ;CAACqa,IAAAA,KAAK,EAAE;CAAR,GAAR,EAAuCzO,UAAvC,CADoB,EAErC5L,iBAAiB,CAAC,KAAD,EAAQ;CAAC,gBAAYqe;CAAb,GAAR,EAAmC,IAAnC,EAAyCre,iBAAiB,CAACO,IAAD,CAA1D,EAAkE,GAAlE,CAFoB,CAvChB,CAAxB;CA4CA;;CCnDc,SAASke,QAAT,CAAkB;CAChC3kB,EAAAA,KADgC;CACzBqkB,EAAAA,UADyB;CACbC,EAAAA,MADa;CACLC,EAAAA,WADK;CACQJ,EAAAA;CADR,CAAlB,EAEM;CACpB,QAAM;CAAEnc,IAAAA;CAAF,MAAWhI,KAAjB;CACA,QAAM8R,UAAU,GAAGwS,MAAM,GAAG,OAAOtc,IAAP,KAAgB,QAAhB,GAA2B,CAACA,IAAD,CAA3B,GAAoCwc,YAAY,CAACxkB,KAAD,CAAnD,GAA6D,EAAtF;CACA,QAAMykB,aAAa,GAAGzpB,OAAO,CAACspB,MAAM,IAAIxS,UAAU,CAACzU,MAAtB,CAA7B;CACA,SAAO6I,iBAAiB,CACvB,KADuB,EAEvB;CACCqa,IAAAA,KAAK,EAAG;;;;;;kBAMO4D,QAAQ,GAAG,MAAH,GAAY,EAAG;;CAPvC,GAFuB,EAYvBje,iBAAiB,CAAC,KAAD,EAAQ;CACxBqa,IAAAA,KAAK,EAAE,wHADiB;CAExB,gBAAY8D;CAFY,GAAR,EAGdC,MAAM,GAAG,GAAH,GAAS,GAHD,CAZM,EAgBvBpe,iBAAiB,CAChB,KADgB,EAEhB;CAAC,gBAAYqe;CAAb,GAFgB,EAGhBre,iBAAiB,CAAC,MAAD,EAAS;CAAEqa,IAAAA,KAAK,EAAE;CAAT,GAAT,EAA6D,SAA7D,CAHD,EAIhB,CAACkE,aAAD,IAAkB5d,qBAAqB,CACtCyd,MAAM,GAAGpe,iBAAiB,CAAC,MAAD,CAApB,GAA+BA,iBAAiB,CAAC,MAAD,EAAS,IAAT,EAAe,KAAf,CADhB,EAEtCA,iBAAiB,CAAC,MAAD,EAAS;CAAEqa,IAAAA,KAAK,EAAE;CAAT,GAAT,EAA6D,UAA7D,CAFqB,CAJvB,CAhBM,EAyBvBkE,aAAa,IAAI5d,qBAAqB,CACrCX,iBAAiB,CAAC,KAAD,EAAQ;CAAEqa,IAAAA,KAAK,EAAE;CAAT,GAAR,EAAyCzO,UAAzC,CADoB,EAErC5L,iBAAiB,CAAC,KAAD,EAAQ;CAAE,gBAAYqe,WAAd;CAA2BhE,IAAAA,KAAK,EAAE;CAAlC,GAAR,EAAsF,UAAtF,CAFoB,CAzBf,CAAxB;CA8BA;;CCrBD,SAASqE,OAAT,CAAiB5kB,KAAjB,EAAwE;CACvE,MAAImc,OAAO,CAACnc,KAAD,EAAQ,WAAR,CAAX,EAAiC;CAAE,WAAO,EAAP;CAAY;;CAC/C,MAAImc,OAAO,CAACnc,KAAD,EAAQ,WAAR,CAAX,EAAiC;CAAE,WAAO,WAAP;CAAqB;;CACxD,MAAImc,OAAO,CAACnc,KAAD,EAAQ,SAAR,CAAX,EAA+B;CAAE,WAAO,SAAP;CAAmB;;CACpD,MAAImc,OAAO,CAACnc,KAAD,EAAQ,SAAR,CAAX,EAA+B;CAAE,WAAO,QAAP;CAAkB;;CACnD,MAAImc,OAAO,CAACnc,KAAD,EAAQ,OAAR,CAAX,EAA6B;CAAE,WAAO,OAAP;CAAiB;;CAChD,MAAImc,OAAO,CAACnc,KAAD,EAAQ,MAAR,CAAX,EAA4B;CAAE,WAAO,WAAP;CAAqB;;CACnD,MAAIiF,iBAAiB,CAACjF,KAAK,CAAClJ,GAAP,CAArB,EAAkC;CAAE,WAAO,QAAP;CAAkB;;CACtD,MAAIqlB,OAAO,CAACnc,KAAD,EAAQ,OAAR,CAAX,EAA6B;CAAE,WAAO,OAAP;CAAiB;;CAChD,SAAO,IAAP;CACA;;CACD,MAAMmO,QAAM,GAAG+V,IAAI,CAACzI,qBAAL,CAA2C,CAAC;CAC1DoJ,EAAAA,KAD0D;CACnD7lB,EAAAA,IADmD;CAC7CmlB,EAAAA,QAD6C;CACnCI,EAAAA,WADmC;CACtBF,EAAAA,UADsB;CACV7qB,EAAAA;CADU,CAAD,KAEpD;CACL,QAAMqU,EAAE,GAAGrF,OAAO,CAACqc,KAAD,CAAlB;;CACA,MAAI,CAAChX,EAAL,EAAS;CAAE,WAAO,IAAP;CAAc;;CACzB,QAAMiX,YAAY,GAAGX,QAAQ,CAACnrB,KAAT,KAAmB6rB,KAAxC;;CACA,MAAI,CAAChX,EAAE,CAAC7N,KAAJ,IAAa,CAAC6N,EAAE,CAAC/W,GAArB,EAA0B;CACzB,QAAI,CAAC0C,OAAO,CAACugB,WAAb,EAA0B;CAAE,aAAO,IAAP;CAAc;;CAC1C,WAAO7T,iBAAiB,CAAC,MAAD,EAAS;CAChC,kBAAYqe,WADoB;CAEhChE,MAAAA,KAAK,EAAG,kCAAiCuE,YAAY,GAAG,MAAH,GAAY,EAAG;CAFpC,KAAT,EAGnB,GAHmB,EAGdjX,EAAE,CAAC/W,GAAH,KAAW,IAAX,GAAkB,aAAlB,GAAkC,QAHpB,EAG8B,GAH9B,CAAxB;CAIA;;CACD,QAAM;CAACkJ,IAAAA,KAAD;CAAQlJ,IAAAA;CAAR,MAAe+W,EAArB;;CACA,MAAI/W,GAAG,KAAK0P,MAAZ,EAAoB;CACnB,QAAI,CAAChN,OAAO,CAACurB,UAAb,EAAyB;CACxB,aAAO,IAAP;CACA;;CACD,WAAO7e,iBAAiB,CACvB,KADuB,EAEvB;CACC,kBAAYqe,WADb;CAEC1rB,MAAAA,GAAG,EAAEgsB,KAFN;CAGCtE,MAAAA,KAAK,EAAG;;;;;mBAKOuE,YAAY,GAAG,MAAH,GAAY,EAAG;;CAR3C,KAFuB,EAavB,GAbuB,EAcvB5e,iBAAiB,CAAC,MAAD,EAAS;CAAEqa,MAAAA,KAAK,EAAE;CAAT,KAAT,EAA2C,QAA3C,CAdM,EAevBmE,MAAM,CAAC7W,EAAE,CAAChV,GAAJ,CAfiB,EAgBvB,IAhBuB,CAAxB;CAkBA;;CACD,MAAIsjB,OAAO,CAACnc,KAAD,EAAQ,OAAR,CAAX,EAA6B;CAC5B,QAAI,CAACA,KAAK,CAACxD,OAAX,EAAoB;CACnB,YAAM;CAAEwL,QAAAA;CAAF,UAAWhI,KAAjB;;CACA,UAAI,OAAOgI,IAAP,KAAgB,QAApB,EAA8B;CAC7B,eAAOnB,qBAAqB,CAAC2d,YAAY,CAACxkB,KAAD,CAAb,CAA5B;CACA;;CACD,UAAI,CAACxG,OAAO,CAACR,KAAb,EAAoB;CAAE,eAAO,IAAP;CAAc;;CACpC,aAAO6N,qBAAqB,CAACmB,IAAD,CAA5B;CACA;;CACD,QAAI,CAACxO,OAAO,CAACR,KAAb,EAAoB;CACnB,UAAI,OAAOgH,KAAK,CAACgI,IAAb,KAAsB,QAA1B,EAAoC;CAAE,eAAO,IAAP;CAAc;;CACpD,aAAOnB,qBAAqB,CAAC2d,YAAY,CAACxkB,KAAD,CAAb,CAA5B;CACA,KAZ2B;;;CAc5B,WAAOkG,iBAAiB,CAACye,QAAD,EAAW;CAClCL,MAAAA,MAAM,EAAEtlB,IAAI,CAAC6lB,KAAD,CADsB;CAElCV,MAAAA,QAAQ,EAAEW,YAFwB;CAGlCP,MAAAA,WAAW,EAAEA,WAHqB;CAIlCvkB,MAAAA,KAAK,EAAEA,KAJ2B;CAKlCqkB,MAAAA,UAAU,EAAEA;CALsB,KAAX,CAAxB;CAOA;;CAED,QAAM7sB,IAAI,GAAGotB,OAAO,CAAC5kB,KAAD,CAApB;;CACA,MAAIxI,IAAI,KAAK,IAAb,EAAmB;CAAE,WAAO,IAAP;CAAc;;CACnC,MAAIA,IAAI,IAAI,CAACgC,OAAO,CAAChC,IAAD,CAApB,EAA4B;CAC3B,WAAOqP,qBAAqB,CAAC2d,YAAY,CAACxkB,KAAD,CAAb,CAA5B;CACA;;CACD,MAAIglB,OAAqC,GAAG,IAA5C;;CACA,UAAQxtB,IAAR;CACA,SAAK,EAAL;CACCwtB,MAAAA,OAAO,GAAG9e,iBAAiB,CAAC,MAAD,EAAS;CAAEqa,QAAAA,KAAK,EAAE;CAAT,OAAT,EAA0C0E,UAAU,CAACnuB,GAAD,CAApD,CAA3B;CACA;;CACD,SAAK,WAAL;CACC,UAAIuO,oBAAoB,CAACvO,GAAD,CAAxB,EAA+B;CAC9BkuB,QAAAA,OAAO,GAAG9e,iBAAiB,CAAC,MAAD,EAAS;CAAEqa,UAAAA,KAAK,EAAE;CAAT,SAAT,EAA6D0E,UAAU,CAACnuB,GAAD,CAAvE,CAA3B;CACA,OAFD,MAEO;CACNkuB,QAAAA,OAAO,GAAG9e,iBAAiB,CAAC,MAAD,EAAS;CAAEqa,UAAAA,KAAK,EAAE;CAAT,SAAT,EAA2C,WAA3C,CAA3B;CACA;;CACD;;CACD,SAAK,SAAL;CACCyE,MAAAA,OAAO,GAAG9e,iBAAiB,CAAC,MAAD,EAAS;CAAEqa,QAAAA,KAAK,EAAE;CAAT,OAAT,EAA2C,SAA3C,CAA3B;CACA;;CACD,SAAK,WAAL;CACCyE,MAAAA,OAAO,GAAG9e,iBAAiB,CAAC,MAAD,EAAS;CAAEqa,QAAAA,KAAK,EAAE;CAAT,OAAT,EAA2C,WAA3C,CAA3B;CACA;;CACD,SAAK,OAAL;CACCyE,MAAAA,OAAO,GAAG9e,iBAAiB,CAAC,MAAD,EAAS;CAAEqa,QAAAA,KAAK,EAAE;CAAT,OAAT,EAA2C,UAA3C,CAA3B;CACA;;CACD,SAAK,QAAL;CACCyE,MAAAA,OAAO,GAAGC,UAAU,CAACnuB,GAAD,CAApB;CACA;;CACD,SAAK,OAAL;CACCkuB,MAAAA,OAAO,GAAG9e,iBAAiB,CAAC,MAAD,EAAS;CAAEqa,QAAAA,KAAK,EAAE;CAAT,OAAT,EAAqE0E,UAAU,CAACnuB,GAAD,CAA/E,CAA3B;CACA;;CAED,SAAK,QAAL;CACCkuB,MAAAA,OAAO,GAAG9e,iBAAiB,CAAC,MAAD,EAAS;CAAEqa,QAAAA,KAAK,EAAE;CAAT,OAAT,EAAwE0E,UAAU,CAACnuB,GAAD,CAAlF,CAA3B;CACA;CA7BD;;CA+BA,SAAOoP,iBAAiB,CAACke,OAAD,EAAU;CACjCvrB,IAAAA,GAAG,EAAEgV,EAAE,CAAChV,GADyB;CAEjCyrB,IAAAA,MAAM,EAAEtlB,IAAI,CAAC6lB,KAAD,CAFqB;CAGjCV,IAAAA,QAAQ,EAAEW,YAHuB;CAIjCP,IAAAA,WAAW,EAAEA,WAJoB;CAKjCvkB,IAAAA,KAAK,EAAEA,KAL0B;CAMjCqkB,IAAAA,UAAU,EAAEA;CANqB,GAAV,EAOrBW,OAPqB,CAAxB;CAQA,CAzGc,CAAf;AA0GA,CAAO,SAASE,QAAT,CAAkB;CAAEL,EAAAA;CAAF,CAAlB,EAA+C;CACrD,QAAM;CAAC7lB,IAAAA,IAAD;CAAOmlB,IAAAA,QAAP;CAAiB3qB,IAAAA;CAAjB,MAA4B0qB,IAAI,CAAC1e,aAAL,CAAmBye,OAAnB,CAAlC;;CACA,WAASM,WAAT,GAAuB;CACtBJ,IAAAA,QAAQ,CAACnrB,KAAT,GAAiBmrB,QAAQ,CAACnrB,KAAT,KAAmB6rB,KAAnB,GAA2B,CAAC,CAA5B,GAAgCA,KAAjD;CACA;;CACD,WAASR,UAAT,GAAsB;CACrBrlB,IAAAA,IAAI,CAAC6lB,KAAD,CAAJ,GAAc,CAAC7lB,IAAI,CAAC6lB,KAAD,CAAnB;CACA;;CACD,SAAO1W,QAAM,CAAC;CAACnP,IAAAA,IAAD;CAAOmlB,IAAAA,QAAP;CAAiBU,IAAAA,KAAjB;CAAwBN,IAAAA,WAAxB;CAAqCF,IAAAA,UAArC;CAAiD7qB,IAAAA;CAAjD,GAAD,CAAb;CACA;;CCtJM,SAASkrB,MAAT,CAAgB7rB,GAAhB,EAA0B;CAChC,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;CAAE,WAAQ,QAAOqpB,IAAI,CAACF,SAAL,CAAenpB,GAAf,CAAoB,EAAnC;CAAuC;;CACtE,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;CAAE,WAAQ,QAAOA,GAAI,EAAnB;CAAuB;;CACtD,MAAI,OAAOA,GAAP,KAAe,SAAnB,EAA8B;CAAE,WAAQ,QAAOA,GAAI,EAAnB;CAAuB;;CACvD,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;CAAE,WAAQ,QAAOA,GAAI,EAAnB;CAAuB;;CACtD,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;CAAE,WAAQ,QAAOH,MAAM,CAACG,GAAD,CAAM,EAA3B;CAA+B;;CAC9D,MAAIA,GAAG,KAAK,IAAZ,EAAkB;CAAE,WAAQ,QAAOA,GAAI,EAAnB;CAAuB;;CAC3C,MAAIA,GAAG,KAAKJ,SAAZ,EAAuB;CAAE,WAAQ,QAAOC,MAAM,CAACG,GAAD,CAAM,EAA3B;CAA+B;CACxD;AAED,CAIO,SAAS2rB,YAAT,CAAsBxkB,KAAtB,EAAkD;CACxD,QAAM8R,UAAU,GAAI9R,KAAK,CAAC+S,OAAN,CAAciF,IAAd,CAAmBjY,QAAnB,CAAD,CACjBnH,GADiB,CACbsB,CAAC,IAAIgM,iBAAiB,CAACgf,QAAD,EAAW;CAAE,aAAShrB,CAAC,CAACiI,EAAb;CAAiB0iB,IAAAA,KAAK,EAAE3qB,CAAC,CAACiI;CAA1B,GAAX,CADT,CAAnB;CAEA,SAAO2P,UAAP;CACA;AAED,CAAO,SAASmT,UAAT,CAAoBnuB,GAApB,EAAyC;CAC/C,MAAI,CAACA,GAAL,EAAU;CAAE,WAAO,EAAP;CAAY;;CACxB,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;CAAE,WAAOA,GAAP;CAAa;;CAC5C,MAAIyO,kBAAkB,CAACzO,GAAD,CAAtB,EAA6B;CAAE,WAAO,SAAP;CAAmB;;CAClD,SAAOA,GAAG,CAACmN,UAAD,CAAH,IAAmBnN,GAAG,CAACmL,IAA9B;CACA;;AClBD,aAAgBlG,KAAD,IAAsB;CACpC,QAAM/C,KAAc,GAAG;CACtBgG,IAAAA,IAAI,EAAEW,MAAM,CAA2B,EAA3B,CADU;CAEtBnG,IAAAA,OAAO,EAAEuC,KAAK,CAACvC,OAFO;CAEE2qB,IAAAA,QAAQ,EAAEpoB,KAAK,CAACooB;CAFlB,GAAvB;CAKA,SAAOvG,mBAAmB,CAAC,MAAM1X,iBAAiB,CAAC+d,OAAD,EAAU;CAC3DjrB,IAAAA,KAAK,EAAEA;CADoD,GAAV,EAE/CwrB,YAAY,CAACzoB,KAAK,CAACyQ,SAAP,CAFmC,CAAxB,CAA1B;CAGA,CATD;;CCPO,SAAS2Y,WAAT,CAAqBtsB,GAArB,EAA+B;CACrC,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;CAAE,WAAOqpB,IAAI,CAACF,SAAL,CAAenpB,GAAf,CAAP;CAA6B;;CAC5D,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;CAAE,WAAQ,GAAEA,GAAI,EAAd;CAAkB;;CACjD,MAAI,OAAOA,GAAP,KAAe,SAAnB,EAA8B;CAAE,WAAQ,GAAEA,GAAI,EAAd;CAAkB;;CAClD,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;CAAE,WAAQ,GAAEA,GAAI,EAAd;CAAkB;;CACjD,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;CAAE,WAAQ,GAAEH,MAAM,CAACG,GAAD,CAAM,EAAtB;CAA0B;;CACzD,MAAIA,GAAG,KAAK,IAAZ,EAAkB;CAAE,WAAQ,GAAEA,GAAI,EAAd;CAAkB;;CACtC,MAAIA,GAAG,KAAKJ,SAAZ,EAAuB;CAAE,WAAQ,GAAEC,MAAM,CAACG,GAAD,CAAM,EAAtB;CAA0B;CACnD;AAED,CAAO,SAAS6G,UAAT,CACN1G,KADM,EAEM;CACZ,QAAMxB,IAAI,GAAG,OAAOwB,KAApB;;CAEA,MAAIxB,IAAI,KAAK,UAAb,EAAyB;CACxB,WAAO0O,iBAAiB,CAAC,MAAD,EAAS;CAACqa,MAAAA,KAAK,EAAE;CAAR,KAAT,EAAwC,YAAxC,CAAxB;CACA;;CAED,MAAI/oB,IAAI,KAAK,QAAb,EAAuB;CACtB,WAAO0O,iBAAiB,CAAC,MAAD,EAAS,IAAT,EAAelN,KAAf,CAAxB;CACA;;CAED,MACCxB,IAAI,KAAK,QAAT,IACGA,IAAI,KAAK,SADZ,IAEGA,IAAI,KAAK,QAFZ,IAGGA,IAAI,KAAK,QAHZ,IAIGA,IAAI,KAAK,WAJZ,IAKGwB,KAAK,KAAK,IANd,EAOE;CACD,WAAOkN,iBAAiB,CAAC,MAAD,EAAS;CAACqa,MAAAA,KAAK,EAAE;CAAR,KAAT,EAAyC7nB,MAAM,CAACM,KAAD,CAA/C,CAAxB;CACA,GATD,MASO,IAAIA,KAAK,YAAY6Z,MAArB,EAA6B;CACnC,WAAO3M,iBAAiB,CAAC,MAAD,EAAS;CAACqa,MAAAA,KAAK,EAAE;CAAR,KAAT,EAAwC7nB,MAAM,CAACM,KAAD,CAA9C,CAAxB;CACA,GAFM,MAEA,IAAIA,KAAK,YAAY2Z,IAArB,EAA2B;CACjC,WAAOzM,iBAAiB,CAAC,MAAD,EAAS;CAACqa,MAAAA,KAAK,EAAE;CAAR,KAAT,EAAwCvnB,KAAK,CAAC4Z,WAAN,EAAxC,CAAxB;CACA,GAFM,MAEA,IAAIpb,IAAI,KAAK,QAAb,EAAuB;CAC7B,WAAO0O,iBAAiB,CAAC,MAAD,EAAS;CAACqa,MAAAA,KAAK,EAAE;CAAR,KAAT,EAAyC7nB,MAAM,CAACM,KAAD,CAA/C,CAAxB;CACA;;CACD,SAAO,IAAP;CACA;;CCpCc,eAAU;CAAC+C,EAAAA,KAAD;CAAQlD,EAAAA;CAAR,CAAV,EAAmC;CACjD,MAAIV,CAAC,GAAG4D,KAAK,CAAClD,GAAD,CAAb;CACA,MAAIusB,WAAW,GAAG,KAAlB;;CACA,MAAI5oB,OAAO,CAACrE,CAAD,CAAX,EAAgB;CACfitB,IAAAA,WAAW,GAAG,IAAd;CACAjtB,IAAAA,CAAC,GAAGA,CAAC,EAAL;CACA;;CACD,SAAO+N,iBAAiB,CAAC,KAAD,EAAQ,IAAR,EACvBrN,GADuB,EAClB,IADkB,EAEvBusB,WAAW,IAAIlf,iBAAiB,CAAC,MAAD,EAAS;CAACqa,IAAAA,KAAK,EAAE;CAAR,GAAT,EAAwC,UAAxC,CAFT,EAGvB7gB,UAAQ,CAACvH,CAAD,CAHe,EAIvBitB,WAAW,IAAIlf,iBAAiB,CAAC,MAAD,EAAS;CAACqa,IAAAA,KAAK,EAAE;CAAR,GAAT,EAAwC,IAAxC,CAJT,CAAxB;CAMA;;CCZc,SAAS8E,IAAT,CAAc;CAAClB,EAAAA;CAAD,CAAd,EAAqC;CACnD,QAAMZ,OAAO,GAAG/a,OAAO,CAAC2b,QAAQ,CAACnrB,KAAV,CAAvB;;CACA,MAAI,CAACuqB,OAAL,EAAc;CAAE,WAAOrd,iBAAiB,CAAC,UAAD,CAAxB;CAAuC;;CACvD,QAAM;CAACnK,IAAAA,KAAK,GAAG;CAAT,MAAewnB,OAArB;CACA,SAAOrd,iBAAiB,CAAC,KAAD,EAAQ,IAAR,EACvBA,iBAAiB,CAAC,KAAD,EAAQ,IAAR,EAAc,MAAd,EAAsBif,WAAW,CAAC5B,OAAO,CAAC1qB,GAAT,CAAjC,CADM,EAEvBqN,iBAAiB,CAAC,KAAD,EAAQ,IAAR,EAAc,MAAd,CAFM,EAGvB7O,MAAM,CAAC2H,IAAP,CAAYjD,KAAZ,EAAmBnD,GAAnB,CAAuB4F,CAAC,IAAI0H,iBAAiB,CAC5Cof,IAD4C,EACtC;CAAE,aAAS9mB,CAAX;CAAc,WAAOA,CAArB;CAAwBzC,IAAAA;CAAxB,GADsC,CAA7C,CAHuB,CAAxB;CAOA;;CCbc,mBAAUA,KAAV,EAAgC;CAC9C,QAAMvC,OAAO,GAAG2F,OAAO,CAACpD,KAAK,CAACvC,OAAP,CAAvB;CACA,QAAMR,KAAK,GAAGQ,OAAO,CAAC,OAAD,CAArB;CACA,QAAM1C,GAAG,GAAG0C,OAAO,CAAC,KAAD,CAAnB;CACA,QAAMugB,WAAW,GAAGvgB,OAAO,CAAC,aAAD,CAA3B;CACA,QAAMukB,MAAM,GAAGvkB,OAAO,CAAC,QAAD,CAAtB;CACA,QAAMgT,SAAS,GAAGhT,OAAO,CAAC,WAAD,CAAzB;CACA,QAAM+rB,SAAS,GAAG/rB,OAAO,CAAC,WAAD,CAAzB;CACA,QAAMurB,UAAU,GAAGvrB,OAAO,CAAC,YAAD,CAA1B;CACA,QAAMiM,OAAO,GAAGjM,OAAO,CAAC,SAAD,CAAvB;CACA,QAAMkU,MAAM,GAAGlU,OAAO,CAAC,QAAD,CAAtB;CACA,QAAMgsB,KAAK,GAAGhsB,OAAO,CAAC,OAAD,CAArB;CACA,QAAMisB,KAAK,GAAGjsB,OAAO,CAAC,OAAD,CAArB;CACA,SAAO0M,iBAAiB,CAAC,KAAD,EAAQ,IAAR,EACvBA,iBAAiB,CAAC,OAAD,EAAU,IAAV,EAAgBA,iBAAiB,CAAC,OAAD,EAAU;CAAE1O,IAAAA,IAAI,EAAE,UAAR;CAAoB0pB,IAAAA,OAAO,EAAEloB;CAA7B,GAAV,CAAjC,EAAkF,OAAlF,CADM,EAEvBkN,iBAAiB,CAAC,OAAD,EAAU,IAAV,EAAgBA,iBAAiB,CAAC,OAAD,EAAU;CAAE1O,IAAAA,IAAI,EAAE,UAAR;CAAoB0pB,IAAAA,OAAO,EAAEpqB;CAA7B,GAAV,CAAjC,EAAgF,KAAhF,CAFM,EAGvBoP,iBAAiB,CAAC,OAAD,EAAU,IAAV,EAAgBA,iBAAiB,CAAC,OAAD,EAAU;CAAE1O,IAAAA,IAAI,EAAE,UAAR;CAAoB0pB,IAAAA,OAAO,EAAEnH;CAA7B,GAAV,CAAjC,EAAwF,aAAxF,CAHM,EAIvB7T,iBAAiB,CAAC,OAAD,EAAU,IAAV,EAAgBA,iBAAiB,CAAC,OAAD,EAAU;CAAE1O,IAAAA,IAAI,EAAE,UAAR;CAAoB0pB,IAAAA,OAAO,EAAEnD;CAA7B,GAAV,CAAjC,EAAmF,QAAnF,CAJM,EAKvB7X,iBAAiB,CAAC,OAAD,EAAU,IAAV,EAAgBA,iBAAiB,CAAC,OAAD,EAAU;CAAE1O,IAAAA,IAAI,EAAE,UAAR;CAAoB0pB,IAAAA,OAAO,EAAE1U;CAA7B,GAAV,CAAjC,EAAsF,WAAtF,CALM,EAMvBtG,iBAAiB,CAAC,OAAD,EAAU,IAAV,EAAgBA,iBAAiB,CAAC,OAAD,EAAU;CAAE1O,IAAAA,IAAI,EAAE,UAAR;CAAoB0pB,IAAAA,OAAO,EAAEqE;CAA7B,GAAV,CAAjC,EAAsF,WAAtF,CANM,EAOvBrf,iBAAiB,CAAC,OAAD,EAAU,IAAV,EAAgBA,iBAAiB,CAAC,OAAD,EAAU;CAAE1O,IAAAA,IAAI,EAAE,UAAR;CAAoB0pB,IAAAA,OAAO,EAAE6D;CAA7B,GAAV,CAAjC,EAAuF,YAAvF,CAPM,EAQvB7e,iBAAiB,CAAC,OAAD,EAAU,IAAV,EAAgBA,iBAAiB,CAAC,OAAD,EAAU;CAAE1O,IAAAA,IAAI,EAAE,UAAR;CAAoB0pB,IAAAA,OAAO,EAAEzb;CAA7B,GAAV,CAAjC,EAAoF,SAApF,CARM,EASvBS,iBAAiB,CAAC,OAAD,EAAU,IAAV,EAAgBA,iBAAiB,CAAC,OAAD,EAAU;CAAE1O,IAAAA,IAAI,EAAE,UAAR;CAAoB0pB,IAAAA,OAAO,EAAExT;CAA7B,GAAV,CAAjC,EAAmF,QAAnF,CATM,EAUvBxH,iBAAiB,CAAC,OAAD,EAAU,IAAV,EAAgBA,iBAAiB,CAAC,OAAD,EAAU;CAAE1O,IAAAA,IAAI,EAAE,UAAR;CAAoB0pB,IAAAA,OAAO,EAAEsE;CAA7B,GAAV,CAAjC,EAAkF,OAAlF,CAVM,EAWvBtf,iBAAiB,CAAC,OAAD,EAAU,IAAV,EAAgBA,iBAAiB,CAAC,OAAD,EAAU;CAAE1O,IAAAA,IAAI,EAAE,UAAR;CAAoB0pB,IAAAA,OAAO,EAAEuE;CAA7B,GAAV,CAAjC,EAAkF,OAAlF,CAXM,CAAxB;CAaA;;CC7BD,SAASC,gBAAT,CAA0B3pB,KAA1B,EAAkD;CACjD,SAAOmK,iBAAiB,CAAC,UAAD,EAAa,IAAb,EAAmBA,iBAAiB,CAACO,IAAD,EAAO;CAClExE,IAAAA,IAAI,EAAE;CAD4D,GAAP,CAApC,EAEpBiE,iBAAiB,CAACO,IAAD,EAAO;CAC3BxE,IAAAA,IAAI,EAAE;CADqB,GAAP,CAFG,EAIpBiE,iBAAiB,CAACO,IAAD,EAAO;CAC3BxE,IAAAA,IAAI,EAAE;CADqB,GAAP,CAJG,CAAxB;CAOA;;AAED,CAAO,IAAI0jB,gBAA2B,GAAGD,gBAAlC;;CCRP,IAAIE,QAAQ,GAAG,KAAf;AAGA,CAAe,SAASrvB,UAAT,CACdsvB,UADc,EAEdrZ,SAFc,EAGb;CACD,MAAIoZ,QAAJ,EAAc;CAAE;CAAS;;CACzBC,EAAAA,UAAU,CAACtiB,OAAX,CAAmB,SAAnB,EAA8B,MAAM;CACnCqiB,IAAAA,QAAQ,GAAG,IAAX;;CACA,QAAI;CACH,YAAMpsB,OAAgB,GAAGmG,MAAM,CAAC,EAAD,CAA/B;CACA,YAAMwkB,QAAQ,GAAGnrB,KAAK,CAAC,CAAC,CAAF,CAAtB;CACAmV,MAAAA,MAAM,CAACjI,iBAAiB,CACvByf,gBADuB,EAEvB;CAACnsB,QAAAA;CAAD,OAFuB,EAGvB0M,iBAAiB,CAAC4f,IAAD,EAAO;CAAE,kBAAU,MAAZ;CAAoBtZ,QAAAA,SAApB;CAA+BhT,QAAAA,OAA/B;CAAwC2qB,QAAAA;CAAxC,OAAP,CAHM,EAIvBje,iBAAiB,CAAC6f,QAAD,EAAW;CAAE,kBAAU,UAAZ;CAAwBvsB,QAAAA;CAAxB,OAAX,CAJM,EAKvB0M,iBAAiB,CAACmf,IAAD,EAAO;CAAE,kBAAU,MAAZ;CAAoBlB,QAAAA;CAApB,OAAP,CALM,CAAlB,CAAN,CAMGrb,KANH;CAOA,KAVD,SAUU;CACT8c,MAAAA,QAAQ,GAAG,KAAX;CACA;CACD,GAfD;CAgBA;;CC3BD,MAAMtvB,UAAuB,GAAG;CAC/BC,EAAAA;CAD+B,CAAhC;;ACDA8oB,UAAW,GAAG;CAAE/oB,YAAAA;CAAF,CAAH,CAAX;;CCEO,IAAI0vB,iBAAJ;AAEP,CAAe,SAASC,YAAT,GAAwB;CACtCD,EAAAA,iBAAiB,GAAGxK,sBAAsB,EAA1C;CACA;;CCHM,IAAI0K,cAAJ;AACP,CAAe,SAASC,QAAT,GAAoB;CAClCD,EAAAA,cAAc,GAAGjZ,UAAU,CAAC;CAC3BhL,IAAAA,IAAI,EAAE,gBADqB;;CAE3B3K,IAAAA,MAAM,GAAG;CACR,aAAOkO,aAAa,CAACwgB,iBAAD,CAApB;CACA;;CAJ0B,GAAD,CAA3B;CAMA;;CCHM,SAASI,YAAT,CACNrqB,KADM,EAEN;CAAE+V,EAAAA;CAAF,CAFM,EAGM;CACZ,QAAM;CAAE7P,IAAAA;CAAF,MAAWlG,KAAjB;;CACA,MAAI,OAAOkG,IAAP,KAAgB,QAApB,EAA8B;CAC7B,UAAM;CAAEokB,MAAAA;CAAF,QAAiBtqB,KAAvB;;CACA,QAAIsqB,UAAU,YAAYC,UAA1B,EAAsC;CACrC,aAAO7R,aAAa,CAACuR,iBAAD,EAAoB;CACvChtB,QAAAA,KAAK,EAAEqtB;CADgC,OAApB,EAEjB,GAAGvU,UAAU,EAFI,CAApB;CAGA;;CACD,WAAOjL,qBAAqB,CAACiL,UAAU,EAAX,CAA5B;CACA;;CACD,QAAM;CAAEuU,IAAAA;CAAF,MAAiBtqB,KAAvB;;CACA,MAAIsqB,UAAU,YAAYC,UAA1B,EAAsC;CACrC,UAAMrsB,IAAI,GAAGosB,UAAU,CAACttB,GAAX,CAAekJ,IAAf,CAAb;;CACA,QAAI,CAAChI,IAAL,EAAW;CAAE,aAAO,IAAP;CAAc;;CAC3B,WAAOwa,aAAa,CAACuR,iBAAD,EAAoB;CACvChtB,MAAAA,KAAK,EAAEqtB;CADgC,KAApB,EAEjBpsB,IAAI,CAACrB,GAAL,CAASsB,CAAC,IAAIua,aAAa,CAACva,CAAC,CAACgX,SAAH,EAAcnV,KAAd,EAAqB,GAAG+V,UAAU,EAAlC,CAA3B,CAFiB,CAApB;CAGA;;CACD,QAAMyU,iBAAiB,GAAGL,cAAc,EAAxC;;CACA,MAAI,CAACK,iBAAL,EAAwB;CACvB,WAAO1f,qBAAqB,CAACiL,UAAD,CAA5B;CACA;;CACD,QAAM7X,IAAI,GAAGssB,iBAAiB,CAACxtB,GAAlB,CAAsBkJ,IAAtB,CAAb;;CACA,MAAI,CAAChI,IAAL,EAAW;CAAE,WAAO,IAAP;CAAc;;CAC3B,SAAO4M,qBAAqB,CAAC5M,IAAI,CAACrB,GAAL,CAASsB,CAAC,IAAIua,aAAa,CAACva,CAAC,CAACgX,SAAH,EAAcnV,KAAd,EAAqB,GAAG+V,UAAU,EAAlC,CAA3B,CAAD,CAA5B;CACA;CASD,IAAI0U,UAAJ;AACA,CAAO,SAASC,cAAT,GAA0B;CAChCD,EAAAA,UAAU,GAAGtK,oBAAoB,CAAWkK,YAAX,EAAyB;CAAEnkB,IAAAA,IAAI,EAAE;CAAR,GAAzB,CAAjC;CACA;;CChDc,SAASykB,iBAAT,GAA6B;CAC3CzV,EAAAA,QAAQ,CAAC,YAAD,EAAeuV,UAAf,CAAR;CACAvV,EAAAA,QAAQ,CAAC,aAAD,EAAgBuV,UAAhB,CAAR;CACA;;ACDD,kBAAe,CACdP,YADc,EAEdQ,cAFc,EAGdC,iBAHc,EAIdP,QAJc,CAAf;;CCHe,SAASnlB,SAAT,CAAiBkjB,IAAjB,EAAqD;;CAEpE,KAAK,MAAMzpB,CAAX,IAAgBksB,UAAhB,EAA4B;CAC3BlsB,EAAAA,CAAC;CACD;;CCNM,MAAMtE,SAAe,GAAG,eAAxB;;CCaP,MAAMmwB,UAAN,CAAiB;CAGhB1vB,EAAAA,WAAW,CAACwL,MAAD,EAAsB;CAAA;;CAAA,qCADoBzC,MAAM,CAACtI,MAAM,CAACC,MAAP,CAAc,IAAd,CAAD,CAC1B;;CAChC,QAAI8K,MAAM,YAAYkkB,UAAtB,EAAkC;CACjC,WAAKlkB,MAAL,GAAcA,MAAd;CACA;CACD;;CACDtH,EAAAA,GAAG,CACFmH,IADE,EAEF8O,UAFE,EAGFhZ,IAAsC,GAAG,EAHvC,EAID;CACD,QAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;CAAEA,MAAAA,IAAI,GAAG;CAAE6uB,QAAAA,KAAK,EAAE7uB;CAAT,OAAP;CAAyB;;CACzD,UAAM8uB,MAAM,GAAG,KAAKC,OAApB;;CACA,QAAI,CAACnoB,KAAK,CAACC,OAAN,CAAcmS,UAAd,CAAL,EAAgC;CAAEA,MAAAA,UAAU,GAAG,CAACA,UAAD,CAAb;CAA4B;;CAC9D,UAAM9W,IAAI,GAAG4sB,MAAM,CAAC5kB,IAAD,CAAN,GAAe,CAAC,GAAG4kB,MAAM,CAAC5kB,IAAD,CAAV,CAAf,GAAmC,EAAhD;CACAhI,IAAAA,IAAI,CAACgC,IAAL,CAAU,GAAG8U,UAAU,CAACnY,GAAX,CAAesY,SAAS,IAAI7Z,MAAM,CAAC0vB,MAAP,CAAc,EACtD,GAAGhvB,IADmD;CAEtDmZ,MAAAA;CAFsD,KAAd,CAA5B,CAAb;CAIAjX,IAAAA,IAAI,CAACwe,IAAL,CAAU,CAAC;CAACmO,MAAAA,KAAK,EAAE5f;CAAR,KAAD,EAAa;CAAC4f,MAAAA,KAAK,EAAE3f;CAAR,KAAb,KAA4B,CAACD,CAAC,IAAI,CAAN,KAAYC,CAAC,IAAI,CAAjB,CAAtC;CACA4f,IAAAA,MAAM,CAAC5kB,IAAD,CAAN,GAAehI,IAAf;CACA;;CAEDwpB,EAAAA,MAAM,CACLxhB,IADK,EAELiP,SAFK,EAGE;CACP,UAAM2V,MAAM,GAAG,KAAKC,OAApB;CACA,UAAME,OAAO,GAAGH,MAAM,CAAC5kB,IAAD,CAAtB;;CACA,QAAI,CAAC+kB,OAAL,EAAc;CAAE;CAAS;;CACzB,QAAI,CAAC9V,SAAL,EAAgB;CACf2V,MAAAA,MAAM,CAAC5kB,IAAD,CAAN,GAAe,EAAf;CACA;CACA;;CACD,UAAMzD,CAAC,GAAGwoB,OAAO,CAAC/c,SAAR,CAAmB/P,CAAD,IAAOA,CAAC,CAACgX,SAAF,KAAgBA,SAAzC,CAAV;;CACA,QAAI1S,CAAC,GAAG,CAAR,EAAW;CAAE;CAAS;;CACtB,UAAMvE,IAAI,GAAG,CAAC,GAAG+sB,OAAO,CAACC,KAAR,CAAc,CAAd,EAAiBzoB,CAAjB,CAAJ,EAAyB,GAAGwoB,OAAO,CAACC,KAAR,CAAczoB,CAAC,GAAG,CAAlB,CAA5B,CAAb;CACAqoB,IAAAA,MAAM,CAAC5kB,IAAD,CAAN,GAAehI,IAAf;CACA;;CACDhB,EAAAA,GAAG,CACFgJ,IADE,EAEF8O,UAFE,EAGFhZ,IAAsC,GAAG,EAHvC,EAID;CACD,QAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;CAAEA,MAAAA,IAAI,GAAG;CAAE6uB,QAAAA,KAAK,EAAE7uB;CAAT,OAAP;CAAyB;;CACzD,UAAM8uB,MAAM,GAAG,KAAKC,OAApB;;CACA,QAAI,CAACnoB,KAAK,CAACC,OAAN,CAAcmS,UAAd,CAAL,EAAgC;CAAEA,MAAAA,UAAU,GAAG,CAACA,UAAD,CAAb;CAA4B;;CAC9D,UAAM9W,IAAI,GAAG8W,UAAU,CAACnY,GAAX,CAAesY,SAAS,IAAI7Z,MAAM,CAAC0vB,MAAP,CAAc,EACtD,GAAGhvB,IADmD;CAEtDmZ,MAAAA;CAFsD,KAAd,CAA5B,CAAb;CAIA2V,IAAAA,MAAM,CAAC5kB,IAAD,CAAN,GAAehI,IAAf;CACA;;CACDlB,EAAAA,GAAG,CAACkJ,IAAD,EAAeG,MAAf,EAA4D;CAC9D,UAAMykB,MAAM,GAAG,KAAKC,OAApB;CACA,UAAM7sB,IAAI,GAAG4sB,MAAM,CAAC5kB,IAAD,CAAN,IAAgB,EAA7B;;CACA,QAAI,CAACG,MAAD,IAAW,CAAC,KAAKA,MAArB,EAA6B;CAAE,aAAO,CAAC,GAAGnI,IAAJ,CAAP;CAAmB;;CAClD,UAAMitB,UAAU,GAAG,KAAK9kB,MAAL,CAAYrJ,GAAZ,CAClBkJ,IADkB,EAElB,OAAOG,MAAP,KAAkB,QAAlB,GAA6BA,MAAM,GAAG,CAAtC,GAA0C,CAAC,CAFzB,CAAnB;CAIA,UAAM+kB,OAAO,GAAG,CAAC,GAAGD,UAAJ,EAAgB,GAAGjtB,IAAnB,CAAhB;;CACA,QAAIA,IAAI,CAACoD,MAAL,IAAe6pB,UAAU,CAAC7pB,MAA9B,EAAsC;CACrC8pB,MAAAA,OAAO,CAAC1O,IAAR,CAAa,CAAC;CAACmO,QAAAA,KAAK,EAAE5f;CAAR,OAAD,EAAa;CAAC4f,QAAAA,KAAK,EAAE3f;CAAR,OAAb,KAA4B,CAACD,CAAC,IAAI,CAAN,KAAYC,CAAC,IAAI,CAAjB,CAAzC;CACA;;CACD,WAAOkgB,OAAP;CACA;;CACD,MAAIC,IAAJ,GAAW;CACV,UAAMA,IAAI,GAAGlL,oBAAoB,CAChC,CAACngB,KAAD,EAAQ,GAAG5D,CAAX,KAAiBiuB,YAAY,CAAC,EAAC,GAAGrqB,KAAJ;CAAWsqB,MAAAA,UAAU,EAAE;CAAvB,KAAD,EAA+B,GAAGluB,CAAlC,CADG,EAEhC;CAAC8J,MAAAA,IAAI,EAAE;CAAP,KAFgC,CAAjC;CAIA3E,IAAAA,OAAO,CAACC,cAAR,CAAuB,IAAvB,EAA6B,MAA7B,EAAqC;CACpCvE,MAAAA,KAAK,EAAEouB,IAD6B;CAEpC5pB,MAAAA,UAAU,EAAE,IAFwB;CAGpCC,MAAAA,YAAY,EAAE;CAHsB,KAArC;CAKA,WAAO2pB,IAAP;CACA;;CACD,aAAWpmB,OAAX,GAAqB;CAAE,WAAOA,SAAP;CAAiB;;CACxC,aAAWqmB,IAAX,GAAkB;CAAE,WAAOb,UAAP;CAAoB;;CACxC,aAAWrwB,OAAX,GAAqB;CAAE,WAAOA,SAAP;CAAiB;;CAnFxB;;CCVjB;;CACA,MAAMmxB,IAAI,GAAGpD,IAAI,CAAChN,eAAL,CAAqB,CAACnb,KAAD,EAAa;CAAC2S,EAAAA;CAAD,CAAb,KAClC;CAAK,cAAU,MAAMA,IAAI,CAAC,OAAD,EAAU,KAAV;CAAzB,GACE3S,KAAK,CAACwrB,eADR,kBADa,EAGL;CAACtlB,EAAAA,IAAI,EAAE;CAAP,CAHK,CAAb;CAIA,MAAMulB,IAAI,GAAGtD,IAAI,CAAChN,eAAL,CAAqB,MAAM,gDAA3B,EAA2C;CAACjV,EAAAA,IAAI,EAAE;CAAP,CAA3C,CAAb;CACA,MAAMwlB,IAAI,GAAGvD,IAAI,CAAChN,eAAL,CAAqB,MAAM,gDAA3B,EAA2C;CAACjV,EAAAA,IAAI,EAAE;CAAP,CAA3C,CAAb;;CAGA,MAAMokB,UAAU,GAAG,IAAIC,UAAJ,EAAnB;;CAGAD,UAAU,CAACvrB,GAAX,CAAe,SAAf,EAA0BwsB,IAA1B;CACAjB,UAAU,CAACvrB,GAAX,CAAe,SAAf,EAA0B0sB,IAA1B;;CAEAnB,UAAU,CAACvrB,GAAX,CAAe,SAAf,EAA0BwsB,IAA1B;CAEAjB,UAAU,CAACvrB,GAAX,CAAe,SAAf,EAA0B2sB,IAA1B;CACApB,UAAU,CAACvrB,GAAX,CAAe,SAAf,EAA0B0sB,IAA1B;CACAnB,UAAU,CAACvrB,GAAX,CAAe,SAAf,EAA0BwsB,IAA1B;;CAEAjB,UAAU,CAACvrB,GAAX,CAAe,SAAf,EAA0B,KAA1B;CAECooB,MAAD,CAAgBmD,UAAhB,GAA6BA,UAA7B;AAEA,WAAe,mBAAC,UAAD,CAAY,IAAZ,QAKd,mBAAC,UAAD,CAAY,IAAZ;CAAiB,EAAA,IAAI,EAAC,SAAtB;CAAgC,EAAA,eAAe,EAAC;CAAhD,EALc,EAYd,8BAZc,EAcd,mBAAC,UAAD,CAAY,IAAZ;CAAiB,EAAA,IAAI,EAAC,SAAtB;CAAgC,EAAA,eAAe,EAAC;CAAhD,EAdc,EAsBd,8BAtBc,EAyBd,mBAAC,UAAD,CAAY,IAAZ;CAAiB,EAAA,IAAI,EAAC;CAAtB,EAzBc,CAAf;;CCxBAnC,IAAI,CAAC/V,MAAL,CAAYuZ,GAAZ,EAAiB5e,KAAjB;;;;"}